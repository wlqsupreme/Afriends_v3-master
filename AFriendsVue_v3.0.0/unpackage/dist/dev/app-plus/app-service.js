if (typeof Promise !== "undefined" && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor;
    return this.then(
      (value) => promise.resolve(callback()).then(() => value),
      (reason) => promise.resolve(callback()).then(() => {
        throw reason;
      })
    );
  };
}
;
if (typeof uni !== "undefined" && uni && uni.requireGlobal) {
  const global = uni.requireGlobal();
  ArrayBuffer = global.ArrayBuffer;
  Int8Array = global.Int8Array;
  Uint8Array = global.Uint8Array;
  Uint8ClampedArray = global.Uint8ClampedArray;
  Int16Array = global.Int16Array;
  Uint16Array = global.Uint16Array;
  Int32Array = global.Int32Array;
  Uint32Array = global.Uint32Array;
  Float32Array = global.Float32Array;
  Float64Array = global.Float64Array;
  BigInt64Array = global.BigInt64Array;
  BigUint64Array = global.BigUint64Array;
}
;
if (uni.restoreGlobal) {
  uni.restoreGlobal(Vue, weex, plus, setTimeout, clearTimeout, setInterval, clearInterval);
}
(function(vue) {
  "use strict";
  const _imports_0$1 = "/static/afriends-logo.png";
  const _export_sfc = (sfc, props) => {
    const target = sfc.__vccOpts || sfc;
    for (const [key, val] of props) {
      target[key] = val;
    }
    return target;
  };
  const _sfc_main$18 = {
    name: "IndexPage",
    data() {
      return {};
    },
    methods: {
      // ç™»å½•å…¥å£
      goToLogin() {
        uni.navigateTo({
          url: "/pages/login/login-replica"
        });
      },
      // é¦–é¡µ
      goToHome() {
        uni.navigateTo({
          url: "/pages/feed/content-feed"
        });
      },
      // èŠå¤©åˆ—è¡¨
      goToChatList() {
        uni.navigateTo({
          url: "/pages/chat/chat-list"
        });
      },
      // AIèŠå¤©
      goToAIChat() {
        uni.navigateTo({
          url: "/pages/ai/ai-chat"
        });
      },
      // å¥½å‹åˆ—è¡¨
      goToFriendList() {
        uni.navigateTo({
          url: "/pages/chat/friend-list"
        });
      },
      // ä¸ªäººä¸»é¡µ
      goToProfile() {
        uni.navigateTo({
          url: "/pages/feed/user-profile"
        });
      },
      // è®¾ç½®
      goToSettings() {
        uni.navigateTo({
          url: "/pages/settings/settings"
        });
      },
      // é’±åŒ…
      goToWallet() {
        uni.navigateTo({
          url: "/pages/wallet/wallet"
        });
      },
      // å¸®åŠ©
      goToHelp() {
        uni.showToast({
          title: "å¸®åŠ©åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      }
    }
  };
  function _sfc_render$17(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "index-page" }, [
      vue.createCommentVNode(" åº”ç”¨Logoå’Œæ ‡é¢˜ "),
      vue.createElementVNode("view", { class: "app-header" }, [
        vue.createElementVNode("image", {
          class: "app-logo",
          src: _imports_0$1,
          mode: "aspectFit"
        }),
        vue.createElementVNode("text", { class: "app-title" }, "Afriends"),
        vue.createElementVNode("text", { class: "app-subtitle" }, "æ™ºèƒ½äº¤å‹å¹³å°")
      ]),
      vue.createCommentVNode(" åŠŸèƒ½å¯¼èˆªåŒºåŸŸ "),
      vue.createElementVNode("view", { class: "navigation-grid" }, [
        vue.createCommentVNode(" ç™»å½•å…¥å£ "),
        vue.createElementVNode("view", {
          class: "nav-item login-item",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goToLogin && $options.goToLogin(...args))
        }, [
          vue.createElementVNode("view", { class: "nav-icon login-icon" }, [
            vue.createElementVNode("text", { class: "icon-text" }, "ğŸ”")
          ]),
          vue.createElementVNode("text", { class: "nav-text" }, "ç™»å½•/æ³¨å†Œ"),
          vue.createElementVNode("text", { class: "nav-desc" }, "å¼€å§‹ä½ çš„äº¤å‹ä¹‹æ—…")
        ]),
        vue.createCommentVNode(" é¦–é¡µ "),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.goToHome && $options.goToHome(...args))
        }, [
          vue.createElementVNode("view", { class: "nav-icon home-icon" }, [
            vue.createElementVNode("text", { class: "icon-text" }, "ğŸ ")
          ]),
          vue.createElementVNode("text", { class: "nav-text" }, "é¦–é¡µ"),
          vue.createElementVNode("text", { class: "nav-desc" }, "å‘ç°ç²¾å½©å†…å®¹")
        ]),
        vue.createCommentVNode(" èŠå¤©åˆ—è¡¨ "),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.goToChatList && $options.goToChatList(...args))
        }, [
          vue.createElementVNode("view", { class: "nav-icon chat-icon" }, [
            vue.createElementVNode("text", { class: "icon-text" }, "ğŸ’¬")
          ]),
          vue.createElementVNode("text", { class: "nav-text" }, "æ¶ˆæ¯"),
          vue.createElementVNode("text", { class: "nav-desc" }, "æŸ¥çœ‹èŠå¤©è®°å½•")
        ]),
        vue.createCommentVNode(" AIèŠå¤© "),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[3] || (_cache[3] = (...args) => $options.goToAIChat && $options.goToAIChat(...args))
        }, [
          vue.createElementVNode("view", { class: "nav-icon ai-icon" }, [
            vue.createElementVNode("text", { class: "icon-text" }, "ğŸ¤–")
          ]),
          vue.createElementVNode("text", { class: "nav-text" }, "AIåŠ©æ‰‹"),
          vue.createElementVNode("text", { class: "nav-desc" }, "æ™ºèƒ½å¯¹è¯ä½“éªŒ")
        ]),
        vue.createCommentVNode(" å¥½å‹åˆ—è¡¨ "),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[4] || (_cache[4] = (...args) => $options.goToFriendList && $options.goToFriendList(...args))
        }, [
          vue.createElementVNode("view", { class: "nav-icon friend-icon" }, [
            vue.createElementVNode("text", { class: "icon-text" }, "ğŸ‘¥")
          ]),
          vue.createElementVNode("text", { class: "nav-text" }, "å¥½å‹"),
          vue.createElementVNode("text", { class: "nav-desc" }, "ç®¡ç†å¥½å‹å…³ç³»")
        ]),
        vue.createCommentVNode(" ä¸ªäººä¸»é¡µ "),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[5] || (_cache[5] = (...args) => $options.goToProfile && $options.goToProfile(...args))
        }, [
          vue.createElementVNode("view", { class: "nav-icon profile-icon" }, [
            vue.createElementVNode("text", { class: "icon-text" }, "ğŸ‘¤")
          ]),
          vue.createElementVNode("text", { class: "nav-text" }, "æˆ‘çš„"),
          vue.createElementVNode("text", { class: "nav-desc" }, "ä¸ªäººèµ„æ–™ç®¡ç†")
        ])
      ]),
      vue.createCommentVNode(" å¿«é€ŸåŠŸèƒ½åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "quick-actions" }, [
        vue.createElementVNode("text", { class: "section-title" }, "å¿«é€ŸåŠŸèƒ½"),
        vue.createElementVNode("view", { class: "action-buttons" }, [
          vue.createElementVNode("view", {
            class: "action-btn",
            onClick: _cache[6] || (_cache[6] = (...args) => $options.goToSettings && $options.goToSettings(...args))
          }, [
            vue.createElementVNode("text", { class: "action-icon" }, "âš™ï¸"),
            vue.createElementVNode("text", { class: "action-text" }, "è®¾ç½®")
          ]),
          vue.createElementVNode("view", {
            class: "action-btn",
            onClick: _cache[7] || (_cache[7] = (...args) => $options.goToWallet && $options.goToWallet(...args))
          }, [
            vue.createElementVNode("text", { class: "action-icon" }, "ğŸ’°"),
            vue.createElementVNode("text", { class: "action-text" }, "é’±åŒ…")
          ]),
          vue.createElementVNode("view", {
            class: "action-btn",
            onClick: _cache[8] || (_cache[8] = (...args) => $options.goToHelp && $options.goToHelp(...args))
          }, [
            vue.createElementVNode("text", { class: "action-icon" }, "â“"),
            vue.createElementVNode("text", { class: "action-text" }, "å¸®åŠ©")
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨ä¿¡æ¯ "),
      vue.createElementVNode("view", { class: "footer-info" }, [
        vue.createElementVNode("text", { class: "version-text" }, "ç‰ˆæœ¬ 3.0.0"),
        vue.createElementVNode("text", { class: "copyright-text" }, "Â© 2024 Afriends. All rights reserved.")
      ])
    ]);
  }
  const PagesIndexIndex = /* @__PURE__ */ _export_sfc(_sfc_main$18, [["render", _sfc_render$17], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/index/index.vue"]]);
  function formatAppLog(type, filename, ...args) {
    if (uni.__log__) {
      uni.__log__(type, filename, ...args);
    } else {
      console[type].apply(console, [...args, filename]);
    }
  }
  const _sfc_main$17 = {
    name: "AiPage",
    data() {
      return {
        showSideMenu: false
        // æ§åˆ¶å·¦ä¾§èœå•æ˜¾ç¤º
      };
    },
    methods: {
      openMenu() {
        this.showSideMenu = true;
      },
      closeSideMenu() {
        this.showSideMenu = false;
      },
      // ä¾§è¾¹èœå•ç›¸å…³æ–¹æ³•
      goToMyAI() {
        uni.navigateTo({
          url: "/pages/ai/ai"
        });
      },
      goToMyCertification() {
        uni.navigateTo({
          url: "/pages/verification/official-certification"
        });
      },
      goToMyPreferences() {
        uni.navigateTo({
          url: "/pages/feed/likes-dislikes"
        });
      },
      goToMyAchievements() {
        uni.navigateTo({
          url: "/pages/feed/achievements"
        });
      },
      goToAlbum() {
        uni.showToast({
          title: "ç›¸å†ŒåŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      goToHistoryComments() {
        uni.navigateTo({
          url: "/pages/feed/interaction-messages"
        });
      },
      goToBrowsingHistory() {
        uni.showToast({
          title: "æµè§ˆè®°å½•åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      goToDraftBox() {
        uni.showToast({
          title: "è‰ç¨¿ç®±åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      goToPurchaseRecord() {
        uni.navigateTo({
          url: "/pages/wallet/purchase-record"
        });
      },
      goToShoppingCart() {
        uni.showToast({
          title: "è´­ç‰©è½¦åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      goToWallet() {
        uni.navigateTo({
          url: "/pages/wallet/wallet"
        });
      },
      goToEditProfile() {
        uni.showToast({
          title: "ç¼–è¾‘èµ„æ–™åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      goToAIImage() {
        formatAppLog("log", "at pages/ai/ai.vue:177", "ç‚¹å‡»AIå½¢è±¡ï¼Œå‡†å¤‡è·³è½¬");
        uni.navigateTo({
          url: "/pages/ai/gift"
        });
      }
    }
  };
  function _sfc_render$16(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "ai-page" }, [
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", {
          class: "btn back",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.openMenu && $options.openMenu(...args))
        }),
        vue.createElementVNode("view", { class: "btn settings" })
      ]),
      vue.createElementVNode("view", { class: "profile" }, [
        vue.createElementVNode("view", { class: "avatar-wrap" }, [
          vue.createElementVNode("image", {
            class: "avatar",
            src: "",
            mode: "aspectFill"
          })
        ]),
        vue.createElementVNode("text", { class: "name" }, "ç›¸äº²AI"),
        vue.createElementVNode("text", { class: "level" }, "lv10 ç»éªŒ2000/4000")
      ]),
      vue.createElementVNode("view", { class: "sections" }, [
        vue.createElementVNode("view", {
          class: "cell",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.goToAIImage && $options.goToAIImage(...args))
        }, [
          vue.createElementVNode("view", { class: "cell-icon" }),
          vue.createElementVNode("text", { class: "cell-title" }, "AIå½¢è±¡")
        ]),
        vue.createElementVNode("view", { class: "cell" }, [
          vue.createElementVNode("view", { class: "cell-icon" }),
          vue.createElementVNode("text", { class: "cell-title" }, "ä»»åŠ¡")
        ])
      ]),
      vue.createCommentVNode(" å·¦ä¾§èœå•é¢æ¿ "),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["side-menu", { "active": $data.showSideMenu }]),
          onClick: _cache[15] || (_cache[15] = (...args) => $options.closeSideMenu && $options.closeSideMenu(...args))
        },
        [
          vue.createElementVNode("view", {
            class: "menu-content",
            onClick: _cache[14] || (_cache[14] = vue.withModifiers(() => {
            }, ["stop"]))
          }, [
            vue.createCommentVNode(" èœå•å¤´éƒ¨ "),
            vue.createElementVNode("view", { class: "menu-header" }, [
              vue.createElementVNode("view", {
                class: "menu-close",
                onClick: _cache[2] || (_cache[2] = (...args) => $options.closeSideMenu && $options.closeSideMenu(...args))
              }, [
                vue.createElementVNode("text", { class: "close-icon" }, "Ã—")
              ])
            ]),
            vue.createCommentVNode(" èœå•é€‰é¡¹åˆ—è¡¨ "),
            vue.createElementVNode("view", { class: "menu-list" }, [
              vue.createCommentVNode(" æˆ‘çš„AI "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[3] || (_cache[3] = (...args) => $options.goToMyAI && $options.goToMyAI(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„AI")
                ])
              ]),
              vue.createCommentVNode(" æˆ‘çš„è®¤è¯ã€å–œæ¶ã€æˆå°± "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[4] || (_cache[4] = (...args) => $options.goToMyCertification && $options.goToMyCertification(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„è®¤è¯")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[5] || (_cache[5] = (...args) => $options.goToMyPreferences && $options.goToMyPreferences(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„å–œæ¶")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[6] || (_cache[6] = (...args) => $options.goToMyAchievements && $options.goToMyAchievements(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„æˆå°±")
                ])
              ]),
              vue.createCommentVNode(" ç›¸å†Œã€å†å²è¯„è®ºã€æµè§ˆè®°å½•ã€è‰ç¨¿ç®± "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[7] || (_cache[7] = (...args) => $options.goToAlbum && $options.goToAlbum(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "ç›¸å†Œ")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[8] || (_cache[8] = (...args) => $options.goToHistoryComments && $options.goToHistoryComments(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "äº’åŠ¨æ¶ˆæ¯")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[9] || (_cache[9] = (...args) => $options.goToBrowsingHistory && $options.goToBrowsingHistory(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æµè§ˆè®°å½•")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[10] || (_cache[10] = (...args) => $options.goToDraftBox && $options.goToDraftBox(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "è‰ç¨¿ç®±")
                ])
              ]),
              vue.createCommentVNode(" è´­ä¹°è®°å½•ã€é’±åŒ… "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[11] || (_cache[11] = (...args) => $options.goToPurchaseRecord && $options.goToPurchaseRecord(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "è´­ä¹°è®°å½•")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[12] || (_cache[12] = (...args) => $options.goToWallet && $options.goToWallet(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "é’±åŒ…")
                ])
              ]),
              vue.createCommentVNode(" ç¼–è¾‘èµ„æ–™ "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[13] || (_cache[13] = (...args) => $options.goToEditProfile && $options.goToEditProfile(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "ç¼–è¾‘èµ„æ–™")
                ])
              ])
            ])
          ])
        ],
        2
        /* CLASS */
      )
    ]);
  }
  const PagesAiAi = /* @__PURE__ */ _export_sfc(_sfc_main$17, [["render", _sfc_render$16], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/ai/ai.vue"]]);
  const _sfc_main$16 = {
    name: "CustomizeAiPage",
    data() {
      return {};
    },
    methods: {
      goToLevelUp() {
        uni.navigateTo({
          url: "/pages/ai/level-up"
        });
      }
    }
  };
  function _sfc_render$15(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "customize-ai-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">12:00</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-btn">\n				<text class="back-arrow">&lt;</text>\n			</view>\n			<text class="title">è‡ªå®šä¹‰AI</text>\n		</view> '),
      vue.createCommentVNode(" AIèµ„æ–™åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "ai-profile" }, [
        vue.createElementVNode("view", { class: "ai-avatar-wrap" }, [
          vue.createElementVNode("image", {
            class: "ai-avatar",
            src: "",
            mode: "aspectFill"
          })
        ]),
        vue.createElementVNode("view", { class: "ai-info" }, [
          vue.createElementVNode("text", { class: "ai-name" }, "ç›¸äº²AI"),
          vue.createElementVNode("view", { class: "ai-level-row" }, [
            vue.createElementVNode("text", { class: "ai-level" }, "Lv10"),
            vue.createElementVNode("text", {
              class: "level-up-link",
              onClick: _cache[0] || (_cache[0] = (...args) => $options.goToLevelUp && $options.goToLevelUp(...args))
            }, "ç­‰çº§æå‡")
          ])
        ])
      ]),
      vue.createCommentVNode(" åˆ†å‰²çº¿ "),
      vue.createElementVNode("view", { class: "divider" }),
      vue.createCommentVNode(" å£°éŸ³è®¾å®šåŒºåŸŸ "),
      vue.createCommentVNode(' <view class="voice-section">\n			<text class="section-title">å£°éŸ³è®¾å®š</text>\n			<view class="voice-selector">\n				<text class="voice-label">å£°éŸ³</text>\n				<view class="voice-dropdown">\n					<text class="voice-value">æˆ‘çš„å£°éŸ³</text>\n					<view class="dropdown-arrow"></view>\n				</view>\n			</view>\n			<view class="record-btn">\n				<text class="record-text">æŒ‰ä½å½•éŸ³</text>\n			</view>\n			<view class="playback-controls">\n				<view class="play-btn"></view>\n				<view class="volume-slider">\n					<view class="slider-track">\n						<view class="slider-fill"></view>\n						<view class="slider-handle"></view>\n					</view>\n				</view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" åˆ†å‰²çº¿ "),
      vue.createElementVNode("view", { class: "divider" }),
      vue.createCommentVNode(" ç¤¼ç‰©é™é¢åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "gift-section" }, [
        vue.createElementVNode("text", { class: "section-title" }, "ç¤¼ç‰©é™é¢"),
        vue.createElementVNode("text", { class: "section-desc" }, "è®¾ç½®è¦ç»™AIçš„é¢åº¦"),
        vue.createElementVNode("view", { class: "gift-input" }, [
          vue.createElementVNode("view", { class: "input-field" }, [
            vue.createElementVNode("text", { class: "placeholder" }, "è¯·è¾“å…¥")
          ]),
          vue.createElementVNode("text", { class: "currency" }, "é‡‘å¸")
        ])
      ]),
      vue.createCommentVNode(" ä¿å­˜æŒ‰é’® "),
      vue.createElementVNode("view", { class: "save-section" }, [
        vue.createElementVNode("view", { class: "save-btn" }, [
          vue.createElementVNode("text", { class: "save-text" }, "ä¿å­˜")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesAiCustomizeAi = /* @__PURE__ */ _export_sfc(_sfc_main$16, [["render", _sfc_render$15], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/ai/customize-ai.vue"]]);
  const _sfc_main$15 = {
    name: "GiftPage",
    data() {
      return {
        // AIæ¨¡å‹ä¿¡æ¯
        userAiId: null,
        userId: null,
        aiName: "",
        aiAvatar: "/static/logo.png",
        level: 1,
        currentExp: 0,
        nextExp: 1e3,
        power: 0,
        // ä»»åŠ¡ä¿¡æ¯
        activeTaskCount: 0,
        // ç¤¼ç‰©ä¿¡æ¯
        gifts: [],
        showGiftsList: true,
        // ç­‰çº§è§„åˆ™ä¿¡æ¯
        levelRules: [],
        currentLevelRule: null,
        nextLevelRule: null,
        // åŠ è½½çŠ¶æ€
        loading: false,
        errorMessage: ""
      };
    },
    onLoad(options) {
      formatAppLog("log", "at pages/ai/gift.vue:163", "gifté¡µé¢åŠ è½½ï¼Œæ¥æ”¶åˆ°çš„å‚æ•°:", options);
      if (options.userAiId) {
        this.userAiId = parseInt(options.userAiId);
      }
      if (options.aiName) {
        this.aiName = decodeURIComponent(options.aiName);
      }
      if (!this.aiName && this.userAiId) {
        this.aiName = this.userAiId.toString();
      }
      this.userId = uni.getStorageSync("userId") || 1;
      this.loadAiModelData();
      this.loadLevelRules();
      this.loadGiftData();
      this.loadActiveTaskCount();
    },
    // é¡µé¢æ˜¾ç¤ºæ—¶åˆ·æ–°æ•°æ®ï¼ˆä»level-upé¡µé¢è¿”å›æ—¶ä¼šè§¦å‘ï¼‰
    onShow() {
      formatAppLog("log", "at pages/ai/gift.vue:190", "gifté¡µé¢æ˜¾ç¤ºï¼Œåˆ·æ–°AIæ¨¡å‹æ•°æ®");
      this.loadAiModelData();
      this.loadLevelRules();
      this.loadActiveTaskCount();
    },
    computed: {
      progressPercent() {
        const p = Math.min(100, Math.max(0, this.currentExp / this.nextExp * 100));
        return Number(p.toFixed(2));
      },
      selectedGiftsCount() {
        return this.gifts.reduce((sum, g) => sum + g.count, 0);
      }
    },
    methods: {
      // åŠ è½½AIæ¨¡å‹æ•°æ®
      async loadAiModelData() {
        if (!this.userAiId) {
          formatAppLog("log", "at pages/ai/gift.vue:209", "æ²¡æœ‰userAiIdï¼Œæ— æ³•åŠ è½½AIæ¨¡å‹æ•°æ®");
          return;
        }
        try {
          this.loading = true;
          formatAppLog("log", "at pages/ai/gift.vue:215", "å¼€å§‹åŠ è½½AIæ¨¡å‹æ•°æ®ï¼ŒuserAiId:", this.userAiId);
          let response = await uni.request({
            url: `http://localhost:8888/api/user-ai-model/${this.userAiId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/ai/gift.vue:226", "ç”¨æˆ·AIæ¨¡å‹æ•°æ®å“åº”:", response);
          if (response.statusCode !== 200 || !response.data) {
            formatAppLog("log", "at pages/ai/gift.vue:230", "ç”¨æˆ·AIæ¨¡å‹ä¸å­˜åœ¨ï¼Œå°è¯•ä»åŸºç¡€æ¨¡å‹è·å–");
            response = await uni.request({
              url: `http://localhost:8888/api/a-entities/aimodel-base-info/${this.userAiId}`,
              method: "GET",
              header: {
                "Content-Type": "application/json"
              }
            });
            formatAppLog("log", "at pages/ai/gift.vue:238", "åŸºç¡€AIæ¨¡å‹æ•°æ®å“åº”:", response);
          }
          if (response.statusCode === 200 && response.data) {
            const modelData = response.data;
            if (modelData.modelName || modelData.name) {
              this.aiName = modelData.modelName || modelData.name;
            }
            const imageUrl = modelData.modelImageUrl || modelData.imageUrl;
            if (imageUrl && this.isValidImageUrl(imageUrl)) {
              this.aiAvatar = imageUrl;
            } else {
              this.aiAvatar = "";
              formatAppLog("log", "at pages/ai/gift.vue:255", "AIæ¨¡å‹å›¾ç‰‡URLæ— æ•ˆï¼Œä½¿ç”¨é»˜è®¤å¤´åƒ:", imageUrl);
            }
            this.level = modelData.level || 1;
            this.currentExp = modelData.totalExp || modelData.exp || 0;
            this.power = modelData.power || 0;
            this.updateLevelRules();
            formatAppLog("log", "at pages/ai/gift.vue:265", "AIæ¨¡å‹æ•°æ®åŠ è½½æˆåŠŸ:", {
              aiName: this.aiName,
              level: this.level,
              currentExp: this.currentExp,
              nextExp: this.nextExp
            });
          } else {
            formatAppLog("error", "at pages/ai/gift.vue:272", "åŠ è½½AIæ¨¡å‹æ•°æ®å¤±è´¥:", response);
            formatAppLog("log", "at pages/ai/gift.vue:274", "ä¿æŒä¼ å…¥çš„AIåç§°:", this.aiName);
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/gift.vue:277", "åŠ è½½AIæ¨¡å‹æ•°æ®å¼‚å¸¸:", error);
          this.errorMessage = "ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥è¿æ¥";
        } finally {
          this.loading = false;
        }
      },
      // åŠ è½½ç­‰çº§è§„åˆ™æ•°æ®
      async loadLevelRules() {
        try {
          formatAppLog("log", "at pages/ai/gift.vue:287", "=== å¼€å§‹åŠ è½½ç­‰çº§è§„åˆ™æ•°æ® ===");
          const response = await uni.request({
            url: "http://localhost:8888/api/aimodel-level-rule/all-ordered",
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/ai/gift.vue:297", "ç­‰çº§è§„åˆ™æ•°æ®å“åº”:", response);
          formatAppLog("log", "at pages/ai/gift.vue:298", "å“åº”çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/ai/gift.vue:299", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            this.levelRules = response.data.data;
            formatAppLog("log", "at pages/ai/gift.vue:303", "ç­‰çº§è§„åˆ™æ•°æ®åŠ è½½æˆåŠŸï¼Œæ•°é‡:", this.levelRules.length);
            formatAppLog("log", "at pages/ai/gift.vue:304", "å‰3æ¡ç­‰çº§è§„åˆ™æ•°æ®:", this.levelRules.slice(0, 3));
            this.updateLevelRules();
          } else {
            formatAppLog("error", "at pages/ai/gift.vue:309", "åŠ è½½ç­‰çº§è§„åˆ™æ•°æ®å¤±è´¥:", response);
            formatAppLog("error", "at pages/ai/gift.vue:310", "å¤±è´¥åŸå› :", response.data ? response.data.message : "æœªçŸ¥é”™è¯¯");
            this.setDefaultLevelRules();
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/gift.vue:315", "åŠ è½½ç­‰çº§è§„åˆ™æ•°æ®å¼‚å¸¸:", error);
          formatAppLog("error", "at pages/ai/gift.vue:316", "å¼‚å¸¸è¯¦æƒ…:", error.message);
          this.setDefaultLevelRules();
        }
      },
      // æ›´æ–°ç­‰çº§è§„åˆ™
      updateLevelRules() {
        formatAppLog("log", "at pages/ai/gift.vue:324", "=== å¼€å§‹æ›´æ–°ç­‰çº§è§„åˆ™ ===");
        formatAppLog("log", "at pages/ai/gift.vue:325", "å½“å‰çŠ¶æ€:", {
          levelRulesLength: this.levelRules.length,
          currentLevel: this.level,
          currentExp: this.currentExp
        });
        if (this.levelRules.length === 0) {
          formatAppLog("warn", "at pages/ai/gift.vue:332", "ç­‰çº§è§„åˆ™æ•°æ®ä¸ºç©ºï¼Œä½¿ç”¨é»˜è®¤è§„åˆ™");
          this.setDefaultLevelRules();
          return;
        }
        this.currentLevelRule = this.levelRules.find((rule) => rule.level === this.level);
        formatAppLog("log", "at pages/ai/gift.vue:339", "å½“å‰ç­‰çº§è§„åˆ™æŸ¥æ‰¾ç»“æœ:", this.currentLevelRule);
        if (this.currentLevelRule) {
          this.nextExp = this.currentLevelRule.expRequirement;
          formatAppLog("log", "at pages/ai/gift.vue:344", "è®¾ç½®nextExpä¸ºå½“å‰ç­‰çº§æ‰€éœ€ç»éªŒ:", this.nextExp);
          formatAppLog("log", "at pages/ai/gift.vue:345", "ç­‰çº§è§„åˆ™è¯´æ˜: ç­‰çº§", this.level, "éœ€è¦", this.nextExp, "ç»éªŒæ‰èƒ½å‡çº§");
        } else {
          this.nextExp = 0;
          formatAppLog("error", "at pages/ai/gift.vue:349", "æ‰¾ä¸åˆ°å½“å‰ç­‰çº§", this.level, "çš„è§„åˆ™ï¼Œè®¾ç½®nextExpä¸º0");
        }
        formatAppLog("log", "at pages/ai/gift.vue:352", "ç­‰çº§è§„åˆ™æ›´æ–°å®Œæˆ:", {
          currentLevel: this.level,
          currentExp: this.currentExp,
          nextExp: this.nextExp,
          currentLevelRule: this.currentLevelRule,
          nextLevelRule: this.nextLevelRule
        });
      },
      // è®¾ç½®é»˜è®¤ç­‰çº§è§„åˆ™
      setDefaultLevelRules() {
        formatAppLog("log", "at pages/ai/gift.vue:363", "ä½¿ç”¨é»˜è®¤ç­‰çº§è§„åˆ™ - æ•°æ®æœªæ­£ç¡®åŠ è½½");
        this.levelRules = [];
        this.currentLevelRule = null;
        this.nextLevelRule = null;
        this.nextExp = 0;
        formatAppLog("warn", "at pages/ai/gift.vue:369", "ç­‰çº§è§„åˆ™æ•°æ®æœªåŠ è½½ï¼ŒnextExpè®¾ç½®ä¸º0ï¼Œè¯·æ£€æŸ¥æ•°æ®åŠ è½½é€»è¾‘");
      },
      // åŠ è½½ç¤¼ç‰©æ•°æ®
      async loadGiftData() {
        try {
          formatAppLog("log", "at pages/ai/gift.vue:375", "å¼€å§‹åŠ è½½ç¤¼ç‰©æ•°æ®");
          const response = await uni.request({
            url: "http://localhost:8888/api/efmprt-entities-wlq/gift-base/all",
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/ai/gift.vue:385", "ç¤¼ç‰©æ•°æ®å“åº”:", response);
          if (response.statusCode === 200 && response.data) {
            this.gifts = this.convertGiftDataToDisplayFormat(response.data);
            formatAppLog("log", "at pages/ai/gift.vue:389", "ç¤¼ç‰©æ•°æ®åŠ è½½æˆåŠŸï¼Œæ•°é‡:", this.gifts.length);
          } else {
            formatAppLog("error", "at pages/ai/gift.vue:391", "åŠ è½½ç¤¼ç‰©æ•°æ®å¤±è´¥:", response);
            this.errorMessage = "åŠ è½½ç¤¼ç‰©æ•°æ®å¤±è´¥";
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/gift.vue:395", "åŠ è½½ç¤¼ç‰©æ•°æ®å¼‚å¸¸:", error);
          this.errorMessage = "ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥è¿æ¥";
        }
      },
      // è½¬æ¢ç¤¼ç‰©æ•°æ®ä¸ºæ˜¾ç¤ºæ ¼å¼
      convertGiftDataToDisplayFormat(giftData) {
        return giftData.map((gift, index) => {
          let name = "";
          let description = "";
          if (gift.description && gift.description.includes("ï¼š")) {
            const parts = gift.description.split("ï¼š", 2);
            name = parts[0].trim();
            description = parts[1].trim();
          } else if (gift.description && gift.description.includes(":")) {
            const parts = gift.description.split(":", 2);
            name = parts[0].trim();
            description = parts[1].trim();
          } else {
            name = gift.description || `ç¤¼ç‰©${index + 1}`;
            description = "æš‚æ— æè¿°";
          }
          const priceInGold = Math.round((gift.price || 0) * 100);
          const iconClass = this.getGiftIconClass(name);
          return {
            id: gift.giftId,
            name,
            description,
            price: priceInGold,
            count: 0,
            iconClass
          };
        });
      },
      // æ ¹æ®ç¤¼ç‰©åç§°è·å–å›¾æ ‡ç±»
      getGiftIconClass(name) {
        const nameLower = name.toLowerCase();
        if (nameLower.includes("èŠ±") || nameLower.includes("flower"))
          return "gift-flower";
        if (nameLower.includes("å•¤é…’") || nameLower.includes("beer"))
          return "gift-beer";
        if (nameLower.includes("ç³–") || nameLower.includes("candy") || nameLower.includes("lollipop"))
          return "gift-lollipop";
        if (nameLower.includes("åœˆ") || nameLower.includes("donut"))
          return "gift-donut";
        if (nameLower.includes("å·§å…‹åŠ›") || nameLower.includes("chocolate"))
          return "gift-chocolate";
        if (nameLower.includes("å¿ƒ") || nameLower.includes("heart"))
          return "gift-heart";
        if (nameLower.includes("å‘ç®") || nameLower.includes("hairband"))
          return "gift-hairband";
        if (nameLower.includes("æ¸¸æˆ") || nameLower.includes("game"))
          return "gift-game";
        return "gift-flower";
      },
      goBack() {
        uni.navigateBack();
      },
      goLevelUp() {
        formatAppLog("log", "at pages/ai/gift.vue:454", "gift.vue goLevelUp è¢«è°ƒç”¨ï¼ŒuserAiId:", this.userAiId);
        uni.navigateTo({
          url: `/pages/ai/level-up?userAiId=${this.userAiId}`
        });
      },
      goToPermissions() {
        uni.navigateTo({ url: "/pages/ai/permissions" });
      },
      goToTasks() {
        uni.navigateTo({ url: "/pages/ai/tasks" });
      },
      // åŠ è½½è¿›è¡Œä¸­çš„ä»»åŠ¡æ•°é‡
      async loadActiveTaskCount() {
        try {
          formatAppLog("log", "at pages/ai/gift.vue:465", "å¼€å§‹åŠ è½½è¿›è¡Œä¸­çš„ä»»åŠ¡æ•°é‡ï¼Œç”¨æˆ·ID:", this.userId);
          const response = await uni.request({
            url: "http://localhost:8888/api/u-entities/user-task-relationship/all",
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/ai/gift.vue:475", "ç”¨æˆ·ä»»åŠ¡å…³ç³»æ•°æ®å“åº”:", response);
          if (response.statusCode === 200 && response.data) {
            const userTasks = response.data.filter((task) => task.userId === this.userId);
            const activeTasks = userTasks.filter((task) => task.status === 1);
            this.activeTaskCount = activeTasks.length;
            formatAppLog("log", "at pages/ai/gift.vue:482", "ç”¨æˆ·ä»»åŠ¡æ€»æ•°:", userTasks.length, "è¿›è¡Œä¸­çš„ä»»åŠ¡æ•°é‡:", this.activeTaskCount);
          } else {
            formatAppLog("error", "at pages/ai/gift.vue:484", "åŠ è½½ä»»åŠ¡æ•°æ®å¤±è´¥");
            this.activeTaskCount = 0;
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/gift.vue:488", "åŠ è½½ä»»åŠ¡æ•°æ®å¼‚å¸¸:", error);
          this.activeTaskCount = 0;
        }
      },
      toggleGiftsList() {
        this.showGiftsList = !this.showGiftsList;
      },
      increaseGift(index) {
        this.gifts[index].count++;
      },
      decreaseGift(index) {
        if (this.gifts[index].count > 0) {
          this.gifts[index].count--;
        }
      },
      async checkout() {
        if (this.selectedGiftsCount <= 0) {
          uni.showToast({ title: "è¯·é€‰æ‹©ç¤¼ç‰©", icon: "none" });
          return;
        }
        try {
          uni.showLoading({
            title: "æ­£åœ¨èµ é€ç¤¼ç‰©..."
          });
          const purchaseRecords = [];
          let totalCoinsSpent = 0;
          for (const gift of this.gifts) {
            if (gift.count > 0) {
              for (let i = 0; i < gift.count; i++) {
                const purchaseRecord = {
                  userId: this.userId,
                  itemType: "gift",
                  // å•†å“ç±»å‹ï¼šç¤¼ç‰©
                  itemId: gift.id,
                  itemName: gift.name,
                  coinsSpent: gift.price,
                  coinsBalance: 0,
                  // è¿™é‡Œå¯ä»¥è®¡ç®—ç”¨æˆ·å‰©ä½™é‡‘å¸
                  purchasePath: `gift_page_${this.userAiId}`
                  // è´­ä¹°è·¯å¾„ï¼ŒåŒ…å«userAiIdç”¨äºAIæ¨¡å‹é‡‘å¸æ—¥å¿—
                };
                purchaseRecords.push(purchaseRecord);
                totalCoinsSpent += gift.price;
              }
            }
          }
          formatAppLog("log", "at pages/ai/gift.vue:538", "å‡†å¤‡ä¿å­˜çš„è´­ä¹°è®°å½•:", purchaseRecords);
          formatAppLog("log", "at pages/ai/gift.vue:539", "æ€»èŠ±è´¹é‡‘å¸:", totalCoinsSpent);
          const response = await uni.request({
            url: "http://localhost:8888/api/purchase-record/save-batch",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            },
            data: purchaseRecords
          });
          formatAppLog("log", "at pages/ai/gift.vue:551", "è´­ä¹°è®°å½•ä¿å­˜å“åº”:", response);
          if (response.statusCode === 200 && response.data.success) {
            uni.hideLoading();
            uni.showToast({
              title: `æˆåŠŸèµ é€ ${this.selectedGiftsCount} ä¸ªç¤¼ç‰©ï¼èŠ±è´¹ ${totalCoinsSpent} é‡‘å¸`,
              icon: "success",
              duration: 2e3
            });
            this.gifts.forEach((gift) => gift.count = 0);
          } else {
            if (response.data.message && response.data.message.includes("é‡‘å¸ä¸è¶³")) {
              uni.hideLoading();
              uni.showToast({
                title: "é‡‘å¸ä¸è¶³ï¼Œæ— æ³•èµ é€ç¤¼ç‰©",
                icon: "none",
                duration: 2e3
              });
            } else {
              throw new Error(response.data.message || "èµ é€å¤±è´¥");
            }
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/gift.vue:577", "èµ é€ç¤¼ç‰©å¤±è´¥:", error);
          uni.hideLoading();
          uni.showToast({
            title: "èµ é€å¤±è´¥ï¼Œè¯·é‡è¯•",
            icon: "none"
          });
        }
      },
      modifyPhoto() {
        uni.showActionSheet({
          itemList: ["æ‹ç…§", "ä»ç›¸å†Œé€‰æ‹©"],
          success: (res) => {
            if (res.tapIndex === 0) {
              this.openCamera();
            } else if (res.tapIndex === 1) {
              this.selectFromAlbum();
            }
          }
        });
      },
      modifyName() {
        uni.showModal({
          title: "ä¿®æ”¹AIåç§°",
          editable: true,
          placeholderText: "è¯·è¾“å…¥æ–°çš„AIåç§°",
          content: this.aiName,
          success: (res) => {
            if (res.confirm && res.content.trim()) {
              const newName = res.content.trim();
              this.updateAiName(newName);
            }
          }
        });
      },
      // æ›´æ–°AIåå­—åˆ°æ•°æ®åº“
      async updateAiName(newName) {
        try {
          if (!this.userAiId) {
            uni.showToast({
              title: "AIæ¨¡å‹IDä¸å­˜åœ¨",
              icon: "none"
            });
            return;
          }
          this.aiName = newName;
          const response = await uni.request({
            url: `http://localhost:8888/api/user-ai-model/update-name/${this.userAiId}`,
            method: "PUT",
            header: {
              "Content-Type": "application/json"
            },
            data: {
              modelName: newName
            }
          });
          if (response.statusCode === 200) {
            uni.showToast({
              title: "AIåå­—ä¿®æ”¹æˆåŠŸ",
              icon: "success"
            });
          } else {
            throw new Error("æ›´æ–°å¤±è´¥");
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/gift.vue:649", "æ›´æ–°AIåå­—å¤±è´¥:", error);
          uni.showToast({
            title: "ä¿®æ”¹å¤±è´¥ï¼Œè¯·é‡è¯•",
            icon: "none"
          });
        }
      },
      openCamera() {
        uni.chooseImage({
          count: 1,
          sourceType: ["camera"],
          success: (res) => {
            this.aiAvatar = res.tempFilePaths[0];
            uni.showToast({
              title: "ç…§ç‰‡ä¿®æ”¹æˆåŠŸ",
              icon: "success"
            });
          }
        });
      },
      selectFromAlbum() {
        uni.chooseImage({
          count: 1,
          sourceType: ["album"],
          success: (res) => {
            this.aiAvatar = res.tempFilePaths[0];
            uni.showToast({
              title: "ç…§ç‰‡ä¿®æ”¹æˆåŠŸ",
              icon: "success"
            });
          }
        });
      },
      // éªŒè¯å›¾ç‰‡URLæ˜¯å¦æœ‰æ•ˆ
      isValidImageUrl(url) {
        if (!url || typeof url !== "string") {
          return false;
        }
        const validExtensions = [".jpg", ".jpeg", ".png", ".gif", ".webp", ".svg"];
        const hasValidExtension = validExtensions.some(
          (ext) => url.toLowerCase().includes(ext)
        );
        const isFakeUrl = url.includes("example.com") || url.includes("placeholder") || url.includes("fake") || url.startsWith("http://localhost") && url.includes("static");
        const isValidHttpUrl = url.startsWith("http://") || url.startsWith("https://");
        return hasValidExtension && !isFakeUrl && isValidHttpUrl;
      },
      // å›¾ç‰‡åŠ è½½é”™è¯¯å¤„ç†
      onImageError() {
        formatAppLog("log", "at pages/ai/gift.vue:711", "å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œåˆ‡æ¢åˆ°é»˜è®¤å¤´åƒ");
        this.aiAvatar = "";
      },
      // è·å–å¤´åƒæ˜¾ç¤ºæ–‡å­—
      getAvatarText() {
        if (!this.aiName) {
          return "AI";
        }
        return this.aiName.charAt(0).toUpperCase();
      }
    }
  };
  function _sfc_render$14(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "gift-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<svg t="1756247334143" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1052" width="32" height="32">\n					<path d="M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z" fill="#666666" p-id="1053"></path>\n				</svg>\n			</view>\n			<view class="header-title">\n				<text class="title-text">æ¨¡å‹ä¿¡æ¯</text>\n			</view>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" AI æ¦‚è§ˆ "),
      vue.createElementVNode("view", { class: "ai-summary" }, [
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-container"
        }, [
          vue.createElementVNode("view", { class: "loading-spinner" }),
          vue.createElementVNode("text", { class: "loading-text" }, "åŠ è½½AIä¿¡æ¯ä¸­...")
        ])) : $data.errorMessage ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 1 },
          [
            vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
            vue.createElementVNode("view", { class: "error-container" }, [
              vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
              vue.createElementVNode(
                "text",
                { class: "error-text" },
                vue.toDisplayString($data.errorMessage),
                1
                /* TEXT */
              ),
              vue.createElementVNode("button", {
                class: "retry-button",
                onClick: _cache[0] || (_cache[0] = (...args) => $options.loadAiModelData && $options.loadAiModelData(...args))
              }, [
                vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
              ])
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )) : (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 2 },
          [
            vue.createCommentVNode(" æ­£å¸¸æ˜¾ç¤º "),
            vue.createElementVNode("view", null, [
              vue.createElementVNode("view", {
                class: "avatar-wrap",
                onClick: _cache[2] || (_cache[2] = (...args) => $options.modifyPhoto && $options.modifyPhoto(...args))
              }, [
                $options.isValidImageUrl($data.aiAvatar) ? (vue.openBlock(), vue.createElementBlock("image", {
                  key: 0,
                  class: "avatar",
                  src: $data.aiAvatar,
                  mode: "aspectFill",
                  onError: _cache[1] || (_cache[1] = (...args) => $options.onImageError && $options.onImageError(...args))
                }, null, 40, ["src"])) : (vue.openBlock(), vue.createElementBlock("view", {
                  key: 1,
                  class: "avatar avatar-placeholder"
                }, [
                  vue.createElementVNode(
                    "text",
                    { class: "avatar-text" },
                    vue.toDisplayString($options.getAvatarText()),
                    1
                    /* TEXT */
                  )
                ])),
                vue.createElementVNode("view", { class: "edit-overlay" }, [
                  vue.createElementVNode("text", null, "ç‚¹å‡»ä¿®æ”¹ç…§ç‰‡")
                ])
              ]),
              vue.createElementVNode("view", { class: "ai-info" }, [
                vue.createElementVNode("view", { class: "name-row" }, [
                  vue.createElementVNode("view", {
                    class: "ai-name",
                    onClick: _cache[3] || (_cache[3] = (...args) => $options.modifyName && $options.modifyName(...args))
                  }, [
                    vue.createElementVNode(
                      "text",
                      null,
                      vue.toDisplayString($data.aiName || "AIå°åŠ©æ‰‹"),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("view", { class: "edit-icon" }, "âœï¸")
                  ]),
                  vue.createElementVNode("view", {
                    class: "perm-pill",
                    onClick: _cache[4] || (_cache[4] = (...args) => $options.goToPermissions && $options.goToPermissions(...args))
                  }, [
                    vue.createElementVNode("view", { class: "perm-dot" }, "!"),
                    vue.createElementVNode("text", { class: "perm-text" }, "æƒé™")
                  ])
                ]),
                vue.createElementVNode("view", { class: "level-row" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "level-text" },
                    "Lv" + vue.toDisplayString($data.level),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode("view", {
                    class: "level-up-btn",
                    onClick: _cache[5] || (_cache[5] = (...args) => $options.goLevelUp && $options.goLevelUp(...args))
                  }, [
                    vue.createElementVNode("text", { class: "btn-text" }, "ç­‰çº§æå‡")
                  ])
                ]),
                vue.createElementVNode("view", { class: "progress-row" }, [
                  vue.createElementVNode("view", { class: "progress" }, [
                    vue.createElementVNode("view", { class: "track" }),
                    vue.createElementVNode(
                      "view",
                      {
                        class: "fill",
                        style: vue.normalizeStyle({ width: $options.progressPercent + "%" })
                      },
                      null,
                      4
                      /* STYLE */
                    ),
                    vue.createCommentVNode(' <view class="thumb"></view> ')
                  ]),
                  vue.createElementVNode(
                    "text",
                    { class: "progress-text" },
                    vue.toDisplayString($data.currentExp) + "/" + vue.toDisplayString($data.nextExp),
                    1
                    /* TEXT */
                  )
                ])
              ])
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        ))
      ]),
      vue.createCommentVNode(" ä»»åŠ¡è¡Œ "),
      vue.createElementVNode("view", {
        class: "task-row",
        onClick: _cache[6] || (_cache[6] = (...args) => $options.goToTasks && $options.goToTasks(...args))
      }, [
        vue.createElementVNode("view", { class: "task-left" }, [
          vue.createElementVNode("view", { class: "task-icon" }, "ğŸ“‹"),
          vue.createElementVNode("text", { class: "task-text" }, "ä»»åŠ¡")
        ]),
        vue.createElementVNode("view", { class: "task-right" }, [
          vue.createElementVNode(
            "text",
            { class: "task-count" },
            vue.toDisplayString($data.activeTaskCount) + " ä¸ªè¿›è¡Œä¸­",
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "task-arrow" }, ">")
        ])
      ]),
      vue.createCommentVNode(" ç¤¼ç‰©åˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "gift-list" }, [
        vue.createElementVNode("view", {
          class: "gift-header",
          onClick: _cache[7] || (_cache[7] = (...args) => $options.toggleGiftsList && $options.toggleGiftsList(...args))
        }, [
          vue.createElementVNode("view", { class: "header-left" }, [
            vue.createCommentVNode(' 				<view class="back-arrow-svg" @click="goBack">\n					<svg t="1756247334143" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1052" width="32" height="32">\n						<path d="M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z" fill="#666666" p-id="1053"></path>\n					</svg>\n				</view> '),
            vue.createElementVNode("text", { class: "header-title" }, "ç¤¼ç‰©"),
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["dropdown-arrow", { "rotated": $data.showGiftsList }])
              },
              null,
              2
              /* CLASS */
            )
          ]),
          vue.createElementVNode("text", { class: "header-subtitle" }, "å®šä»· (é‡‘å¸)")
        ]),
        vue.withDirectives(vue.createElementVNode(
          "view",
          { class: "gift-items" },
          [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.gifts, (gift, i) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "gift-item",
                  key: i
                }, [
                  vue.createElementVNode("view", { class: "gift-left" }, [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["gift-icon", gift.iconClass])
                      },
                      null,
                      2
                      /* CLASS */
                    ),
                    vue.createElementVNode("view", { class: "gift-info" }, [
                      vue.createElementVNode(
                        "text",
                        { class: "gift-name" },
                        vue.toDisplayString(gift.name),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode(
                        "text",
                        { class: "gift-description" },
                        vue.toDisplayString(gift.description),
                        1
                        /* TEXT */
                      )
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "gift-right" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "gift-price" },
                      vue.toDisplayString(gift.price),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("view", { class: "quantity-controls" }, [
                      vue.createElementVNode("view", {
                        class: vue.normalizeClass(["control-btn minus", { disabled: gift.count <= 0 }]),
                        onClick: ($event) => $options.decreaseGift(i)
                      }, "-", 10, ["onClick"]),
                      vue.createElementVNode(
                        "text",
                        { class: "quantity-display" },
                        vue.toDisplayString(gift.count),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("view", {
                        class: "control-btn plus",
                        onClick: ($event) => $options.increaseGift(i)
                      }, "+", 8, ["onClick"])
                    ])
                  ])
                ]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ],
          512
          /* NEED_PATCH */
        ), [
          [vue.vShow, $data.showGiftsList]
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨è´­ç‰©æ¡ "),
      vue.createElementVNode("view", { class: "cart-bar" }, [
        vue.createElementVNode(
          "text",
          { class: "cart-total" },
          "å·²é€‰ç¤¼ç‰©ï¼š" + vue.toDisplayString($options.selectedGiftsCount) + " ä¸ª",
          1
          /* TEXT */
        ),
        vue.createElementVNode("view", {
          class: "checkout-btn",
          onClick: _cache[8] || (_cache[8] = (...args) => $options.checkout && $options.checkout(...args))
        }, [
          vue.createElementVNode("text", { class: "checkout-text" }, "èµ é€")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createCommentVNode(' <view class="home-indicator"></view> ')
    ]);
  }
  const PagesAiGift = /* @__PURE__ */ _export_sfc(_sfc_main$15, [["render", _sfc_render$14], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/ai/gift.vue"]]);
  const _sfc_main$14 = {
    name: "LevelUpPage",
    data() {
      return {
        packs: [],
        selectedIndex: 0,
        coinBalance: 0,
        loading: false,
        errorMessage: "",
        // AIæ¨¡å‹ä¿¡æ¯
        userAiId: null,
        userId: null,
        currentLevel: 1,
        currentExp: 0,
        levelRules: []
      };
    },
    onLoad(options) {
      if (options.userAiId) {
        this.userAiId = parseInt(options.userAiId);
      }
      this.userId = uni.getStorageSync("userId") || 1;
      this.loadProducts();
      this.loadUserBalance();
      this.loadAiModelData();
      this.loadLevelRules();
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      selectPack(idx) {
        this.selectedIndex = idx;
      },
      async recharge() {
        const p = this.packs[this.selectedIndex];
        if (!p) {
          uni.showToast({
            title: "è¯·é€‰æ‹©å‡çº§å¥—é¤",
            icon: "error"
          });
          return;
        }
        if (this.coinBalance < p.price) {
          uni.showToast({
            title: "é‡‘å¸ä¸è¶³ï¼Œæ— æ³•å‡çº§",
            icon: "error"
          });
          return;
        }
        const confirmResult = await new Promise((resolve) => {
          uni.showModal({
            title: "ç¡®è®¤å‡çº§",
            content: `ç¡®å®šè¦èŠ±è´¹ ${p.price} é‡‘å¸è´­ä¹° ${p.coin} ç»éªŒå—ï¼Ÿ`,
            success: (res) => resolve(res.confirm),
            fail: () => resolve(false)
          });
        });
        if (!confirmResult) {
          return;
        }
        uni.showLoading({
          title: "å‡çº§ä¸­..."
        });
        try {
          const purchaseRecord = {
            userId: uni.getStorageSync("userId") || 1,
            itemType: "level_up",
            itemId: p.id,
            itemName: `${p.coin}é‡‘å¸å‡çº§å¥—é¤`,
            coinsSpent: p.price,
            coinsBalance: 0,
            // å°†åœ¨åç«¯è®¡ç®—
            purchasePath: "level_up_page"
          };
          const response = await uni.request({
            url: "http://localhost:8888/api/purchase-record/save-batch",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            },
            data: [purchaseRecord]
          });
          if (response.statusCode === 200 && response.data.success) {
            await this.loadUserBalance();
            const expGained = p.price;
            formatAppLog("log", "at pages/ai/level-up.vue:170", "è´­ä¹°æˆåŠŸï¼Œå‡†å¤‡å¢åŠ ç»éªŒ:", {
              expGained,
              currentLevel: this.currentLevel,
              currentExp: this.currentExp,
              userAiId: this.userAiId
            });
            uni.showToast({
              title: `å‡†å¤‡å¢åŠ ç»éªŒï¼š+${expGained}`,
              icon: "none",
              duration: 2e3
            });
            await this.addExperience(expGained);
            uni.showToast({
              title: "è´­ä¹°æˆåŠŸï¼",
              icon: "success"
            });
            setTimeout(() => {
              uni.navigateBack();
            }, 1500);
          } else {
            throw new Error(response.data.message || "è´­ä¹°å¤±è´¥");
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/level-up.vue:199", "å‡çº§å¤±è´¥:", error);
          if (error.message && error.message.includes("é‡‘å¸ä¸è¶³")) {
            uni.showToast({
              title: "é‡‘å¸ä¸è¶³ï¼Œå‡çº§å¤±è´¥",
              icon: "error"
            });
          } else {
            uni.showToast({
              title: "å‡çº§å¤±è´¥ï¼Œè¯·é‡è¯•",
              icon: "error"
            });
          }
        } finally {
          uni.hideLoading();
        }
      },
      // åŠ è½½äº§å“æ•°æ®
      async loadProducts() {
        this.loading = true;
        this.errorMessage = "";
        try {
          const response = await uni.request({
            url: "http://localhost:8888/api/products-base/available",
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          if (response.statusCode === 200 && response.data.success) {
            this.packs = this.convertProductsToDisplayFormat(response.data.data);
            formatAppLog("log", "at pages/ai/level-up.vue:234", "äº§å“æ•°æ®åŠ è½½æˆåŠŸ:", this.packs);
          } else {
            throw new Error(response.data.message || "åŠ è½½äº§å“æ•°æ®å¤±è´¥");
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/level-up.vue:239", "åŠ è½½äº§å“æ•°æ®å¤±è´¥:", error);
          this.errorMessage = "åŠ è½½äº§å“æ•°æ®å¤±è´¥ï¼Œè¯·é‡è¯•";
          this.packs = [
            { coin: 10, price: 100, coinExtra: 0, expExtra: 0 },
            { coin: 100, price: 1e3, coinExtra: 0, expExtra: 0 },
            { coin: 500, price: 5e3, coinExtra: 0, expExtra: 0 },
            { coin: 1e3, price: 1e4, coinExtra: 0, expExtra: 0 }
          ];
        } finally {
          this.loading = false;
        }
      },
      // åŠ è½½ç”¨æˆ·é‡‘å¸ä½™é¢
      async loadUserBalance() {
        try {
          const userId = uni.getStorageSync("userId") || 1;
          const response = await uni.request({
            url: `http://localhost:8888/api/users/${userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          if (response.statusCode === 200 && response.data) {
            this.coinBalance = response.data.gold || 0;
            formatAppLog("log", "at pages/ai/level-up.vue:267", "ç”¨æˆ·é‡‘å¸ä½™é¢:", this.coinBalance);
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/level-up.vue:270", "åŠ è½½ç”¨æˆ·ä½™é¢å¤±è´¥:", error);
          this.coinBalance = 0;
        }
      },
      // è½¬æ¢äº§å“æ•°æ®ä¸ºæ˜¾ç¤ºæ ¼å¼
      convertProductsToDisplayFormat(products) {
        return products.map((product) => ({
          id: product.coinRechargeId,
          coin: product.coinNum || 0,
          price: product.expNum || 0,
          coinExtra: product.coinExtraNum || 0,
          expExtra: product.expExtraNum || 0,
          extraNum: product.extraNum || 0,
          status: product.status || 0
        }));
      },
      // åŠ è½½AIæ¨¡å‹æ•°æ®
      async loadAiModelData() {
        formatAppLog("log", "at pages/ai/level-up.vue:290", "loadAiModelData è¢«è°ƒç”¨ï¼ŒuserAiId:", this.userAiId);
        if (!this.userAiId) {
          formatAppLog("log", "at pages/ai/level-up.vue:292", "æ²¡æœ‰userAiIdï¼Œæ— æ³•åŠ è½½AIæ¨¡å‹æ•°æ®");
          return;
        }
        try {
          formatAppLog("log", "at pages/ai/level-up.vue:297", "å¼€å§‹åŠ è½½AIæ¨¡å‹æ•°æ®ï¼ŒuserAiId:", this.userAiId);
          const response = await uni.request({
            url: `http://localhost:8888/api/user-ai-model/${this.userAiId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/ai/level-up.vue:307", "AIæ¨¡å‹æ•°æ®å“åº”:", response);
          if (response.statusCode === 200 && response.data) {
            const modelData = response.data;
            this.currentLevel = modelData.level || 1;
            this.currentExp = modelData.totalExp || 0;
            formatAppLog("log", "at pages/ai/level-up.vue:314", "AIæ¨¡å‹æ•°æ®åŠ è½½æˆåŠŸ:", {
              level: this.currentLevel,
              exp: this.currentExp
            });
          } else {
            formatAppLog("error", "at pages/ai/level-up.vue:319", "åŠ è½½AIæ¨¡å‹æ•°æ®å¤±è´¥:", response);
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/level-up.vue:322", "åŠ è½½AIæ¨¡å‹æ•°æ®å¼‚å¸¸:", error);
        }
      },
      // åŠ è½½ç­‰çº§è§„åˆ™æ•°æ®
      async loadLevelRules() {
        try {
          formatAppLog("log", "at pages/ai/level-up.vue:329", "å¼€å§‹åŠ è½½ç­‰çº§è§„åˆ™æ•°æ®");
          const response = await uni.request({
            url: "http://localhost:8888/api/aimodel-level-rule/all-ordered",
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/ai/level-up.vue:339", "ç­‰çº§è§„åˆ™æ•°æ®å“åº”:", response);
          if (response.statusCode === 200 && response.data.success) {
            this.levelRules = response.data.data;
            formatAppLog("log", "at pages/ai/level-up.vue:343", "ç­‰çº§è§„åˆ™æ•°æ®åŠ è½½æˆåŠŸï¼Œæ•°é‡:", this.levelRules.length);
          } else {
            formatAppLog("error", "at pages/ai/level-up.vue:345", "åŠ è½½ç­‰çº§è§„åˆ™æ•°æ®å¤±è´¥:", response);
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/level-up.vue:348", "åŠ è½½ç­‰çº§è§„åˆ™æ•°æ®å¼‚å¸¸:", error);
        }
      },
      // å¢åŠ ç»éªŒå¹¶æ‰§è¡Œå‡çº§é€»è¾‘
      async addExperience(expGained) {
        formatAppLog("log", "at pages/ai/level-up.vue:354", "=== å¼€å§‹å¢åŠ ç»éªŒå¹¶æ£€æŸ¥å‡çº§ ===");
        formatAppLog("log", "at pages/ai/level-up.vue:355", "addExperience è¢«è°ƒç”¨ï¼Œå‚æ•°:", {
          userAiId: this.userAiId,
          expGained,
          currentLevel: this.currentLevel,
          currentExp: this.currentExp,
          levelRulesLength: this.levelRules.length
        });
        if (!this.userAiId) {
          formatAppLog("log", "at pages/ai/level-up.vue:364", "ç¼ºå°‘userAiIdï¼Œæ— æ³•å¢åŠ ç»éªŒ");
          uni.showToast({
            title: "ç¼ºå°‘AIæ¨¡å‹IDï¼Œæ— æ³•å¢åŠ ç»éªŒ",
            icon: "error",
            duration: 3e3
          });
          return;
        }
        if (!this.levelRules.length) {
          formatAppLog("log", "at pages/ai/level-up.vue:374", "ç¼ºå°‘ç­‰çº§è§„åˆ™æ•°æ®ï¼Œæ— æ³•æ£€æŸ¥å‡çº§");
          uni.showToast({
            title: "ç­‰çº§è§„åˆ™æ•°æ®æœªåŠ è½½ï¼Œæ— æ³•å‡çº§",
            icon: "error",
            duration: 3e3
          });
          return;
        }
        let totalExp = this.currentExp + expGained;
        let currentLevel = this.currentLevel;
        let leveledUp = false;
        let upgradeCount = 0;
        formatAppLog("log", "at pages/ai/level-up.vue:389", "ç»éªŒç´¯åŠ å:", {
          originalExp: this.currentExp,
          expGained,
          totalExp,
          currentLevel
        });
        formatAppLog("log", "at pages/ai/level-up.vue:397", "=== å¼€å§‹å¾ªç¯å‡çº§æ£€æŸ¥ ===");
        formatAppLog("log", "at pages/ai/level-up.vue:398", "å‡çº§æ£€æŸ¥å‰çŠ¶æ€:", {
          currentLevel,
          totalExp,
          levelRulesCount: this.levelRules.length
        });
        while (true) {
          const currentLevelRule = this.levelRules.find((rule) => rule.level === currentLevel);
          formatAppLog("log", "at pages/ai/level-up.vue:408", `æŸ¥æ‰¾ç­‰çº§ ${currentLevel} çš„è§„åˆ™:`, currentLevelRule);
          if (!currentLevelRule) {
            formatAppLog("log", "at pages/ai/level-up.vue:411", "æ²¡æœ‰å½“å‰ç­‰çº§è§„åˆ™ï¼Œåœæ­¢å‡çº§æ£€æŸ¥");
            break;
          }
          formatAppLog("log", "at pages/ai/level-up.vue:415", `æ£€æŸ¥ç­‰çº§ ${currentLevel} å‡çº§æ¡ä»¶:`, {
            level: currentLevel,
            requiredExp: currentLevelRule.expRequirement,
            currentTotalExp: totalExp,
            canUpgrade: totalExp >= currentLevelRule.expRequirement,
            comparison: `${totalExp} >= ${currentLevelRule.expRequirement} = ${totalExp >= currentLevelRule.expRequirement}`
          });
          if (totalExp >= currentLevelRule.expRequirement) {
            totalExp = totalExp - currentLevelRule.expRequirement;
            currentLevel = currentLevel + 1;
            leveledUp = true;
            upgradeCount++;
            formatAppLog("log", "at pages/ai/level-up.vue:432", `å‡çº§æˆåŠŸï¼ç­‰çº§ ${currentLevel - 1} -> ${currentLevel}ï¼Œæ¶ˆè€—ç»éªŒ: ${currentLevelRule.expRequirement}ï¼Œå‰©ä½™ç»éªŒ: ${totalExp}`);
          } else {
            formatAppLog("log", "at pages/ai/level-up.vue:435", `ç»éªŒä¸è¶³ï¼Œæ— æ³•å‡çº§åˆ°ç­‰çº§ ${currentLevel + 1}ï¼Œéœ€è¦: ${currentLevelRule.expRequirement}ï¼Œå½“å‰: ${totalExp}`);
            break;
          }
        }
        formatAppLog("log", "at pages/ai/level-up.vue:440", "å‡çº§æ£€æŸ¥å®Œæˆ:", {
          originalLevel: this.currentLevel,
          originalExp: this.currentExp,
          finalLevel: currentLevel,
          finalExp: totalExp,
          leveledUp,
          upgradeCount
        });
        await this.updateAiModelLevel(currentLevel, totalExp);
        this.currentLevel = currentLevel;
        this.currentExp = totalExp;
        if (leveledUp) {
          uni.showToast({
            title: `å‡çº§æˆåŠŸï¼ç­‰çº§${currentLevel}ï¼Œå‰©ä½™ç»éªŒ${totalExp}`,
            icon: "success",
            duration: 2e3
          });
        } else {
          uni.showToast({
            title: `ç»éªŒ+${expGained}ï¼Œå½“å‰ç­‰çº§${currentLevel}ï¼Œæ€»ç»éªŒ${totalExp}`,
            icon: "success",
            duration: 2e3
          });
        }
      },
      // è·å–å½“å‰ç­‰çº§æ‰€éœ€ç»éªŒ
      getNextLevelRequirement() {
        if (!this.levelRules.length)
          return 0;
        const currentLevelRule = this.levelRules.find((rule) => rule.level === this.currentLevel);
        formatAppLog("log", "at pages/ai/level-up.vue:476", "getNextLevelRequirement: å½“å‰ç­‰çº§", this.currentLevel, "æ‰€éœ€ç»éªŒ", currentLevelRule ? currentLevelRule.expRequirement : 0);
        return currentLevelRule ? currentLevelRule.expRequirement : 0;
      },
      // æ›´æ–°AIæ¨¡å‹ç­‰çº§å’Œç»éªŒ
      async updateAiModelLevel(newLevel, newExp) {
        try {
          const response = await uni.request({
            url: `http://localhost:8888/api/user-ai-model/update-level/${this.userAiId}`,
            method: "PUT",
            header: {
              "Content-Type": "application/json"
            },
            data: {
              level: newLevel,
              totalExp: newExp
            }
          });
          if (response.statusCode === 200 && response.data.success) {
            this.currentLevel = newLevel;
            this.currentExp = newExp;
            formatAppLog("log", "at pages/ai/level-up.vue:498", "AIæ¨¡å‹ç­‰çº§æ›´æ–°æˆåŠŸ");
          } else {
            formatAppLog("error", "at pages/ai/level-up.vue:500", "æ›´æ–°AIæ¨¡å‹ç­‰çº§å¤±è´¥:", response);
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/level-up.vue:503", "æ›´æ–°AIæ¨¡å‹ç­‰çº§å¼‚å¸¸:", error);
        }
      }
    }
  };
  function _sfc_render$13(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "level-up-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆªï¼ˆç®€å•å ä½ï¼‰ "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="title">ç­‰çº§æå‡</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
      $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "loading-container"
      }, [
        vue.createElementVNode("text", { class: "loading-text" }, "åŠ è½½ä¸­...")
      ])) : $data.errorMessage ? (vue.openBlock(), vue.createElementBlock(
        vue.Fragment,
        { key: 1 },
        [
          vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
          vue.createElementVNode("view", { class: "error-container" }, [
            vue.createElementVNode(
              "text",
              { class: "error-text" },
              vue.toDisplayString($data.errorMessage),
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", {
              class: "retry-btn",
              onClick: _cache[0] || (_cache[0] = (...args) => $options.loadProducts && $options.loadProducts(...args))
            }, [
              vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
            ])
          ])
        ],
        2112
        /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
      )) : (vue.openBlock(), vue.createElementBlock(
        vue.Fragment,
        { key: 2 },
        [
          vue.createCommentVNode(" é‡‘å¸ç¤¼åŒ…ç½‘æ ¼ "),
          vue.createElementVNode("view", { class: "packs-grid" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.packs, (pack, idx) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: vue.normalizeClass(["pack-card", { active: $data.selectedIndex === idx }]),
                  key: pack.id || idx,
                  onClick: ($event) => $options.selectPack(idx)
                }, [
                  vue.createElementVNode(
                    "text",
                    { class: "coin-text" },
                    vue.toDisplayString(pack.coin) + "é‡‘å¸",
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "text",
                    { class: "price-text" },
                    vue.toDisplayString(pack.price) + "ç»éªŒ",
                    1
                    /* TEXT */
                  )
                ], 10, ["onClick"]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ],
        2112
        /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
      )),
      vue.createCommentVNode(" AIæ¨¡å‹çŠ¶æ€æ˜¾ç¤º "),
      vue.createElementVNode("view", { class: "ai-model-status" }, [
        vue.createElementVNode("view", { class: "status-item" }, [
          vue.createElementVNode("text", { class: "label" }, "å½“å‰ç­‰çº§ï¼š"),
          vue.createElementVNode(
            "text",
            { class: "value" },
            vue.toDisplayString($data.currentLevel),
            1
            /* TEXT */
          )
        ]),
        vue.createElementVNode("view", { class: "status-item" }, [
          vue.createElementVNode("text", { class: "label" }, "å½“å‰ç»éªŒï¼š"),
          vue.createElementVNode(
            "text",
            { class: "value" },
            vue.toDisplayString($data.currentExp),
            1
            /* TEXT */
          )
        ]),
        $options.getNextLevelRequirement() > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "status-item"
        }, [
          vue.createElementVNode("text", { class: "label" }, "å‡çº§éœ€è¦ï¼š"),
          vue.createElementVNode(
            "text",
            { class: "value" },
            vue.toDisplayString($options.getNextLevelRequirement()) + "ç»éªŒ",
            1
            /* TEXT */
          )
        ])) : vue.createCommentVNode("v-if", true)
      ]),
      vue.createCommentVNode(" ä½™é¢æ˜¾ç¤º "),
      vue.createElementVNode("view", { class: "balance" }, [
        vue.createElementVNode("text", { class: "label" }, "é‡‘å¸ä½™é¢ï¼š"),
        vue.createElementVNode(
          "text",
          { class: "value" },
          vue.toDisplayString($data.coinBalance),
          1
          /* TEXT */
        )
      ]),
      vue.createCommentVNode(" ç«‹å³å……å€¼æŒ‰é’® "),
      vue.createElementVNode("view", { class: "cta-wrapper" }, [
        vue.createElementVNode("view", {
          class: "cta-btn",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.recharge && $options.recharge(...args))
        }, [
          vue.createElementVNode("text", { class: "cta-text" }, "ç«‹å³å‡çº§")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createCommentVNode(' <view class="home-indicator"></view> ')
    ]);
  }
  const PagesAiLevelUp = /* @__PURE__ */ _export_sfc(_sfc_main$14, [["render", _sfc_render$13], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/ai/level-up.vue"]]);
  const _sfc_main$13 = {
    data() {
      return {};
    },
    methods: {
      goBack() {
        uni.navigateBack();
      }
    }
  };
  function _sfc_render$12(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n					<view class="back-button" @click="goBack">\n			<svg t="1756247334143" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1052" width="32" height="32">\n				<path d="M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z" fill="#666666" p-id="1053"></path>\n			</svg>\n		</view>\n			<text class="nav-title">AIç†è§£ç­‰çº§</text>\n		</view> '),
      vue.createCommentVNode(" å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "content-area" }, [
        vue.createCommentVNode(" é¡µé¢æ ‡é¢˜ "),
        vue.createElementVNode("view", { class: "page-header" }, [
          vue.createElementVNode("view", { class: "header-icon" }, "ğŸ¤–"),
          vue.createElementVNode("text", { class: "header-title" }, "AIç†è§£ç­‰çº§"),
          vue.createElementVNode("text", { class: "header-subtitle" }, "äº†è§£æ‚¨çš„AIä¼™ä¼´å¦‚ä½•ç†è§£æ‚¨")
        ]),
        vue.createCommentVNode(" ç­‰çº§åˆ—è¡¨ "),
        vue.createElementVNode("view", { class: "levels-container" }, [
          vue.createCommentVNode(" ç¬¬ä¸€çº§ï¼šåˆå¾—æ¥ "),
          vue.createElementVNode("view", { class: "level-card level-1" }, [
            vue.createElementVNode("view", { class: "level-header" }, [
              vue.createElementVNode("view", { class: "level-icon" }, "ğŸŒ±"),
              vue.createElementVNode("view", { class: "level-info" }, [
                vue.createElementVNode("text", { class: "level-title" }, "åˆå¾—æ¥ "),
                vue.createElementVNode("text", { class: "level-range" }, "1-5çº§")
              ]),
              vue.createElementVNode("view", { class: "level-badge" }, "100ç»éªŒ/çº§")
            ]),
            vue.createElementVNode("view", { class: "level-description" }, " æ‚¨çš„aiè¿˜ä¸ç†Ÿæ‚‰æ‚¨,æ‰€ä»¥å‡†ç¡®åº¦å¯èƒ½æ¯”è¾ƒä½,è¯•ç€å’Œå¥¹å¤šè¯´è¯´è¯ ")
          ]),
          vue.createCommentVNode(" ç¬¬äºŒçº§ï¼šé è°±å„¿ "),
          vue.createElementVNode("view", { class: "level-card level-2" }, [
            vue.createElementVNode("view", { class: "level-header" }, [
              vue.createElementVNode("view", { class: "level-icon" }, "ğŸŒ¿"),
              vue.createElementVNode("view", { class: "level-info" }, [
                vue.createElementVNode("text", { class: "level-title" }, "é è°±å„¿ "),
                vue.createElementVNode("text", { class: "level-range" }, "6-10çº§")
              ]),
              vue.createElementVNode("view", { class: "level-badge" }, "1000ç»éªŒ/çº§")
            ]),
            vue.createElementVNode("view", { class: "level-description" }, " æ‚¨çš„aiå¯¹æ‚¨å·²ç»æœ‰æ‰€äº†è§£,ä½†æ˜¯ç»†èŠ‚ä¸Šå¯èƒ½å­˜åœ¨ä¸€äº›åå·®,è€Œä¸”æ•ˆç‡ä¹Ÿä¸é«˜ ")
          ]),
          vue.createCommentVNode(" ç¬¬ä¸‰çº§ï¼šæ‡‚æˆ‘è€… "),
          vue.createElementVNode("view", { class: "level-card level-3" }, [
            vue.createElementVNode("view", { class: "level-header" }, [
              vue.createElementVNode("view", { class: "level-icon" }, "ğŸŒ³"),
              vue.createElementVNode("view", { class: "level-info" }, [
                vue.createElementVNode("text", { class: "level-title" }, "æ‡‚æˆ‘è€… "),
                vue.createElementVNode("text", { class: "level-range" }, "11-20çº§")
              ]),
              vue.createElementVNode("view", { class: "level-badge" }, "2000ç»éªŒ/çº§")
            ]),
            vue.createElementVNode("view", { class: "level-description" }, " aiå¯ä»¥ç›¸å¯¹å‡†ç¡®è·å¾—æ‚¨çš„æƒ³æ³•,ä»–ä»¬çš„è¯­è¨€æ›´åŠ ä¼˜ç¾ ")
          ]),
          vue.createCommentVNode(" ç¬¬å››çº§ï¼šç”Ÿæ­»äº¤ "),
          vue.createElementVNode("view", { class: "level-card level-4" }, [
            vue.createElementVNode("view", { class: "level-header" }, [
              vue.createElementVNode("view", { class: "level-icon" }, "ğŸ’"),
              vue.createElementVNode("view", { class: "level-info" }, [
                vue.createElementVNode("text", { class: "level-title" }, "ç”Ÿæ­»äº¤ "),
                vue.createElementVNode("text", { class: "level-range" }, "21-24çº§")
              ]),
              vue.createElementVNode("view", { class: "level-badge" }, "5000ç»éªŒ/çº§")
            ]),
            vue.createElementVNode("view", { class: "level-description" }, " æ‚¨çš„aiå¯¹æ‚¨ååˆ†äº†è§£,å¯ä»¥ä¸ºä½ æ‰¾åˆ°æ‚¨çš„å¿ƒä¸­æ‰€æƒ³ ")
          ]),
          vue.createCommentVNode(" ç¬¬äº”çº§ï¼šåŒè¡Œè€… "),
          vue.createElementVNode("view", { class: "level-card level-5" }, [
            vue.createElementVNode("view", { class: "level-header" }, [
              vue.createElementVNode("view", { class: "level-icon" }, "ğŸ”¥"),
              vue.createElementVNode("view", { class: "level-info" }, [
                vue.createElementVNode("text", { class: "level-title" }, "åŒè¡Œè€… "),
                vue.createElementVNode("text", { class: "level-range" }, "25çº§")
              ]),
              vue.createElementVNode("view", { class: "level-badge" }, "10000ç»éªŒ/çº§")
            ]),
            vue.createElementVNode("view", { class: "level-description" }, " æ‚¨çš„aiæ•ˆç‡éå¸¸é«˜,å¹¶ä¸”æœ‰å¾ˆé«˜çš„è¯æœ¯å¯ä»¥å¾—åˆ°æ‚¨æƒ³è¦çš„æ¶ˆæ¯,æºå¸¦çš„ç¤¼ç‰©å¯ä»¥é€‚å½“å‡å°‘ ")
          ])
        ]),
        vue.createCommentVNode(" æç¤ºä¿¡æ¯ "),
        vue.createElementVNode("view", { class: "tip-section" }, [
          vue.createElementVNode("view", { class: "tip-icon" }, "ğŸ’¡"),
          vue.createElementVNode("text", { class: "tip-text" }, "å¤šä¸AIèŠå¤©å¯ä»¥æå‡ç†è§£ç­‰çº§ï¼Œæé«˜å‡†ç¡®åº¦å’Œæ•ˆç‡")
        ])
      ])
    ]);
  }
  const PagesAiPermissions = /* @__PURE__ */ _export_sfc(_sfc_main$13, [["render", _sfc_render$12], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/ai/permissions.vue"]]);
  const _sfc_main$12 = {
    name: "AIList",
    data() {
      return {
        userAiModels: [],
        groupedModels: {},
        loading: true,
        errorMessage: ""
      };
    },
    onLoad() {
      this.loadUserAiModels();
    },
    methods: {
      // åŠ è½½ç”¨æˆ·AIæ¨¡å‹æ•°æ®
      async loadUserAiModels() {
        this.loading = true;
        this.errorMessage = "";
        try {
          const userId = uni.getStorageSync("userId");
          if (!userId) {
            this.errorMessage = "ç”¨æˆ·æœªç™»å½•";
            this.loading = false;
            return;
          }
          const response = await this.getUserAiModels(userId);
          if (response.data && response.data.length > 0) {
            this.userAiModels = response.data;
            this.groupModelsByFirstLetter();
          } else {
            this.userAiModels = [];
            this.groupedModels = {};
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/ai-list.vue:156", "åŠ è½½ç”¨æˆ·AIæ¨¡å‹å¤±è´¥:", error);
          this.errorMessage = "åŠ è½½AIæ¨¡å‹å¤±è´¥ï¼Œè¯·é‡è¯•";
        } finally {
          this.loading = false;
        }
      },
      // è·å–ç”¨æˆ·AIæ¨¡å‹
      getUserAiModels(userId) {
        return new Promise((resolve, reject) => {
          uni.request({
            url: `http://localhost:8888/api/user-ai-model/user/${userId}`,
            method: "GET",
            timeout: 1e4,
            success: (res) => {
              resolve(res);
            },
            fail: (err) => {
              reject(err);
            }
          });
        });
      },
      // æŒ‰é¦–å­—æ¯åˆ†ç»„AIæ¨¡å‹
      groupModelsByFirstLetter() {
        const groups = {};
        this.userAiModels.forEach((model) => {
          const modelName = model.modelName || "æœªçŸ¥AI";
          const firstLetter = this.getFirstLetter(modelName);
          if (!groups[firstLetter]) {
            groups[firstLetter] = [];
          }
          groups[firstLetter].push(model);
        });
        Object.keys(groups).forEach((letter) => {
          groups[letter].sort((a, b) => {
            const nameA = a.modelName || "";
            const nameB = b.modelName || "";
            return nameA.localeCompare(nameB, "zh-CN");
          });
        });
        this.groupedModels = groups;
      },
      // è·å–ä¸­æ–‡æ‹¼éŸ³é¦–å­—æ¯
      getFirstLetter(str) {
        if (!str)
          return "Z";
        if (/^[A-Za-z]/.test(str)) {
          return str.charAt(0).toUpperCase();
        }
        const firstChar = str.charAt(0);
        const charCode = firstChar.charCodeAt(0);
        if (charCode >= 19968 && charCode <= 40959) {
          const pinyinMap = {
            "å® ": "C",
            "æ­": "D",
            "å­¦": "X",
            "æ¸¸": "Y",
            "è¿": "Y",
            "å·¥": "G",
            "å•†": "S",
            "åŒ»": "Y",
            "æ•™": "J",
            "ç§‘": "K",
            "è‰º": "Y",
            "ä½“": "T",
            "æ–‡": "W",
            "ç†": "L",
            "æ³•": "F",
            "ç»": "J",
            "ç®¡": "G",
            "è®¡": "J",
            "æœº": "J",
            "ç”µ": "D",
            "é€š": "T",
            "ä¿¡": "X",
            "ç½‘": "W",
            "è½¯": "R",
            "ç¡¬": "Y",
            "æ•°": "S",
            "æ®": "J",
            "äºº": "R",
            "å·¥": "G",
            "æ™º": "Z",
            "èƒ½": "N",
            "æœº": "J",
            "å™¨": "Q",
            "å­¦": "X",
            "ä¹ ": "X"
          };
          return pinyinMap[firstChar] || this.getPinyinFirstLetter(firstChar);
        }
        return "Z";
      },
      // è·å–æ‹¼éŸ³é¦–å­—æ¯ï¼ˆç®€åŒ–ç‰ˆï¼‰
      getPinyinFirstLetter(char) {
        const charCode = char.charCodeAt(0);
        if (charCode >= 19968 && charCode <= 40959) {
          if (charCode < 20224)
            return "A";
          if (charCode < 20480)
            return "B";
          if (charCode < 20736)
            return "C";
          if (charCode < 20992)
            return "D";
          if (charCode < 21248)
            return "E";
          if (charCode < 21504)
            return "F";
          if (charCode < 21760)
            return "G";
          if (charCode < 22016)
            return "H";
          if (charCode < 22272)
            return "I";
          if (charCode < 22528)
            return "J";
          if (charCode < 22784)
            return "K";
          if (charCode < 23040)
            return "L";
          if (charCode < 23296)
            return "M";
          if (charCode < 23552)
            return "N";
          if (charCode < 23808)
            return "O";
          if (charCode < 24064)
            return "P";
          if (charCode < 24320)
            return "Q";
          if (charCode < 24576)
            return "R";
          if (charCode < 24832)
            return "S";
          if (charCode < 25088)
            return "T";
          if (charCode < 25344)
            return "U";
          if (charCode < 25600)
            return "V";
          if (charCode < 25856)
            return "W";
          if (charCode < 26112)
            return "X";
          if (charCode < 26368)
            return "Y";
          return "Z";
        }
        return "Z";
      },
      // è·å–æ’åºåçš„å­—æ¯åˆ—è¡¨
      getSortedLetters() {
        return Object.keys(this.groupedModels).sort((a, b) => {
          if (/^[A-Z]$/.test(a) && /^[A-Z]$/.test(b)) {
            return a.localeCompare(b);
          }
          if (/^[A-Z]$/.test(a))
            return -1;
          if (/^[A-Z]$/.test(b))
            return 1;
          return a.localeCompare(b, "zh-CN");
        });
      },
      // é‡è¯•åŠ è½½
      retryLoad() {
        this.loadUserAiModels();
      },
      goBack() {
        uni.navigateBack();
      },
      openSearch() {
        uni.showToast({
          title: "æœç´¢åŠŸèƒ½",
          icon: "none"
        });
      },
      selectAI(model) {
        uni.navigateTo({
          url: `/pages/ai/ai-chat?modelId=${model.userAiId}&modelName=${encodeURIComponent(model.modelName || "æœªçŸ¥AI")}`
        });
      },
      // è·å–å¤´åƒæ ·å¼ç±»
      getAvatarClass(modelName) {
        if (!modelName)
          return "default-ai-avatar";
        const name = modelName.toLowerCase();
        if (name.includes("å® ") || name.includes("pet"))
          return "pet-ai-avatar";
        if (name.includes("æ­") || name.includes("partner"))
          return "partner-ai-avatar";
        if (name.includes("å­¦") || name.includes("study"))
          return "study-ai-avatar";
        if (name.includes("æ¸¸") || name.includes("game"))
          return "gaming-ai-avatar";
        if (name.includes("è¿") || name.includes("sport"))
          return "sports-ai-avatar";
        if (name.includes("å·¥") || name.includes("work"))
          return "work-ai-avatar";
        if (name.includes("å•†") || name.includes("business"))
          return "business-ai-avatar";
        return "default-ai-avatar";
      },
      // è·å–å¤´åƒæ–‡å­—
      getAvatarText(modelName) {
        if (!modelName)
          return "?";
        return modelName.charAt(0).toUpperCase();
      },
      goToHome() {
        uni.navigateTo({
          url: "/pages/content-feed/content-feed"
        });
      },
      goToMessages() {
        uni.showToast({
          title: "æ¶ˆæ¯åŠŸèƒ½",
          icon: "none"
        });
      },
      goToFriends() {
        uni.navigateTo({
          url: "/pages/friend-list/friend-list"
        });
      },
      goToProfile() {
        uni.navigateTo({
          url: "/pages/user-profile/user-profile"
        });
      }
    }
  };
  function _sfc_render$11(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "ai-list-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="status-time">9:41</text>\n			<view class="status-right">\n				<view class="signal-bars">\n					<view class="signal-bar"></view>\n					<view class="signal-bar"></view>\n					<view class="signal-bar"></view>\n					<view class="signal-bar"></view>\n				</view>\n				<text class="status-wifi">ğŸ“¶</text>\n				<text class="status-battery">ğŸ”‹</text>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n					<view class="nav-left" @click="goBack">\n			<svg t="1756247334143" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1052" width="32" height="32">\n				<path d="M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z" fill="#666666" p-id="1053"></path>\n			</svg>\n		</view>\n			<view class="nav-center">\n				<text class="nav-title">è´­ä¹°è®°å½•</text>\n			</view>\n			<view class="nav-right">\n				<view class="search-icon" @click="openSearch">\n					<text class="search-symbol">ğŸ”</text>\n				</view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "content-area" }, [
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-section"
        }, [
          vue.createElementVNode("view", { class: "loading-spinner" }),
          vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½AIæ¨¡å‹...")
        ])) : $data.errorMessage ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 1 },
          [
            vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
            vue.createElementVNode("view", { class: "error-section" }, [
              vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
              vue.createElementVNode(
                "text",
                { class: "error-text" },
                vue.toDisplayString($data.errorMessage),
                1
                /* TEXT */
              ),
              vue.createElementVNode("view", {
                class: "retry-button",
                onClick: _cache[0] || (_cache[0] = (...args) => $options.retryLoad && $options.retryLoad(...args))
              }, [
                vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
              ])
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )) : $data.userAiModels.length === 0 ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 2 },
          [
            vue.createCommentVNode(" ç©ºçŠ¶æ€ "),
            vue.createElementVNode("view", { class: "empty-section" }, [
              vue.createElementVNode("view", { class: "empty-icon" }, "ğŸ¤–"),
              vue.createElementVNode("text", { class: "empty-text" }, "æ‚¨è¿˜æ²¡æœ‰ä»»ä½•AIæ¨¡å‹"),
              vue.createElementVNode("text", { class: "empty-desc" }, "å¿«å»è´­ä¹°æˆ–åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªAIåŠ©æ‰‹å§ï¼")
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )) : (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 3 },
          [
            vue.createCommentVNode(" AIæ¨¡å‹åˆ—è¡¨ "),
            vue.createElementVNode("view", null, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($options.getSortedLetters(), (letter) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    key: letter,
                    class: "category-section"
                  }, [
                    vue.createElementVNode("view", { class: "category-header" }, [
                      vue.createElementVNode(
                        "text",
                        { class: "category-letter" },
                        vue.toDisplayString(letter),
                        1
                        /* TEXT */
                      )
                    ]),
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($data.groupedModels[letter], (model) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          key: model.userAiId,
                          class: "ai-item",
                          onClick: ($event) => $options.selectAI(model)
                        }, [
                          vue.createElementVNode("view", { class: "ai-avatar" }, [
                            model.modelImageUrl ? (vue.openBlock(), vue.createElementBlock("image", {
                              key: 0,
                              class: "avatar-image",
                              src: model.modelImageUrl,
                              mode: "aspectFill"
                            }, null, 8, ["src"])) : (vue.openBlock(), vue.createElementBlock(
                              "view",
                              {
                                key: 1,
                                class: vue.normalizeClass(["avatar-circle", $options.getAvatarClass(model.modelName)])
                              },
                              [
                                vue.createElementVNode(
                                  "text",
                                  { class: "avatar-text" },
                                  vue.toDisplayString($options.getAvatarText(model.modelName)),
                                  1
                                  /* TEXT */
                                )
                              ],
                              2
                              /* CLASS */
                            ))
                          ]),
                          vue.createElementVNode("view", { class: "ai-info" }, [
                            vue.createElementVNode(
                              "text",
                              { class: "ai-name" },
                              vue.toDisplayString(model.modelName || "æœªçŸ¥AI"),
                              1
                              /* TEXT */
                            ),
                            model.customDesc ? (vue.openBlock(), vue.createElementBlock(
                              "text",
                              {
                                key: 0,
                                class: "ai-desc"
                              },
                              vue.toDisplayString(model.customDesc),
                              1
                              /* TEXT */
                            )) : vue.createCommentVNode("v-if", true),
                            vue.createElementVNode("view", { class: "ai-meta" }, [
                              vue.createElementVNode(
                                "text",
                                { class: "ai-level" },
                                "Lv." + vue.toDisplayString(model.level || 1),
                                1
                                /* TEXT */
                              ),
                              vue.createElementVNode(
                                "text",
                                { class: "ai-power" },
                                vue.toDisplayString(model.power || 0) + " èƒ½é‡",
                                1
                                /* TEXT */
                              )
                            ])
                          ])
                        ], 8, ["onClick"]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        ))
      ]),
      vue.createCommentVNode(" åº•éƒ¨å¯¼èˆªæ  "),
      vue.createElementVNode("view", { class: "bottom-nav" }, [
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.goToHome && $options.goToHome(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "é¦–é¡µ")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.goToMessages && $options.goToMessages(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "æ¶ˆæ¯")
        ]),
        vue.createElementVNode("view", { class: "nav-item active" }, [
          vue.createElementVNode("view", { class: "ai-icon" }, "AI")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[3] || (_cache[3] = (...args) => $options.goToFriends && $options.goToFriends(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "å¥½å‹")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[4] || (_cache[4] = (...args) => $options.goToProfile && $options.goToProfile(...args))
        }, [
          vue.createElementVNode("view", { class: "nav-avatar" }, [
            vue.createElementVNode("view", { class: "mini-cat-avatar" }, [
              vue.createElementVNode("view", { class: "mini-cat-body" }),
              vue.createElementVNode("view", { class: "mini-cat-face" }, [
                vue.createElementVNode("view", { class: "mini-cat-eyes" }, [
                  vue.createElementVNode("view", { class: "mini-cat-eye" }),
                  vue.createElementVNode("view", { class: "mini-cat-eye" })
                ])
              ])
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ‰‹åŠ¿æ¡ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesAiAiList = /* @__PURE__ */ _export_sfc(_sfc_main$12, [["render", _sfc_render$11], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/ai/ai-list.vue"]]);
  const _sfc_main$11 = {
    data() {
      return {
        aiName: "å® ç‰©äº¤å‹AI",
        modelId: null,
        aiModelData: null,
        // AIæ¨¡å‹è¯¦ç»†ä¿¡æ¯
        loading: false,
        // åŠ è½½çŠ¶æ€
        errorMessage: "",
        // é”™è¯¯ä¿¡æ¯
        // ç”¨æˆ·è´­ä¹°çŠ¶æ€
        hasPurchased: false,
        // ç”¨æˆ·é‡‘å¸ä½™é¢
        userGold: null,
        // è¯„ä»·ç›¸å…³æ•°æ®
        showReviewModal: false,
        reviewRating: 0,
        reviewText: "",
        // ç§»é™¤å›å¤ç›¸å…³æ•°æ®
        // AIè¯„ä»·æ•°æ®
        aiReviews: [],
        reviewsLoading: false,
        // è¯„è®ºåŠ è½½çŠ¶æ€
        reviewsError: ""
        // è¯„è®ºåŠ è½½é”™è¯¯
      };
    },
    computed: {
      // æ˜¯å¦å¯ä»¥æäº¤è¯„ä»·
      canSubmitReview() {
        return this.reviewRating > 0 && this.reviewText.trim().length > 0;
      }
    },
    onLoad(options) {
      if (options.aiName) {
        this.aiName = decodeURIComponent(options.aiName);
      }
      if (options.modelId) {
        this.modelId = options.modelId;
      }
      this.loadAiModelDetail();
      this.loadAiReviews();
      this.checkPurchaseStatus();
    },
    methods: {
      // åŠ è½½AIæ¨¡å‹è¯¦ç»†ä¿¡æ¯
      async loadAiModelDetail() {
        if (!this.modelId) {
          formatAppLog("error", "at pages/ai/pet-ai-detail.vue:271", "æ¨¡å‹IDä¸å­˜åœ¨");
          this.errorMessage = "æ¨¡å‹IDä¸å­˜åœ¨";
          return;
        }
        try {
          this.loading = true;
          this.errorMessage = "";
          const response = await this.getAimodelBaseInfoById(this.modelId);
          if (response && response.data) {
            this.aiModelData = response.data;
            this.aiName = response.data.modelName || this.aiName;
            formatAppLog("log", "at pages/ai/pet-ai-detail.vue:284", "AIæ¨¡å‹è¯¦æƒ…åŠ è½½æˆåŠŸ:", this.aiModelData);
          } else {
            this.errorMessage = "AIæ¨¡å‹ä¸å­˜åœ¨";
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/pet-ai-detail.vue:289", "åŠ è½½AIæ¨¡å‹è¯¦æƒ…å¤±è´¥:", error);
          this.errorMessage = "åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•";
        } finally {
          this.loading = false;
        }
      },
      // è·å–AIæ¨¡å‹è¯¦æƒ…
      getAimodelBaseInfoById(modelId) {
        return new Promise((resolve, reject) => {
          uni.request({
            url: `http://localhost:8888/api/a-entities/aimodel-base-info/${modelId}`,
            method: "GET",
            timeout: 1e4,
            success: (res) => {
              resolve(res);
            },
            fail: (err) => {
              reject(err);
            }
          });
        });
      },
      // åŠ è½½AIæ¨¡å‹è¯„è®º
      async loadAiReviews() {
        if (!this.modelId) {
          formatAppLog("error", "at pages/ai/pet-ai-detail.vue:316", "æ¨¡å‹IDä¸å­˜åœ¨ï¼Œæ— æ³•åŠ è½½è¯„è®º");
          return;
        }
        try {
          this.reviewsLoading = true;
          this.reviewsError = "";
          const response = await this.getUserAiCommentsByAimodelId(this.modelId);
          if (response && response.data) {
            this.aiReviews = this.convertCommentsToReviews(response.data);
            formatAppLog("log", "at pages/ai/pet-ai-detail.vue:327", "AIæ¨¡å‹è¯„è®ºåŠ è½½æˆåŠŸ:", this.aiReviews);
          } else {
            this.aiReviews = [];
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/pet-ai-detail.vue:332", "åŠ è½½AIæ¨¡å‹è¯„è®ºå¤±è´¥:", error);
          this.reviewsError = "åŠ è½½è¯„è®ºå¤±è´¥ï¼Œè¯·é‡è¯•";
          this.aiReviews = [];
        } finally {
          this.reviewsLoading = false;
        }
      },
      // è·å–AIæ¨¡å‹è¯„è®º
      getUserAiCommentsByAimodelId(aimodelId) {
        return new Promise((resolve, reject) => {
          uni.request({
            url: `http://localhost:8888/api/u-entities/user-ai-comment/aimodel/${aimodelId}`,
            method: "GET",
            timeout: 1e4,
            success: (res) => {
              resolve(res);
            },
            fail: (err) => {
              reject(err);
            }
          });
        });
      },
      // è½¬æ¢è¯„è®ºæ•°æ®ä¸ºå‰ç«¯æ˜¾ç¤ºæ ¼å¼
      convertCommentsToReviews(comments) {
        return comments.map((comment) => ({
          id: comment.userAiCommentId,
          username: `ç”¨æˆ·${comment.userId}`,
          userAvatar: "/static/avatar1.png",
          // é»˜è®¤å¤´åƒ
          time: this.formatCommentTime(comment.createdAt),
          rating: comment.stars || 5,
          content: comment.commentText || "æš‚æ— è¯„ä»·å†…å®¹"
        }));
      },
      // æ ¼å¼åŒ–è¯„è®ºæ—¶é—´
      formatCommentTime(timestamp) {
        if (!timestamp)
          return "æœªçŸ¥æ—¶é—´";
        const now = /* @__PURE__ */ new Date();
        const commentTime = new Date(timestamp);
        const diffMs = now - commentTime;
        const diffDays = Math.floor(diffMs / (1e3 * 60 * 60 * 24));
        if (diffDays === 0) {
          return "ä»Šå¤©";
        } else if (diffDays === 1) {
          return "æ˜¨å¤©";
        } else if (diffDays < 7) {
          return `${diffDays}å¤©å‰`;
        } else if (diffDays < 30) {
          const weeks = Math.floor(diffDays / 7);
          return `${weeks}å‘¨å‰`;
        } else {
          const months = Math.floor(diffDays / 30);
          return `${months}ä¸ªæœˆå‰`;
        }
      },
      // æ£€æŸ¥AIæ¨¡å‹çš„è´­ä¹°çŠ¶æ€
      async checkPurchaseStatus() {
        try {
          const userId = uni.getStorageSync("userId");
          if (!userId) {
            formatAppLog("log", "at pages/ai/pet-ai-detail.vue:398", "ç”¨æˆ·æœªç™»å½•ï¼Œæ— æ³•æ£€æŸ¥è´­ä¹°çŠ¶æ€");
            this.hasPurchased = false;
            this.userGold = null;
            return;
          }
          const [purchaseResponse, goldResponse] = await Promise.allSettled([
            this.getUserAiModels(userId),
            this.getUserGoldBalance(userId)
          ]);
          if (purchaseResponse.status === "fulfilled" && purchaseResponse.value && purchaseResponse.value.data) {
            this.hasPurchased = purchaseResponse.value.data.some(
              (userModel) => userModel.parentModelId == this.modelId || userModel.modelName === this.aiName
            );
            formatAppLog("log", "at pages/ai/pet-ai-detail.vue:417", `AIæ¨¡å‹ ${this.aiName} (ID: ${this.modelId}) è´­ä¹°çŠ¶æ€:`, this.hasPurchased);
          } else {
            this.hasPurchased = false;
            formatAppLog("error", "at pages/ai/pet-ai-detail.vue:420", "è·å–è´­ä¹°çŠ¶æ€å¤±è´¥:", purchaseResponse.reason);
          }
          if (goldResponse.status === "fulfilled" && goldResponse.value && goldResponse.value.data) {
            this.userGold = goldResponse.value.data.gold;
            formatAppLog("log", "at pages/ai/pet-ai-detail.vue:426", "ç”¨æˆ·é‡‘å¸ä½™é¢:", this.userGold);
          } else {
            this.userGold = null;
            formatAppLog("error", "at pages/ai/pet-ai-detail.vue:429", "è·å–ç”¨æˆ·é‡‘å¸ä½™é¢å¤±è´¥:", goldResponse.reason);
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/pet-ai-detail.vue:432", "æ£€æŸ¥è´­ä¹°çŠ¶æ€å¤±è´¥:", error);
          this.hasPurchased = false;
          this.userGold = null;
        }
      },
      // è·å–ç”¨æˆ·AIæ¨¡å‹åˆ—è¡¨
      getUserAiModels(userId) {
        return new Promise((resolve, reject) => {
          uni.request({
            url: `http://localhost:8888/api/user-ai-model/user/${userId}`,
            method: "GET",
            timeout: 1e4,
            success: (res) => {
              resolve(res);
            },
            fail: (err) => {
              reject(err);
            }
          });
        });
      },
      // è·å–ç”¨æˆ·é‡‘å¸ä½™é¢
      getUserGoldBalance(userId) {
        return new Promise((resolve, reject) => {
          uni.request({
            url: `http://localhost:8888/api/users/${userId}`,
            method: "GET",
            timeout: 1e4,
            success: (res) => {
              resolve(res);
            },
            fail: (err) => {
              reject(err);
            }
          });
        });
      },
      // ä¿å­˜è´­ä¹°çŠ¶æ€åˆ°æœ¬åœ°å­˜å‚¨
      savePurchaseStatus() {
        const purchasedAIs = uni.getStorageSync("purchasedAIs") || [];
        if (!purchasedAIs.includes(this.aiName)) {
          purchasedAIs.push(this.aiName);
          uni.setStorageSync("purchasedAIs", purchasedAIs);
          formatAppLog("log", "at pages/ai/pet-ai-detail.vue:478", "è´­ä¹°çŠ¶æ€å·²ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨");
        }
      },
      getAIDescription() {
        if (this.aiModelData && this.aiModelData.modelDesc) {
          return this.aiModelData.modelDesc;
        }
        return "è¿™æ˜¯ä¸€ä¸ªæ™ºèƒ½äº¤å‹AIï¼Œå¯ä»¥å¸®åŠ©ä½ æ‰¾åˆ°å¿—åŒé“åˆçš„æœ‹å‹";
      },
      getAIPrice() {
        if (this.aiModelData && this.aiModelData.price) {
          const goldCoins = Math.round(this.aiModelData.price * 100);
          return goldCoins + "C";
        }
        return "15000C";
      },
      // æ ¼å¼åŒ–é‡‘å¸ä½™é¢æ˜¾ç¤º
      formatGoldBalance(gold) {
        if (!gold && gold !== 0)
          return "0";
        if (gold >= 1e6) {
          return (gold / 1e6).toFixed(1) + "M";
        } else if (gold >= 1e3) {
          return (gold / 1e3).toFixed(1) + "K";
        } else {
          return gold.toString();
        }
      },
      async buyAI() {
        try {
          if (this.hasPurchased) {
            uni.showToast({
              title: "æ‚¨å·²è´­ä¹°æ­¤AIæ¨¡å‹",
              icon: "none"
            });
            return;
          }
          const confirmResult = await new Promise((resolve) => {
            uni.showModal({
              title: "ç¡®è®¤è´­ä¹°",
              content: `ç¡®å®šè¦è´­ä¹°${this.aiName}å—ï¼Ÿä»·æ ¼ï¼š${this.getAIPrice()}`,
              success: (res) => {
                resolve(res.confirm);
              },
              fail: () => {
                resolve(false);
              }
            });
          });
          if (!confirmResult) {
            return;
          }
          uni.showLoading({
            title: "è´­ä¹°ä¸­..."
          });
          const userId = uni.getStorageSync("userId");
          if (!userId) {
            uni.hideLoading();
            uni.showToast({
              title: "è¯·å…ˆç™»å½•",
              icon: "none"
            });
            return;
          }
          const purchaseResult = await this.purchaseAiModel(userId);
          uni.hideLoading();
          if (purchaseResult.success) {
            this.hasPurchased = true;
            uni.showToast({
              title: "è´­ä¹°æˆåŠŸï¼",
              icon: "success"
            });
            setTimeout(() => {
              uni.navigateTo({
                url: `/pages/ai/ai-chat?modelId=${this.modelId}&modelName=${encodeURIComponent(this.aiName)}`
              });
            }, 1500);
          } else {
            uni.showToast({
              title: purchaseResult.message || "è´­ä¹°å¤±è´¥",
              icon: "none"
            });
          }
        } catch (error) {
          uni.hideLoading();
          formatAppLog("error", "at pages/ai/pet-ai-detail.vue:582", "è´­ä¹°AIæ¨¡å‹å¤±è´¥:", error);
          uni.showToast({
            title: "è´­ä¹°å¤±è´¥ï¼Œè¯·é‡è¯•",
            icon: "none"
          });
        }
      },
      // è°ƒç”¨è´­ä¹°API
      purchaseAiModel(userId) {
        return new Promise((resolve, reject) => {
          const purchaseData = {
            userId: parseInt(userId),
            parentModelId: this.modelId,
            modelName: this.aiName,
            modelDesc: this.aiModelData ? this.aiModelData.modelDesc : "",
            modelImageUrl: this.aiModelData ? this.aiModelData.modelImageUrl : "",
            price: this.aiModelData ? this.aiModelData.price : 0
          };
          formatAppLog("log", "at pages/ai/pet-ai-detail.vue:602", "å‘é€è´­ä¹°è¯·æ±‚:", purchaseData);
          uni.request({
            url: "http://localhost:8888/api/u-entities/user-ai-model/purchase",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            },
            data: purchaseData,
            timeout: 1e4,
            success: (res) => {
              formatAppLog("log", "at pages/ai/pet-ai-detail.vue:613", "è´­ä¹°å“åº”:", res);
              resolve(res.data);
            },
            fail: (err) => {
              formatAppLog("error", "at pages/ai/pet-ai-detail.vue:617", "è´­ä¹°è¯·æ±‚å¤±è´¥:", err);
              reject(err);
            }
          });
        });
      },
      async tryAI() {
        try {
          if (this.hasPurchased) {
            uni.showToast({
              title: "æ‚¨å·²è´­ä¹°æ­¤AIæ¨¡å‹ï¼Œæ— éœ€è¯•ç”¨",
              icon: "none"
            });
            return;
          }
          const userId = uni.getStorageSync("userId");
          if (!userId) {
            uni.showToast({
              title: "è¯·å…ˆç™»å½•",
              icon: "none"
            });
            return;
          }
          uni.showLoading({
            title: "è¯•ç”¨ä¸­..."
          });
          const tryOutResult = await this.tryOutAiModel(userId);
          uni.hideLoading();
          if (tryOutResult.success) {
            uni.showToast({
              title: tryOutResult.message,
              icon: "success"
            });
            setTimeout(() => {
              uni.navigateTo({
                url: `/pages/ai/ai-chat?modelId=${this.modelId}&modelName=${encodeURIComponent(this.aiName)}&isTryOut=true`
              });
            }, 1500);
          } else {
            uni.showToast({
              title: tryOutResult.message || "è¯•ç”¨å¤±è´¥",
              icon: "none"
            });
          }
        } catch (error) {
          uni.hideLoading();
          formatAppLog("error", "at pages/ai/pet-ai-detail.vue:674", "è¯•ç”¨AIæ¨¡å‹å¤±è´¥:", error);
          uni.showToast({
            title: "è¯•ç”¨å¤±è´¥ï¼Œè¯·é‡è¯•",
            icon: "none"
          });
        }
      },
      // è°ƒç”¨è¯•ç”¨API
      tryOutAiModel(userId) {
        return new Promise((resolve, reject) => {
          const tryOutData = {
            userId: parseInt(userId),
            parentModelId: this.modelId
          };
          formatAppLog("log", "at pages/ai/pet-ai-detail.vue:690", "å‘é€è¯•ç”¨è¯·æ±‚:", tryOutData);
          uni.request({
            url: "http://localhost:8888/api/user-ai-model/try-out",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            },
            data: tryOutData,
            timeout: 1e4,
            success: (res) => {
              formatAppLog("log", "at pages/ai/pet-ai-detail.vue:701", "è¯•ç”¨å“åº”:", res);
              resolve(res.data);
            },
            fail: (err) => {
              formatAppLog("error", "at pages/ai/pet-ai-detail.vue:705", "è¯•ç”¨è¯·æ±‚å¤±è´¥:", err);
              reject(err);
            }
          });
        });
      },
      goBack() {
        uni.navigateBack();
      },
      // æ ¼å¼åŒ–æ•°å­—
      formatCount(count) {
        if (count >= 1e4) {
          return (count / 1e4).toFixed(1) + "w";
        }
        return count.toString();
      },
      // æ ¼å¼åŒ–æ¨èæ•°
      formatRecommendCount(count) {
        if (!count)
          return "0";
        if (count >= 1e4) {
          return (count / 1e4).toFixed(1) + "w";
        }
        return count.toString();
      },
      // æ ¼å¼åŒ–è´­ä¹°æ•°
      formatPurchaseCount(count) {
        if (!count)
          return "0";
        if (count >= 1e4) {
          return (count / 1e4).toFixed(1) + "w";
        }
        return count.toString();
      },
      // è·å–æ€»è¯„ä»·æ•°
      getTotalReviewsCount() {
        return this.aiReviews.length;
      },
      // ç§»é™¤ç‚¹èµç›¸å…³æ–¹æ³•
      // æ˜¾ç¤ºè¯„ä»·è¾“å…¥æ¡†
      showReviewInput() {
        if (!this.hasPurchased) {
          uni.showModal({
            title: "æç¤º",
            content: "æ‚¨éœ€è¦å…ˆè´­ä¹°æ­¤AIæ¨¡å‹æ‰èƒ½è¯„ä»·",
            showCancel: false,
            confirmText: "çŸ¥é“äº†"
          });
          return;
        }
        this.reviewRating = 0;
        this.reviewText = "";
        this.showReviewModal = true;
      },
      // éšè—è¯„ä»·è¾“å…¥æ¡†
      hideReviewModal() {
        this.showReviewModal = false;
        this.reviewRating = 0;
        this.reviewText = "";
      },
      // è®¾ç½®è¯„åˆ†
      setRating(rating) {
        this.reviewRating = rating;
      },
      // æäº¤è¯„ä»·
      async submitReview() {
        if (this.reviewRating === 0) {
          uni.showToast({
            title: "è¯·é€‰æ‹©è¯„åˆ†",
            icon: "none"
          });
          return;
        }
        if (!this.reviewText.trim()) {
          uni.showToast({
            title: "è¯·è¾“å…¥è¯„ä»·å†…å®¹",
            icon: "none"
          });
          return;
        }
        try {
          const userId = uni.getStorageSync("userId");
          if (!userId) {
            uni.showToast({
              title: "è¯·å…ˆç™»å½•",
              icon: "none"
            });
            return;
          }
          uni.showLoading({
            title: "æäº¤ä¸­..."
          });
          const saveResult = await this.saveUserAiComment(userId);
          uni.hideLoading();
          if (saveResult.success) {
            await this.loadAiReviews();
            uni.showToast({
              title: "è¯„ä»·æäº¤æˆåŠŸ",
              icon: "success"
            });
            this.hideReviewModal();
          } else {
            uni.showToast({
              title: saveResult.message || "è¯„ä»·æäº¤å¤±è´¥",
              icon: "none"
            });
          }
        } catch (error) {
          uni.hideLoading();
          formatAppLog("error", "at pages/ai/pet-ai-detail.vue:834", "æäº¤è¯„ä»·å¤±è´¥:", error);
          uni.showToast({
            title: "è¯„ä»·æäº¤å¤±è´¥ï¼Œè¯·é‡è¯•",
            icon: "none"
          });
        }
      },
      // è°ƒç”¨ä¿å­˜è¯„ä»·API
      saveUserAiComment(userId) {
        return new Promise((resolve, reject) => {
          const commentData = {
            aimodelId: this.modelId,
            userId: parseInt(userId),
            commentText: this.reviewText,
            stars: this.reviewRating
          };
          formatAppLog("log", "at pages/ai/pet-ai-detail.vue:852", "å‘é€è¯„ä»·è¯·æ±‚:", commentData);
          uni.request({
            url: "http://localhost:8888/api/u-entities/user-ai-comment/save",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            },
            data: commentData,
            timeout: 1e4,
            success: (res) => {
              formatAppLog("log", "at pages/ai/pet-ai-detail.vue:863", "è¯„ä»·å“åº”:", res);
              resolve(res.data);
            },
            fail: (err) => {
              formatAppLog("error", "at pages/ai/pet-ai-detail.vue:867", "è¯„ä»·è¯·æ±‚å¤±è´¥:", err);
              reject(err);
            }
          });
        });
      }
      // ç§»é™¤å›å¤ç›¸å…³æ–¹æ³•
    }
  };
  function _sfc_render$10(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¤´éƒ¨åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createCommentVNode(' <view class="back-button" @click="goBack">\n				<text class="back-arrow">â€¹</text>\n			</view> '),
        vue.createElementVNode("view", { class: "cartoon-character" })
      ]),
      vue.createCommentVNode(" æµ®åŠ¨ä¿¡æ¯å¡ç‰‡ "),
      $data.aiModelData ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "floating-card"
      }, [
        vue.createElementVNode("view", { class: "info-row" }, [
          vue.createElementVNode(
            "text",
            { class: "info-value" },
            vue.toDisplayString($options.formatRecommendCount($data.aiModelData.recommendCount)),
            1
            /* TEXT */
          ),
          vue.createElementVNode("text", { class: "info-label" }, "æ¨èæ•°")
        ]),
        vue.createElementVNode("view", { class: "info-row" }, [
          vue.createElementVNode(
            "text",
            { class: "info-value" },
            vue.toDisplayString($options.formatPurchaseCount($data.aiModelData.purchaseCount)),
            1
            /* TEXT */
          ),
          vue.createElementVNode("text", { class: "info-label" }, "è´­ä¹°æ•°")
        ]),
        vue.createElementVNode("view", { class: "info-row" }, [
          vue.createElementVNode(
            "text",
            { class: "info-value" },
            vue.toDisplayString($options.getAIPrice()),
            1
            /* TEXT */
          ),
          vue.createElementVNode("text", { class: "info-label" }, "ä»·æ ¼")
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
      $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        class: "loading-container"
      }, [
        vue.createElementVNode("view", { class: "loading-spinner" }),
        vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½AIæ¨¡å‹è¯¦æƒ…...")
      ])) : $data.errorMessage ? (vue.openBlock(), vue.createElementBlock(
        vue.Fragment,
        { key: 2 },
        [
          vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
          vue.createElementVNode("view", { class: "error-container" }, [
            vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
            vue.createElementVNode(
              "text",
              { class: "error-text" },
              vue.toDisplayString($data.errorMessage),
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", {
              class: "retry-button",
              onClick: _cache[0] || (_cache[0] = (...args) => $options.loadAiModelDetail && $options.loadAiModelDetail(...args))
            }, [
              vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
            ])
          ])
        ],
        2112
        /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
      )) : (vue.openBlock(), vue.createElementBlock(
        vue.Fragment,
        { key: 3 },
        [
          vue.createCommentVNode(" ä¸»è¦å†…å®¹åŒºåŸŸ "),
          vue.createElementVNode("view", { class: "main-content" }, [
            vue.createElementVNode(
              "view",
              { class: "product-title" },
              vue.toDisplayString($data.aiName),
              1
              /* TEXT */
            ),
            vue.createCommentVNode(" äº§å“ä¿¡æ¯å’Œæ“ä½œæŒ‰é’®åŒºåŸŸ "),
            vue.createElementVNode("view", { class: "product-info-section" }, [
              vue.createElementVNode("view", { class: "product-content" }, [
                vue.createElementVNode(
                  "view",
                  { class: "product-description" },
                  " äº§å“æè¿°: " + vue.toDisplayString($options.getAIDescription()),
                  1
                  /* TEXT */
                ),
                vue.createCommentVNode(" å›¾ç‰‡ç½‘æ ¼ "),
                vue.createElementVNode("view", { class: "image-grid" }, [
                  vue.createElementVNode("view", { class: "image-item" }, [
                    vue.createElementVNode("view", { class: "cat-image cat-1" })
                  ]),
                  vue.createElementVNode("view", { class: "image-item" }, [
                    vue.createElementVNode("view", { class: "cat-image cat-2" })
                  ]),
                  vue.createElementVNode("view", { class: "image-item" }, [
                    vue.createElementVNode("view", { class: "cat-image cat-3" })
                  ]),
                  vue.createElementVNode("view", { class: "image-item" }, [
                    vue.createElementVNode("view", { class: "cat-image cat-4" })
                  ])
                ])
              ]),
              vue.createCommentVNode(" å³ä¾§æ“ä½œæŒ‰é’® "),
              vue.createElementVNode("view", { class: "right-action-buttons" }, [
                vue.createCommentVNode(" å·²è´­ä¹°çŠ¶æ€ "),
                $data.hasPurchased ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "action-item purchased-item"
                }, [
                  vue.createElementVNode("view", { class: "action-icon purchased-icon" }, [
                    vue.createElementVNode("text", { class: "icon-text" }, "âœ…")
                  ]),
                  vue.createElementVNode("text", { class: "action-text" }, "å·²è´­ä¹°"),
                  vue.createElementVNode("text", { class: "purchase-time-text" }, "è´­ä¹°åå¯æ°¸ä¹…ä½¿ç”¨")
                ])) : (vue.openBlock(), vue.createElementBlock(
                  vue.Fragment,
                  { key: 1 },
                  [
                    vue.createCommentVNode(" æœªè´­ä¹°çŠ¶æ€ "),
                    vue.createElementVNode("view", {
                      class: "action-item",
                      onClick: _cache[1] || (_cache[1] = (...args) => $options.buyAI && $options.buyAI(...args))
                    }, [
                      vue.createElementVNode("view", { class: "action-icon buy-icon" }, [
                        vue.createElementVNode("text", { class: "icon-text" }, "ğŸ›’")
                      ]),
                      vue.createElementVNode("text", { class: "action-text" }, "ç«‹åˆ»è´­ä¹°"),
                      $data.userGold !== null ? (vue.openBlock(), vue.createElementBlock(
                        "text",
                        {
                          key: 0,
                          class: "balance-text"
                        },
                        "æˆ‘çš„ä½™é¢:" + vue.toDisplayString($options.formatGoldBalance($data.userGold)) + "C",
                        1
                        /* TEXT */
                      )) : (vue.openBlock(), vue.createElementBlock("text", {
                        key: 1,
                        class: "balance-text balance-error"
                      }, "è·å–ä½™é¢å¤±è´¥"))
                    ])
                  ],
                  2112
                  /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
                )),
                vue.createElementVNode("view", {
                  class: "action-item",
                  onClick: _cache[2] || (_cache[2] = (...args) => $options.tryAI && $options.tryAI(...args))
                }, [
                  vue.createElementVNode("view", { class: "action-icon try-icon" }, [
                    vue.createElementVNode("text", { class: "icon-text" }, "â°")
                  ]),
                  vue.createElementVNode("text", { class: "action-text" }, "è¯•ç”¨æ¨¡å‹")
                ])
              ])
            ]),
            vue.createCommentVNode(" ç”¨æˆ·è¯„ä»·åŒºåŸŸ "),
            vue.createElementVNode("view", { class: "reviews-section" }, [
              vue.createCommentVNode(" è´­ä¹°çŠ¶æ€æç¤º "),
              !$data.hasPurchased ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "purchase-status-hint"
              }, [
                vue.createElementVNode("text", { class: "hint-icon" }, "ğŸ’¡"),
                vue.createElementVNode("text", { class: "hint-text" }, "è´­ä¹°æ­¤AIæ¨¡å‹åå³å¯å‘è¡¨è¯„ä»·å’Œå›å¤")
              ])) : vue.createCommentVNode("v-if", true),
              vue.createElementVNode("view", { class: "reviews-header" }, [
                vue.createElementVNode("view", { class: "reviews-left" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "reviews-title" },
                    "ç”¨æˆ·è¯„ä»· (" + vue.toDisplayString($options.getTotalReviewsCount()) + ")",
                    1
                    /* TEXT */
                  )
                ]),
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["review-button", { "disabled": !$data.hasPurchased }]),
                    onClick: _cache[3] || (_cache[3] = (...args) => $options.showReviewInput && $options.showReviewInput(...args))
                  },
                  [
                    vue.createElementVNode(
                      "text",
                      { class: "review-button-text" },
                      vue.toDisplayString($data.hasPurchased ? "è¯„ä»·" : "è´­ä¹°åè¯„ä»·"),
                      1
                      /* TEXT */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ]),
              vue.createCommentVNode(" è¯„è®ºåŠ è½½çŠ¶æ€ "),
              $data.reviewsLoading ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 1,
                class: "reviews-loading"
              }, [
                vue.createElementVNode("view", { class: "loading-spinner" }),
                vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½è¯„è®º...")
              ])) : $data.reviewsError ? (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                { key: 2 },
                [
                  vue.createCommentVNode(" è¯„è®ºé”™è¯¯çŠ¶æ€ "),
                  vue.createElementVNode("view", { class: "reviews-error" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "error-text" },
                      vue.toDisplayString($data.reviewsError),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("view", {
                      class: "retry-button",
                      onClick: _cache[4] || (_cache[4] = (...args) => $options.loadAiReviews && $options.loadAiReviews(...args))
                    }, [
                      vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
                    ])
                  ])
                ],
                2112
                /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
              )) : $data.aiReviews.length === 0 ? (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                { key: 3 },
                [
                  vue.createCommentVNode(" æš‚æ— è¯„è®ºçŠ¶æ€ "),
                  vue.createElementVNode("view", { class: "reviews-empty" }, [
                    vue.createElementVNode("view", { class: "empty-icon" }, "ğŸ’¬"),
                    vue.createElementVNode("text", { class: "empty-text" }, "æš‚æ— è¯„ä»·"),
                    vue.createElementVNode("text", { class: "empty-desc" }, "æˆä¸ºç¬¬ä¸€ä¸ªè¯„ä»·æ­¤AIæ¨¡å‹çš„ç”¨æˆ·å§ï¼")
                  ])
                ],
                2112
                /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
              )) : (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                { key: 4 },
                [
                  vue.createCommentVNode(" è¯„ä»·åˆ—è¡¨ "),
                  vue.createElementVNode("view", { class: "reviews-list" }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($data.aiReviews, (review, index) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "review-item",
                          key: review.id || index
                        }, [
                          vue.createElementVNode("view", { class: "review-avatar" }, [
                            vue.createElementVNode("image", {
                              class: "review-user-avatar",
                              src: review.userAvatar,
                              mode: "aspectFill"
                            }, null, 8, ["src"])
                          ]),
                          vue.createElementVNode("view", { class: "review-content" }, [
                            vue.createElementVNode("view", { class: "review-user-info" }, [
                              vue.createElementVNode(
                                "text",
                                { class: "review-username" },
                                vue.toDisplayString(review.username),
                                1
                                /* TEXT */
                              ),
                              vue.createElementVNode(
                                "text",
                                { class: "review-time" },
                                vue.toDisplayString(review.time),
                                1
                                /* TEXT */
                              )
                            ]),
                            vue.createElementVNode("view", { class: "review-rating" }, [
                              (vue.openBlock(), vue.createElementBlock(
                                vue.Fragment,
                                null,
                                vue.renderList(5, (i) => {
                                  return vue.createElementVNode(
                                    "text",
                                    {
                                      class: vue.normalizeClass(["star", { "active": i <= review.rating }]),
                                      key: i
                                    },
                                    "â­",
                                    2
                                    /* CLASS */
                                  );
                                }),
                                64
                                /* STABLE_FRAGMENT */
                              ))
                            ]),
                            vue.createElementVNode(
                              "text",
                              { class: "review-text" },
                              vue.toDisplayString(review.content),
                              1
                              /* TEXT */
                            ),
                            vue.createCommentVNode(" ç§»é™¤ç‚¹èµå’Œå›å¤åŠŸèƒ½ ")
                          ])
                        ]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ])
                ],
                2112
                /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
              ))
            ])
          ])
        ],
        2112
        /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
      )),
      vue.createCommentVNode(" è¯„ä»·è¾“å…¥å¼¹çª— "),
      $data.showReviewModal ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 4,
        class: "review-modal",
        onClick: _cache[10] || (_cache[10] = (...args) => $options.hideReviewModal && $options.hideReviewModal(...args))
      }, [
        vue.createElementVNode("view", {
          class: "review-modal-content",
          onClick: _cache[9] || (_cache[9] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", { class: "review-modal-header" }, [
            vue.createElementVNode("text", { class: "review-modal-title" }, "å†™è¯„ä»·"),
            vue.createElementVNode("view", {
              class: "close-button",
              onClick: _cache[5] || (_cache[5] = (...args) => $options.hideReviewModal && $options.hideReviewModal(...args))
            }, [
              vue.createElementVNode("text", { class: "close-icon" }, "Ã—")
            ])
          ]),
          vue.createElementVNode("view", { class: "review-rating-input" }, [
            vue.createElementVNode("text", { class: "rating-label" }, "è¯„åˆ†:"),
            vue.createElementVNode("view", { class: "stars-input" }, [
              (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList(5, (i) => {
                  return vue.createElementVNode("text", {
                    class: vue.normalizeClass(["star-input", { "active": i <= $data.reviewRating }]),
                    key: i,
                    onClick: ($event) => $options.setRating(i)
                  }, "â­", 10, ["onClick"]);
                }),
                64
                /* STABLE_FRAGMENT */
              ))
            ])
          ]),
          vue.withDirectives(vue.createElementVNode(
            "textarea",
            {
              class: "review-text-input",
              "onUpdate:modelValue": _cache[6] || (_cache[6] = ($event) => $data.reviewText = $event),
              placeholder: "è¯·è¾“å…¥æ‚¨çš„è¯„ä»·å†…å®¹...",
              maxlength: "500"
            },
            null,
            512
            /* NEED_PATCH */
          ), [
            [vue.vModelText, $data.reviewText]
          ]),
          vue.createElementVNode("view", { class: "review-modal-actions" }, [
            vue.createElementVNode("view", {
              class: "cancel-button",
              onClick: _cache[7] || (_cache[7] = (...args) => $options.hideReviewModal && $options.hideReviewModal(...args))
            }, [
              vue.createElementVNode("text", { class: "cancel-text" }, "å–æ¶ˆ")
            ]),
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["submit-button", { "active": $options.canSubmitReview }]),
                onClick: _cache[8] || (_cache[8] = (...args) => $options.submitReview && $options.submitReview(...args))
              },
              [
                vue.createElementVNode("text", { class: "submit-text" }, "æäº¤è¯„ä»·")
              ],
              2
              /* CLASS */
            )
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" ç§»é™¤å›å¤å¼¹çª— ")
    ]);
  }
  const PagesAiPetAiDetail = /* @__PURE__ */ _export_sfc(_sfc_main$11, [["render", _sfc_render$10], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/ai/pet-ai-detail.vue"]]);
  const _imports_0 = "/static/logo.png";
  const _sfc_main$10 = {
    name: "AiChat",
    data() {
      return {
        showActionSheet: false,
        scrollTop: 0,
        inputMessage: "",
        inputFocus: false,
        isVoiceMode: false,
        // è¯­éŸ³æ¨¡å¼æ ‡è¯†
        showEmojiPanel: false,
        // è¡¨æƒ…é¢æ¿æ˜¾ç¤ºæ ‡è¯†
        showPlusPanel: false,
        // åŠ å·é¢æ¿æ˜¾ç¤ºæ ‡è¯†
        currentAiModel: {},
        // å½“å‰AIæ¨¡å‹ä¿¡æ¯
        loading: false,
        // åŠ è½½çŠ¶æ€
        chatLoading: false,
        // èŠå¤©è®°å½•åŠ è½½çŠ¶æ€
        messages: [],
        // èŠå¤©æ¶ˆæ¯åˆ—è¡¨
        modelId: null
        // AIæ¨¡å‹ID
      };
    },
    onLoad(options) {
      formatAppLog("log", "at pages/ai/ai-chat.vue:233", "ai-chaté¡µé¢åŠ è½½ï¼Œæ¥æ”¶åˆ°çš„å‚æ•°:", options);
      if (!options.modelId) {
        formatAppLog("log", "at pages/ai/ai-chat.vue:237", "æ²¡æœ‰modelIdå‚æ•°ï¼Œæ˜¾ç¤ºé”™è¯¯");
        this.showModelNotFoundError();
        return;
      }
      this.modelId = options.modelId;
      formatAppLog("log", "at pages/ai/ai-chat.vue:244", "ä¿å­˜çš„modelId:", this.modelId);
      const userId = uni.getStorageSync("userId");
      formatAppLog("log", "at pages/ai/ai-chat.vue:248", "è·å–åˆ°çš„userId:", userId);
      if (!userId) {
        formatAppLog("log", "at pages/ai/ai-chat.vue:250", "æ²¡æœ‰userIdï¼Œæ˜¾ç¤ºç™»å½•é”™è¯¯");
        this.showUserNotLoginError();
        return;
      }
      formatAppLog("log", "at pages/ai/ai-chat.vue:256", "å¼€å§‹åŠ è½½AIæ¨¡å‹æ•°æ®å’ŒèŠå¤©è®°å½•");
      this.loadAiModelData(options.modelId, userId);
      this.loadChatMessages(userId, options.modelId);
      this.$nextTick(() => {
        this.scrollToBottom();
      });
    },
    methods: {
      // åŠ è½½AIæ¨¡å‹æ•°æ®
      async loadAiModelData(modelId, userId) {
        try {
          this.loading = true;
          const userModelResponse = await this.getUserAiModelByUserId(userId);
          if (userModelResponse && userModelResponse.data) {
            const userModels = userModelResponse.data;
            const targetModel = userModels.find(
              (model) => model.userAiId == modelId || model.parentModelId == modelId
            );
            if (targetModel) {
              this.currentAiModel = targetModel;
              return;
            }
          }
          const baseModelResponse = await this.getAimodelBaseInfoById(modelId);
          if (baseModelResponse && baseModelResponse.data) {
            this.currentAiModel = baseModelResponse.data;
            return;
          }
          this.showModelNotFoundError();
        } catch (error) {
          formatAppLog("error", "at pages/ai/ai-chat.vue:296", "åŠ è½½AIæ¨¡å‹æ•°æ®å¤±è´¥:", error);
          this.showNetworkError();
        } finally {
          this.loading = false;
        }
      },
      // è·å–ç”¨æˆ·AIæ¨¡å‹æ•°æ®ï¼ˆé€šè¿‡userIdï¼‰
      getUserAiModelByUserId(userId) {
        return new Promise((resolve, reject) => {
          uni.request({
            url: "http://localhost:8888/api/user-ai-model/user/" + userId,
            method: "GET",
            timeout: 1e4,
            // 10ç§’è¶…æ—¶
            success: (res) => {
              resolve(res);
            },
            fail: (err) => {
              reject(err);
            }
          });
        });
      },
      // è·å–ç”¨æˆ·AIæ¨¡å‹æ•°æ®ï¼ˆé€šè¿‡userAiIdï¼‰
      getUserAiModelById(modelId) {
        return new Promise((resolve, reject) => {
          uni.request({
            url: "http://localhost:8888/api/user-ai-model/" + modelId,
            method: "GET",
            timeout: 1e4,
            // 10ç§’è¶…æ—¶
            success: (res) => {
              resolve(res);
            },
            fail: (err) => {
              reject(err);
            }
          });
        });
      },
      // è·å–AIæ¨¡å‹åŸºç¡€ä¿¡æ¯
      getAimodelBaseInfoById(modelId) {
        return new Promise((resolve, reject) => {
          uni.request({
            url: "http://localhost:8888/api/entity/aimodel-base-info/" + modelId,
            method: "GET",
            timeout: 1e4,
            // 10ç§’è¶…æ—¶
            success: (res) => {
              resolve(res);
            },
            fail: (err) => {
              reject(err);
            }
          });
        });
      },
      // åŠ è½½èŠå¤©è®°å½•
      async loadChatMessages(userId, userAiId) {
        try {
          this.chatLoading = true;
          formatAppLog("log", "at pages/ai/ai-chat.vue:358", "å¼€å§‹åŠ è½½èŠå¤©è®°å½•ï¼ŒuserId:", userId, "userAiId:", userAiId);
          const response = await this.getChatMessages(userId, userAiId);
          formatAppLog("log", "at pages/ai/ai-chat.vue:361", "è·å–èŠå¤©è®°å½•å“åº”:", response);
          if (response.data && response.data.length > 0) {
            formatAppLog("log", "at pages/ai/ai-chat.vue:364", "æ‰¾åˆ°èŠå¤©è®°å½•ï¼Œæ•°é‡:", response.data.length);
            formatAppLog("log", "at pages/ai/ai-chat.vue:365", "åŸå§‹èŠå¤©æ•°æ®:", response.data);
            this.messages = this.convertChatDataToMessages(response.data);
            formatAppLog("log", "at pages/ai/ai-chat.vue:368", "è½¬æ¢åçš„æ¶ˆæ¯:", this.messages);
          } else {
            formatAppLog("log", "at pages/ai/ai-chat.vue:370", "æ²¡æœ‰æ‰¾åˆ°èŠå¤©è®°å½•ï¼Œæ˜¾ç¤ºé»˜è®¤æ¬¢è¿æ¶ˆæ¯");
            this.messages = [{
              id: 1,
              type: "left",
              text: "ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„ AI åŠ©æ‰‹ï¼Œæœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ",
              time: this.getCurrentTime()
            }];
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/ai-chat.vue:380", "åŠ è½½èŠå¤©è®°å½•å¤±è´¥:", error);
          this.messages = [{
            id: 1,
            type: "left",
            text: "ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„ AI åŠ©æ‰‹ï¼Œæœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ",
            time: this.getCurrentTime()
          }];
        } finally {
          this.chatLoading = false;
        }
      },
      // è·å–èŠå¤©è®°å½•
      getChatMessages(userId, userAiId) {
        return new Promise((resolve, reject) => {
          uni.request({
            url: `http://localhost:8888/api/a-entities-wlq/ai-chat-list-detail-r/user/${userId}/ai/${userAiId}`,
            method: "GET",
            timeout: 1e4,
            success: (res) => {
              resolve(res);
            },
            fail: (err) => {
              reject(err);
            }
          });
        });
      },
      // å°†åç«¯èŠå¤©æ•°æ®è½¬æ¢ä¸ºå‰ç«¯æ¶ˆæ¯æ ¼å¼
      convertChatDataToMessages(chatData) {
        const messages = [];
        let messageId = 1;
        chatData.sort((a, b) => {
          if (a.messageTimestamp && b.messageTimestamp) {
            return new Date(a.messageTimestamp) - new Date(b.messageTimestamp);
          }
          return 0;
        });
        chatData.forEach((chat) => {
          if (chat.userMessage) {
            messages.push({
              id: messageId++,
              type: "right",
              text: chat.userMessage,
              time: this.formatTimestamp(chat.messageTimestamp)
            });
          }
          if (chat.aiResponse) {
            messages.push({
              id: messageId++,
              type: "left",
              text: chat.aiResponse,
              time: this.formatTimestamp(chat.messageTimestamp)
            });
          }
        });
        return messages;
      },
      // æ ¼å¼åŒ–æ—¶é—´æˆ³
      formatTimestamp(timestamp) {
        if (!timestamp)
          return this.getCurrentTime();
        const date = new Date(timestamp);
        const now = /* @__PURE__ */ new Date();
        const diff = now - date;
        if (diff < 24 * 60 * 60 * 1e3 && date.getDate() === now.getDate()) {
          const hours = date.getHours();
          const minutes = date.getMinutes();
          const timeStr = hours < 12 ? "ä¸Šåˆ" : "ä¸‹åˆ";
          const displayHours = hours < 12 ? hours : hours - 12;
          return `${timeStr}${displayHours}:${minutes.toString().padStart(2, "0")}`;
        }
        if (diff < 48 * 60 * 60 * 1e3 && date.getDate() === now.getDate() - 1) {
          return "æ˜¨å¤© " + this.formatTime(date);
        }
        return `${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥ ${this.formatTime(date)}`;
      },
      // æ ¼å¼åŒ–æ—¶é—´
      formatTime(date) {
        const hours = date.getHours();
        const minutes = date.getMinutes();
        const timeStr = hours < 12 ? "ä¸Šåˆ" : "ä¸‹åˆ";
        const displayHours = hours < 12 ? hours : hours - 12;
        return `${timeStr}${displayHours}:${minutes.toString().padStart(2, "0")}`;
      },
      // æ˜¾ç¤ºæ¨¡å‹ä¸å­˜åœ¨é”™è¯¯
      showModelNotFoundError() {
        this.currentAiModel = {
          modelId: null,
          modelName: "æ¨¡å‹ä¸å­˜åœ¨",
          modelDesc: "æŠ±æ­‰ï¼Œæ‚¨è¦è®¿é—®çš„AIæ¨¡å‹ä¸å­˜åœ¨æˆ–å·²è¢«åˆ é™¤",
          modelImageUrl: null
        };
        uni.showToast({
          title: "AIæ¨¡å‹ä¸å­˜åœ¨",
          icon: "none",
          duration: 3e3
        });
      },
      // æ˜¾ç¤ºç½‘ç»œé”™è¯¯
      showNetworkError() {
        this.currentAiModel = {
          modelId: null,
          modelName: "ç½‘ç»œè¿æ¥å¤±è´¥",
          modelDesc: "ç½‘ç»œè¿æ¥è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®åé‡è¯•",
          modelImageUrl: null
        };
        uni.showToast({
          title: "ç½‘ç»œè¿æ¥è¶…æ—¶",
          icon: "none",
          duration: 3e3
        });
      },
      // æ˜¾ç¤ºç”¨æˆ·æœªç™»å½•é”™è¯¯
      showUserNotLoginError() {
        this.currentAiModel = {
          modelId: null,
          modelName: "è¯·å…ˆç™»å½•",
          modelDesc: "æ‚¨éœ€è¦å…ˆç™»å½•æ‰èƒ½ä½¿ç”¨AIèŠå¤©åŠŸèƒ½",
          modelImageUrl: null
        };
        uni.showToast({
          title: "è¯·å…ˆç™»å½•",
          icon: "none",
          duration: 3e3
        });
        setTimeout(() => {
          uni.navigateTo({
            url: "/pages/login/login-replica"
          });
        }, 2e3);
      },
      goBack() {
        try {
          uni.navigateBack({
            fail: () => {
              uni.navigateTo({
                url: "/pages/ai/ai-list"
              });
            }
          });
        } catch (error) {
          uni.navigateTo({
            url: "/pages/ai/ai-list"
          });
        }
      },
      showMoreOptions() {
        this.showActionSheet = true;
      },
      hideActionSheet() {
        this.showActionSheet = false;
      },
      // è·³è½¬åˆ°æˆ‘è´­ä¹°çš„AIæ¨¡å‹é¡µé¢
      goToMyAIModels() {
        this.hideActionSheet();
        uni.navigateTo({
          url: "/pages/ai/ai-list"
        });
      },
      // è·³è½¬åˆ°AIè¯¦æƒ…ä¿¡æ¯é¡µé¢
      goToAIDetails() {
        this.hideActionSheet();
        const aiName = this.currentAiModel.modelName || this.modelId || "AIåŠ©æ‰‹";
        uni.navigateTo({
          url: `/pages/ai/gift?userAiId=${this.modelId}&aiName=${encodeURIComponent(aiName)}`
        });
      },
      // è·³è½¬åˆ°AIæ¨¡å‹å•†åŸé¡µé¢
      goToAIStore() {
        this.hideActionSheet();
        uni.navigateTo({
          url: "/pages/ai/ai-store"
        });
      },
      toggleVoiceInput() {
        this.isVoiceMode = !this.isVoiceMode;
        if (this.isVoiceMode) {
          this.showEmojiPanel = false;
          this.showPlusPanel = false;
        }
      },
      toggleEmoji() {
        this.showEmojiPanel = !this.showEmojiPanel;
        this.showPlusPanel = false;
      },
      togglePlusMenu() {
        this.showPlusPanel = !this.showPlusPanel;
        this.showEmojiPanel = false;
      },
      hideEmojiPanel() {
        this.showEmojiPanel = false;
      },
      hidePlusPanel() {
        this.showPlusPanel = false;
      },
      startVoiceRecord() {
        uni.showToast({
          title: "å¼€å§‹å½•éŸ³",
          icon: "none"
        });
      },
      endVoiceRecord() {
        uni.showToast({
          title: "å½•éŸ³å®Œæˆ",
          icon: "none"
        });
      },
      selectImage() {
        this.hidePlusPanel();
        uni.showToast({
          title: "å›¾ç‰‡é€‰æ‹©åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      openCamera() {
        this.hidePlusPanel();
        uni.showToast({
          title: "ç›¸æœºåŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      makeCall() {
        this.hidePlusPanel();
        uni.showToast({
          title: "é€šè¯åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      shareLocation() {
        this.hidePlusPanel();
        uni.showToast({
          title: "ä½ç½®åˆ†äº«åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      onInputFocus() {
        this.inputFocus = true;
      },
      onInputBlur() {
        this.inputFocus = false;
      },
      async sendMessage() {
        if (!this.inputMessage.trim()) {
          return;
        }
        const userMessage = this.inputMessage.trim();
        const userId = uni.getStorageSync("userId");
        if (!userId) {
          uni.showToast({
            title: "è¯·å…ˆç™»å½•",
            icon: "none"
          });
          return;
        }
        const userMsg = {
          id: Date.now(),
          type: "right",
          text: userMessage,
          time: this.getCurrentTime()
        };
        this.messages.push(userMsg);
        this.inputMessage = "";
        this.$nextTick(() => {
          this.scrollToBottom();
        });
        try {
          const aiResponse = this.generateAIResponse(userMessage);
          const aiMsg = {
            id: Date.now() + 1,
            type: "left",
            text: aiResponse,
            time: this.getCurrentTime()
          };
          this.messages.push(aiMsg);
          await this.saveChatMessage(userId, this.modelId, userMessage, aiResponse, "ai_chat");
          this.$nextTick(() => {
            this.scrollToBottom();
          });
        } catch (error) {
          formatAppLog("error", "at pages/ai/ai-chat.vue:733", "å‘é€æ¶ˆæ¯å¤±è´¥:", error);
          uni.showToast({
            title: "å‘é€å¤±è´¥ï¼Œè¯·é‡è¯•",
            icon: "none"
          });
        }
      },
      generateAIResponse(userMessage) {
        const responses = [
          "æˆ‘ç†è§£ä½ çš„é—®é¢˜ï¼Œè®©æˆ‘æ¥å¸®ä½ è§£ç­”ã€‚",
          "è¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰è¶£çš„é—®é¢˜ï¼",
          "æ ¹æ®æˆ‘çš„åˆ†æï¼Œæˆ‘è®¤ä¸º...",
          "è®©æˆ‘ä¸ºä½ æä¾›ä¸€äº›å»ºè®®ã€‚",
          "è¿™ä¸ªé—®é¢˜éœ€è¦ä»”ç»†è€ƒè™‘ï¼Œæˆ‘çš„å»ºè®®æ˜¯...",
          "è°¢è°¢ä½ çš„æé—®ï¼Œè®©æˆ‘æƒ³æƒ³...",
          "è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§‚ç‚¹ï¼",
          "æˆ‘å»ºè®®ä½ å¯ä»¥å°è¯•..."
        ];
        return responses[Math.floor(Math.random() * responses.length)];
      },
      getCurrentTime() {
        const now = /* @__PURE__ */ new Date();
        const hours = now.getHours();
        const minutes = now.getMinutes();
        const timeStr = hours < 12 ? "ä¸Šåˆ" : "ä¸‹åˆ";
        const displayHours = hours < 12 ? hours : hours - 12;
        return `${timeStr}${displayHours}:${minutes.toString().padStart(2, "0")}`;
      },
      scrollToBottom() {
        this.scrollTop = 999999;
      },
      // è·å–å¤´åƒæ˜¾ç¤ºæ–‡å­—
      getAvatarText() {
        if (!this.currentAiModel.modelName) {
          return "?";
        }
        return this.currentAiModel.modelName.charAt(0);
      },
      // ä¿å­˜èŠå¤©æ¶ˆæ¯åˆ°æ•°æ®åº“
      async saveChatMessage(userId, userAiId, userMessage, aiResponse, chatType) {
        return new Promise((resolve, reject) => {
          const chatData = {
            userId: parseInt(userId),
            userAiId: userAiId ? parseInt(userAiId) : null,
            userMessage,
            aiResponse,
            chatType,
            messageTimestamp: (/* @__PURE__ */ new Date()).toISOString(),
            createdAt: (/* @__PURE__ */ new Date()).toISOString(),
            updatedAt: (/* @__PURE__ */ new Date()).toISOString()
          };
          formatAppLog("log", "at pages/ai/ai-chat.vue:793", "å‘é€èŠå¤©æ•°æ®:", chatData);
          uni.request({
            url: "http://localhost:8888/api/a-entities-wlq/ai-chat-list-detail-r/save",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            },
            data: chatData,
            timeout: 1e4,
            success: (res) => {
              formatAppLog("log", "at pages/ai/ai-chat.vue:804", "èŠå¤©æ¶ˆæ¯ä¿å­˜æˆåŠŸ:", res);
              resolve(res);
            },
            fail: (err) => {
              formatAppLog("error", "at pages/ai/ai-chat.vue:808", "èŠå¤©æ¶ˆæ¯ä¿å­˜å¤±è´¥:", err);
              reject(err);
            }
          });
        });
      }
    }
  };
  function _sfc_render$$(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "chat-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¤´éƒ¨æ  "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", {
          class: "back-btn",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
        }, [
          (vue.openBlock(), vue.createElementBlock("svg", {
            class: "back-icon",
            viewBox: "0 0 1024 1024",
            version: "1.1",
            xmlns: "http://www.w3.org/2000/svg",
            width: "32",
            height: "32"
          }, [
            vue.createElementVNode("path", {
              d: "M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",
              fill: "#666666",
              "p-id": "727"
            })
          ]))
        ]),
        vue.createElementVNode(
          "text",
          { class: "title" },
          vue.toDisplayString($data.currentAiModel.modelName || "AI åŠ©æ‰‹"),
          1
          /* TEXT */
        ),
        vue.createElementVNode("view", {
          class: "more-btn",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.showMoreOptions && $options.showMoreOptions(...args))
        }, [
          vue.createElementVNode("view", { class: "dot" }),
          vue.createElementVNode("view", { class: "dot" }),
          vue.createElementVNode("view", { class: "dot" })
        ])
      ]),
      vue.createCommentVNode(" èŠå¤©å¯¹è¯åŒºåŸŸ "),
      vue.createElementVNode("scroll-view", {
        class: "chat-area",
        "scroll-y": "true",
        "scroll-top": $data.scrollTop
      }, [
        vue.createCommentVNode(" AIæ¨¡å‹åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-container"
        }, [
          vue.createElementVNode("view", { class: "loading-spinner" }),
          vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½AIæ¨¡å‹...")
        ])) : $data.chatLoading ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 1 },
          [
            vue.createCommentVNode(" èŠå¤©è®°å½•åŠ è½½çŠ¶æ€ "),
            vue.createElementVNode("view", { class: "loading-container" }, [
              vue.createElementVNode("view", { class: "loading-spinner" }),
              vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½èŠå¤©è®°å½•...")
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )) : $data.messages.length > 0 ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 2 },
          [
            vue.createCommentVNode(" èŠå¤©æ¶ˆæ¯åˆ—è¡¨ "),
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.messages, (message) => {
                return vue.openBlock(), vue.createElementBlock(
                  "view",
                  {
                    key: message.id,
                    class: vue.normalizeClass(["message", message.type])
                  },
                  [
                    message.type === "left" && $data.currentAiModel.modelImageUrl ? (vue.openBlock(), vue.createElementBlock("image", {
                      key: 0,
                      class: "avatar",
                      src: $data.currentAiModel.modelImageUrl,
                      mode: "aspectFill"
                    }, null, 8, ["src"])) : message.type === "left" ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 1,
                      class: "avatar avatar-placeholder"
                    }, [
                      vue.createElementVNode(
                        "text",
                        { class: "avatar-text" },
                        vue.toDisplayString($options.getAvatarText()),
                        1
                        /* TEXT */
                      )
                    ])) : vue.createCommentVNode("v-if", true),
                    vue.createElementVNode("view", { class: "message-bubble" }, [
                      vue.createElementVNode(
                        "text",
                        { class: "message-text" },
                        vue.toDisplayString(message.text),
                        1
                        /* TEXT */
                      ),
                      message.time ? (vue.openBlock(), vue.createElementBlock(
                        "text",
                        {
                          key: 0,
                          class: "message-time"
                        },
                        vue.toDisplayString(message.time),
                        1
                        /* TEXT */
                      )) : vue.createCommentVNode("v-if", true)
                    ]),
                    message.type === "right" ? (vue.openBlock(), vue.createElementBlock("image", {
                      key: 2,
                      class: "avatar",
                      src: _imports_0,
                      mode: "aspectFill"
                    })) : vue.createCommentVNode("v-if", true)
                  ],
                  2
                  /* CLASS */
                );
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ],
          64
          /* STABLE_FRAGMENT */
        )) : (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 3 },
          [
            vue.createCommentVNode(" æ— æ¶ˆæ¯æ—¶æ˜¾ç¤ºæç¤º "),
            vue.createElementVNode("view", { class: "no-messages" }, [
              vue.createElementVNode("text", { class: "no-messages-text" }, "æš‚æ— èŠå¤©è®°å½•")
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        ))
      ], 8, ["scroll-top"]),
      vue.createCommentVNode(" æ¶ˆæ¯è¾“å…¥æ  "),
      vue.createElementVNode("view", { class: "input-bar" }, [
        vue.createElementVNode("view", {
          class: "mic-btn",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.toggleVoiceInput && $options.toggleVoiceInput(...args))
        }, [
          vue.createCommentVNode(" è¯­éŸ³æŒ‰é’® "),
          !$data.isVoiceMode ? (vue.openBlock(), vue.createElementBlock("svg", {
            key: 0,
            class: "mic-icon",
            viewBox: "0 0 1024 1024",
            version: "1.1",
            xmlns: "http://www.w3.org/2000/svg",
            width: "32",
            height: "32"
          }, [
            vue.createElementVNode("path", {
              d: "M593.024 234.496l-46.165333 46.229333c0.106667 0.085333 0.149333 0.149333 0.277333 0.234667 127.552 127.658667 127.552 334.677333 0 462.336l46.122667 46.250667c153.045333-153.194667 153.045333-401.621333 0-554.816C593.173333 234.666667 593.130667 234.56 593.024 234.496z",
              "p-id": "3544"
            }),
            vue.createElementVNode("path", {
              d: "M500.885333 327.189333c-0.042667-0.085333-0.128-0.149333-0.234667-0.213333l-46.165333 46.229333c0.042667 0.085333 0.128 0.149333 0.234667 0.256 76.48 76.565333 76.48 200.789333 0 277.397333l46.144 46.229333C603.008 595.008 603.008 429.333333 500.885333 327.189333z",
              "p-id": "3545"
            }),
            vue.createElementVNode("path", {
              d: "M408.32 419.434667l-92.394667 92.458667 92.629333 92.714667c51.008-51.114667 51.008-133.888 0-184.938667C408.469333 419.584 408.362667 419.52 408.32 419.434667z",
              "p-id": "3546"
            }),
            vue.createElementVNode("path", {
              d: "M512 0C229.696 0 0 229.696 0 512c0 282.282667 229.696 512 512 512 282.282667 0 512-229.717333 512-512C1024 229.696 794.282667 0 512 0zM512 981.290667C253.226667 981.290667 42.688 770.773333 42.688 512S253.226667 42.688 512 42.688 981.290667 253.226667 981.290667 512 770.773333 981.290667 512 981.290667z",
              "p-id": "3547"
            })
          ])) : (vue.openBlock(), vue.createElementBlock(
            vue.Fragment,
            { key: 1 },
            [
              vue.createCommentVNode(" é”®ç›˜æŒ‰é’® "),
              (vue.openBlock(), vue.createElementBlock("svg", {
                class: "keyboard-icon",
                viewBox: "0 0 1024 1024",
                version: "1.1",
                xmlns: "http://www.w3.org/2000/svg",
                width: "32",
                height: "32"
              }, [
                vue.createElementVNode("path", {
                  d: "M512 64A448 448 0 1 0 960 512 448.5 448.5 0 0 0 512 64z m0 832a384 384 0 1 1 384-384 384.5 384.5 0 0 1-384 384z",
                  fill: "#333333",
                  "p-id": "2120"
                }),
                vue.createElementVNode("path", {
                  d: "M320 400m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z",
                  fill: "#333333",
                  "p-id": "2121"
                }),
                vue.createElementVNode("path", {
                  d: "M448 448A48 48 0 1 0 400 400a48 48 0 0 0 48 48zM576 352a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM704 352a48 48 0 1 0 48 48 48 48 0 0 0-48-48z",
                  fill: "#333333",
                  "p-id": "2122"
                }),
                vue.createElementVNode("path", {
                  d: "M320 528m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z",
                  fill: "#333333",
                  "p-id": "2123"
                }),
                vue.createElementVNode("path", {
                  d: "M448 576a48 48 0 1 0-48-48 48 48 0 0 0 48 48zM576 640H448a48 48 0 0 0 0 96h128a48 48 0 1 0 0-96zM576 480a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM704 480a48 48 0 1 0 48 48 48 48 0 0 0-48-48z",
                  fill: "#333333",
                  "p-id": "2124"
                })
              ]))
            ],
            2112
            /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
          ))
        ]),
        vue.createCommentVNode(" è¾“å…¥æ¡†åŒºåŸŸ "),
        !$data.isVoiceMode ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "input-field"
        }, [
          vue.withDirectives(vue.createElementVNode("input", {
            class: "message-input",
            "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $data.inputMessage = $event),
            placeholder: "è¾“å…¥æ¶ˆæ¯...",
            focus: $data.inputFocus,
            onFocus: _cache[4] || (_cache[4] = (...args) => $options.onInputFocus && $options.onInputFocus(...args)),
            onBlur: _cache[5] || (_cache[5] = (...args) => $options.onInputBlur && $options.onInputBlur(...args)),
            onConfirm: _cache[6] || (_cache[6] = (...args) => $options.sendMessage && $options.sendMessage(...args))
          }, null, 40, ["focus"]), [
            [vue.vModelText, $data.inputMessage]
          ])
        ])) : (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 1 },
          [
            vue.createCommentVNode(" è¯­éŸ³æŒ‰é’®åŒºåŸŸ "),
            vue.createElementVNode(
              "view",
              {
                class: "voice-field",
                onTouchstart: _cache[7] || (_cache[7] = (...args) => $options.startVoiceRecord && $options.startVoiceRecord(...args)),
                onTouchend: _cache[8] || (_cache[8] = (...args) => $options.endVoiceRecord && $options.endVoiceRecord(...args))
              },
              [
                vue.createElementVNode("text", { class: "voice-text" }, "æŒ‰ä½è¯´è¯")
              ],
              32
              /* NEED_HYDRATION */
            )
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )),
        vue.createElementVNode("view", { class: "action-btns" }, [
          vue.createElementVNode("view", {
            class: "emoji-btn",
            onClick: _cache[9] || (_cache[9] = (...args) => $options.toggleEmoji && $options.toggleEmoji(...args))
          }, [
            (vue.openBlock(), vue.createElementBlock("svg", {
              class: "emoji-icon",
              viewBox: "0 0 1024 1024",
              version: "1.1",
              xmlns: "http://www.w3.org/2000/svg",
              width: "32",
              height: "32"
            }, [
              vue.createElementVNode("path", {
                d: "M512 160C317.5936 160 160 317.5936 160 512S317.5936 864 512 864 864 706.4064 864 512 706.4064 160 512 160z m0 64c159.0528 0 288 128.9472 288 288S671.0528 800 512 800 224 671.0528 224 512 352.9472 224 512 224z",
                fill: "#2c2c2c",
                "p-id": "4603"
              }),
              vue.createElementVNode("path", {
                d: "M683.3408 501.248H340.6592a25.6 25.6 0 0 0-25.6 26.112l0.1536 6.912a196.9408 196.9408 0 0 0 393.728-7.3984 25.6 25.6 0 0 0-25.6-25.6z m-27.8784 51.2l-0.3072 1.792A145.7664 145.7664 0 0 1 512 672.5888l-5.7088-0.1024a145.8176 145.8176 0 0 1-137.2928-117.4272l-0.4864-2.6112h286.9504z",
                fill: "#2c2c2c",
                "p-id": "4604"
              }),
              vue.createElementVNode("path", {
                d: "M411.1104 411.4432m-38.7584 0a38.7584 38.7584 0 1 0 77.5168 0 38.7584 38.7584 0 1 0-77.5168 0Z",
                fill: "#2c2c2c",
                "p-id": "4605"
              }),
              vue.createElementVNode("path", {
                d: "M612.8896 411.4432m-38.7584 0a38.7584 38.7584 0 1 0 77.5168 0 38.7584 38.7584 0 1 0-77.5168 0Z",
                fill: "#2c2c2c",
                "p-id": "4606"
              })
            ]))
          ]),
          vue.createElementVNode("view", {
            class: "plus-btn",
            onClick: _cache[10] || (_cache[10] = (...args) => $options.togglePlusMenu && $options.togglePlusMenu(...args))
          }, [
            (vue.openBlock(), vue.createElementBlock("svg", {
              class: "plus-icon",
              viewBox: "0 0 1024 1024",
              version: "1.1",
              xmlns: "http://www.w3.org/2000/svg",
              width: "32",
              height: "32"
            }, [
              vue.createElementVNode("path", {
                d: "M511.5 957.9C264.9 957.9 65 758.2 65 511.9s199.9-446 446.5-446S958 265.6 958 511.9c0.1 246.3-199.8 446-446.5 446zM509 149.1c-200.4 0-355.8 162.2-355.8 362.3 0 200.1 155.4 356.8 355.8 356.8s362.9-156.7 362.9-356.8c0-200.1-162.5-362.3-362.9-362.3zM690.5 556h-134v133.8c0 24.6-20 44.6-44.6 44.6h-0.1c-24.6 0-44.6-19.9-44.6-44.6V556h-134c-24.7 0-44.6-19.9-44.6-44.5v-0.1c0-24.6 20-44.6 44.6-44.6h134V333c0-24.6 20-44.6 44.6-44.6h0.1c24.7 0 44.6 19.9 44.6 44.6v133.8h134c24.7 0 44.6 19.9 44.6 44.6v0.1c0 24.6-19.9 44.5-44.6 44.5z m0 0",
                "p-id": "1640"
              })
            ]))
          ])
        ])
      ]),
      vue.createCommentVNode(" è¡¨æƒ…é¢æ¿ "),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["emoji-panel", { "active": $data.showEmojiPanel }]),
          onClick: _cache[12] || (_cache[12] = (...args) => $options.hideEmojiPanel && $options.hideEmojiPanel(...args))
        },
        [
          vue.createElementVNode("view", {
            class: "emoji-content",
            onClick: _cache[11] || (_cache[11] = vue.withModifiers(() => {
            }, ["stop"]))
          }, [
            vue.createElementVNode("view", { class: "emoji-grid" }, [
              vue.createCommentVNode(" ç¬¬ä¸€è¡Œ "),
              (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList(4, (i) => {
                  return vue.createElementVNode("view", {
                    class: "emoji-item",
                    key: `row1-${i}`
                  }, [
                    vue.createElementVNode("image", {
                      class: "emoji-image",
                      src: "",
                      mode: "aspectFill"
                    })
                  ]);
                }),
                64
                /* STABLE_FRAGMENT */
              )),
              vue.createCommentVNode(" ç¬¬äºŒè¡Œ "),
              (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList(4, (i) => {
                  return vue.createElementVNode("view", {
                    class: "emoji-item",
                    key: `row2-${i}`
                  }, [
                    vue.createElementVNode("image", {
                      class: "emoji-image",
                      src: "",
                      mode: "aspectFill"
                    })
                  ]);
                }),
                64
                /* STABLE_FRAGMENT */
              )),
              vue.createCommentVNode(" ç¬¬ä¸‰è¡Œ "),
              (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList(4, (i) => {
                  return vue.createElementVNode("view", {
                    class: "emoji-item",
                    key: `row3-${i}`
                  }, [
                    vue.createElementVNode("image", {
                      class: "emoji-image",
                      src: "",
                      mode: "aspectFill"
                    })
                  ]);
                }),
                64
                /* STABLE_FRAGMENT */
              ))
            ]),
            vue.createCommentVNode(" ç¿»é¡µæŒ‡ç¤ºå™¨ "),
            vue.createElementVNode("view", { class: "emoji-pagination" }, [
              vue.createElementVNode("view", { class: "page-dot active" }),
              vue.createElementVNode("view", { class: "page-dot" }),
              vue.createElementVNode("view", { class: "page-dot" })
            ])
          ])
        ],
        2
        /* CLASS */
      ),
      vue.createCommentVNode(" åŠ å·åŠŸèƒ½é¢æ¿ "),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["plus-panel", { "active": $data.showPlusPanel }]),
          onClick: _cache[18] || (_cache[18] = (...args) => $options.hidePlusPanel && $options.hidePlusPanel(...args))
        },
        [
          vue.createElementVNode("view", {
            class: "plus-content",
            onClick: _cache[17] || (_cache[17] = vue.withModifiers(() => {
            }, ["stop"]))
          }, [
            vue.createElementVNode("view", { class: "plus-grid" }, [
              vue.createElementVNode("view", {
                class: "plus-item",
                onClick: _cache[13] || (_cache[13] = (...args) => $options.selectImage && $options.selectImage(...args))
              }, [
                vue.createElementVNode("view", { class: "plus-icon-wrapper" }, [
                  (vue.openBlock(), vue.createElementBlock("svg", {
                    class: "plus-feature-icon",
                    viewBox: "0 0 1024 1024",
                    version: "1.1",
                    xmlns: "http://www.w3.org/2000/svg",
                    width: "48",
                    height: "48"
                  }, [
                    vue.createElementVNode("path", {
                      d: "M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zM338 304c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm513.9 436.1H172.1c-12.9 0-24.8-5.9-32.7-16.1L73.4 659.8c-7.9-10.2-7.9-23.4 0-33.6l66-84.2c7.9-10.2 19.8-16.1 32.7-16.1h679.8c12.9 0 24.8 5.9 32.7 16.1l66 84.2c7.9 10.2 7.9 23.4 0 33.6l-66 84.2c-7.9 10.2-19.8 16.1-32.7 16.1z",
                      fill: "#333333"
                    })
                  ]))
                ]),
                vue.createElementVNode("text", { class: "plus-text" }, "å›¾ç‰‡ä¸è§†é¢‘")
              ]),
              vue.createElementVNode("view", {
                class: "plus-item",
                onClick: _cache[14] || (_cache[14] = (...args) => $options.openCamera && $options.openCamera(...args))
              }, [
                vue.createElementVNode("view", { class: "plus-icon-wrapper" }, [
                  (vue.openBlock(), vue.createElementBlock("svg", {
                    class: "plus-feature-icon",
                    viewBox: "0 0 1024 1024",
                    version: "1.1",
                    xmlns: "http://www.w3.org/2000/svg",
                    width: "48",
                    height: "48"
                  }, [
                    vue.createElementVNode("path", {
                      d: "M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",
                      fill: "#333333"
                    }),
                    vue.createElementVNode("path", {
                      d: "M464 336a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z",
                      fill: "#333333"
                    })
                  ]))
                ]),
                vue.createElementVNode("text", { class: "plus-text" }, "ç›¸æœº")
              ]),
              vue.createElementVNode("view", {
                class: "plus-item",
                onClick: _cache[15] || (_cache[15] = (...args) => $options.makeCall && $options.makeCall(...args))
              }, [
                vue.createElementVNode("view", { class: "plus-icon-wrapper" }, [
                  (vue.openBlock(), vue.createElementBlock("svg", {
                    class: "plus-feature-icon",
                    viewBox: "0 0 1024 1024",
                    version: "1.1",
                    xmlns: "http://www.w3.org/2000/svg",
                    width: "48",
                    height: "48"
                  }, [
                    vue.createElementVNode("path", {
                      d: "M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",
                      fill: "#333333"
                    }),
                    vue.createElementVNode("path", {
                      d: "M512 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176z",
                      fill: "#333333"
                    })
                  ]))
                ]),
                vue.createElementVNode("text", { class: "plus-text" }, "è¯­éŸ³/è§†é¢‘é€šè¯")
              ]),
              vue.createElementVNode("view", {
                class: "plus-item",
                onClick: _cache[16] || (_cache[16] = (...args) => $options.shareLocation && $options.shareLocation(...args))
              }, [
                vue.createElementVNode("view", { class: "plus-icon-wrapper" }, [
                  (vue.openBlock(), vue.createElementBlock("svg", {
                    class: "plus-feature-icon",
                    viewBox: "0 0 1024 1024",
                    version: "1.1",
                    xmlns: "http://www.w3.org/2000/svg",
                    width: "48",
                    height: "48"
                  }, [
                    vue.createElementVNode("path", {
                      d: "M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",
                      fill: "#333333"
                    }),
                    vue.createElementVNode("path", {
                      d: "M512 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176z",
                      fill: "#333333"
                    })
                  ]))
                ]),
                vue.createElementVNode("text", { class: "plus-text" }, "å®šä½")
              ])
            ])
          ])
        ],
        2
        /* CLASS */
      ),
      vue.createCommentVNode(" åº•éƒ¨æ“ä½œèœå• "),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["action-sheet", { "active": $data.showActionSheet }]),
          onClick: _cache[24] || (_cache[24] = (...args) => $options.hideActionSheet && $options.hideActionSheet(...args))
        },
        [
          vue.createElementVNode("view", {
            class: "action-content",
            onClick: _cache[23] || (_cache[23] = vue.withModifiers(() => {
            }, ["stop"]))
          }, [
            vue.createElementVNode("view", {
              class: "action-item",
              onClick: _cache[19] || (_cache[19] = (...args) => $options.goToMyAIModels && $options.goToMyAIModels(...args))
            }, [
              vue.createElementVNode("text", { class: "action-text" }, "æˆ‘è´­ä¹°çš„AIæ¨¡å‹")
            ]),
            vue.createElementVNode("view", {
              class: "action-item",
              onClick: _cache[20] || (_cache[20] = (...args) => $options.goToAIDetails && $options.goToAIDetails(...args))
            }, [
              vue.createElementVNode("text", { class: "action-text" }, "AIè¯¦æƒ…ä¿¡æ¯")
            ]),
            vue.createElementVNode("view", {
              class: "action-item",
              onClick: _cache[21] || (_cache[21] = (...args) => $options.goToAIStore && $options.goToAIStore(...args))
            }, [
              vue.createElementVNode("text", { class: "action-text" }, "AIæ¨¡å‹å•†åŸ")
            ]),
            vue.createElementVNode("view", {
              class: "action-cancel",
              onClick: _cache[22] || (_cache[22] = (...args) => $options.hideActionSheet && $options.hideActionSheet(...args))
            }, [
              vue.createElementVNode("text", { class: "cancel-text" }, "å–æ¶ˆ")
            ])
          ])
        ],
        2
        /* CLASS */
      )
    ]);
  }
  const PagesAiAiChat = /* @__PURE__ */ _export_sfc(_sfc_main$10, [["render", _sfc_render$$], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/ai/ai-chat.vue"]]);
  const _sfc_main$$ = {
    name: "AIStore",
    data() {
      return {
        aiModels: [],
        // AIæ¨¡å‹åˆ—è¡¨
        userAiModels: [],
        // ç”¨æˆ·æ‹¥æœ‰çš„AIæ¨¡å‹
        loading: true,
        // åŠ è½½çŠ¶æ€
        errorMessage: ""
        // é”™è¯¯ä¿¡æ¯
      };
    },
    onLoad() {
      this.loadAiStoreData();
    },
    methods: {
      // åŠ è½½AIå•†åº—æ•°æ®
      async loadAiStoreData() {
        this.loading = true;
        this.errorMessage = "";
        try {
          const userId = uni.getStorageSync("userId");
          if (!userId) {
            this.errorMessage = "ç”¨æˆ·æœªç™»å½•";
            this.loading = false;
            return;
          }
          const [aiModelsResponse, userAiModelsResponse] = await Promise.all([
            this.getAiModels(),
            this.getUserAiModels(userId)
          ]);
          if (aiModelsResponse.data && aiModelsResponse.data.length > 0) {
            this.aiModels = aiModelsResponse.data;
            formatAppLog("log", "at pages/ai/ai-store.vue:181", "åŠ è½½çš„AIæ¨¡å‹æ•°æ®:", this.aiModels);
          } else {
            this.aiModels = [];
          }
          if (userAiModelsResponse.data && userAiModelsResponse.data.length > 0) {
            this.userAiModels = userAiModelsResponse.data;
            formatAppLog("log", "at pages/ai/ai-store.vue:188", "ç”¨æˆ·AIæ¨¡å‹æ•°æ®:", this.userAiModels);
          } else {
            this.userAiModels = [];
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/ai-store.vue:194", "åŠ è½½AIå•†åº—æ•°æ®å¤±è´¥:", error);
          this.errorMessage = "åŠ è½½æ•°æ®å¤±è´¥ï¼Œè¯·é‡è¯•";
        } finally {
          this.loading = false;
        }
      },
      // è·å–AIæ¨¡å‹åˆ—è¡¨
      getAiModels() {
        return new Promise((resolve, reject) => {
          uni.request({
            url: "http://localhost:8888/api/a-entities/aimodel-base-info/all",
            method: "GET",
            timeout: 1e4,
            success: (res) => {
              resolve(res);
            },
            fail: (err) => {
              reject(err);
            }
          });
        });
      },
      // è·å–ç”¨æˆ·AIæ¨¡å‹
      getUserAiModels(userId) {
        return new Promise((resolve, reject) => {
          uni.request({
            url: `http://localhost:8888/api/user-ai-model/user/${userId}`,
            method: "GET",
            timeout: 1e4,
            success: (res) => {
              resolve(res);
            },
            fail: (err) => {
              reject(err);
            }
          });
        });
      },
      // æ£€æŸ¥AIæ¨¡å‹æ˜¯å¦å·²è´­ä¹°
      isPurchased(aiModel) {
        if (!aiModel || !this.userAiModels.length)
          return false;
        return this.userAiModels.some(
          (userModel) => userModel.parentModelId === aiModel.modelId || userModel.modelName === aiModel.modelName
        );
      },
      // è·å–ç”¨æˆ·AIæ¨¡å‹ä¿¡æ¯
      getUserAiModel(aiModel) {
        if (!aiModel || !this.userAiModels.length)
          return null;
        return this.userAiModels.find(
          (userModel) => userModel.parentModelId === aiModel.modelId || userModel.modelName === aiModel.modelName
        );
      },
      // è·å–å¤´åƒæ ·å¼ç±»
      getAvatarClass(modelName) {
        if (!modelName)
          return "default-ai-avatar";
        const name = modelName.toLowerCase();
        if (name.includes("å® ") || name.includes("pet"))
          return "pet-ai-avatar";
        if (name.includes("æ­") || name.includes("partner") || name.includes("ç”Ÿæ´»"))
          return "lifestyle-ai-avatar";
        if (name.includes("å­¦") || name.includes("study"))
          return "study-ai-avatar";
        if (name.includes("æ¸¸") || name.includes("game"))
          return "gaming-ai-avatar";
        if (name.includes("è¿") || name.includes("sport"))
          return "sports-ai-avatar";
        if (name.includes("éŸ³") || name.includes("music"))
          return "music-ai-avatar";
        if (name.includes("æ—…") || name.includes("travel"))
          return "travel-ai-avatar";
        return "default-ai-avatar";
      },
      // è·å–å¤´åƒæ–‡å­—
      getAvatarText(modelName) {
        if (!modelName)
          return "?";
        return modelName.charAt(0).toUpperCase();
      },
      // æ ¼å¼åŒ–ä»·æ ¼ï¼ˆäººæ°‘å¸è½¬é‡‘å¸ï¼Œä¹˜ä»¥100ï¼‰
      formatPrice(price) {
        if (!price)
          return "0C";
        const goldCoins = Math.round(price * 100);
        return goldCoins + "C";
      },
      // æ ¼å¼åŒ–æ¨èæ•°
      formatRecommendCount(count) {
        if (!count)
          return "0";
        if (count >= 1e4) {
          return (count / 1e4).toFixed(1) + "w";
        }
        return count.toString();
      },
      // æ ¼å¼åŒ–è´­ä¹°æ•°
      formatPurchaseCount(count) {
        if (!count)
          return "0";
        if (count >= 1e4) {
          return (count / 1e4).toFixed(1) + "w";
        }
        return count.toString();
      },
      // æ ¼å¼åŒ–è¯„åˆ†
      formatScore(score) {
        if (!score)
          return "0.0";
        return parseFloat(score).toFixed(1);
      },
      // æ ¼å¼åŒ–è´­ä¹°æ—¶é—´
      formatPurchaseTime(aiModel) {
        const userModel = this.getUserAiModel(aiModel);
        if (!userModel || !userModel.createdAt)
          return "æœªçŸ¥";
        const date = new Date(userModel.createdAt);
        return `${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥`;
      },
      // è´­ä¹°AIæ¨¡å‹
      async buyAiModel(aiModel) {
        try {
          if (this.isPurchased(aiModel)) {
            uni.showToast({
              title: "æ‚¨å·²è´­ä¹°æ­¤AIæ¨¡å‹",
              icon: "none"
            });
            return;
          }
          const confirmResult = await new Promise((resolve) => {
            uni.showModal({
              title: "ç¡®è®¤è´­ä¹°",
              content: `ç¡®å®šè¦è´­ä¹° ${aiModel.modelName} å—ï¼Ÿ
ä»·æ ¼ï¼š${this.formatPrice(aiModel.price)}`,
              success: (res) => {
                resolve(res.confirm);
              },
              fail: () => {
                resolve(false);
              }
            });
          });
          if (!confirmResult) {
            return;
          }
          uni.showLoading({
            title: "è´­ä¹°ä¸­..."
          });
          const userId = uni.getStorageSync("userId");
          if (!userId) {
            uni.hideLoading();
            uni.showToast({
              title: "è¯·å…ˆç™»å½•",
              icon: "none"
            });
            return;
          }
          const purchaseResult = await this.purchaseAiModel(userId, aiModel);
          uni.hideLoading();
          if (purchaseResult.success) {
            uni.showToast({
              title: "è´­ä¹°æˆåŠŸï¼",
              icon: "success"
            });
            await this.loadAiStoreData();
          } else {
            uni.showToast({
              title: purchaseResult.message || "è´­ä¹°å¤±è´¥",
              icon: "none"
            });
          }
        } catch (error) {
          uni.hideLoading();
          formatAppLog("error", "at pages/ai/ai-store.vue:384", "è´­ä¹°AIæ¨¡å‹å¤±è´¥:", error);
          uni.showToast({
            title: "è´­ä¹°å¤±è´¥ï¼Œè¯·é‡è¯•",
            icon: "none"
          });
        }
      },
      // è°ƒç”¨è´­ä¹°API
      purchaseAiModel(userId, aiModel) {
        return new Promise((resolve, reject) => {
          const purchaseData = {
            userId: parseInt(userId),
            parentModelId: aiModel.modelId,
            modelName: aiModel.modelName,
            modelDesc: aiModel.modelDesc,
            modelImageUrl: aiModel.modelImageUrl || "",
            price: aiModel.price
          };
          formatAppLog("log", "at pages/ai/ai-store.vue:404", "å‘é€è´­ä¹°è¯·æ±‚:", purchaseData);
          uni.request({
            url: "http://localhost:8888/api/u-entities/user-ai-model/purchase",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            },
            data: purchaseData,
            timeout: 1e4,
            success: (res) => {
              formatAppLog("log", "at pages/ai/ai-store.vue:415", "è´­ä¹°å“åº”:", res);
              resolve(res.data);
            },
            fail: (err) => {
              formatAppLog("error", "at pages/ai/ai-store.vue:419", "è´­ä¹°è¯·æ±‚å¤±è´¥:", err);
              reject(err);
            }
          });
        });
      },
      goBack() {
        uni.navigateBack();
      },
      openSearch() {
        uni.showToast({
          title: "æœç´¢åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      goToAIDetail(aiModel) {
        formatAppLog("log", "at pages/ai/ai-store.vue:436", "è·³è½¬åˆ°AIè¯¦æƒ…é¡µé¢:", aiModel);
        uni.navigateTo({
          url: `/pages/ai/pet-ai-detail?aiName=${encodeURIComponent(aiModel.modelName)}&modelId=${aiModel.modelId}`,
          success: () => {
            formatAppLog("log", "at pages/ai/ai-store.vue:441", "è·³è½¬æˆåŠŸ");
          },
          fail: (err) => {
            formatAppLog("error", "at pages/ai/ai-store.vue:444", "è·³è½¬å¤±è´¥:", err);
            uni.showToast({
              title: "é¡µé¢è·³è½¬å¤±è´¥",
              icon: "none"
            });
          }
        });
      },
      goToHome() {
        uni.navigateTo({
          url: "/pages/feed/content-feed"
        });
      },
      goToMessages() {
        uni.showToast({
          title: "æ¶ˆæ¯åŠŸèƒ½",
          icon: "none"
        });
      },
      goToFriends() {
        uni.navigateTo({
          url: "/pages/chat/friend-list"
        });
      },
      goToProfile() {
        uni.navigateTo({
          url: "/pages/feed/user-profile"
        });
      }
    }
  };
  function _sfc_render$_(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "ai-store-page" }, [
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n			<view class="nav-left" @click="goBack">\n				<svg class="back-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32">\n					<path d="M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z" fill="#666666"></path>\n				</svg>\n			</view>\n			<view class="nav-center">\n				<text class="nav-title">AIå•†åº—</text>\n			</view>\n			<view class="nav-right">\n				<view class="search-icon" @click="openSearch">\n					<text class="search-symbol">ğŸ”</text>\n				</view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "content-area" }, [
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-section"
        }, [
          vue.createElementVNode("view", { class: "loading-spinner" }),
          vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½AIæ¨¡å‹...")
        ])) : $data.errorMessage ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 1 },
          [
            vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
            vue.createElementVNode("view", { class: "error-section" }, [
              vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
              vue.createElementVNode(
                "text",
                { class: "error-text" },
                vue.toDisplayString($data.errorMessage),
                1
                /* TEXT */
              ),
              vue.createElementVNode("view", {
                class: "retry-button",
                onClick: _cache[0] || (_cache[0] = (...args) => $options.loadAiStoreData && $options.loadAiStoreData(...args))
              }, [
                vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
              ])
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )) : (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 2 },
          [
            vue.createCommentVNode(" AIæ¨¡å‹åˆ—è¡¨ "),
            vue.createElementVNode("view", null, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($data.aiModels, (aiModel) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    key: aiModel.modelId,
                    class: "ai-item",
                    onClick: () => $options.goToAIDetail(aiModel)
                  }, [
                    vue.createElementVNode("view", { class: "ai-avatar" }, [
                      aiModel.modelImageUrl ? (vue.openBlock(), vue.createElementBlock("image", {
                        key: 0,
                        class: "avatar-image",
                        src: aiModel.modelImageUrl,
                        mode: "aspectFill"
                      }, null, 8, ["src"])) : (vue.openBlock(), vue.createElementBlock(
                        "view",
                        {
                          key: 1,
                          class: vue.normalizeClass(["avatar-circle", $options.getAvatarClass(aiModel.modelName)])
                        },
                        [
                          vue.createElementVNode(
                            "text",
                            { class: "avatar-text" },
                            vue.toDisplayString($options.getAvatarText(aiModel.modelName)),
                            1
                            /* TEXT */
                          )
                        ],
                        2
                        /* CLASS */
                      ))
                    ]),
                    vue.createElementVNode("view", { class: "ai-info" }, [
                      vue.createElementVNode(
                        "text",
                        { class: "ai-name" },
                        vue.toDisplayString(aiModel.modelName || "æœªçŸ¥AI"),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode(
                        "text",
                        { class: "ai-description" },
                        vue.toDisplayString(aiModel.modelDesc || "æš‚æ— æè¿°"),
                        1
                        /* TEXT */
                      ),
                      vue.createCommentVNode(" ç»Ÿè®¡ä¿¡æ¯ "),
                      vue.createElementVNode("view", { class: "ai-stats" }, [
                        vue.createElementVNode("view", { class: "stat-item" }, [
                          vue.createElementVNode(
                            "text",
                            { class: "stat-value" },
                            vue.toDisplayString($options.formatRecommendCount(aiModel.recommendCount)),
                            1
                            /* TEXT */
                          ),
                          vue.createElementVNode("text", { class: "stat-label" }, "æ¨è")
                        ]),
                        vue.createElementVNode("view", { class: "stat-item" }, [
                          vue.createElementVNode(
                            "text",
                            { class: "stat-value" },
                            vue.toDisplayString($options.formatPurchaseCount(aiModel.purchaseCount)),
                            1
                            /* TEXT */
                          ),
                          vue.createElementVNode("text", { class: "stat-label" }, "è´­ä¹°")
                        ]),
                        vue.createElementVNode("view", { class: "stat-item" }, [
                          vue.createElementVNode(
                            "text",
                            { class: "stat-value" },
                            vue.toDisplayString($options.formatScore(aiModel.score)),
                            1
                            /* TEXT */
                          ),
                          vue.createElementVNode("text", { class: "stat-label" }, "è¯„åˆ†")
                        ])
                      ]),
                      vue.createCommentVNode(" ä»·æ ¼ä¿¡æ¯ "),
                      vue.createElementVNode("view", { class: "ai-price" }, [
                        vue.createElementVNode(
                          "text",
                          { class: "price-text" },
                          vue.toDisplayString($options.formatPrice(aiModel.price)),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode("text", { class: "price-label" }, "é‡‘å¸")
                      ]),
                      vue.createCommentVNode(" äº’åŠ¨æ•°æ® "),
                      vue.createElementVNode("view", { class: "ai-interactions" }, [
                        vue.createElementVNode("view", { class: "interaction-item" }, [
                          vue.createElementVNode("text", { class: "interaction-icon" }, "ğŸ‘"),
                          vue.createElementVNode(
                            "text",
                            { class: "interaction-count" },
                            vue.toDisplayString(aiModel.likeCount || 0),
                            1
                            /* TEXT */
                          )
                        ]),
                        vue.createElementVNode("view", { class: "interaction-item" }, [
                          vue.createElementVNode("text", { class: "interaction-icon" }, "ğŸ’¬"),
                          vue.createElementVNode(
                            "text",
                            { class: "interaction-count" },
                            vue.toDisplayString(aiModel.commentCount || 0),
                            1
                            /* TEXT */
                          )
                        ]),
                        vue.createElementVNode("view", { class: "interaction-item" }, [
                          vue.createElementVNode("text", { class: "interaction-icon" }, "â­"),
                          vue.createElementVNode(
                            "text",
                            { class: "interaction-count" },
                            vue.toDisplayString(aiModel.collectCount || 0),
                            1
                            /* TEXT */
                          )
                        ])
                      ]),
                      $options.isPurchased(aiModel) ? (vue.openBlock(), vue.createElementBlock("view", {
                        key: 0,
                        class: "purchase-info"
                      }, [
                        vue.createElementVNode(
                          "text",
                          { class: "purchase-time" },
                          "è´­ä¹°æ—¶é—´: " + vue.toDisplayString($options.formatPurchaseTime(aiModel)),
                          1
                          /* TEXT */
                        )
                      ])) : vue.createCommentVNode("v-if", true)
                    ]),
                    vue.createElementVNode("view", {
                      class: "ai-status",
                      onClick: _cache[1] || (_cache[1] = vue.withModifiers(() => {
                      }, ["stop"]))
                    }, [
                      $options.isPurchased(aiModel) ? (vue.openBlock(), vue.createElementBlock("view", {
                        key: 0,
                        class: "purchased-badge"
                      }, [
                        vue.createElementVNode("text", { class: "badge-text" }, "å·²è´­ä¹°")
                      ])) : (vue.openBlock(), vue.createElementBlock("view", {
                        key: 1,
                        class: "buy-btn",
                        onClick: ($event) => $options.buyAiModel(aiModel)
                      }, [
                        vue.createElementVNode("text", { class: "buy-text" }, "è´­ä¹°")
                      ], 8, ["onClick"]))
                    ])
                  ], 8, ["onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              )),
              vue.createCommentVNode(" ç©ºçŠ¶æ€ "),
              $data.aiModels.length === 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "empty-section"
              }, [
                vue.createElementVNode("view", { class: "empty-icon" }, "ğŸ¤–"),
                vue.createElementVNode("text", { class: "empty-text" }, "æš‚æ— AIæ¨¡å‹"),
                vue.createElementVNode("text", { class: "empty-desc" }, "æ•¬è¯·æœŸå¾…æ›´å¤šAIæ¨¡å‹ä¸Šçº¿ï¼")
              ])) : vue.createCommentVNode("v-if", true)
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        ))
      ]),
      vue.createCommentVNode(" åº•éƒ¨å¯¼èˆªæ  "),
      vue.createElementVNode("view", { class: "bottom-nav" }, [
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.goToHome && $options.goToHome(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "é¦–é¡µ")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[3] || (_cache[3] = (...args) => $options.goToMessages && $options.goToMessages(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "æ¶ˆæ¯")
        ]),
        vue.createElementVNode("view", { class: "nav-item active" }, [
          vue.createElementVNode("view", { class: "ai-icon" }, "AI")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[4] || (_cache[4] = (...args) => $options.goToFriends && $options.goToFriends(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "å¥½å‹")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[5] || (_cache[5] = (...args) => $options.goToProfile && $options.goToProfile(...args))
        }, [
          vue.createElementVNode("view", { class: "nav-avatar" }, [
            vue.createElementVNode("view", { class: "mini-cat-avatar" }, [
              vue.createElementVNode("view", { class: "mini-cat-body" }),
              vue.createElementVNode("view", { class: "mini-cat-face" }, [
                vue.createElementVNode("view", { class: "mini-cat-eyes" }, [
                  vue.createElementVNode("view", { class: "mini-cat-eye" }),
                  vue.createElementVNode("view", { class: "mini-cat-eye" })
                ])
              ])
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ‰‹åŠ¿æ¡ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesAiAiStore = /* @__PURE__ */ _export_sfc(_sfc_main$$, [["render", _sfc_render$_], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/ai/ai-store.vue"]]);
  const _sfc_main$_ = {
    name: "TasksPage",
    data() {
      return {
        currentFilter: "all",
        showRating: false,
        currentTask: null,
        rating: 0,
        comment: "",
        tasks: [],
        loading: false,
        errorMessage: "",
        userId: null,
        commentedTasks: /* @__PURE__ */ new Set()
        // å­˜å‚¨å·²è¯„ä»·çš„ä»»åŠ¡ID
      };
    },
    onLoad() {
      this.userId = uni.getStorageSync("userId") || 1;
      formatAppLog("log", "at pages/ai/tasks.vue:201", "tasksé¡µé¢åŠ è½½ï¼Œç”¨æˆ·ID:", this.userId);
      this.loadTasks();
    },
    computed: {
      totalTasks() {
        return this.tasks.length;
      },
      activeTasks() {
        return this.tasks.filter((task) => task.status === "active").length;
      },
      completedTasks() {
        return this.tasks.filter((task) => task.status === "completed").length;
      },
      filteredTasks() {
        if (this.currentFilter === "all") {
          return this.tasks;
        } else if (this.currentFilter === "active") {
          return this.tasks.filter((task) => task.status === "active");
        } else if (this.currentFilter === "completed") {
          return this.tasks.filter((task) => task.status === "completed");
        }
        return this.tasks;
      },
      ratingText() {
        const texts = ["", "å¾ˆå·®", "è¾ƒå·®", "ä¸€èˆ¬", "è¾ƒå¥½", "å¾ˆå¥½"];
        return texts[this.rating] || "";
      }
    },
    methods: {
      // åŠ è½½ä»»åŠ¡æ•°æ®
      async loadTasks() {
        this.loading = true;
        this.errorMessage = "";
        try {
          formatAppLog("log", "at pages/ai/tasks.vue:238", "å¼€å§‹åŠ è½½ç”¨æˆ·ä»»åŠ¡æ•°æ®ï¼Œç”¨æˆ·ID:", this.userId);
          const response = await uni.request({
            url: `http://localhost:8888/api/u-entities/user-task-relationship/all`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/ai/tasks.vue:248", "ä»»åŠ¡æ•°æ®å“åº”:", response);
          if (response.statusCode === 200 && response.data) {
            const userTasks = response.data.filter((task) => task.userId === this.userId);
            formatAppLog("log", "at pages/ai/tasks.vue:253", "ç”¨æˆ·ä»»åŠ¡æ•°æ®:", userTasks);
            this.tasks = this.convertTasksToDisplayFormat(userTasks);
            formatAppLog("log", "at pages/ai/tasks.vue:257", "è½¬æ¢åçš„ä»»åŠ¡æ•°æ®:", this.tasks);
            await this.checkUserComments();
          } else {
            throw new Error("åŠ è½½ä»»åŠ¡æ•°æ®å¤±è´¥");
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/tasks.vue:265", "åŠ è½½ä»»åŠ¡æ•°æ®å¼‚å¸¸:", error);
          this.errorMessage = "åŠ è½½ä»»åŠ¡æ•°æ®å¤±è´¥ï¼Œè¯·é‡è¯•";
          uni.showToast({
            title: "åŠ è½½ä»»åŠ¡å¤±è´¥",
            icon: "error"
          });
        } finally {
          this.loading = false;
        }
      },
      // è½¬æ¢ä»»åŠ¡æ•°æ®ä¸ºæ˜¾ç¤ºæ ¼å¼
      convertTasksToDisplayFormat(tasks) {
        return tasks.map((task) => {
          let status = "pending";
          if (task.status === 1) {
            status = "active";
          } else if (task.status === 2) {
            status = "completed";
          } else if (task.status === 3) {
            status = "terminated";
          }
          const createTime = this.formatTime(task.createdAt);
          const completedTime = task.endedAt ? this.formatTime(task.endedAt) : null;
          return {
            id: task.userTaskId,
            title: `ä»»åŠ¡ ${task.userTaskId}`,
            description: `ç”¨æˆ·ä»»åŠ¡å…³ç³»ID: ${task.userTaskId}ï¼ŒçŠ¶æ€: ${this.getStatusText(status)}ï¼Œè¿›åº¦: ${task.taskPercent || 0}%`,
            status,
            progress: task.taskPercent || 0,
            createTime,
            completedTime
          };
        });
      },
      // æ ¼å¼åŒ–æ—¶é—´
      formatTime(timestamp) {
        if (!timestamp)
          return "";
        const date = new Date(timestamp);
        return date.toLocaleString("zh-CN", {
          year: "numeric",
          month: "2-digit",
          day: "2-digit",
          hour: "2-digit",
          minute: "2-digit"
        });
      },
      // è·å–çŠ¶æ€æ–‡æœ¬
      getStatusText(status) {
        const statusMap = {
          "pending": "å¾…å¼€å§‹",
          "active": "è¿›è¡Œä¸­",
          "completed": "å·²å®Œæˆ",
          "terminated": "å·²ç»ˆæ­¢"
        };
        return statusMap[status] || "æœªçŸ¥";
      },
      // æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²è¯„ä»·
      async checkUserComments() {
        try {
          const response = await uni.request({
            url: `http://localhost:8888/api/efmprt-entities/task-comment/check?userId=${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          if (response.statusCode === 200 && response.data.exists) {
            this.tasks.forEach((task) => {
              if (task.status === "completed") {
                this.commentedTasks.add(task.id);
              }
            });
            formatAppLog("log", "at pages/ai/tasks.vue:347", "ç”¨æˆ·å·²è¯„ä»·ï¼Œæ ‡è®°æ‰€æœ‰å·²å®Œæˆä»»åŠ¡ä¸ºå·²è¯„ä»·");
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/tasks.vue:350", "æ£€æŸ¥ç”¨æˆ·è¯„ä»·çŠ¶æ€å¤±è´¥:", error);
        }
      },
      // æ£€æŸ¥ä»»åŠ¡æ˜¯å¦å·²è¯„ä»·
      async checkTaskCommented(taskId) {
        try {
          const response = await uni.request({
            url: `http://localhost:8888/api/efmprt-entities/task-comment/check?userId=${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          if (response.statusCode === 200) {
            return response.data.exists || false;
          }
          return false;
        } catch (error) {
          formatAppLog("error", "at pages/ai/tasks.vue:370", "æ£€æŸ¥ä»»åŠ¡è¯„ä»·çŠ¶æ€å¤±è´¥:", error);
          return false;
        }
      },
      goBack() {
        uni.navigateBack();
      },
      setFilter(filter) {
        this.currentFilter = filter;
      },
      showTaskDetail(task) {
        uni.navigateTo({
          url: `/pages/ai/task-detail?taskId=${task.id}`
        });
      },
      updateTaskStatus(taskId, newStatus) {
        const taskIndex = this.tasks.findIndex((task) => task.id === taskId);
        if (taskIndex !== -1) {
          this.tasks[taskIndex].status = newStatus;
          if (newStatus === "terminated") {
            this.tasks[taskIndex].progress = 0;
          }
        }
      },
      async showRatingModal(task) {
        const isCommented = await this.checkTaskCommented(task.id);
        if (isCommented) {
          uni.showToast({
            title: "æ‚¨å·²ç»è¯„ä»·è¿‡æ­¤ä»»åŠ¡",
            icon: "none",
            duration: 2e3
          });
          return;
        }
        this.currentTask = task;
        this.rating = 0;
        this.comment = "";
        this.showRating = true;
      },
      hideRatingModal() {
        this.showRating = false;
        this.currentTask = null;
      },
      setRating(score) {
        this.rating = score;
      },
      async submitRating() {
        if (this.rating === 0) {
          uni.showToast({
            title: "è¯·é€‰æ‹©è¯„åˆ†",
            icon: "none"
          });
          return;
        }
        try {
          formatAppLog("log", "at pages/ai/tasks.vue:432", "æäº¤è¯„åˆ†:", {
            taskId: this.currentTask.id,
            userId: this.userId,
            rating: this.rating,
            comment: this.comment
          });
          uni.showLoading({
            title: "æäº¤ä¸­..."
          });
          const response = await uni.request({
            url: "http://localhost:8888/api/efmprt-entities/task-comment/save",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            },
            data: {
              userId: this.userId,
              taskId: this.currentTask.id,
              stars: this.rating,
              commentText: this.comment || ""
            }
          });
          formatAppLog("log", "at pages/ai/tasks.vue:458", "è¯„åˆ†æäº¤å“åº”:", response);
          if (response.statusCode === 200 && response.data.success) {
            uni.showToast({
              title: "è¯„åˆ†æäº¤æˆåŠŸ",
              icon: "success"
            });
            this.commentedTasks.add(this.currentTask.id);
            this.rating = 0;
            this.comment = "";
            this.hideRatingModal();
          } else {
            throw new Error(response.data.message || "æäº¤å¤±è´¥");
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/tasks.vue:479", "æäº¤è¯„åˆ†å¤±è´¥:", error);
          uni.showToast({
            title: "æäº¤å¤±è´¥ï¼Œè¯·é‡è¯•",
            icon: "error"
          });
        } finally {
          uni.hideLoading();
        }
      }
    }
  };
  function _sfc_render$Z(_ctx, _cache, $props, $setup, $data, $options) {
    var _a, _b;
    return vue.openBlock(), vue.createElementBlock("view", { class: "tasks-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<svg t="1756247334143" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1052" width="32" height="32">\n					<path d="M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z" fill="#666666" p-id="1053"></path>\n				</svg>\n			</view>\n			<view class="header-title">\n				<text class="title-text">ä»»åŠ¡</text>\n			</view>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" ä»»åŠ¡ç»Ÿè®¡ "),
      vue.createElementVNode("view", { class: "stats-section" }, [
        vue.createElementVNode("view", { class: "stat-item" }, [
          vue.createElementVNode(
            "text",
            { class: "stat-number" },
            vue.toDisplayString($options.totalTasks),
            1
            /* TEXT */
          ),
          vue.createElementVNode("text", { class: "stat-label" }, "æ€»ä»»åŠ¡")
        ]),
        vue.createElementVNode("view", { class: "stat-item" }, [
          vue.createElementVNode(
            "text",
            { class: "stat-number" },
            vue.toDisplayString($options.activeTasks),
            1
            /* TEXT */
          ),
          vue.createElementVNode("text", { class: "stat-label" }, "è¿›è¡Œä¸­")
        ]),
        vue.createElementVNode("view", { class: "stat-item" }, [
          vue.createElementVNode(
            "text",
            { class: "stat-number" },
            vue.toDisplayString($options.completedTasks),
            1
            /* TEXT */
          ),
          vue.createElementVNode("text", { class: "stat-label" }, "å·²å®Œæˆ")
        ])
      ]),
      vue.createCommentVNode(" ä»»åŠ¡åˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "tasks-list" }, [
        vue.createElementVNode("view", { class: "list-header" }, [
          vue.createElementVNode("text", { class: "header-title" }, "ä»»åŠ¡åˆ—è¡¨"),
          vue.createElementVNode("view", { class: "filter-tabs" }, [
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["filter-tab", { active: $data.currentFilter === "all" }]),
                onClick: _cache[0] || (_cache[0] = ($event) => $options.setFilter("all"))
              },
              [
                vue.createElementVNode("text", null, "å…¨éƒ¨")
              ],
              2
              /* CLASS */
            ),
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["filter-tab", { active: $data.currentFilter === "active" }]),
                onClick: _cache[1] || (_cache[1] = ($event) => $options.setFilter("active"))
              },
              [
                vue.createElementVNode("text", null, "è¿›è¡Œä¸­")
              ],
              2
              /* CLASS */
            ),
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["filter-tab", { active: $data.currentFilter === "completed" }]),
                onClick: _cache[2] || (_cache[2] = ($event) => $options.setFilter("completed"))
              },
              [
                vue.createElementVNode("text", null, "å·²å®Œæˆ")
              ],
              2
              /* CLASS */
            )
          ])
        ]),
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-container"
        }, [
          vue.createElementVNode("view", { class: "loading-spinner" }),
          vue.createElementVNode("text", { class: "loading-text" }, "åŠ è½½ä»»åŠ¡ä¸­...")
        ])) : $data.errorMessage ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 1 },
          [
            vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
            vue.createElementVNode("view", { class: "error-container" }, [
              vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
              vue.createElementVNode(
                "text",
                { class: "error-text" },
                vue.toDisplayString($data.errorMessage),
                1
                /* TEXT */
              ),
              vue.createElementVNode("button", {
                class: "retry-button",
                onClick: _cache[3] || (_cache[3] = (...args) => $options.loadTasks && $options.loadTasks(...args))
              }, [
                vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
              ])
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )) : (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 2 },
          [
            vue.createCommentVNode(" ä»»åŠ¡åˆ—è¡¨ "),
            vue.createElementVNode("view", { class: "task-items" }, [
              $options.filteredTasks.length === 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "empty-container"
              }, [
                vue.createElementVNode("text", { class: "empty-text" }, "æš‚æ— ä»»åŠ¡æ•°æ®")
              ])) : (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                { key: 1 },
                vue.renderList($options.filteredTasks, (task) => {
                  return vue.openBlock(), vue.createElementBlock(
                    "view",
                    {
                      class: vue.normalizeClass(["task-item", { completed: task.status === "completed" }]),
                      key: task.id
                    },
                    [
                      vue.createElementVNode("view", { class: "task-header" }, [
                        vue.createElementVNode("view", { class: "task-title-row" }, [
                          vue.createElementVNode(
                            "view",
                            {
                              class: vue.normalizeClass(["task-status", task.status])
                            },
                            [
                              task.status === "completed" ? (vue.openBlock(), vue.createElementBlock("view", {
                                key: 0,
                                class: "status-icon"
                              }, "âœ“")) : task.status === "active" ? (vue.openBlock(), vue.createElementBlock("view", {
                                key: 1,
                                class: "status-icon"
                              }, "â—")) : (vue.openBlock(), vue.createElementBlock("view", {
                                key: 2,
                                class: "status-icon"
                              }, "â—‹"))
                            ],
                            2
                            /* CLASS */
                          ),
                          vue.createElementVNode(
                            "text",
                            { class: "task-title" },
                            vue.toDisplayString(task.title),
                            1
                            /* TEXT */
                          ),
                          task.status === "completed" ? (vue.openBlock(), vue.createElementBlock("view", {
                            key: 0,
                            class: "completed-badge"
                          }, "å·²å®Œæˆ")) : vue.createCommentVNode("v-if", true)
                        ]),
                        vue.createElementVNode(
                          "text",
                          { class: "task-time" },
                          vue.toDisplayString(task.createTime),
                          1
                          /* TEXT */
                        )
                      ]),
                      vue.createElementVNode(
                        "text",
                        { class: "task-description" },
                        vue.toDisplayString(task.description),
                        1
                        /* TEXT */
                      ),
                      task.status === "active" ? (vue.openBlock(), vue.createElementBlock("view", {
                        key: 0,
                        class: "task-progress"
                      }, [
                        vue.createElementVNode("view", { class: "progress-bar" }, [
                          vue.createElementVNode(
                            "view",
                            {
                              class: "progress-fill",
                              style: vue.normalizeStyle({ width: task.progress + "%" })
                            },
                            null,
                            4
                            /* STYLE */
                          )
                        ]),
                        vue.createElementVNode(
                          "text",
                          { class: "progress-text" },
                          vue.toDisplayString(task.progress) + "%",
                          1
                          /* TEXT */
                        )
                      ])) : vue.createCommentVNode("v-if", true),
                      vue.createElementVNode("view", { class: "task-actions" }, [
                        task.status === "completed" ? (vue.openBlock(), vue.createElementBlock("view", {
                          key: 0,
                          class: vue.normalizeClass(["action-btn", $data.commentedTasks.has(task.id) ? "rated-btn" : "rate-btn"]),
                          onClick: ($event) => $data.commentedTasks.has(task.id) ? null : $options.showRatingModal(task)
                        }, [
                          vue.createElementVNode(
                            "text",
                            null,
                            vue.toDisplayString($data.commentedTasks.has(task.id) ? "å·²è¯„ä»·" : "è¯„åˆ†è¯„ä»·"),
                            1
                            /* TEXT */
                          )
                        ], 10, ["onClick"])) : task.status === "terminated" ? (vue.openBlock(), vue.createElementBlock("view", {
                          key: 1,
                          class: "action-btn terminated-btn",
                          onClick: ($event) => $options.showTaskDetail(task)
                        }, [
                          vue.createElementVNode("text", null, "ä»»åŠ¡ä¸­æ­¢")
                        ], 8, ["onClick"])) : (vue.openBlock(), vue.createElementBlock("view", {
                          key: 2,
                          class: "action-btn detail-btn",
                          onClick: ($event) => $options.showTaskDetail(task)
                        }, [
                          vue.createElementVNode("text", null, "æŸ¥çœ‹è¯¦æƒ…")
                        ], 8, ["onClick"]))
                      ])
                    ],
                    2
                    /* CLASS */
                  );
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        ))
      ]),
      vue.createCommentVNode(" è¯„åˆ†è¯„ä»·å¼¹çª— "),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["rating-modal", { active: $data.showRating }]),
          onClick: _cache[9] || (_cache[9] = (...args) => $options.hideRatingModal && $options.hideRatingModal(...args))
        },
        [
          vue.createElementVNode("view", {
            class: "rating-content",
            onClick: _cache[8] || (_cache[8] = vue.withModifiers(() => {
            }, ["stop"]))
          }, [
            vue.createElementVNode("view", { class: "rating-header" }, [
              vue.createElementVNode("text", { class: "rating-title" }, "ä»»åŠ¡è¯„ä»·"),
              vue.createElementVNode("view", {
                class: "close-btn",
                onClick: _cache[4] || (_cache[4] = (...args) => $options.hideRatingModal && $options.hideRatingModal(...args))
              }, "Ã—")
            ]),
            vue.createElementVNode("view", { class: "task-info" }, [
              vue.createElementVNode(
                "text",
                { class: "task-name" },
                vue.toDisplayString((_a = $data.currentTask) == null ? void 0 : _a.title),
                1
                /* TEXT */
              ),
              vue.createElementVNode(
                "text",
                { class: "task-desc" },
                vue.toDisplayString((_b = $data.currentTask) == null ? void 0 : _b.description),
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode("view", { class: "rating-section" }, [
              vue.createElementVNode("text", { class: "rating-label" }, "è¯·ä¸ºAIçš„è¡¨ç°è¯„åˆ†ï¼š"),
              vue.createElementVNode("view", { class: "star-rating" }, [
                (vue.openBlock(), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList(5, (i) => {
                    return vue.createElementVNode("view", {
                      class: vue.normalizeClass(["star", { active: i <= $data.rating }]),
                      key: i,
                      onClick: ($event) => $options.setRating(i)
                    }, [
                      vue.createElementVNode("text", null, "â˜…")
                    ], 10, ["onClick"]);
                  }),
                  64
                  /* STABLE_FRAGMENT */
                ))
              ]),
              vue.createElementVNode(
                "text",
                { class: "rating-text" },
                vue.toDisplayString($options.ratingText),
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode("view", { class: "comment-section" }, [
              vue.createElementVNode("text", { class: "comment-label" }, "è¯„ä»·å†…å®¹ï¼š"),
              vue.withDirectives(vue.createElementVNode(
                "textarea",
                {
                  class: "comment-input",
                  "onUpdate:modelValue": _cache[5] || (_cache[5] = ($event) => $data.comment = $event),
                  placeholder: "è¯·è¾“å…¥æ‚¨çš„è¯„ä»·...",
                  maxlength: "200"
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $data.comment]
              ]),
              vue.createElementVNode(
                "text",
                { class: "char-count" },
                vue.toDisplayString($data.comment.length) + "/200",
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode("view", { class: "rating-actions" }, [
              vue.createElementVNode("view", {
                class: "cancel-btn",
                onClick: _cache[6] || (_cache[6] = (...args) => $options.hideRatingModal && $options.hideRatingModal(...args))
              }, [
                vue.createElementVNode("text", null, "å–æ¶ˆ")
              ]),
              vue.createElementVNode("view", {
                class: "submit-btn",
                onClick: _cache[7] || (_cache[7] = (...args) => $options.submitRating && $options.submitRating(...args))
              }, [
                vue.createElementVNode("text", null, "æäº¤è¯„ä»·")
              ])
            ])
          ])
        ],
        2
        /* CLASS */
      )
    ]);
  }
  const PagesAiTasks = /* @__PURE__ */ _export_sfc(_sfc_main$_, [["render", _sfc_render$Z], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/ai/tasks.vue"]]);
  const _sfc_main$Z = {
    name: "TaskDetailPage",
    data() {
      return {
        taskId: null,
        showRating: false,
        showTerminate: false,
        rating: 0,
        comment: "",
        taskData: {}
      };
    },
    computed: {
      ratingText() {
        const texts = ["", "å¾ˆå·®", "è¾ƒå·®", "ä¸€èˆ¬", "è¾ƒå¥½", "å¾ˆå¥½"];
        return texts[this.rating] || "";
      }
    },
    onLoad(options) {
      if (options.taskId) {
        this.taskId = parseInt(options.taskId);
        this.loadTaskDetail();
      } else {
        this.taskId = 1;
        this.loadTaskDetail();
      }
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      async loadTaskDetail() {
        this.loading = true;
        this.errorMessage = "";
        try {
          formatAppLog("log", "at pages/ai/task-detail.vue:241", "å¼€å§‹åŠ è½½ä»»åŠ¡è¯¦æƒ…ï¼Œä»»åŠ¡ID:", this.taskId);
          const response = await uni.request({
            url: `http://localhost:8888/api/a-entities/ai-task-log/by-user-task/${this.taskId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/ai/task-detail.vue:251", "ä»»åŠ¡è¯¦æƒ…å“åº”:", response);
          if (response.statusCode === 200 && response.data) {
            this.taskData = this.convertTaskData(response.data);
            formatAppLog("log", "at pages/ai/task-detail.vue:256", "è½¬æ¢åçš„ä»»åŠ¡æ•°æ®:", this.taskData);
          } else if (response.statusCode === 404) {
            this.errorMessage = "ä»»åŠ¡ä¸å­˜åœ¨";
            formatAppLog("log", "at pages/ai/task-detail.vue:259", "ä»»åŠ¡ä¸å­˜åœ¨ï¼Œä»»åŠ¡ID:", this.taskId);
          } else {
            throw new Error("åŠ è½½ä»»åŠ¡è¯¦æƒ…å¤±è´¥");
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/task-detail.vue:264", "åŠ è½½ä»»åŠ¡è¯¦æƒ…å¼‚å¸¸:", error);
          this.errorMessage = "åŠ è½½ä»»åŠ¡è¯¦æƒ…å¤±è´¥ï¼Œè¯·é‡è¯•";
          uni.showToast({
            title: "åŠ è½½å¤±è´¥",
            icon: "error"
          });
        } finally {
          this.loading = false;
        }
      },
      // è½¬æ¢åç«¯æ•°æ®ä¸ºå‰ç«¯æ˜¾ç¤ºæ ¼å¼
      convertTaskData(backendData) {
        let taskLog = backendData;
        let taskPercent = 0;
        if (backendData.aiTaskLog) {
          taskLog = backendData.aiTaskLog;
          taskPercent = backendData.taskPercent || 0;
          backendData.userTaskStatus || 0;
        }
        let status = "pending";
        if (taskLog.status === 0) {
          status = "pending";
        } else if (taskLog.status === 1) {
          status = "active";
        } else if (taskLog.status === 2) {
          status = "completed";
        } else if (taskLog.status === 3) {
          status = "error";
        }
        const formatTime = (timestamp) => {
          if (!timestamp)
            return "";
          const date = new Date(timestamp);
          return date.toLocaleString("zh-CN", {
            year: "numeric",
            month: "2-digit",
            day: "2-digit",
            hour: "2-digit",
            minute: "2-digit"
          });
        };
        let progress = taskPercent;
        if (status === "completed") {
          progress = 100;
        } else if (status === "pending") {
          progress = 0;
        }
        const processSteps = this.generateProcessSteps(taskLog.aiTaskDesc, status);
        const analysisResult = this.generateAnalysisResult(taskLog.taskComment, taskLog.taskStar);
        const suggestions = this.generateSuggestions(status, taskLog.taskComment);
        return {
          id: taskLog.aiTaskLogId,
          title: taskLog.aiTaskName || "æœªå‘½åä»»åŠ¡",
          description: taskLog.aiTaskDesc || "æš‚æ— æè¿°",
          status,
          progress,
          createTime: formatTime(taskLog.createdAt),
          completedTime: status === "completed" ? formatTime(taskLog.updatedAt) : null,
          processSteps,
          analysisResult,
          suggestions
        };
      },
      // ç”Ÿæˆæ‰§è¡Œæ­¥éª¤
      generateProcessSteps(description, status) {
        if (!description)
          return [];
        const steps = [
          {
            title: "ä»»åŠ¡åˆ†æ",
            description: "åˆ†æä»»åŠ¡éœ€æ±‚å’Œç›®æ ‡",
            completed: true,
            completedTime: "09:00"
          },
          {
            title: "æ–¹æ¡ˆåˆ¶å®š",
            description: "åˆ¶å®šæ‰§è¡Œæ–¹æ¡ˆå’Œç­–ç•¥",
            completed: status === "completed" || status === "active",
            active: status === "active",
            completedTime: status === "completed" ? "10:30" : null
          },
          {
            title: "ä»»åŠ¡æ‰§è¡Œ",
            description: "æ‰§è¡Œå…·ä½“ä»»åŠ¡å†…å®¹",
            completed: status === "completed",
            active: status === "active",
            completedTime: status === "completed" ? "14:20" : null
          },
          {
            title: "ç»“æœè¯„ä¼°",
            description: "è¯„ä¼°ä»»åŠ¡æ‰§è¡Œç»“æœ",
            completed: status === "completed",
            completedTime: status === "completed" ? "16:45" : null
          }
        ];
        return steps;
      },
      // ç”Ÿæˆåˆ†æç»“æœ
      generateAnalysisResult(comment, star) {
        if (!comment && !star)
          return [];
        const results = [];
        if (star) {
          let score = "B";
          if (star >= 4)
            score = "A";
          else if (star >= 3)
            score = "B+";
          else if (star <= 2)
            score = "C";
          results.push({
            title: "ä»»åŠ¡å®Œæˆè´¨é‡",
            score,
            description: this.getScoreDescription(score),
            details: this.getScoreDetails(score)
          });
        }
        if (comment) {
          results.push({
            title: "ç”¨æˆ·åé¦ˆ",
            score: "A",
            description: comment,
            details: ["ç”¨æˆ·è¯„ä»·å†…å®¹"]
          });
        }
        return results;
      },
      // ç”Ÿæˆå»ºè®®
      generateSuggestions(status, comment) {
        const suggestions = [];
        if (status === "completed") {
          suggestions.push({
            icon: "âœ…",
            title: "ä»»åŠ¡å®Œæˆ",
            description: "ä»»åŠ¡å·²æˆåŠŸå®Œæˆï¼Œæ„Ÿè°¢æ‚¨çš„ä½¿ç”¨"
          });
        } else if (status === "active") {
          suggestions.push({
            icon: "â³",
            title: "ç»§ç»­æ‰§è¡Œ",
            description: "ä»»åŠ¡æ­£åœ¨æ‰§è¡Œä¸­ï¼Œè¯·è€å¿ƒç­‰å¾…"
          });
        } else {
          suggestions.push({
            icon: "ğŸš€",
            title: "å¼€å§‹ä»»åŠ¡",
            description: "å»ºè®®å°½å¿«å¼€å§‹æ‰§è¡Œä»»åŠ¡"
          });
        }
        if (comment) {
          suggestions.push({
            icon: "ğŸ’¬",
            title: "ç”¨æˆ·åé¦ˆ",
            description: "å·²æ”¶åˆ°æ‚¨çš„åé¦ˆï¼Œæˆ‘ä»¬ä¼šæŒç»­æ”¹è¿›"
          });
        }
        return suggestions;
      },
      // è·å–è¯„åˆ†æè¿°
      getScoreDescription(score) {
        const descriptions = {
          "A": "ä»»åŠ¡å®Œæˆè´¨é‡ä¼˜ç§€ï¼Œè¶…å‡ºé¢„æœŸ",
          "B+": "ä»»åŠ¡å®Œæˆè´¨é‡è‰¯å¥½ï¼Œç¬¦åˆé¢„æœŸ",
          "B": "ä»»åŠ¡å®Œæˆè´¨é‡ä¸€èˆ¬ï¼ŒåŸºæœ¬ç¬¦åˆé¢„æœŸ",
          "C": "ä»»åŠ¡å®Œæˆè´¨é‡æœ‰å¾…æå‡"
        };
        return descriptions[score] || "ä»»åŠ¡å®Œæˆè´¨é‡å¾…è¯„ä¼°";
      },
      // è·å–è¯„åˆ†è¯¦æƒ…
      getScoreDetails(score) {
        const details = {
          "A": ["æ‰§è¡Œæ•ˆç‡é«˜", "ç»“æœè´¨é‡ä¼˜ç§€", "ç”¨æˆ·ä½“éªŒè‰¯å¥½"],
          "B+": ["æ‰§è¡Œæ•ˆç‡è‰¯å¥½", "ç»“æœè´¨é‡è¾ƒå¥½", "ç”¨æˆ·ä½“éªŒæ»¡æ„"],
          "B": ["æ‰§è¡Œæ•ˆç‡ä¸€èˆ¬", "ç»“æœè´¨é‡åŸºæœ¬åˆæ ¼", "ç”¨æˆ·ä½“éªŒä¸€èˆ¬"],
          "C": ["æ‰§è¡Œæ•ˆç‡è¾ƒä½", "ç»“æœè´¨é‡éœ€è¦æ”¹è¿›", "ç”¨æˆ·ä½“éªŒæœ‰å¾…æå‡"]
        };
        return details[score] || ["å¾…è¯„ä¼°"];
      },
      getTaskDetails() {
        return {
          1: {
            id: 1,
            title: "å¸®åŠ©ç”¨æˆ·åˆ¶å®šå­¦ä¹ è®¡åˆ’",
            description: "æ ¹æ®ç”¨æˆ·çš„å­¦ä¹ ç›®æ ‡å’Œæ—¶é—´å®‰æ’ï¼Œåˆ¶å®šè¯¦ç»†çš„å­¦ä¹ è®¡åˆ’ï¼ŒåŒ…æ‹¬æ¯æ—¥ä»»åŠ¡ã€å¤ä¹ å®‰æ’ç­‰ã€‚",
            status: "completed",
            progress: 100,
            createTime: "2024-01-15 09:30",
            completedTime: "2024-01-15 16:45",
            processSteps: [
              {
                title: "åˆ†æç”¨æˆ·éœ€æ±‚",
                description: "äº†è§£ç”¨æˆ·çš„å­¦ä¹ ç›®æ ‡ã€å½“å‰æ°´å¹³ã€å¯ç”¨æ—¶é—´ç­‰åŸºæœ¬ä¿¡æ¯",
                completed: true,
                completedTime: "09:35"
              },
              {
                title: "åˆ¶å®šå­¦ä¹ æ¡†æ¶",
                description: "åŸºäºç”¨æˆ·éœ€æ±‚è®¾è®¡æ•´ä½“å­¦ä¹ æ¡†æ¶å’Œé˜¶æ®µæ€§ç›®æ ‡",
                completed: true,
                completedTime: "10:15"
              },
              {
                title: "ç»†åŒ–æ¯æ—¥ä»»åŠ¡",
                description: "å°†å­¦ä¹ ç›®æ ‡åˆ†è§£ä¸ºå…·ä½“çš„æ¯æ—¥å­¦ä¹ ä»»åŠ¡å’Œå¤ä¹ å®‰æ’",
                completed: true,
                completedTime: "14:20"
              },
              {
                title: "ä¼˜åŒ–å­¦ä¹ è®¡åˆ’",
                description: "æ ¹æ®ç”¨æˆ·åé¦ˆè°ƒæ•´å­¦ä¹ è®¡åˆ’ï¼Œç¡®ä¿å¯è¡Œæ€§å’Œæœ‰æ•ˆæ€§",
                completed: true,
                completedTime: "16:45"
              }
            ],
            analysisResult: [
              {
                title: "å­¦ä¹ ç›®æ ‡åˆ†æ",
                score: "A+",
                description: "ç”¨æˆ·ç›®æ ‡æ˜ç¡®ï¼Œæ—¶é—´å®‰æ’åˆç†ï¼Œå­¦ä¹ åŠ¨æœºå¼ºçƒˆ",
                details: [
                  "ç›®æ ‡å…·ä½“å¯é‡åŒ–",
                  "æ—¶é—´åˆ†é…ç§‘å­¦åˆç†",
                  "å­¦ä¹ èµ„æºå……è¶³"
                ]
              },
              {
                title: "å­¦ä¹ è®¡åˆ’è´¨é‡",
                score: "A",
                description: "åˆ¶å®šçš„å­¦ä¹ è®¡åˆ’ç»“æ„æ¸…æ™°ï¼Œå¾ªåºæ¸è¿›",
                details: [
                  "è®¡åˆ’å±‚æ¬¡åˆ†æ˜",
                  "ä»»åŠ¡éš¾åº¦é€‚ä¸­",
                  "å¤ä¹ å®‰æ’ç§‘å­¦"
                ]
              }
            ],
            suggestions: [
              {
                icon: "ğŸ“š",
                title: "åšæŒæ‰§è¡Œ",
                description: "å»ºè®®ä¸¥æ ¼æŒ‰ç…§è®¡åˆ’æ‰§è¡Œï¼Œå®šæœŸè¯„ä¼°å­¦ä¹ æ•ˆæœ"
              },
              {
                icon: "ğŸ“Š",
                title: "å®šæœŸè°ƒæ•´",
                description: "æ ¹æ®å­¦ä¹ è¿›åº¦å’Œæ•ˆæœï¼Œé€‚æ—¶è°ƒæ•´å­¦ä¹ è®¡åˆ’"
              },
              {
                icon: "ğŸ¯",
                title: "ç›®æ ‡å¯¼å‘",
                description: "ä¿æŒç›®æ ‡å¯¼å‘ï¼ŒåŠæ—¶è°ƒæ•´å­¦ä¹ ç­–ç•¥"
              }
            ]
          },
          2: {
            id: 2,
            title: "åˆ†æç”¨æˆ·æƒ…æ„ŸçŠ¶æ€",
            description: "é€šè¿‡å¯¹è¯åˆ†æç”¨æˆ·çš„æƒ…ç»ªå˜åŒ–ï¼Œæä¾›ç›¸åº”çš„æƒ…æ„Ÿæ”¯æŒå’Œå»ºè®®ã€‚",
            status: "active",
            progress: 65,
            createTime: "2024-01-16 14:20",
            processSteps: [
              {
                title: "æƒ…æ„Ÿæ•°æ®æ”¶é›†",
                description: "æ”¶é›†ç”¨æˆ·å¯¹è¯ä¸­çš„æƒ…æ„Ÿè¡¨è¾¾å’Œæƒ…ç»ªæŒ‡æ ‡",
                completed: true,
                completedTime: "14:25"
              },
              {
                title: "æƒ…ç»ªæ¨¡å¼åˆ†æ",
                description: "åˆ†æç”¨æˆ·çš„æƒ…æ„Ÿå˜åŒ–æ¨¡å¼å’Œè§¦å‘å› ç´ ",
                completed: true,
                completedTime: "15:10"
              },
              {
                title: "æƒ…æ„Ÿæ”¯æŒç­–ç•¥",
                description: "åˆ¶å®šä¸ªæ€§åŒ–çš„æƒ…æ„Ÿæ”¯æŒå’Œå¹²é¢„ç­–ç•¥",
                completed: false,
                active: true
              },
              {
                title: "æ•ˆæœè¯„ä¼°",
                description: "è¯„ä¼°æƒ…æ„Ÿæ”¯æŒçš„æ•ˆæœå¹¶æŒç»­ä¼˜åŒ–",
                completed: false
              }
            ],
            analysisResult: [
              {
                title: "æƒ…ç»ªç¨³å®šæ€§",
                score: "B+",
                description: "ç”¨æˆ·æƒ…ç»ªæ³¢åŠ¨è¾ƒå¤§ï¼Œéœ€è¦é‡ç‚¹å…³æ³¨",
                details: [
                  "æƒ…ç»ªå˜åŒ–é¢‘ç‡è¾ƒé«˜",
                  "å‹åŠ›ååº”æ˜æ˜¾",
                  "éœ€è¦æƒ…æ„Ÿæ”¯æŒ"
                ]
              }
            ],
            suggestions: [
              {
                icon: "ğŸ’",
                title: "æƒ…æ„Ÿå…³æ€€",
                description: "æä¾›æ›´å¤šæƒ…æ„Ÿæ”¯æŒå’Œå…³æ€€ï¼Œå¸®åŠ©ç¨³å®šæƒ…ç»ª"
              },
              {
                icon: "ğŸ§˜",
                title: "æ”¾æ¾æŠ€å·§",
                description: "å­¦ä¹ ä¸€äº›æ”¾æ¾å’Œæƒ…ç»ªè°ƒèŠ‚æŠ€å·§"
              }
            ]
          },
          3: {
            id: 3,
            title: "æ¨èé€‚åˆçš„ç¤¾äº¤æ´»åŠ¨",
            description: "åŸºäºç”¨æˆ·çš„å…´è¶£çˆ±å¥½å’Œç¤¾äº¤åå¥½ï¼Œæ¨èåˆé€‚çš„ç¤¾äº¤æ´»åŠ¨å’Œäº¤å‹å»ºè®®ã€‚",
            status: "active",
            progress: 30,
            createTime: "2024-01-17 10:15",
            processSteps: [
              {
                title: "å…´è¶£åˆ†æ",
                description: "åˆ†æç”¨æˆ·çš„å…´è¶£çˆ±å¥½å’Œç¤¾äº¤åå¥½",
                completed: true,
                completedTime: "10:20"
              },
              {
                title: "æ´»åŠ¨åŒ¹é…",
                description: "æ ¹æ®ç”¨æˆ·å…´è¶£åŒ¹é…åˆé€‚çš„ç¤¾äº¤æ´»åŠ¨",
                completed: false,
                active: true
              },
              {
                title: "æ¨èä¼˜åŒ–",
                description: "ä¼˜åŒ–æ¨èç®—æ³•ï¼Œæé«˜æ¨èå‡†ç¡®æ€§",
                completed: false
              },
              {
                title: "æ•ˆæœè·Ÿè¸ª",
                description: "è·Ÿè¸ªæ¨èæ•ˆæœï¼ŒæŒç»­æ”¹è¿›",
                completed: false
              }
            ],
            analysisResult: [
              {
                title: "å…´è¶£åŒ¹é…åº¦",
                score: "A-",
                description: "ç”¨æˆ·å…´è¶£æ˜ç¡®ï¼ŒåŒ¹é…åº¦è¾ƒé«˜",
                details: [
                  "å…´è¶£çˆ±å¥½å¤šæ ·åŒ–",
                  "ç¤¾äº¤éœ€æ±‚æ˜ç¡®",
                  "å‚ä¸æ„æ„¿å¼ºçƒˆ"
                ]
              }
            ],
            suggestions: [
              {
                icon: "ğŸ‰",
                title: "ç§¯æå‚ä¸",
                description: "å»ºè®®ç§¯æå‚ä¸æ¨èçš„ç¤¾äº¤æ´»åŠ¨"
              },
              {
                icon: "ğŸ‘¥",
                title: "æ‰©å¤§ç¤¾äº¤åœˆ",
                description: "é€šè¿‡æ´»åŠ¨è®¤è¯†æ›´å¤šå¿—åŒé“åˆçš„æœ‹å‹"
              }
            ]
          },
          4: {
            id: 4,
            title: "ååŠ©ç”¨æˆ·è§£å†³é—®é¢˜",
            description: "å¸®åŠ©ç”¨æˆ·åˆ†æå½“å‰é‡åˆ°çš„é—®é¢˜ï¼Œæä¾›è§£å†³æ–¹æ¡ˆå’Œè¡ŒåŠ¨å»ºè®®ã€‚",
            status: "completed",
            progress: 100,
            createTime: "2024-01-14 16:00",
            completedTime: "2024-01-15 11:30",
            processSteps: [
              {
                title: "é—®é¢˜è¯†åˆ«",
                description: "å‡†ç¡®è¯†åˆ«ç”¨æˆ·é‡åˆ°çš„æ ¸å¿ƒé—®é¢˜",
                completed: true,
                completedTime: "16:05"
              },
              {
                title: "åŸå› åˆ†æ",
                description: "æ·±å…¥åˆ†æé—®é¢˜çš„æ ¹æœ¬åŸå› ",
                completed: true,
                completedTime: "16:30"
              },
              {
                title: "æ–¹æ¡ˆåˆ¶å®š",
                description: "åˆ¶å®šå¤šç§è§£å†³æ–¹æ¡ˆä¾›ç”¨æˆ·é€‰æ‹©",
                completed: true,
                completedTime: "09:15"
              },
              {
                title: "å®æ–½æŒ‡å¯¼",
                description: "æä¾›è¯¦ç»†çš„å®æ–½æŒ‡å¯¼å’Œåç»­æ”¯æŒ",
                completed: true,
                completedTime: "11:30"
              }
            ],
            analysisResult: [
              {
                title: "é—®é¢˜è§£å†³èƒ½åŠ›",
                score: "A+",
                description: "é—®é¢˜åˆ†æé€å½»ï¼Œè§£å†³æ–¹æ¡ˆæœ‰æ•ˆ",
                details: [
                  "é—®é¢˜è¯†åˆ«å‡†ç¡®",
                  "åˆ†ææ·±å…¥å…¨é¢",
                  "æ–¹æ¡ˆåˆ‡å®å¯è¡Œ"
                ]
              }
            ],
            suggestions: [
              {
                icon: "âœ…",
                title: "æ‰§è¡Œæ–¹æ¡ˆ",
                description: "æŒ‰ç…§åˆ¶å®šçš„æ–¹æ¡ˆé€æ­¥æ‰§è¡Œ"
              },
              {
                icon: "ğŸ“",
                title: "å¯»æ±‚æ”¯æŒ",
                description: "å¦‚é‡å›°éš¾åŠæ—¶å¯»æ±‚å¸®åŠ©å’Œæ”¯æŒ"
              }
            ]
          },
          5: {
            id: 5,
            title: "åˆ¶å®šå¥èº«è®¡åˆ’",
            description: "æ ¹æ®ç”¨æˆ·çš„èº«ä½“çŠ¶å†µå’Œå¥èº«ç›®æ ‡ï¼Œåˆ¶å®šä¸ªæ€§åŒ–çš„å¥èº«è®¡åˆ’å’Œé¥®é£Ÿå»ºè®®ã€‚",
            status: "pending",
            progress: 0,
            createTime: "2024-01-18 08:45",
            processSteps: [
              {
                title: "èº«ä½“çŠ¶å†µè¯„ä¼°",
                description: "è¯„ä¼°ç”¨æˆ·å½“å‰çš„èº«ä½“çŠ¶å†µå’Œå¥åº·æ°´å¹³",
                completed: false
              },
              {
                title: "ç›®æ ‡è®¾å®š",
                description: "ä¸ç”¨æˆ·ä¸€èµ·è®¾å®šåˆç†çš„å¥èº«ç›®æ ‡",
                completed: false
              },
              {
                title: "è®¡åˆ’åˆ¶å®š",
                description: "åˆ¶å®šä¸ªæ€§åŒ–çš„å¥èº«è®¡åˆ’å’Œé¥®é£Ÿå»ºè®®",
                completed: false
              },
              {
                title: "è·Ÿè¸ªè°ƒæ•´",
                description: "è·Ÿè¸ªæ‰§è¡Œæƒ…å†µå¹¶é€‚æ—¶è°ƒæ•´è®¡åˆ’",
                completed: false
              }
            ],
            analysisResult: [],
            suggestions: [
              {
                icon: "ğŸƒ",
                title: "å¼€å§‹è¡ŒåŠ¨",
                description: "å»ºè®®å°½å¿«å¼€å§‹åˆ¶å®šå’Œæ‰§è¡Œå¥èº«è®¡åˆ’"
              },
              {
                icon: "ğŸ’ª",
                title: "åšæŒé”»ç‚¼",
                description: "åˆ¶å®šè®¡åˆ’åè¦åšæŒæ‰§è¡Œï¼Œæ‰èƒ½çœ‹åˆ°æ•ˆæœ"
              }
            ]
          }
        };
      },
      getProcessStatusText() {
        switch (this.taskData.status) {
          case "completed":
            return "å·²å®Œæˆ";
          case "active":
            return "è¿›è¡Œä¸­";
          case "pending":
            return "å¾…å¼€å§‹";
          default:
            return "æœªçŸ¥çŠ¶æ€";
        }
      },
      getScoreClass(score) {
        if (score.includes("A+"))
          return "score-excellent";
        if (score.includes("A"))
          return "score-good";
        if (score.includes("B"))
          return "score-average";
        return "score-poor";
      },
      showRatingModal() {
        this.rating = 0;
        this.comment = "";
        this.showRating = true;
      },
      hideRatingModal() {
        this.showRating = false;
      },
      setRating(score) {
        this.rating = score;
      },
      submitRating() {
        if (this.rating === 0) {
          uni.showToast({
            title: "è¯·é€‰æ‹©è¯„åˆ†",
            icon: "none"
          });
          return;
        }
        uni.showToast({
          title: "è¯„ä»·æäº¤æˆåŠŸï¼",
          icon: "success"
        });
        this.hideRatingModal();
      },
      showTerminateModal() {
        this.showTerminate = true;
      },
      hideTerminateModal() {
        this.showTerminate = false;
      },
      confirmTerminate() {
        this.taskData.status = "terminated";
        this.taskData.progress = 0;
        this.hideTerminateModal();
        uni.showToast({
          title: "ä»»åŠ¡å·²ç»ˆæ­¢",
          icon: "success"
        });
        const pages = getCurrentPages();
        const prevPage = pages[pages.length - 2];
        if (prevPage && prevPage.updateTaskStatus) {
          prevPage.updateTaskStatus(this.taskId, "terminated");
        }
        setTimeout(() => {
          uni.navigateBack();
        }, 1500);
      },
      // å¼€å§‹ä»»åŠ¡
      async startTask() {
        try {
          formatAppLog("log", "at pages/ai/task-detail.vue:849", "å¼€å§‹ä»»åŠ¡ï¼Œä»»åŠ¡ID:", this.taskId);
          uni.showLoading({
            title: "æ­£åœ¨å¼€å§‹ä»»åŠ¡..."
          });
          const response = await uni.request({
            url: `http://localhost:8888/api/a-entities/ai-task-log/start-task/${this.taskId}`,
            method: "POST",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/ai/task-detail.vue:863", "å¼€å§‹ä»»åŠ¡å“åº”:", response);
          if (response.statusCode === 200 && response.data.success) {
            this.taskData.status = "active";
            this.taskData.progress = 10;
            this.taskData.processSteps = this.generateProcessSteps(this.taskData.description, "active");
            this.taskData.suggestions = this.generateSuggestions("active", this.taskData.comment);
            uni.hideLoading();
            uni.showToast({
              title: "ä»»åŠ¡å·²å¼€å§‹",
              icon: "success"
            });
            const pages = getCurrentPages();
            const prevPage = pages[pages.length - 2];
            if (prevPage && prevPage.updateTaskStatus) {
              prevPage.updateTaskStatus(this.taskId, "active");
            }
          } else {
            uni.hideLoading();
            uni.showToast({
              title: response.data.message || "å¼€å§‹ä»»åŠ¡å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/ai/task-detail.vue:896", "å¼€å§‹ä»»åŠ¡å¼‚å¸¸:", error);
          uni.hideLoading();
          uni.showToast({
            title: "å¼€å§‹ä»»åŠ¡å¤±è´¥ï¼Œè¯·é‡è¯•",
            icon: "error"
          });
        }
      }
    }
  };
  function _sfc_render$Y(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "task-detail-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", {
          class: "back-button",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
        }, [
          (vue.openBlock(), vue.createElementBlock("svg", {
            class: "icon",
            viewBox: "0 0 1024 1024",
            version: "1.1",
            xmlns: "http://www.w3.org/2000/svg",
            width: "32",
            height: "32"
          }, [
            vue.createElementVNode("path", {
              d: "M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",
              fill: "#666666"
            })
          ]))
        ]),
        vue.createElementVNode("view", { class: "header-title" }, [
          vue.createElementVNode("text", { class: "title-text" }, "ä»»åŠ¡è¯¦æƒ…")
        ]),
        vue.createElementVNode("view", { class: "placeholder" })
      ]),
      vue.createCommentVNode(" ä»»åŠ¡åŸºæœ¬ä¿¡æ¯ "),
      $data.taskData && $data.taskData.title ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "task-info-card"
      }, [
        vue.createElementVNode("view", { class: "task-header" }, [
          vue.createElementVNode("view", { class: "task-title-row" }, [
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["task-status", $data.taskData.status])
              },
              [
                $data.taskData.status === "completed" ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "status-icon"
                }, "âœ“")) : $data.taskData.status === "active" ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 1,
                  class: "status-icon"
                }, "â—")) : (vue.openBlock(), vue.createElementBlock("view", {
                  key: 2,
                  class: "status-icon"
                }, "â—‹"))
              ],
              2
              /* CLASS */
            ),
            vue.createElementVNode(
              "text",
              { class: "task-title" },
              vue.toDisplayString($data.taskData.title),
              1
              /* TEXT */
            ),
            $data.taskData.status === "completed" ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "completed-badge"
            }, "å·²å®Œæˆ")) : vue.createCommentVNode("v-if", true)
          ]),
          vue.createElementVNode(
            "text",
            { class: "task-time" },
            vue.toDisplayString($data.taskData.createTime),
            1
            /* TEXT */
          )
        ]),
        vue.createElementVNode(
          "text",
          { class: "task-description" },
          vue.toDisplayString($data.taskData.description),
          1
          /* TEXT */
        ),
        $data.taskData.status === "active" ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "task-progress"
        }, [
          vue.createElementVNode("view", { class: "progress-info" }, [
            vue.createElementVNode("text", { class: "progress-label" }, "å®Œæˆè¿›åº¦"),
            vue.createElementVNode(
              "text",
              { class: "progress-text" },
              vue.toDisplayString($data.taskData.progress) + "%",
              1
              /* TEXT */
            )
          ]),
          vue.createElementVNode("view", { class: "progress-bar" }, [
            vue.createElementVNode(
              "view",
              {
                class: "progress-fill",
                style: vue.normalizeStyle({ width: $data.taskData.progress + "%" })
              },
              null,
              4
              /* STYLE */
            )
          ])
        ])) : vue.createCommentVNode("v-if", true)
      ])) : (vue.openBlock(), vue.createElementBlock(
        vue.Fragment,
        { key: 1 },
        [
          vue.createCommentVNode(" åŠ è½½ä¸­æç¤º "),
          vue.createElementVNode("view", { class: "loading-card" }, [
            vue.createElementVNode("text", { class: "loading-text" }, "åŠ è½½ä¸­...")
          ])
        ],
        2112
        /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
      )),
      vue.createCommentVNode(" AIæ‰§è¡Œè¿‡ç¨‹ "),
      $data.taskData && $data.taskData.processSteps ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 2,
        class: "execution-process"
      }, [
        vue.createElementVNode("view", { class: "section-header" }, [
          vue.createElementVNode("text", { class: "section-title" }, "AIæ‰§è¡Œè¿‡ç¨‹"),
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["process-status", $data.taskData.status])
            },
            [
              vue.createElementVNode(
                "text",
                null,
                vue.toDisplayString($options.getProcessStatusText()),
                1
                /* TEXT */
              )
            ],
            2
            /* CLASS */
          )
        ]),
        vue.createElementVNode("view", { class: "process-steps" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.taskData.processSteps, (step, index) => {
              return vue.openBlock(), vue.createElementBlock(
                "view",
                {
                  class: vue.normalizeClass(["process-step", { completed: step.completed, active: step.active }]),
                  key: index
                },
                [
                  vue.createElementVNode("view", { class: "step-indicator" }, [
                    step.completed ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "step-icon completed"
                    }, "âœ“")) : step.active ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 1,
                      class: "step-icon active"
                    }, "â—")) : (vue.openBlock(), vue.createElementBlock("view", {
                      key: 2,
                      class: "step-icon"
                    }, "â—‹"))
                  ]),
                  vue.createElementVNode("view", { class: "step-content" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "step-title" },
                      vue.toDisplayString(step.title),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "text",
                      { class: "step-description" },
                      vue.toDisplayString(step.description),
                      1
                      /* TEXT */
                    ),
                    step.completed ? (vue.openBlock(), vue.createElementBlock(
                      "text",
                      {
                        key: 0,
                        class: "step-time"
                      },
                      vue.toDisplayString(step.completedTime),
                      1
                      /* TEXT */
                    )) : vue.createCommentVNode("v-if", true)
                  ])
                ],
                2
                /* CLASS */
              );
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" AIåˆ†æç»“æœ "),
      $data.taskData && $data.taskData.analysisResult && $data.taskData.analysisResult.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 3,
        class: "analysis-result"
      }, [
        vue.createElementVNode("view", { class: "section-header" }, [
          vue.createElementVNode("text", { class: "section-title" }, "AIåˆ†æç»“æœ")
        ]),
        vue.createElementVNode("view", { class: "result-content" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.taskData.analysisResult, (result, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "result-item",
                key: index
              }, [
                vue.createElementVNode("view", { class: "result-header" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "result-title" },
                    vue.toDisplayString(result.title),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["result-score", $options.getScoreClass(result.score)])
                    },
                    [
                      vue.createElementVNode(
                        "text",
                        null,
                        vue.toDisplayString(result.score),
                        1
                        /* TEXT */
                      )
                    ],
                    2
                    /* CLASS */
                  )
                ]),
                vue.createElementVNode(
                  "text",
                  { class: "result-description" },
                  vue.toDisplayString(result.description),
                  1
                  /* TEXT */
                ),
                result.details ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "result-details"
                }, [
                  (vue.openBlock(true), vue.createElementBlock(
                    vue.Fragment,
                    null,
                    vue.renderList(result.details, (detail, idx) => {
                      return vue.openBlock(), vue.createElementBlock(
                        "text",
                        {
                          class: "detail-item",
                          key: idx
                        },
                        "â€¢ " + vue.toDisplayString(detail),
                        1
                        /* TEXT */
                      );
                    }),
                    128
                    /* KEYED_FRAGMENT */
                  ))
                ])) : vue.createCommentVNode("v-if", true)
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" å»ºè®®å’Œä¸‹ä¸€æ­¥ "),
      $data.taskData && $data.taskData.suggestions && $data.taskData.suggestions.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 4,
        class: "suggestions"
      }, [
        vue.createElementVNode("view", { class: "section-header" }, [
          vue.createElementVNode("text", { class: "section-title" }, "å»ºè®®å’Œä¸‹ä¸€æ­¥")
        ]),
        vue.createElementVNode("view", { class: "suggestion-content" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.taskData.suggestions, (suggestion, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "suggestion-item",
                key: index
              }, [
                vue.createElementVNode(
                  "view",
                  { class: "suggestion-icon" },
                  vue.toDisplayString(suggestion.icon),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode("view", { class: "suggestion-text" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "suggestion-title" },
                    vue.toDisplayString(suggestion.title),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "text",
                    { class: "suggestion-desc" },
                    vue.toDisplayString(suggestion.description),
                    1
                    /* TEXT */
                  )
                ])
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" æ“ä½œæŒ‰é’® "),
      $data.taskData && $data.taskData.status ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 5,
        class: "action-buttons"
      }, [
        $data.taskData.status === "pending" ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "action-btn start-btn",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.startTask && $options.startTask(...args))
        }, [
          vue.createElementVNode("text", null, "å¼€å§‹ä»»åŠ¡")
        ])) : $data.taskData.status === "completed" ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "action-btn rate-btn",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.showRatingModal && $options.showRatingModal(...args))
        }, [
          vue.createElementVNode("text", null, "è¯„ä»·ä»»åŠ¡")
        ])) : $data.taskData.status === "active" ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 2,
          class: "action-btn terminate-btn",
          onClick: _cache[3] || (_cache[3] = (...args) => $options.showTerminateModal && $options.showTerminateModal(...args))
        }, [
          vue.createElementVNode("text", null, "ç»ˆæ­¢ä»»åŠ¡")
        ])) : vue.createCommentVNode("v-if", true)
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" è¯„åˆ†å¼¹çª— "),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["rating-modal", { active: $data.showRating }]),
          onClick: _cache[9] || (_cache[9] = (...args) => $options.hideRatingModal && $options.hideRatingModal(...args))
        },
        [
          vue.createElementVNode("view", {
            class: "rating-content",
            onClick: _cache[8] || (_cache[8] = vue.withModifiers(() => {
            }, ["stop"]))
          }, [
            vue.createElementVNode("view", { class: "rating-header" }, [
              vue.createElementVNode("text", { class: "rating-title" }, "ä»»åŠ¡è¯„ä»·"),
              vue.createElementVNode("view", {
                class: "close-btn",
                onClick: _cache[4] || (_cache[4] = (...args) => $options.hideRatingModal && $options.hideRatingModal(...args))
              }, "Ã—")
            ]),
            vue.createElementVNode("view", { class: "rating-section" }, [
              vue.createElementVNode("text", { class: "rating-label" }, "è¯·ä¸ºAIçš„è¡¨ç°è¯„åˆ†ï¼š"),
              vue.createElementVNode("view", { class: "star-rating" }, [
                (vue.openBlock(), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList(5, (i) => {
                    return vue.createElementVNode("view", {
                      class: vue.normalizeClass(["star", { active: i <= $data.rating }]),
                      key: i,
                      onClick: ($event) => $options.setRating(i)
                    }, [
                      vue.createElementVNode("text", null, "â˜…")
                    ], 10, ["onClick"]);
                  }),
                  64
                  /* STABLE_FRAGMENT */
                ))
              ]),
              vue.createElementVNode(
                "text",
                { class: "rating-text" },
                vue.toDisplayString($options.ratingText),
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode("view", { class: "comment-section" }, [
              vue.createElementVNode("text", { class: "comment-label" }, "è¯„ä»·å†…å®¹ï¼š"),
              vue.withDirectives(vue.createElementVNode(
                "textarea",
                {
                  class: "comment-input",
                  "onUpdate:modelValue": _cache[5] || (_cache[5] = ($event) => $data.comment = $event),
                  placeholder: "è¯·è¾“å…¥æ‚¨çš„è¯„ä»·...",
                  maxlength: "200"
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $data.comment]
              ]),
              vue.createElementVNode(
                "text",
                { class: "char-count" },
                vue.toDisplayString($data.comment.length) + "/200",
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode("view", { class: "rating-actions" }, [
              vue.createElementVNode("view", {
                class: "cancel-btn",
                onClick: _cache[6] || (_cache[6] = (...args) => $options.hideRatingModal && $options.hideRatingModal(...args))
              }, [
                vue.createElementVNode("text", null, "å–æ¶ˆ")
              ]),
              vue.createElementVNode("view", {
                class: "submit-btn",
                onClick: _cache[7] || (_cache[7] = (...args) => $options.submitRating && $options.submitRating(...args))
              }, [
                vue.createElementVNode("text", null, "æäº¤è¯„ä»·")
              ])
            ])
          ])
        ],
        2
        /* CLASS */
      ),
      vue.createCommentVNode(" ç»ˆæ­¢ä»»åŠ¡ç¡®è®¤å¼¹çª— "),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["terminate-modal", { active: $data.showTerminate }]),
          onClick: _cache[14] || (_cache[14] = (...args) => $options.hideTerminateModal && $options.hideTerminateModal(...args))
        },
        [
          vue.createElementVNode("view", {
            class: "terminate-content",
            onClick: _cache[13] || (_cache[13] = vue.withModifiers(() => {
            }, ["stop"]))
          }, [
            vue.createElementVNode("view", { class: "terminate-header" }, [
              vue.createElementVNode("text", { class: "terminate-title" }, "ç»ˆæ­¢ä»»åŠ¡ç¡®è®¤"),
              vue.createElementVNode("view", {
                class: "close-btn",
                onClick: _cache[10] || (_cache[10] = (...args) => $options.hideTerminateModal && $options.hideTerminateModal(...args))
              }, "Ã—")
            ]),
            vue.createElementVNode("view", { class: "terminate-body" }, [
              vue.createElementVNode("text", { class: "terminate-message" }, "ç¡®å®šè¦ç»ˆæ­¢å½“å‰ä»»åŠ¡å—ï¼Ÿ"),
              vue.createElementVNode("text", { class: "terminate-warning" }, "ç»ˆæ­¢åä»»åŠ¡å°†æ— æ³•æ¢å¤ï¼Œè¯·è°¨æ…æ“ä½œã€‚")
            ]),
            vue.createElementVNode("view", { class: "terminate-actions" }, [
              vue.createElementVNode("view", {
                class: "cancel-btn",
                onClick: _cache[11] || (_cache[11] = (...args) => $options.hideTerminateModal && $options.hideTerminateModal(...args))
              }, [
                vue.createElementVNode("text", null, "å–æ¶ˆ")
              ]),
              vue.createElementVNode("view", {
                class: "confirm-btn",
                onClick: _cache[12] || (_cache[12] = (...args) => $options.confirmTerminate && $options.confirmTerminate(...args))
              }, [
                vue.createElementVNode("text", null, "ç¡®è®¤ç»ˆæ­¢")
              ])
            ])
          ])
        ],
        2
        /* CLASS */
      )
    ]);
  }
  const PagesAiTaskDetail = /* @__PURE__ */ _export_sfc(_sfc_main$Z, [["render", _sfc_render$Y], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/ai/task-detail.vue"]]);
  const _sfc_main$Y = {
    name: "ChatPage",
    data() {
      return {
        friendName: "",
        friendId: null,
        sessionId: null,
        userId: null,
        showActionSheet: false,
        scrollTop: 0,
        inputMessage: "",
        inputFocus: false,
        isVoiceMode: false,
        // è¯­éŸ³æ¨¡å¼æ ‡è¯†
        showEmojiPanel: false,
        // è¡¨æƒ…é¢æ¿æ˜¾ç¤ºæ ‡è¯†
        showPlusPanel: false,
        // åŠ å·é¢æ¿æ˜¾ç¤ºæ ‡è¯†
        messages: [],
        loading: false,
        errorMessage: ""
      };
    },
    onLoad(options) {
      if (options.friendName) {
        this.friendName = decodeURIComponent(options.friendName);
      }
      if (options.friendId) {
        this.friendId = parseInt(options.friendId);
      }
      if (options.sessionId) {
        this.sessionId = parseInt(options.sessionId);
      }
      this.userId = uni.getStorageSync("userId") || 1;
      formatAppLog("log", "at pages/chat/chat.vue:250", "èŠå¤©é¡µé¢å‚æ•°:", {
        friendName: this.friendName,
        friendId: this.friendId,
        sessionId: this.sessionId,
        userId: this.userId
      });
      this.loadChatMessages();
    },
    methods: {
      // åŠ è½½èŠå¤©è®°å½•
      async loadChatMessages() {
        if (!this.sessionId) {
          this.errorMessage = "ä¼šè¯IDä¸å­˜åœ¨";
          return;
        }
        this.loading = true;
        this.errorMessage = "";
        try {
          formatAppLog("log", "at pages/chat/chat.vue:272", "å¼€å§‹åŠ è½½èŠå¤©è®°å½•ï¼ŒsessionId:", this.sessionId);
          const response = await uni.request({
            url: `http://localhost:8888/api/user-chat-detail/session/${this.sessionId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/chat/chat.vue:281", "APIå“åº”çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/chat/chat.vue:282", "APIå“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data) {
            formatAppLog("log", "at pages/chat/chat.vue:285", "åŸå§‹èŠå¤©è®°å½•æ•°æ®:", response.data);
            this.messages = this.convertChatDataToMessages(response.data);
            formatAppLog("log", "at pages/chat/chat.vue:287", "è½¬æ¢åçš„èŠå¤©è®°å½•:", this.messages);
            this.$nextTick(() => {
              this.scrollToBottom();
            });
          } else {
            this.errorMessage = `åŠ è½½èŠå¤©è®°å½•å¤±è´¥ï¼ŒçŠ¶æ€ç : ${response.statusCode}`;
            formatAppLog("error", "at pages/chat/chat.vue:295", "åŠ è½½èŠå¤©è®°å½•å¤±è´¥:", response);
          }
        } catch (error) {
          this.errorMessage = "ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥è¿æ¥";
          formatAppLog("error", "at pages/chat/chat.vue:299", "åŠ è½½èŠå¤©è®°å½•å¼‚å¸¸:", error);
        } finally {
          this.loading = false;
        }
      },
      // è½¬æ¢æ•°æ®åº“æ•°æ®ä¸ºæ¶ˆæ¯æ ¼å¼
      convertChatDataToMessages(chatData) {
        formatAppLog("log", "at pages/chat/chat.vue:307", "å¼€å§‹è½¬æ¢èŠå¤©æ•°æ®:", chatData);
        formatAppLog("log", "at pages/chat/chat.vue:308", "å½“å‰ç”¨æˆ·ID:", this.userId);
        if (!Array.isArray(chatData)) {
          formatAppLog("log", "at pages/chat/chat.vue:311", "èŠå¤©æ•°æ®ä¸æ˜¯æ•°ç»„:", chatData);
          return [];
        }
        const sortedData = chatData.sort((a, b) => {
          const timeA = new Date(a.createdAt).getTime();
          const timeB = new Date(b.createdAt).getTime();
          return timeA - timeB;
        });
        const result = sortedData.map((chat, index) => {
          const isUserMessage = chat.demandParty && chat.demandParty.toString() === this.userId.toString();
          formatAppLog("log", "at pages/chat/chat.vue:328", `æ¶ˆæ¯${index}:`, {
            id: chat.id,
            demandParty: chat.demandParty,
            message: chat.message,
            isUserMessage,
            userId: this.userId
          });
          return {
            id: chat.id,
            type: isUserMessage ? "right" : "left",
            text: chat.message || "",
            time: this.formatTime(chat.createdAt),
            demandParty: chat.demandParty,
            createdAt: chat.createdAt
          };
        });
        formatAppLog("log", "at pages/chat/chat.vue:346", "è½¬æ¢ç»“æœ:", result);
        return result;
      },
      // æ ¼å¼åŒ–æ—¶é—´
      formatTime(timestamp) {
        if (!timestamp)
          return "";
        const date = new Date(timestamp);
        const hours = date.getHours();
        const minutes = date.getMinutes();
        const timeStr = hours < 12 ? "ä¸Šåˆ" : "ä¸‹åˆ";
        const displayHours = hours < 12 ? hours : hours - 12;
        return `${timeStr}${displayHours}:${minutes.toString().padStart(2, "0")}`;
      },
      goBack() {
        try {
          uni.navigateBack({
            fail: () => {
              uni.navigateTo({
                url: "/pages/chat/chat-list"
              });
            }
          });
        } catch (error) {
          uni.navigateTo({
            url: "/pages/chat/chat-list"
          });
        }
      },
      goToHome() {
        uni.navigateTo({
          url: "/pages/feed/content-feed"
        });
      },
      goToChatList() {
        uni.navigateTo({
          url: "/pages/chat/chat-list"
        });
      },
      goToAIChat() {
      },
      goToFriendList() {
        uni.navigateTo({
          url: "/pages/chat/friend-list"
        });
      },
      goToProfile() {
        uni.navigateTo({
          url: "/pages/feed/user-profile"
        });
      },
      goToAI() {
        uni.navigateTo({
          url: "/pages/ai/ai"
        });
      },
      showMoreOptions() {
        uni.navigateTo({
          url: `/pages/chat/chat-info?friendName=${encodeURIComponent(this.friendName)}`
        });
      },
      hideActionSheet() {
        this.showActionSheet = false;
      },
      clearChat() {
        this.hideActionSheet();
        uni.showModal({
          title: "ç¡®è®¤æ¸…ç©º",
          content: "ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰èŠå¤©è®°å½•å—ï¼Ÿ",
          success: (res) => {
            if (res.confirm) {
              this.clearAllMessages();
              uni.showToast({
                title: "èŠå¤©è®°å½•å·²æ¸…ç©º",
                icon: "success"
              });
            }
          }
        });
      },
      reportChat() {
        this.hideActionSheet();
        uni.navigateTo({
          url: "/pages/report/report"
        });
      },
      clearAllMessages() {
        this.messages = [];
        this.scrollTop = 0;
      },
      blockUser() {
        this.hideActionSheet();
        uni.showModal({
          title: "ç¡®è®¤æ‹‰é»‘",
          content: `ç¡®å®šè¦æ‹‰é»‘ ${this.friendName || "è¯¥ç”¨æˆ·"} å—ï¼Ÿ`,
          success: (res) => {
            if (res.confirm) {
              uni.showToast({
                title: "ç”¨æˆ·å·²æ‹‰é»‘",
                icon: "success"
              });
              setTimeout(() => {
                uni.navigateBack();
              }, 1500);
            }
          }
        });
      },
      toggleVoiceInput() {
        this.isVoiceMode = !this.isVoiceMode;
        if (this.isVoiceMode) {
          this.showEmojiPanel = false;
          this.showPlusPanel = false;
        }
      },
      toggleEmoji() {
        this.showEmojiPanel = !this.showEmojiPanel;
        this.showPlusPanel = false;
      },
      togglePlusMenu() {
        this.showPlusPanel = !this.showPlusPanel;
        this.showEmojiPanel = false;
      },
      hideEmojiPanel() {
        this.showEmojiPanel = false;
      },
      hidePlusPanel() {
        this.showPlusPanel = false;
      },
      startVoiceRecord() {
        uni.showToast({
          title: "å¼€å§‹å½•éŸ³",
          icon: "none"
        });
      },
      endVoiceRecord() {
        uni.showToast({
          title: "å½•éŸ³å®Œæˆ",
          icon: "none"
        });
      },
      selectImage() {
        this.hidePlusPanel();
        uni.showToast({
          title: "å›¾ç‰‡é€‰æ‹©åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      openCamera() {
        this.hidePlusPanel();
        uni.showToast({
          title: "ç›¸æœºåŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      makeCall() {
        this.hidePlusPanel();
        uni.showToast({
          title: "é€šè¯åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      shareLocation() {
        this.hidePlusPanel();
        uni.showToast({
          title: "ä½ç½®åˆ†äº«åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      onInputFocus() {
        this.inputFocus = true;
      },
      onInputBlur() {
        this.inputFocus = false;
      },
      async sendMessage() {
        if (this.inputMessage.trim()) {
          const messageText = this.inputMessage.trim();
          const newMessage = {
            id: Date.now(),
            // ä¸´æ—¶ID
            type: "right",
            text: messageText,
            time: this.getCurrentTime(),
            demandParty: this.userId,
            createdAt: (/* @__PURE__ */ new Date()).toISOString()
          };
          this.messages.push(newMessage);
          this.inputMessage = "";
          this.$nextTick(() => {
            this.scrollToBottom();
          });
          await this.saveMessageToDatabase(messageText);
        }
      },
      // ä¿å­˜æ¶ˆæ¯åˆ°æ•°æ®åº“
      async saveMessageToDatabase(messageText) {
        try {
          const response = await uni.request({
            url: "http://localhost:8888/api/user-chat-detail/save",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            },
            data: {
              sessionId: this.sessionId,
              demandParty: this.userId.toString(),
              message: messageText,
              responseParty: this.friendId ? this.friendId.toString() : null,
              senderType: "user"
            }
          });
          if (response.statusCode === 200) {
            formatAppLog("log", "at pages/chat/chat.vue:594", "æ¶ˆæ¯ä¿å­˜æˆåŠŸ:", response.data);
          } else {
            formatAppLog("error", "at pages/chat/chat.vue:596", "æ¶ˆæ¯ä¿å­˜å¤±è´¥:", response);
            uni.showToast({
              title: "æ¶ˆæ¯å‘é€å¤±è´¥",
              icon: "none"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/chat/chat.vue:603", "ä¿å­˜æ¶ˆæ¯å¼‚å¸¸:", error);
          uni.showToast({
            title: "æ¶ˆæ¯å‘é€å¤±è´¥",
            icon: "none"
          });
        }
      },
      getCurrentTime() {
        const now = /* @__PURE__ */ new Date();
        const hours = now.getHours();
        const minutes = now.getMinutes();
        const timeStr = hours < 12 ? "ä¸Šåˆ" : "ä¸‹åˆ";
        const displayHours = hours < 12 ? hours : hours - 12;
        return `${timeStr}${displayHours}:${minutes.toString().padStart(2, "0")}`;
      },
      scrollToBottom() {
        this.scrollTop = 999999;
      },
      goToFriendCard() {
        formatAppLog("log", "at pages/chat/chat.vue:624", "goToFriendCard è¢«è°ƒç”¨ï¼Œå½“å‰ friendId:", this.friendId);
        formatAppLog("log", "at pages/chat/chat.vue:625", "å½“å‰ friendName:", this.friendName);
        if (!this.friendId) {
          uni.showToast({
            title: "å¥½å‹ä¿¡æ¯ä¸å®Œæ•´",
            icon: "error"
          });
          return;
        }
        uni.navigateTo({
          url: `/pages/chat/friend-card?friendName=${encodeURIComponent(this.friendName)}&friendId=${this.friendId}`
        });
      }
    }
  };
  function _sfc_render$X(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "chat-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¤´éƒ¨æ  "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", {
          class: "back-btn",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
        }, [
          (vue.openBlock(), vue.createElementBlock("svg", {
            class: "back-icon",
            viewBox: "0 0 1024 1024",
            version: "1.1",
            xmlns: "http://www.w3.org/2000/svg",
            width: "32",
            height: "32"
          }, [
            vue.createElementVNode("path", {
              d: "M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",
              fill: "#666666",
              "p-id": "727"
            })
          ]))
        ]),
        vue.createElementVNode(
          "text",
          { class: "title" },
          vue.toDisplayString($data.friendName),
          1
          /* TEXT */
        ),
        vue.createElementVNode("view", {
          class: "more-btn",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.showMoreOptions && $options.showMoreOptions(...args))
        }, [
          vue.createElementVNode("view", { class: "dot" }),
          vue.createElementVNode("view", { class: "dot" }),
          vue.createElementVNode("view", { class: "dot" })
        ])
      ]),
      vue.createCommentVNode(" èŠå¤©å¯¹è¯åŒºåŸŸ "),
      vue.createElementVNode("scroll-view", {
        class: "chat-area",
        "scroll-y": "true",
        "scroll-top": $data.scrollTop
      }, [
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-container"
        }, [
          vue.createElementVNode("view", { class: "loading-spinner" }),
          vue.createElementVNode("text", { class: "loading-text" }, "åŠ è½½ä¸­...")
        ])) : $data.errorMessage ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 1 },
          [
            vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
            vue.createElementVNode("view", { class: "error-container" }, [
              vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
              vue.createElementVNode(
                "text",
                { class: "error-text" },
                vue.toDisplayString($data.errorMessage),
                1
                /* TEXT */
              ),
              vue.createElementVNode("button", {
                class: "retry-button",
                onClick: _cache[2] || (_cache[2] = (...args) => $options.loadChatMessages && $options.loadChatMessages(...args))
              }, [
                vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
              ])
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )) : $data.messages.length > 0 ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 2 },
          [
            vue.createCommentVNode(" èŠå¤©æ¶ˆæ¯ "),
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.messages, (message) => {
                return vue.openBlock(), vue.createElementBlock(
                  "view",
                  {
                    key: message.id,
                    class: vue.normalizeClass(["message", message.type])
                  },
                  [
                    message.type === "left" ? (vue.openBlock(), vue.createElementBlock("image", {
                      key: 0,
                      class: "avatar",
                      src: "",
                      mode: "aspectFill",
                      onClick: _cache[3] || (_cache[3] = (...args) => $options.goToFriendCard && $options.goToFriendCard(...args))
                    })) : vue.createCommentVNode("v-if", true),
                    vue.createElementVNode("view", { class: "message-bubble" }, [
                      vue.createElementVNode(
                        "text",
                        { class: "message-text" },
                        vue.toDisplayString(message.text),
                        1
                        /* TEXT */
                      )
                    ]),
                    message.type === "right" ? (vue.openBlock(), vue.createElementBlock("image", {
                      key: 1,
                      class: "avatar",
                      src: "",
                      mode: "aspectFill"
                    })) : vue.createCommentVNode("v-if", true)
                  ],
                  2
                  /* CLASS */
                );
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ],
          64
          /* STABLE_FRAGMENT */
        )) : (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 3 },
          [
            vue.createCommentVNode(" æ— æ¶ˆæ¯æ—¶æ˜¾ç¤ºæç¤º "),
            vue.createElementVNode("view", { class: "no-messages" }, [
              vue.createElementVNode("view", { class: "empty-icon" }, "ğŸ’¬"),
              vue.createElementVNode("text", { class: "no-messages-text" }, "æš‚æ— èŠå¤©è®°å½•"),
              vue.createElementVNode("text", { class: "no-messages-desc" }, "å¼€å§‹ä¸å¥½å‹èŠå¤©å§")
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        ))
      ], 8, ["scroll-top"]),
      vue.createCommentVNode(" æ¶ˆæ¯è¾“å…¥æ  "),
      vue.createElementVNode("view", { class: "input-bar" }, [
        vue.createElementVNode("view", {
          class: "mic-btn",
          onClick: _cache[4] || (_cache[4] = (...args) => $options.toggleVoiceInput && $options.toggleVoiceInput(...args))
        }, [
          vue.createCommentVNode(" è¯­éŸ³æŒ‰é’® "),
          !$data.isVoiceMode ? (vue.openBlock(), vue.createElementBlock("svg", {
            key: 0,
            class: "mic-icon",
            viewBox: "0 0 1024 1024",
            version: "1.1",
            xmlns: "http://www.w3.org/2000/svg",
            width: "32",
            height: "32"
          }, [
            vue.createElementVNode("path", {
              d: "M593.024 234.496l-46.165333 46.229333c0.106667 0.085333 0.149333 0.149333 0.277333 0.234667 127.552 127.658667 127.552 334.677333 0 462.336l46.122667 46.250667c153.045333-153.194667 153.045333-401.621333 0-554.816C593.173333 234.666667 593.130667 234.56 593.024 234.496z",
              "p-id": "3544"
            }),
            vue.createElementVNode("path", {
              d: "M500.885333 327.189333c-0.042667-0.085333-0.128-0.149333-0.234667-0.213333l-46.165333 46.229333c0.042667 0.085333 0.128 0.149333 0.234667 0.256 76.48 76.565333 76.48 200.789333 0 277.397333l46.144 46.229333C603.008 595.008 603.008 429.333333 500.885333 327.189333z",
              "p-id": "3545"
            }),
            vue.createElementVNode("path", {
              d: "M408.32 419.434667l-92.394667 92.458667 92.629333 92.714667c51.008-51.114667 51.008-133.888 0-184.938667C408.469333 419.584 408.362667 419.52 408.32 419.434667z",
              "p-id": "3546"
            }),
            vue.createElementVNode("path", {
              d: "M512 0C229.696 0 0 229.696 0 512c0 282.282667 229.696 512 512 512 282.282667 0 512-229.717333 512-512C1024 229.696 794.282667 0 512 0zM512 981.290667C253.226667 981.290667 42.688 770.773333 42.688 512S253.226667 42.688 512 42.688 981.290667 253.226667 981.290667 512 770.773333 981.290667 512 981.290667z",
              "p-id": "3547"
            })
          ])) : (vue.openBlock(), vue.createElementBlock(
            vue.Fragment,
            { key: 1 },
            [
              vue.createCommentVNode(" é”®ç›˜æŒ‰é’® "),
              (vue.openBlock(), vue.createElementBlock("svg", {
                class: "keyboard-icon",
                viewBox: "0 0 1024 1024",
                version: "1.1",
                xmlns: "http://www.w3.org/2000/svg",
                width: "32",
                height: "32"
              }, [
                vue.createElementVNode("path", {
                  d: "M512 64A448 448 0 1 0 960 512 448.5 448.5 0 0 0 512 64z m0 832a384 384 0 1 1 384-384 384.5 384.5 0 0 1-384 384z",
                  fill: "#333333",
                  "p-id": "2120"
                }),
                vue.createElementVNode("path", {
                  d: "M320 400m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z",
                  fill: "#333333",
                  "p-id": "2121"
                }),
                vue.createElementVNode("path", {
                  d: "M448 448A48 48 0 1 0 400 400a48 48 0 0 0 48 48zM576 352a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM704 352a48 48 0 1 0 48 48 48 48 0 0 0-48-48z",
                  fill: "#333333",
                  "p-id": "2122"
                }),
                vue.createElementVNode("path", {
                  d: "M320 528m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z",
                  fill: "#333333",
                  "p-id": "2123"
                }),
                vue.createElementVNode("path", {
                  d: "M448 576a48 48 0 1 0-48-48 48 48 0 0 0 48 48zM576 640H448a48 48 0 0 0 0 96h128a48 48 0 1 0 0-96zM576 480a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM704 480a48 48 0 1 0 48 48 48 48 0 0 0-48-48z",
                  fill: "#333333",
                  "p-id": "2124"
                })
              ]))
            ],
            2112
            /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
          ))
        ]),
        vue.createCommentVNode(" è¾“å…¥æ¡†åŒºåŸŸ "),
        !$data.isVoiceMode ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "input-field"
        }, [
          vue.withDirectives(vue.createElementVNode("input", {
            class: "message-input",
            "onUpdate:modelValue": _cache[5] || (_cache[5] = ($event) => $data.inputMessage = $event),
            placeholder: "è¾“å…¥æ¶ˆæ¯...",
            focus: $data.inputFocus,
            onFocus: _cache[6] || (_cache[6] = (...args) => $options.onInputFocus && $options.onInputFocus(...args)),
            onBlur: _cache[7] || (_cache[7] = (...args) => $options.onInputBlur && $options.onInputBlur(...args)),
            onConfirm: _cache[8] || (_cache[8] = (...args) => $options.sendMessage && $options.sendMessage(...args))
          }, null, 40, ["focus"]), [
            [vue.vModelText, $data.inputMessage]
          ])
        ])) : (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 1 },
          [
            vue.createCommentVNode(" è¯­éŸ³æŒ‰é’®åŒºåŸŸ "),
            vue.createElementVNode(
              "view",
              {
                class: "voice-field",
                onTouchstart: _cache[9] || (_cache[9] = (...args) => $options.startVoiceRecord && $options.startVoiceRecord(...args)),
                onTouchend: _cache[10] || (_cache[10] = (...args) => $options.endVoiceRecord && $options.endVoiceRecord(...args))
              },
              [
                vue.createElementVNode("text", { class: "voice-text" }, "æŒ‰ä½è¯´è¯")
              ],
              32
              /* NEED_HYDRATION */
            )
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )),
        vue.createElementVNode("view", { class: "action-btns" }, [
          vue.createElementVNode("view", {
            class: "emoji-btn",
            onClick: _cache[11] || (_cache[11] = (...args) => $options.toggleEmoji && $options.toggleEmoji(...args))
          }, [
            (vue.openBlock(), vue.createElementBlock("svg", {
              class: "emoji-icon",
              viewBox: "0 0 1024 1024",
              version: "1.1",
              xmlns: "http://www.w3.org/2000/svg",
              width: "32",
              height: "32"
            }, [
              vue.createElementVNode("path", {
                d: "M512 160C317.5936 160 160 317.5936 160 512S317.5936 864 512 864 864 706.4064 864 512 706.4064 160 512 160z m0 64c159.0528 0 288 128.9472 288 288S671.0528 800 512 800 224 671.0528 224 512 352.9472 224 512 224z",
                fill: "#2c2c2c",
                "p-id": "4603"
              }),
              vue.createElementVNode("path", {
                d: "M683.3408 501.248H340.6592a25.6 25.6 0 0 0-25.6 26.112l0.1536 6.912a196.9408 196.9408 0 0 0 393.728-7.3984 25.6 25.6 0 0 0-25.6-25.6z m-27.8784 51.2l-0.3072 1.792A145.7664 145.7664 0 0 1 512 672.5888l-5.7088-0.1024a145.8176 145.8176 0 0 1-137.2928-117.4272l-0.4864-2.6112h286.9504z",
                fill: "#2c2c2c",
                "p-id": "4604"
              }),
              vue.createElementVNode("path", {
                d: "M411.1104 411.4432m-38.7584 0a38.7584 38.7584 0 1 0 77.5168 0 38.7584 38.7584 0 1 0-77.5168 0Z",
                fill: "#2c2c2c",
                "p-id": "4605"
              }),
              vue.createElementVNode("path", {
                d: "M612.8896 411.4432m-38.7584 0a38.7584 38.7584 0 1 0 77.5168 0 38.7584 38.7584 0 1 0-77.5168 0Z",
                fill: "#2c2c2c",
                "p-id": "4606"
              })
            ]))
          ]),
          vue.createElementVNode("view", {
            class: "plus-btn",
            onClick: _cache[12] || (_cache[12] = (...args) => $options.togglePlusMenu && $options.togglePlusMenu(...args))
          }, [
            (vue.openBlock(), vue.createElementBlock("svg", {
              class: "plus-icon",
              viewBox: "0 0 1024 1024",
              version: "1.1",
              xmlns: "http://www.w3.org/2000/svg",
              width: "32",
              height: "32"
            }, [
              vue.createElementVNode("path", {
                d: "M511.5 957.9C264.9 957.9 65 758.2 65 511.9s199.9-446 446.5-446S958 265.6 958 511.9c0.1 246.3-199.8 446-446.5 446zM509 149.1c-200.4 0-355.8 162.2-355.8 362.3 0 200.1 155.4 356.8 355.8 356.8s362.9-156.7 362.9-356.8c0-200.1-162.5-362.3-362.9-362.3zM690.5 556h-134v133.8c0 24.6-20 44.6-44.6 44.6h-0.1c-24.6 0-44.6-19.9-44.6-44.6V556h-134c-24.7 0-44.6-19.9-44.6-44.5v-0.1c0-24.6 20-44.6 44.6-44.6h134V333c0-24.6 20-44.6 44.6-44.6h0.1c24.7 0 44.6 19.9 44.6 44.6v133.8h134c24.7 0 44.6 19.9 44.6 44.6v0.1c0 24.6-19.9 44.5-44.6 44.5z m0 0",
                "p-id": "1640"
              })
            ]))
          ])
        ])
      ]),
      vue.createCommentVNode(" è¡¨æƒ…é¢æ¿ "),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["emoji-panel", { "active": $data.showEmojiPanel }]),
          onClick: _cache[14] || (_cache[14] = (...args) => $options.hideEmojiPanel && $options.hideEmojiPanel(...args))
        },
        [
          vue.createElementVNode("view", {
            class: "emoji-content",
            onClick: _cache[13] || (_cache[13] = vue.withModifiers(() => {
            }, ["stop"]))
          }, [
            vue.createElementVNode("view", { class: "emoji-grid" }, [
              vue.createCommentVNode(" ç¬¬ä¸€è¡Œ "),
              (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList(4, (i) => {
                  return vue.createElementVNode("view", {
                    class: "emoji-item",
                    key: `row1-${i}`
                  }, [
                    vue.createElementVNode("image", {
                      class: "emoji-image",
                      src: "",
                      mode: "aspectFill"
                    })
                  ]);
                }),
                64
                /* STABLE_FRAGMENT */
              )),
              vue.createCommentVNode(" ç¬¬äºŒè¡Œ "),
              (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList(4, (i) => {
                  return vue.createElementVNode("view", {
                    class: "emoji-item",
                    key: `row2-${i}`
                  }, [
                    vue.createElementVNode("image", {
                      class: "emoji-image",
                      src: "",
                      mode: "aspectFill"
                    })
                  ]);
                }),
                64
                /* STABLE_FRAGMENT */
              )),
              vue.createCommentVNode(" ç¬¬ä¸‰è¡Œ "),
              (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList(4, (i) => {
                  return vue.createElementVNode("view", {
                    class: "emoji-item",
                    key: `row3-${i}`
                  }, [
                    vue.createElementVNode("image", {
                      class: "emoji-image",
                      src: "",
                      mode: "aspectFill"
                    })
                  ]);
                }),
                64
                /* STABLE_FRAGMENT */
              ))
            ]),
            vue.createCommentVNode(" ç¿»é¡µæŒ‡ç¤ºå™¨ "),
            vue.createElementVNode("view", { class: "emoji-pagination" }, [
              vue.createElementVNode("view", { class: "page-dot active" }),
              vue.createElementVNode("view", { class: "page-dot" }),
              vue.createElementVNode("view", { class: "page-dot" })
            ])
          ])
        ],
        2
        /* CLASS */
      ),
      vue.createCommentVNode(" åŠ å·åŠŸèƒ½é¢æ¿ "),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["plus-panel", { "active": $data.showPlusPanel }]),
          onClick: _cache[20] || (_cache[20] = (...args) => $options.hidePlusPanel && $options.hidePlusPanel(...args))
        },
        [
          vue.createElementVNode("view", {
            class: "plus-content",
            onClick: _cache[19] || (_cache[19] = vue.withModifiers(() => {
            }, ["stop"]))
          }, [
            vue.createElementVNode("view", { class: "plus-grid" }, [
              vue.createElementVNode("view", {
                class: "plus-item",
                onClick: _cache[15] || (_cache[15] = (...args) => $options.selectImage && $options.selectImage(...args))
              }, [
                vue.createElementVNode("view", { class: "plus-icon-wrapper" }, [
                  (vue.openBlock(), vue.createElementBlock("svg", {
                    class: "plus-feature-icon",
                    viewBox: "0 0 1024 1024",
                    version: "1.1",
                    xmlns: "http://www.w3.org/2000/svg",
                    width: "48",
                    height: "48"
                  }, [
                    vue.createElementVNode("path", {
                      d: "M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zM338 304c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm513.9 436.1H172.1c-12.9 0-24.8-5.9-32.7-16.1L73.4 659.8c-7.9-10.2-7.9-23.4 0-33.6l66-84.2c7.9-10.2 19.8-16.1 32.7-16.1h679.8c12.9 0 24.8 5.9 32.7 16.1l66 84.2c7.9 10.2 7.9 23.4 0 33.6l-66 84.2c-7.9 10.2-19.8 16.1-32.7 16.1z",
                      fill: "#333333"
                    })
                  ]))
                ]),
                vue.createElementVNode("text", { class: "plus-text" }, "å›¾ç‰‡ä¸è§†é¢‘")
              ]),
              vue.createElementVNode("view", {
                class: "plus-item",
                onClick: _cache[16] || (_cache[16] = (...args) => $options.openCamera && $options.openCamera(...args))
              }, [
                vue.createElementVNode("view", { class: "plus-icon-wrapper" }, [
                  (vue.openBlock(), vue.createElementBlock("svg", {
                    class: "plus-feature-icon",
                    viewBox: "0 0 1024 1024",
                    version: "1.1",
                    xmlns: "http://www.w3.org/2000/svg",
                    width: "48",
                    height: "48"
                  }, [
                    vue.createElementVNode("path", {
                      d: "M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",
                      fill: "#333333"
                    }),
                    vue.createElementVNode("path", {
                      d: "M464 336a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z",
                      fill: "#333333"
                    })
                  ]))
                ]),
                vue.createElementVNode("text", { class: "plus-text" }, "ç›¸æœº")
              ]),
              vue.createElementVNode("view", {
                class: "plus-item",
                onClick: _cache[17] || (_cache[17] = (...args) => $options.makeCall && $options.makeCall(...args))
              }, [
                vue.createElementVNode("view", { class: "plus-icon-wrapper" }, [
                  (vue.openBlock(), vue.createElementBlock("svg", {
                    class: "plus-feature-icon",
                    viewBox: "0 0 1024 1024",
                    version: "1.1",
                    xmlns: "http://www.w3.org/2000/svg",
                    width: "48",
                    height: "48"
                  }, [
                    vue.createElementVNode("path", {
                      d: "M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",
                      fill: "#333333"
                    }),
                    vue.createElementVNode("path", {
                      d: "M512 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176z",
                      fill: "#333333"
                    })
                  ]))
                ]),
                vue.createElementVNode("text", { class: "plus-text" }, "è¯­éŸ³/è§†é¢‘é€šè¯")
              ]),
              vue.createElementVNode("view", {
                class: "plus-item",
                onClick: _cache[18] || (_cache[18] = (...args) => $options.shareLocation && $options.shareLocation(...args))
              }, [
                vue.createElementVNode("view", { class: "plus-icon-wrapper" }, [
                  (vue.openBlock(), vue.createElementBlock("svg", {
                    class: "plus-feature-icon",
                    viewBox: "0 0 1024 1024",
                    version: "1.1",
                    xmlns: "http://www.w3.org/2000/svg",
                    width: "48",
                    height: "48"
                  }, [
                    vue.createElementVNode("path", {
                      d: "M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",
                      fill: "#333333"
                    }),
                    vue.createElementVNode("path", {
                      d: "M512 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176z",
                      fill: "#333333"
                    })
                  ]))
                ]),
                vue.createElementVNode("text", { class: "plus-text" }, "å®šä½")
              ])
            ])
          ])
        ],
        2
        /* CLASS */
      ),
      vue.createCommentVNode(" åº•éƒ¨æ“ä½œèœå• "),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["action-sheet", { "active": $data.showActionSheet }]),
          onClick: _cache[26] || (_cache[26] = (...args) => $options.hideActionSheet && $options.hideActionSheet(...args))
        },
        [
          vue.createElementVNode("view", {
            class: "action-content",
            onClick: _cache[25] || (_cache[25] = vue.withModifiers(() => {
            }, ["stop"]))
          }, [
            vue.createElementVNode("view", {
              class: "action-item",
              onClick: _cache[21] || (_cache[21] = (...args) => $options.clearChat && $options.clearChat(...args))
            }, [
              vue.createElementVNode("text", { class: "action-text" }, "æ¸…ç©ºèŠå¤©è®°å½•")
            ]),
            vue.createElementVNode("view", {
              class: "action-item",
              onClick: _cache[22] || (_cache[22] = (...args) => $options.reportChat && $options.reportChat(...args))
            }, [
              vue.createElementVNode("text", { class: "action-text" }, "ä¸¾æŠ¥")
            ]),
            vue.createElementVNode("view", {
              class: "action-item",
              onClick: _cache[23] || (_cache[23] = (...args) => $options.blockUser && $options.blockUser(...args))
            }, [
              vue.createElementVNode("text", { class: "action-text" }, "æ‹‰é»‘")
            ]),
            vue.createElementVNode("view", {
              class: "action-cancel",
              onClick: _cache[24] || (_cache[24] = (...args) => $options.hideActionSheet && $options.hideActionSheet(...args))
            }, [
              vue.createElementVNode("text", { class: "cancel-text" }, "å–æ¶ˆ")
            ])
          ])
        ],
        2
        /* CLASS */
      )
    ]);
  }
  const PagesChatChat = /* @__PURE__ */ _export_sfc(_sfc_main$Y, [["render", _sfc_render$X], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/chat/chat.vue"]]);
  const _sfc_main$X = {
    name: "SearchPage",
    data() {
      return {
        searchKeyword: "",
        searchResults: [],
        allChatRecords: [],
        loading: false,
        // æ—¥æœŸæœç´¢ç›¸å…³
        showDateSearchPanel: false,
        startDate: "",
        endDate: "",
        // åª’ä½“æœç´¢ç›¸å…³
        showMediaSearchPanel: false,
        currentMediaType: "all"
      };
    },
    onLoad() {
      this.loadChatRecords();
      this.initDateRange();
    },
    methods: {
      // æœç´¢è¾“å…¥å¤„ç†
      onSearchInput() {
        formatAppLog("log", "at pages/chat/search.vue:98", "æœç´¢å…³é”®è¯:", this.searchKeyword);
        this.performSearch();
      },
      onSearchFocus() {
        formatAppLog("log", "at pages/chat/search.vue:103", "æœç´¢æ¡†è·å¾—ç„¦ç‚¹");
      },
      // è¿”å›ä¸Šä¸€é¡µ
      goBack() {
        uni.navigateBack();
      },
      // æ˜¾ç¤ºæ—¥æœŸæœç´¢é¢æ¿
      showDateSearch() {
        this.showDateSearchPanel = true;
        this.showMediaSearchPanel = false;
        this.searchKeyword = "";
        this.searchResults = [];
      },
      // éšè—æ—¥æœŸæœç´¢é¢æ¿
      hideDateSearch() {
        this.showDateSearchPanel = false;
      },
      // æ˜¾ç¤ºåª’ä½“æœç´¢é¢æ¿
      showMediaSearch() {
        this.showMediaSearchPanel = true;
        this.showDateSearchPanel = false;
        this.searchKeyword = "";
        this.searchResults = [];
      },
      // éšè—åª’ä½“æœç´¢é¢æ¿
      hideMediaSearch() {
        this.showMediaSearchPanel = false;
      },
      // åˆå§‹åŒ–æ—¥æœŸèŒƒå›´ï¼ˆé»˜è®¤ä¸ºä»Šå¤©ï¼‰
      initDateRange() {
        const today = /* @__PURE__ */ new Date();
        const todayStr = this.formatDateForPicker(today);
        this.startDate = todayStr;
        this.endDate = todayStr;
      },
      // æ ¼å¼åŒ–æ—¥æœŸä¸ºpickeréœ€è¦çš„æ ¼å¼
      formatDateForPicker(date) {
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, "0");
        const day = String(date.getDate()).padStart(2, "0");
        return `${year}-${month}-${day}`;
      },
      // å¼€å§‹æ—¥æœŸå˜åŒ–
      onStartDateChange(e) {
        this.startDate = e.detail.value;
        formatAppLog("log", "at pages/chat/search.vue:156", "å¼€å§‹æ—¥æœŸ:", this.startDate);
      },
      // ç»“æŸæ—¥æœŸå˜åŒ–
      onEndDateChange(e) {
        this.endDate = e.detail.value;
        formatAppLog("log", "at pages/chat/search.vue:162", "ç»“æŸæ—¥æœŸ:", this.endDate);
      },
      // æŒ‰æ—¥æœŸæœç´¢
      searchByDate() {
        formatAppLog("log", "at pages/chat/search.vue:167", "æŒ‰æ—¥æœŸæœç´¢:", this.startDate, "åˆ°", this.endDate);
        if (!this.startDate || !this.endDate) {
          uni.showToast({
            title: "è¯·é€‰æ‹©æ—¥æœŸèŒƒå›´",
            icon: "none"
          });
          return;
        }
        const startTime = new Date(this.startDate).getTime();
        const endTime = (/* @__PURE__ */ new Date(this.endDate + " 23:59:59")).getTime();
        const filteredResults = this.allChatRecords.filter((chat) => {
          const messageTime = new Date(chat.lastMessageTime || chat.createdAt || 0).getTime();
          return messageTime >= startTime && messageTime <= endTime;
        });
        this.searchResults = filteredResults.sort((a, b) => {
          const timeA = new Date(a.lastMessageTime || a.createdAt || 0).getTime();
          const timeB = new Date(b.lastMessageTime || b.createdAt || 0).getTime();
          return timeB - timeA;
        });
        formatAppLog("log", "at pages/chat/search.vue:192", "æ—¥æœŸæœç´¢ç»“æœ:", this.searchResults);
        this.hideDateSearch();
      },
      // æŒ‰åª’ä½“ç±»å‹æœç´¢
      searchByMediaType(type) {
        formatAppLog("log", "at pages/chat/search.vue:198", "æŒ‰åª’ä½“ç±»å‹æœç´¢:", type);
        this.currentMediaType = type;
        let keywords = [];
        if (type === "image") {
          keywords = ["å›¾ç‰‡", "ç…§ç‰‡", "image", "photo", "jpg", "png", "gif", "ğŸ–¼ï¸", "ğŸ“·"];
        } else if (type === "video") {
          keywords = ["è§†é¢‘", "video", "mp4", "avi", "mov", "ğŸ¥", "ğŸ“¹"];
        } else {
          keywords = ["å›¾ç‰‡", "ç…§ç‰‡", "è§†é¢‘", "image", "photo", "video", "jpg", "png", "gif", "mp4", "avi", "mov", "ğŸ–¼ï¸", "ğŸ“·", "ğŸ¥", "ğŸ“¹"];
        }
        const filteredResults = this.allChatRecords.filter((chat) => {
          const message = (chat.lastMessage || "").toLowerCase();
          return keywords.some((keyword) => message.includes(keyword.toLowerCase()));
        });
        this.searchResults = filteredResults.sort((a, b) => {
          const timeA = new Date(a.lastMessageTime || a.createdAt || 0).getTime();
          const timeB = new Date(b.lastMessageTime || b.createdAt || 0).getTime();
          return timeB - timeA;
        });
        formatAppLog("log", "at pages/chat/search.vue:224", "åª’ä½“æœç´¢ç»“æœ:", this.searchResults);
        this.hideMediaSearch();
      },
      // åŠ è½½èŠå¤©è®°å½•
      async loadChatRecords() {
        try {
          this.loading = true;
          const userId = uni.getStorageSync("userId") || 1000001;
          formatAppLog("log", "at pages/chat/search.vue:234", "å¼€å§‹åŠ è½½èŠå¤©è®°å½•ï¼ŒuserId:", userId);
          const [chatListResponse, chatDetailResponse] = await Promise.all([
            uni.request({
              url: `http://localhost:8888/api/u-entities/user-chat-list/user/${userId}`,
              method: "GET",
              header: {
                "Content-Type": "application/json"
              }
            }),
            uni.request({
              url: `http://localhost:8888/api/u-entities/user-chat-detail/all`,
              method: "GET",
              header: {
                "Content-Type": "application/json"
              }
            })
          ]);
          formatAppLog("log", "at pages/chat/search.vue:254", "èŠå¤©åˆ—è¡¨APIå“åº”çŠ¶æ€ç :", chatListResponse.statusCode);
          formatAppLog("log", "at pages/chat/search.vue:255", "èŠå¤©è¯¦æƒ…APIå“åº”çŠ¶æ€ç :", chatDetailResponse.statusCode);
          if (chatListResponse.statusCode === 200 && chatListResponse.data && chatDetailResponse.statusCode === 200 && chatDetailResponse.data) {
            formatAppLog("log", "at pages/chat/search.vue:260", "åŸå§‹èŠå¤©åˆ—è¡¨æ•°æ®:", chatListResponse.data);
            formatAppLog("log", "at pages/chat/search.vue:261", "åŸå§‹èŠå¤©è¯¦æƒ…æ•°æ®:", chatDetailResponse.data);
            this.allChatRecords = this.convertChatDataToSearchFormat(
              chatListResponse.data,
              chatDetailResponse.data
            );
            formatAppLog("log", "at pages/chat/search.vue:268", "èŠå¤©è®°å½•åŠ è½½æˆåŠŸ:", this.allChatRecords);
            formatAppLog("log", "at pages/chat/search.vue:269", "è½¬æ¢åçš„èŠå¤©è®°å½•æ•°é‡:", this.allChatRecords.length);
            this.allChatRecords.forEach((chat, index) => {
              formatAppLog("log", "at pages/chat/search.vue:273", `èŠå¤©è®°å½• ${index + 1}:`, {
                friendName: chat.friendName,
                lastMessage: chat.lastMessage,
                lastMessageTime: chat.lastMessageTime,
                friendId: chat.friendId
              });
            });
          } else {
            formatAppLog("error", "at pages/chat/search.vue:281", "åŠ è½½èŠå¤©è®°å½•å¤±è´¥:", chatListResponse, chatDetailResponse);
          }
        } catch (error) {
          formatAppLog("error", "at pages/chat/search.vue:284", "åŠ è½½èŠå¤©è®°å½•å¼‚å¸¸:", error);
        } finally {
          this.loading = false;
        }
      },
      // è½¬æ¢èŠå¤©æ•°æ®ä¸ºæœç´¢æ ¼å¼
      convertChatDataToSearchFormat(chatListData, chatDetailData) {
        if (!Array.isArray(chatListData) || !Array.isArray(chatDetailData)) {
          return [];
        }
        const chatDetailMap = /* @__PURE__ */ new Map();
        chatDetailData.forEach((detail) => {
          if (detail.sessionId) {
            if (!chatDetailMap.has(detail.sessionId)) {
              chatDetailMap.set(detail.sessionId, []);
            }
            chatDetailMap.get(detail.sessionId).push(detail);
          }
        });
        chatDetailMap.forEach((details, sessionId) => {
          details.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
        });
        return chatListData.map((chat) => {
          let avatarUrl = chat.avatarUrl;
          if (!avatarUrl || avatarUrl.trim() === "" || avatarUrl === "null") {
            avatarUrl = "/static/default-avatar.png";
          }
          let friendName = chat.friendName;
          if (!friendName || friendName.trim() === "" || friendName === "null") {
            friendName = "æœªçŸ¥ç”¨æˆ·";
          }
          let lastMessage = chat.lastMessage || "æš‚æ— æ¶ˆæ¯";
          let lastMessageTime = chat.lastMessageTime;
          if (chat.sessionId && chatDetailMap.has(chat.sessionId)) {
            const sessionDetails = chatDetailMap.get(chat.sessionId);
            if (sessionDetails.length > 0) {
              const latestDetail = sessionDetails[0];
              lastMessage = latestDetail.message || "æš‚æ— æ¶ˆæ¯";
              lastMessageTime = latestDetail.createdAt;
            }
          }
          return {
            friendId: chat.friendId,
            friendName,
            avatarUrl,
            lastMessage,
            lastMessageTime,
            createdAt: chat.createdAt,
            sessionId: chat.sessionId,
            status: chat.status
          };
        });
      },
      // æ‰§è¡Œæœç´¢
      performSearch() {
        if (!this.searchKeyword || this.searchKeyword.trim() === "") {
          this.searchResults = [];
          return;
        }
        const keyword = this.searchKeyword.toLowerCase().trim();
        formatAppLog("log", "at pages/chat/search.vue:360", "æ‰§è¡Œæœç´¢ï¼Œå…³é”®è¯:", keyword);
        formatAppLog("log", "at pages/chat/search.vue:361", "æ‰€æœ‰èŠå¤©è®°å½•:", this.allChatRecords);
        formatAppLog("log", "at pages/chat/search.vue:362", "èŠå¤©è®°å½•æ•°é‡:", this.allChatRecords.length);
        const filteredResults = this.allChatRecords.filter((chat) => {
          const friendName = (chat.friendName || "").toLowerCase();
          const lastMessage = (chat.lastMessage || "").toLowerCase();
          formatAppLog("log", "at pages/chat/search.vue:369", "æ£€æŸ¥èŠå¤©è®°å½•:", {
            friendName,
            lastMessage,
            keyword,
            friendNameMatch: friendName.includes(keyword),
            lastMessageMatch: lastMessage.includes(keyword)
          });
          return friendName.includes(keyword) || lastMessage.includes(keyword);
        });
        this.searchResults = filteredResults.sort((a, b) => {
          const timeA = new Date(a.lastMessageTime || a.createdAt || 0).getTime();
          const timeB = new Date(b.lastMessageTime || b.createdAt || 0).getTime();
          return timeB - timeA;
        });
        formatAppLog("log", "at pages/chat/search.vue:387", "æœç´¢ç»“æœ:", this.searchResults);
        formatAppLog("log", "at pages/chat/search.vue:388", "æœç´¢ç»“æœæ•°é‡:", this.searchResults.length);
      },
      // æ ¼å¼åŒ–æ—¶é—´
      formatTime(timestamp) {
        if (!timestamp)
          return "";
        const date = new Date(timestamp);
        const now = /* @__PURE__ */ new Date();
        const diff = now - date;
        if (diff < 24 * 60 * 60 * 1e3 && date.getDate() === now.getDate()) {
          return date.toLocaleTimeString("zh-CN", {
            hour: "2-digit",
            minute: "2-digit"
          });
        }
        const yesterday = new Date(now);
        yesterday.setDate(yesterday.getDate() - 1);
        if (date.getDate() === yesterday.getDate() && date.getMonth() === yesterday.getMonth() && date.getFullYear() === yesterday.getFullYear()) {
          return "æ˜¨å¤©";
        }
        return date.toLocaleDateString("zh-CN", {
          month: "2-digit",
          day: "2-digit"
        });
      },
      // æ‰“å¼€èŠå¤©
      openChat(chat) {
        formatAppLog("log", "at pages/chat/search.vue:425", "æ‰“å¼€èŠå¤©:", chat);
        uni.navigateTo({
          url: `/pages/chat/chat?friendName=${encodeURIComponent(chat.friendName)}&friendId=${chat.friendId}&sessionId=${chat.sessionId}`
        });
      }
    }
  };
  function _sfc_render$W(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "search-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" æœç´¢æ åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "search-bar-area" }, [
        vue.createElementVNode("view", { class: "search-input-field" }, [
          vue.withDirectives(vue.createElementVNode(
            "input",
            {
              class: "search-input",
              type: "text",
              "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.searchKeyword = $event),
              placeholder: "æœç´¢",
              onInput: _cache[1] || (_cache[1] = (...args) => $options.onSearchInput && $options.onSearchInput(...args)),
              onFocus: _cache[2] || (_cache[2] = (...args) => $options.onSearchFocus && $options.onSearchFocus(...args))
            },
            null,
            544
            /* NEED_HYDRATION, NEED_PATCH */
          ), [
            [vue.vModelText, $data.searchKeyword]
          ])
        ]),
        vue.createElementVNode("view", {
          class: "cancel-btn",
          onClick: _cache[3] || (_cache[3] = (...args) => $options.goBack && $options.goBack(...args))
        }, [
          vue.createElementVNode("text", { class: "cancel-text" }, "å–æ¶ˆ")
        ])
      ]),
      vue.createCommentVNode(" æœç´¢ç»“æœåŒºåŸŸ "),
      $data.searchKeyword && $data.searchResults.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "search-results-area"
      }, [
        vue.createElementVNode("view", { class: "results-header" }, [
          vue.createElementVNode(
            "text",
            { class: "results-count" },
            "æ‰¾åˆ° " + vue.toDisplayString($data.searchResults.length) + " æ¡ç›¸å…³è®°å½•",
            1
            /* TEXT */
          )
        ]),
        vue.createElementVNode("scroll-view", {
          class: "results-list",
          "scroll-y": ""
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.searchResults, (result, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "result-item",
                key: index,
                onClick: ($event) => $options.openChat(result)
              }, [
                vue.createElementVNode("view", { class: "result-avatar" }, [
                  vue.createElementVNode("image", {
                    class: "avatar-image",
                    src: result.avatarUrl,
                    mode: "aspectFill"
                  }, null, 8, ["src"])
                ]),
                vue.createElementVNode("view", { class: "result-content" }, [
                  vue.createElementVNode("view", { class: "result-header" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "result-name" },
                      vue.toDisplayString(result.friendName),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "text",
                      { class: "result-time" },
                      vue.toDisplayString($options.formatTime(result.lastMessageTime)),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode("view", { class: "result-message" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "message-text" },
                      vue.toDisplayString(result.lastMessage),
                      1
                      /* TEXT */
                    )
                  ])
                ])
              ], 8, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ])) : !$data.searchKeyword ? (vue.openBlock(), vue.createElementBlock(
        vue.Fragment,
        { key: 1 },
        [
          vue.createCommentVNode(" å†…å®¹è¿‡æ»¤å»ºè®®åŒºåŸŸ "),
          vue.createElementVNode("view", { class: "content-filter-area" }, [
            vue.createElementVNode("text", { class: "filter-prompt" }),
            vue.createElementVNode("view", { class: "category-labels" }, [
              vue.createCommentVNode(" æ—¥æœŸå’Œå›¾ç‰‡ä¸è§†é¢‘æœç´¢æŒ‰é’®å·²ç§»é™¤ ")
            ])
          ])
        ],
        2112
        /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
      )) : $data.searchKeyword && $data.searchResults.length === 0 ? (vue.openBlock(), vue.createElementBlock(
        vue.Fragment,
        { key: 2 },
        [
          vue.createCommentVNode(" æ— æœç´¢ç»“æœ "),
          vue.createElementVNode("view", { class: "no-results-area" }, [
            vue.createElementVNode("view", { class: "no-results-icon" }, "ğŸ”"),
            vue.createElementVNode("text", { class: "no-results-text" }, "æœªæ‰¾åˆ°ç›¸å…³èŠå¤©è®°å½•"),
            vue.createElementVNode("text", { class: "no-results-desc" }, "è¯•è¯•å…¶ä»–å…³é”®è¯")
          ])
        ],
        2112
        /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
      )) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesChatSearch = /* @__PURE__ */ _export_sfc(_sfc_main$X, [["render", _sfc_render$W], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/chat/search.vue"]]);
  const _sfc_main$W = {
    name: "DateSearchPage",
    data() {
      return {
        currentYear: 2021,
        currentMonth: 8,
        selectedDate: null,
        viewMode: "month",
        // 'month' æˆ– 'year'
        showYearPicker: false,
        showMonthPicker: false,
        weekdays: ["ä¸€", "äºŒ", "ä¸‰", "å››", "äº”", "å…­", "ä¸ƒ"]
      };
    },
    computed: {
      yearRange() {
        const years = [];
        for (let i = 2020; i <= 2025; i++) {
          years.push(i);
        }
        return years;
      },
      calendarDates() {
        const dates = [];
        const firstDay = new Date(this.currentYear, this.currentMonth - 1, 1);
        const lastDay = new Date(this.currentYear, this.currentMonth, 0);
        const startDate = new Date(firstDay);
        startDate.setDate(startDate.getDate() - firstDay.getDay() + 1);
        for (let i = 0; i < firstDay.getDay() - 1; i++) {
          const prevDate = new Date(startDate);
          prevDate.setDate(prevDate.getDate() + i);
          dates.push({
            day: prevDate.getDate(),
            otherMonth: true,
            selected: false,
            isToday: false,
            fullDate: prevDate
          });
        }
        for (let i = 1; i <= lastDay.getDate(); i++) {
          const currentDate = new Date(this.currentYear, this.currentMonth - 1, i);
          const isToday = this.isToday(currentDate);
          const isSelected = this.selectedDate && this.isSameDate(currentDate, this.selectedDate);
          dates.push({
            day: i,
            otherMonth: false,
            selected: isSelected,
            isToday,
            fullDate: currentDate
          });
        }
        const remainingCells = 42 - dates.length;
        for (let i = 1; i <= remainingCells; i++) {
          const nextDate = new Date(this.currentYear, this.currentMonth, i);
          dates.push({
            day: i,
            otherMonth: true,
            selected: false,
            isToday: false,
            fullDate: nextDate
          });
        }
        return dates;
      }
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      setViewMode(mode) {
        this.viewMode = mode;
      },
      openYearPicker() {
        this.showYearPicker = true;
      },
      hideYearPicker() {
        this.showYearPicker = false;
      },
      openMonthPicker() {
        this.showMonthPicker = true;
      },
      hideMonthPicker() {
        this.showMonthPicker = false;
      },
      selectYear(year) {
        this.currentYear = year;
        this.showYearPicker = false;
      },
      selectMonth(month) {
        this.currentMonth = month;
        this.showMonthPicker = false;
      },
      selectDate(date) {
        if (!date.otherMonth) {
          this.selectedDate = date.fullDate;
          uni.showToast({
            title: `å·²é€‰æ‹©: ${date.fullDate.getFullYear()}-${(date.fullDate.getMonth() + 1).toString().padStart(2, "0")}-${date.fullDate.getDate().toString().padStart(2, "0")}`,
            icon: "none"
          });
        }
      },
      isToday(date) {
        const today = /* @__PURE__ */ new Date();
        return this.isSameDate(date, today);
      },
      isSameDate(date1, date2) {
        return date1.getFullYear() === date2.getFullYear() && date1.getMonth() === date2.getMonth() && date1.getDate() === date2.getDate();
      }
    }
  };
  function _sfc_render$V(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "date-search-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">12:00</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", {
          class: "back-button",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
        }, [
          vue.createElementVNode("view", { class: "back-arrow" })
        ]),
        vue.createElementVNode("text", { class: "title" }, "æŒ‰æ—¥æœŸæŸ¥æ‰¾"),
        vue.createElementVNode("view", { class: "placeholder" })
      ]),
      vue.createCommentVNode(" æ—¥æœŸé€‰æ‹©æ§ä»¶ "),
      vue.createElementVNode("view", { class: "date-controls" }, [
        vue.createElementVNode("view", { class: "year-month-row" }, [
          vue.createElementVNode("view", {
            class: "dropdown year-dropdown",
            onClick: _cache[1] || (_cache[1] = (...args) => $options.openYearPicker && $options.openYearPicker(...args))
          }, [
            vue.createElementVNode(
              "text",
              { class: "dropdown-text" },
              vue.toDisplayString($data.currentYear) + "å¹´",
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", { class: "dropdown-arrow" })
          ]),
          vue.createElementVNode("view", {
            class: "dropdown month-dropdown",
            onClick: _cache[2] || (_cache[2] = (...args) => $options.openMonthPicker && $options.openMonthPicker(...args))
          }, [
            vue.createElementVNode(
              "text",
              { class: "dropdown-text" },
              vue.toDisplayString($data.currentMonth) + "æœˆ",
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", { class: "dropdown-arrow" })
          ])
        ]),
        vue.createElementVNode("view", { class: "view-toggle" }, [
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["toggle-btn", { active: $data.viewMode === "month" }]),
              onClick: _cache[3] || (_cache[3] = ($event) => $options.setViewMode("month"))
            },
            [
              vue.createElementVNode("text", { class: "toggle-text" }, "æœˆ")
            ],
            2
            /* CLASS */
          ),
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["toggle-btn", { active: $data.viewMode === "year" }]),
              onClick: _cache[4] || (_cache[4] = ($event) => $options.setViewMode("year"))
            },
            [
              vue.createElementVNode("text", { class: "toggle-text" }, "å¹´")
            ],
            2
            /* CLASS */
          )
        ])
      ]),
      vue.createCommentVNode(" æ—¥å†ç½‘æ ¼ "),
      vue.createElementVNode("view", { class: "calendar-grid" }, [
        vue.createCommentVNode(" æ˜ŸæœŸæ ‡é¢˜è¡Œ "),
        vue.createElementVNode("view", { class: "weekdays-row" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.weekdays, (day) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "weekday",
                key: day
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "weekday-text" },
                  vue.toDisplayString(day),
                  1
                  /* TEXT */
                )
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ]),
        vue.createCommentVNode(" æ—¥æœŸç½‘æ ¼ "),
        vue.createElementVNode("view", { class: "dates-grid" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($options.calendarDates, (date, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: vue.normalizeClass(["date-cell", {
                  "other-month": date.otherMonth,
                  "current-month": !date.otherMonth,
                  "selected": date.selected,
                  "today": date.isToday
                }]),
                key: index,
                onClick: ($event) => $options.selectDate(date)
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "date-number" },
                  vue.toDisplayString(date.day),
                  1
                  /* TEXT */
                ),
                date.selected ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "selected-dot"
                })) : vue.createCommentVNode("v-if", true)
              ], 10, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ]),
      vue.createCommentVNode(" å¹´ä»½é€‰æ‹©å¼¹å±‚ "),
      $data.showYearPicker ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "year-picker-overlay",
        onClick: _cache[6] || (_cache[6] = (...args) => $options.hideYearPicker && $options.hideYearPicker(...args))
      }, [
        vue.createElementVNode("view", {
          class: "year-picker-sheet",
          onClick: _cache[5] || (_cache[5] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", { class: "year-picker-content" }, [
            vue.createElementVNode("view", { class: "year-range" }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($options.yearRange, (year) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: vue.normalizeClass(["year-item", { active: year === $data.currentYear }]),
                    key: year,
                    onClick: ($event) => $options.selectYear(year)
                  }, [
                    vue.createElementVNode(
                      "text",
                      { class: "year-text" },
                      vue.toDisplayString(year),
                      1
                      /* TEXT */
                    )
                  ], 10, ["onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" æœˆä»½é€‰æ‹©å¼¹å±‚ "),
      $data.showMonthPicker ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        class: "month-picker-overlay",
        onClick: _cache[8] || (_cache[8] = (...args) => $options.hideMonthPicker && $options.hideMonthPicker(...args))
      }, [
        vue.createElementVNode("view", {
          class: "month-picker-sheet",
          onClick: _cache[7] || (_cache[7] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", { class: "month-picker-content" }, [
            vue.createElementVNode("view", { class: "month-grid" }, [
              (vue.openBlock(), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList(12, (month) => {
                  return vue.createElementVNode("view", {
                    class: vue.normalizeClass(["month-item", { active: month === $data.currentMonth }]),
                    key: month,
                    onClick: ($event) => $options.selectMonth(month)
                  }, [
                    vue.createElementVNode(
                      "text",
                      { class: "month-text" },
                      vue.toDisplayString(month) + "æœˆ",
                      1
                      /* TEXT */
                    )
                  ], 10, ["onClick"]);
                }),
                64
                /* STABLE_FRAGMENT */
              ))
            ])
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesChatDateSearch = /* @__PURE__ */ _export_sfc(_sfc_main$W, [["render", _sfc_render$V], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/chat/date-search.vue"]]);
  const _sfc_main$V = {
    name: "SearchResultsPage",
    data() {
      return {};
    }
  };
  function _sfc_render$U(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "search-results-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" é¡µé¢æ ‡é¢˜ "),
      vue.createCommentVNode(' <view class="page-title">\n			<text class="title-text">æœç´¢ç»“æœ</text>\n		</view> '),
      vue.createCommentVNode(" æœç´¢æ åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "search-bar-area" }, [
        vue.createElementVNode("view", { class: "search-input-field" }, [
          vue.createElementVNode("text", { class: "search-text" }, "æ„å¤§åˆ©é¢")
        ]),
        vue.createElementVNode("view", { class: "cancel-btn" }, [
          vue.createElementVNode("text", { class: "cancel-text" }, "å–æ¶ˆ")
        ])
      ]),
      vue.createCommentVNode(" æ ‡ç­¾é¡µå¯¼èˆª "),
      vue.createElementVNode("view", { class: "tab-navigation" }, [
        vue.createElementVNode("view", { class: "tab-item active" }, [
          vue.createElementVNode("text", { class: "tab-text" }, "å…¨éƒ¨")
        ]),
        vue.createElementVNode("view", { class: "tab-item" }, [
          vue.createElementVNode("text", { class: "tab-text" }, "å›¾ç‰‡")
        ]),
        vue.createElementVNode("view", { class: "tab-item" }, [
          vue.createElementVNode("text", { class: "tab-text" }, "AI")
        ]),
        vue.createElementVNode("view", { class: "tab-item" }, [
          vue.createElementVNode("text", { class: "tab-text" }, "é“¾æ¥")
        ]),
        vue.createElementVNode("view", { class: "tab-item" }, [
          vue.createElementVNode("text", { class: "tab-text" }, "éŸ³ä¹ä¸éŸ³é¢‘")
        ])
      ]),
      vue.createCommentVNode(" æœç´¢ç»“æœåˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "search-results-list" }, [
        vue.createCommentVNode(" ç¬¬ä¸€ä¸ªæœç´¢ç»“æœ "),
        vue.createElementVNode("view", { class: "result-item" }, [
          vue.createElementVNode("view", { class: "item-left" }, [
            vue.createElementVNode("image", {
              class: "profile-pic",
              src: "",
              mode: "aspectFill"
            })
          ]),
          vue.createElementVNode("view", { class: "item-content" }, [
            vue.createElementVNode("text", { class: "item-title" }, "åšä¹³æŠ¹èŒ¶è›‹ç³•"),
            vue.createElementVNode("view", { class: "item-snippet" }, [
              vue.createElementVNode("text", { class: "snippet-text" }, "é—®é¢˜çš„ã€‚æˆ‘è®¤ä¸º"),
              vue.createElementVNode("text", { class: "highlighted-text" }, "æ„å¤§åˆ©é¢"),
              vue.createElementVNode("text", { class: "snippet-text" }, "å°±åº”è¯¥æ‹Œå››åäºŒå·æ··å‡åœŸ")
            ])
          ]),
          vue.createElementVNode("view", { class: "item-right" }, [
            vue.createElementVNode("text", { class: "item-date" }, "8æœˆ5æ—¥")
          ])
        ]),
        vue.createCommentVNode(" ç¬¬äºŒä¸ªæœç´¢ç»“æœ "),
        vue.createElementVNode("view", { class: "result-item" }, [
          vue.createElementVNode("view", { class: "item-left" }, [
            vue.createElementVNode("image", {
              class: "profile-pic",
              src: "",
              mode: "aspectFill"
            })
          ]),
          vue.createElementVNode("view", { class: "item-content" }, [
            vue.createElementVNode("text", { class: "item-title" }, "çŒ«åˆå±‹ä¹‹ä¸»(AI)"),
            vue.createElementVNode("view", { class: "item-snippet" }, [
              vue.createElementVNode("text", { class: "snippet-text" }, "å°±"),
              vue.createElementVNode("text", { class: "highlighted-text" }, "æ„å¤§åˆ©é¢"),
              vue.createElementVNode("text", { class: "snippet-text" }, "å°±è¡Œå§")
            ])
          ]),
          vue.createElementVNode("view", { class: "item-right" }, [
            vue.createElementVNode("text", { class: "item-date" }, "7æœˆ13æ—¥")
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesChatSearchResults = /* @__PURE__ */ _export_sfc(_sfc_main$V, [["render", _sfc_render$U], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/chat/search-results.vue"]]);
  const _sfc_main$U = {
    data() {
      return {
        friendName: "å¿µå¿µ",
        // é»˜è®¤å¥½å‹åç§°
        friendId: null,
        // å¥½å‹ID
        userId: null,
        // ç”¨æˆ·ID
        chatSettings: [],
        // èŠå¤©è®¾ç½®é€‰é¡¹
        loading: false,
        errorMessage: "",
        // ç”¨æˆ·è®¾ç½®çŠ¶æ€
        userSettings: {
          doNotDisturb: false,
          pinChat: false,
          reminders: false,
          chatBackground: ""
          // èŠå¤©èƒŒæ™¯URL
        }
      };
    },
    onLoad(options) {
      if (options.friendName) {
        this.friendName = decodeURIComponent(options.friendName);
      }
      if (options.friendId) {
        this.friendId = parseInt(options.friendId);
      }
      this.userId = uni.getStorageSync("userId") || 1;
      formatAppLog("log", "at pages/chat/chat-info.vue:139", "chat-infoé¡µé¢åŠ è½½å‚æ•°:", options);
      formatAppLog("log", "at pages/chat/chat-info.vue:140", "ç”¨æˆ·ID:", this.userId);
      formatAppLog("log", "at pages/chat/chat-info.vue:141", "å¥½å‹ID:", this.friendId);
      formatAppLog("log", "at pages/chat/chat-info.vue:142", "å¥½å‹åç§°:", this.friendName);
      if (!this.friendId) {
        this.friendId = uni.getStorageSync("currentFriendId");
        formatAppLog("log", "at pages/chat/chat-info.vue:147", "ä»å­˜å‚¨ä¸­è·å–å¥½å‹ID:", this.friendId);
      }
      if (!this.friendId) {
        formatAppLog("error", "at pages/chat/chat-info.vue:152", "å¥½å‹IDä¸å­˜åœ¨ï¼Œæ— æ³•åŠ è½½è®¾ç½®");
        this.friendId = 1000001;
        formatAppLog("log", "at pages/chat/chat-info.vue:155", "ä½¿ç”¨é»˜è®¤å¥½å‹ID:", this.friendId);
        uni.showToast({
          title: "ä½¿ç”¨é»˜è®¤å¥½å‹è®¾ç½®",
          icon: "none",
          duration: 2e3
        });
      }
      this.loadChatSettings();
      this.loadUserSettings();
    },
    methods: {
      // åŠ è½½èŠå¤©è®¾ç½®é€‰é¡¹
      async loadChatSettings() {
        this.loading = true;
        this.errorMessage = "";
        try {
          formatAppLog("log", "at pages/chat/chat-info.vue:175", "å¼€å§‹åŠ è½½èŠå¤©è®¾ç½®é€‰é¡¹...");
          const response = await uni.request({
            url: "http://localhost:8888/api/bc-entities/chat-settings-base/all",
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/chat/chat-info.vue:184", "èŠå¤©è®¾ç½®APIå“åº”çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/chat/chat-info.vue:185", "èŠå¤©è®¾ç½®APIå“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data) {
            this.chatSettings = response.data.filter((setting) => setting.status === 1);
            formatAppLog("log", "at pages/chat/chat-info.vue:189", "èŠå¤©è®¾ç½®åŠ è½½æˆåŠŸ:", this.chatSettings);
          } else {
            this.errorMessage = `åŠ è½½èŠå¤©è®¾ç½®å¤±è´¥ï¼ŒçŠ¶æ€ç : ${response.statusCode}`;
            formatAppLog("error", "at pages/chat/chat-info.vue:192", "åŠ è½½èŠå¤©è®¾ç½®å¤±è´¥:", response);
          }
        } catch (error) {
          this.errorMessage = "ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥è¿æ¥";
          formatAppLog("error", "at pages/chat/chat-info.vue:196", "åŠ è½½èŠå¤©è®¾ç½®å¼‚å¸¸:", error);
        } finally {
          this.loading = false;
        }
      },
      // æ ¹æ®è®¾ç½®ç±»å‹è·å–è®¾ç½®çŠ¶æ€
      getSettingStatus(settingName) {
        const settingMap = {
          "æ¶ˆæ¯å…æ‰“æ‰°": "doNotDisturb",
          "ç½®é¡¶èŠå¤©": "pinChat",
          "æé†’": "reminders"
        };
        const key = settingMap[settingName];
        return key ? this.userSettings[key] : false;
      },
      // åˆ‡æ¢è®¾ç½®çŠ¶æ€
      toggleSetting(settingName) {
        formatAppLog("log", "at pages/chat/chat-info.vue:215", "toggleSettingè¢«è°ƒç”¨ï¼Œè®¾ç½®åç§°:", settingName);
        const settingMap = {
          "æ¶ˆæ¯å…æ‰“æ‰°": { key: "doNotDisturb", settingId: 10000002 },
          "ç½®é¡¶èŠå¤©": { key: "pinChat", settingId: 10000003 },
          "æé†’": { key: "reminders", settingId: 10000004 }
        };
        const setting = settingMap[settingName];
        if (setting) {
          this.userSettings[setting.key] = !this.userSettings[setting.key];
          formatAppLog("log", "at pages/chat/chat-info.vue:224", `${settingName} çŠ¶æ€åˆ‡æ¢ä¸º:`, this.userSettings[setting.key]);
          const settingValue = this.userSettings[setting.key] ? '["1"]' : '["0"]';
          formatAppLog("log", "at pages/chat/chat-info.vue:227", "å‡†å¤‡ä¿å­˜è®¾ç½®å€¼:", settingValue);
          this.saveSingleSetting(setting.settingId, settingValue);
        } else {
          formatAppLog("log", "at pages/chat/chat-info.vue:230", "æœªæ‰¾åˆ°å¯¹åº”çš„è®¾ç½®æ˜ å°„:", settingName);
        }
      },
      // åŠ è½½ç”¨æˆ·è®¾ç½®
      async loadUserSettings() {
        if (!this.userId || !this.friendId) {
          formatAppLog("log", "at pages/chat/chat-info.vue:237", "ç”¨æˆ·IDæˆ–å¥½å‹IDä¸å­˜åœ¨ï¼Œä½¿ç”¨é»˜è®¤è®¾ç½®");
          return;
        }
        try {
          formatAppLog("log", "at pages/chat/chat-info.vue:242", "å¼€å§‹åŠ è½½ç”¨æˆ·è®¾ç½®ï¼ŒuserId:", this.userId, "friendId:", this.friendId);
          const response = await uni.request({
            url: `http://localhost:8888/api/u-entities/user-friends-relationship/settings/${this.userId}/${this.friendId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/chat/chat-info.vue:251", "ç”¨æˆ·è®¾ç½®APIå“åº”çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/chat/chat-info.vue:252", "ç”¨æˆ·è®¾ç½®APIå“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data) {
            try {
              const doNotDisturbArray = JSON.parse(response.data.doNotDisturb || '["0"]');
              const pinChatArray = JSON.parse(response.data.pinChat || '["0"]');
              const remindersArray = JSON.parse(response.data.reminders || '["0"]');
              const chatBackgroundArray = JSON.parse(response.data.chatBackground || '[""]');
              this.userSettings.doNotDisturb = doNotDisturbArray[0] === "1";
              this.userSettings.pinChat = pinChatArray[0] === "1";
              this.userSettings.reminders = remindersArray[0] === "1";
              this.userSettings.chatBackground = chatBackgroundArray[0] || "";
              formatAppLog("log", "at pages/chat/chat-info.vue:266", "ç”¨æˆ·è®¾ç½®åŠ è½½æˆåŠŸ:", this.userSettings);
            } catch (e) {
              formatAppLog("error", "at pages/chat/chat-info.vue:268", "è§£æè®¾ç½®æ•°æ®å¤±è´¥:", e);
              this.userSettings.doNotDisturb = false;
              this.userSettings.pinChat = false;
              this.userSettings.reminders = false;
              this.userSettings.chatBackground = "";
            }
          } else {
            formatAppLog("error", "at pages/chat/chat-info.vue:276", "åŠ è½½ç”¨æˆ·è®¾ç½®å¤±è´¥:", response);
          }
        } catch (error) {
          formatAppLog("error", "at pages/chat/chat-info.vue:279", "åŠ è½½ç”¨æˆ·è®¾ç½®å¼‚å¸¸:", error);
        }
      },
      // ä¿å­˜å•ä¸ªè®¾ç½®
      async saveSingleSetting(settingId, settingValue) {
        formatAppLog("log", "at pages/chat/chat-info.vue:285", "saveSingleSettingè¢«è°ƒç”¨ï¼Œå‚æ•°:", { settingId, settingValue });
        formatAppLog("log", "at pages/chat/chat-info.vue:286", "å½“å‰ç”¨æˆ·ID:", this.userId);
        formatAppLog("log", "at pages/chat/chat-info.vue:287", "å½“å‰å¥½å‹ID:", this.friendId);
        if (!this.userId) {
          formatAppLog("error", "at pages/chat/chat-info.vue:290", "ç”¨æˆ·IDä¸å­˜åœ¨ï¼Œæ— æ³•ä¿å­˜è®¾ç½®");
          uni.showToast({
            title: "ç”¨æˆ·ä¿¡æ¯é”™è¯¯ï¼Œæ— æ³•ä¿å­˜è®¾ç½®",
            icon: "error",
            duration: 2e3
          });
          return;
        }
        if (!this.friendId) {
          formatAppLog("error", "at pages/chat/chat-info.vue:300", "å¥½å‹IDä¸å­˜åœ¨ï¼Œæ— æ³•ä¿å­˜è®¾ç½®");
          uni.showToast({
            title: "å¥½å‹ä¿¡æ¯ä¸å®Œæ•´ï¼Œæ— æ³•ä¿å­˜è®¾ç½®",
            icon: "error",
            duration: 2e3
          });
          return;
        }
        try {
          const settingsData = {
            userId: this.userId,
            friendId: this.friendId,
            settingId,
            settingValue
          };
          formatAppLog("log", "at pages/chat/chat-info.vue:317", "å¼€å§‹ä¿å­˜å•ä¸ªè®¾ç½®:", settingsData);
          const response = await uni.request({
            url: "http://localhost:8888/api/u-entities/user-friends-relationship/save-settings",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            },
            data: settingsData
          });
          formatAppLog("log", "at pages/chat/chat-info.vue:327", "ä¿å­˜å•ä¸ªè®¾ç½®APIå“åº”çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/chat/chat-info.vue:328", "ä¿å­˜å•ä¸ªè®¾ç½®APIå“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200) {
            formatAppLog("log", "at pages/chat/chat-info.vue:331", "å•ä¸ªè®¾ç½®ä¿å­˜æˆåŠŸ");
            uni.showToast({
              title: "è®¾ç½®å·²ä¿å­˜",
              icon: "success",
              duration: 1e3
            });
          } else {
            formatAppLog("error", "at pages/chat/chat-info.vue:338", "ä¿å­˜å•ä¸ªè®¾ç½®å¤±è´¥:", response);
            uni.showToast({
              title: "ä¿å­˜å¤±è´¥",
              icon: "error",
              duration: 1e3
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/chat/chat-info.vue:346", "ä¿å­˜å•ä¸ªè®¾ç½®å¼‚å¸¸:", error);
          uni.showToast({
            title: "ä¿å­˜å¤±è´¥",
            icon: "error",
            duration: 1e3
          });
        }
      },
      // åˆ¤æ–­æ˜¯å¦ä¸ºå¼€å…³ç±»å‹çš„è®¾ç½®
      isToggleSetting(settingName) {
        const toggleSettings = ["æ¶ˆæ¯å…æ‰“æ‰°", "ç½®é¡¶èŠå¤©", "æé†’"];
        return toggleSettings.includes(settingName);
      },
      // å¤„ç†è®¾ç½®é¡¹ç‚¹å‡»
      handleSettingClick(setting) {
        const settingName = setting.chatSettingName;
        if (this.isToggleSetting(settingName)) {
          return;
        }
        switch (settingName) {
          case "æŸ¥æ‰¾èŠå¤©è®°å½•":
            this.goToSearchHistory();
            break;
          case "è®¾ç½®èŠå¤©èƒŒæ™¯":
            this.goToSetBackground();
            break;
          case "æ¸…ç©ºèŠå¤©è®°å½•":
            this.goToClearHistory();
            break;
          case "ä¸¾æŠ¥":
            this.goToReport();
            break;
          default:
            formatAppLog("log", "at pages/chat/chat-info.vue:385", "æœªçŸ¥è®¾ç½®é¡¹:", settingName);
            uni.showToast({
              title: `${settingName} åŠŸèƒ½å¼€å‘ä¸­`,
              icon: "none"
            });
        }
      },
      // è®¾ç½®èŠå¤©èƒŒæ™¯
      goToSetBackground() {
        uni.chooseImage({
          count: 1,
          sizeType: ["original", "compressed"],
          sourceType: ["album", "camera"],
          success: (res) => {
            const tempFilePath = res.tempFilePaths[0];
            this.userSettings.chatBackground = tempFilePath;
            const settingValue = JSON.stringify([tempFilePath]);
            this.saveSingleSetting(10000005, settingValue);
            uni.showToast({
              title: "èƒŒæ™¯è®¾ç½®æˆåŠŸ",
              icon: "success"
            });
          },
          fail: (err) => {
            formatAppLog("error", "at pages/chat/chat-info.vue:413", "é€‰æ‹©å›¾ç‰‡å¤±è´¥:", err);
            uni.showToast({
              title: "é€‰æ‹©å›¾ç‰‡å¤±è´¥",
              icon: "error"
            });
          }
        });
      },
      goBack() {
        uni.navigateBack();
      },
      goToSearchHistory() {
        uni.navigateTo({
          url: "/pages/chat/search"
        });
      },
      goToClearHistory() {
        uni.showToast({
          title: "æ¸…ç©ºèŠå¤©è®°å½•åŠŸèƒ½",
          icon: "none"
        });
      },
      goToReport() {
        uni.navigateTo({
          url: "/pages/report/report"
        });
      },
      goToHome() {
        uni.navigateTo({
          url: "/pages/content-feed/content-feed"
        });
      },
      goToFriendList() {
        uni.navigateTo({
          url: "/pages/friend-list/friend-list"
        });
      },
      goToAIList() {
        uni.navigateTo({
          url: "/pages/ai-list/ai-list"
        });
      },
      goToProfile() {
        uni.navigateTo({
          url: "/pages/user-profile/user-profile"
        });
      },
      goToFriendCard() {
        uni.navigateTo({
          url: `/pages/chat/friend-card?friendName=${encodeURIComponent(this.friendName)}&friendId=${this.friendId}`
        });
      }
    }
  };
  function _sfc_render$T(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal">\n					<view class="bar bar-1"></view>\n					<view class="bar bar-2"></view>\n					<view class="bar bar-3"></view>\n					<view class="bar bar-4"></view>\n				</view>\n				<view class="wifi">ğŸ“¶</view>\n				<view class="battery">\n					<view class="battery-body">\n						<view class="battery-level"></view>\n					</view>\n					<view class="battery-tip"></view>\n				</view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n			<view class="back-button" @click="goBack">\n				<text class="back-arrow"></text>\n			</view>\n			<text class="nav-title">èŠå¤©ä¿¡æ¯</text>\n		</view> '),
      vue.createCommentVNode(" å¤´åƒå’Œç”¨æˆ·ååŒºåŸŸ "),
      vue.createElementVNode("view", {
        class: "profile-section",
        onClick: _cache[0] || (_cache[0] = (...args) => $options.goToFriendCard && $options.goToFriendCard(...args))
      }, [
        vue.createElementVNode("view", { class: "avatar-container" }, [
          vue.createElementVNode("view", { class: "avatar" }, [
            vue.createElementVNode("text", { class: "avatar-text" }, "ğŸ±")
          ])
        ]),
        vue.createElementVNode(
          "text",
          { class: "username" },
          vue.toDisplayString($data.friendName),
          1
          /* TEXT */
        )
      ]),
      vue.createCommentVNode(" è®¾ç½®é€‰é¡¹åˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "settings-list" }, [
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-container"
        }, [
          vue.createElementVNode("view", { class: "loading-spinner" }),
          vue.createElementVNode("text", { class: "loading-text" }, "åŠ è½½è®¾ç½®ä¸­...")
        ])) : $data.errorMessage ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 1 },
          [
            vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
            vue.createElementVNode("view", { class: "error-container" }, [
              vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
              vue.createElementVNode(
                "text",
                { class: "error-text" },
                vue.toDisplayString($data.errorMessage),
                1
                /* TEXT */
              ),
              vue.createElementVNode("button", {
                class: "retry-button",
                onClick: _cache[1] || (_cache[1] = (...args) => $options.loadChatSettings && $options.loadChatSettings(...args))
              }, [
                vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
              ])
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )) : (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 2 },
          [
            vue.createCommentVNode(" åŠ¨æ€è®¾ç½®é€‰é¡¹ "),
            vue.createElementVNode("view", null, [
              vue.createCommentVNode(" åŠ¨æ€è®¾ç½®é€‰é¡¹ "),
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($data.chatSettings, (setting) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    key: setting.chatSettingId,
                    class: "setting-item",
                    onClick: ($event) => $options.handleSettingClick(setting)
                  }, [
                    vue.createElementVNode(
                      "text",
                      { class: "setting-text" },
                      vue.toDisplayString(setting.chatSettingName),
                      1
                      /* TEXT */
                    ),
                    vue.createCommentVNode(" æ ¹æ®è®¾ç½®ç±»å‹æ˜¾ç¤ºä¸åŒçš„æ§ä»¶ "),
                    $options.isToggleSetting(setting.chatSettingName) ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: vue.normalizeClass(["toggle-switch", { "active": $options.getSettingStatus(setting.chatSettingName) }]),
                      onClick: vue.withModifiers(($event) => $options.toggleSetting(setting.chatSettingName), ["stop"])
                    }, [
                      vue.createElementVNode("view", { class: "toggle-circle" })
                    ], 10, ["onClick"])) : (vue.openBlock(), vue.createElementBlock("text", {
                      key: 1,
                      class: "arrow"
                    }, "â€º"))
                  ], 8, ["onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        ))
      ]),
      vue.createCommentVNode(" åº•éƒ¨å¯¼èˆªæ  "),
      vue.createElementVNode("view", { class: "bottom-nav" }, [
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.goToHome && $options.goToHome(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "é¦–é¡µ")
        ]),
        vue.createElementVNode("view", { class: "nav-item" }, [
          vue.createElementVNode("text", { class: "nav-text" }, "æ¶ˆæ¯")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[3] || (_cache[3] = (...args) => $options.goToAIList && $options.goToAIList(...args))
        }, [
          vue.createElementVNode("view", { class: "ai-icon" }, "AI")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[4] || (_cache[4] = (...args) => $options.goToFriendList && $options.goToFriendList(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "å¥½å‹")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[5] || (_cache[5] = (...args) => $options.goToProfile && $options.goToProfile(...args))
        }, [
          vue.createElementVNode("view", { class: "nav-avatar" }, [
            vue.createElementVNode("view", { class: "mini-cat-avatar" }, [
              vue.createElementVNode("view", { class: "mini-cat-body" }),
              vue.createElementVNode("view", { class: "mini-cat-face" }, [
                vue.createElementVNode("view", { class: "mini-cat-eyes" }, [
                  vue.createElementVNode("view", { class: "mini-cat-eye" }),
                  vue.createElementVNode("view", { class: "mini-cat-eye" })
                ])
              ])
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ‰‹åŠ¿æ¡ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesChatChatInfo = /* @__PURE__ */ _export_sfc(_sfc_main$U, [["render", _sfc_render$T], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/chat/chat-info.vue"]]);
  const _sfc_main$T = {
    data() {
      return {
        friendName: "",
        friendId: null,
        userId: null,
        friendInfo: {
          nickname: "",
          avatar: "",
          location: ""
        },
        loading: false,
        errorMessage: "",
        // æœ‹å‹èµ„æ–™å¼¹çª—ç›¸å…³
        showProfileModal: false,
        saving: false,
        profileData: {
          friendsProfile: ""
        }
      };
    },
    onLoad(options) {
      if (options.friendName) {
        this.friendName = decodeURIComponent(options.friendName);
      }
      if (options.friendId) {
        this.friendId = parseInt(options.friendId);
      }
      this.userId = uni.getStorageSync("userId") || 1;
      formatAppLog("log", "at pages/chat/friend-card.vue:165", "friend-cardé¡µé¢åŠ è½½å‚æ•°:", options);
      formatAppLog("log", "at pages/chat/friend-card.vue:166", "ç”¨æˆ·ID:", this.userId);
      formatAppLog("log", "at pages/chat/friend-card.vue:167", "å¥½å‹ID:", this.friendId);
      formatAppLog("log", "at pages/chat/friend-card.vue:168", "å¥½å‹åç§°:", this.friendName);
      this.loadFriendInfo();
      this.loadFriendProfile();
    },
    methods: {
      // åŠ è½½å¥½å‹ä¿¡æ¯
      async loadFriendInfo() {
        if (!this.friendId) {
          formatAppLog("log", "at pages/chat/friend-card.vue:179", "å¥½å‹IDä¸å­˜åœ¨ï¼Œä½¿ç”¨é»˜è®¤ä¿¡æ¯");
          this.friendInfo.nickname = this.friendName;
          return;
        }
        this.loading = true;
        this.errorMessage = "";
        try {
          formatAppLog("log", "at pages/chat/friend-card.vue:188", "å¼€å§‹åŠ è½½å¥½å‹ä¿¡æ¯ï¼ŒfriendId:", this.friendId);
          const response = await uni.request({
            url: `http://localhost:8888/api/users/${this.friendId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/chat/friend-card.vue:197", "å¥½å‹ä¿¡æ¯APIå“åº”çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/chat/friend-card.vue:198", "å¥½å‹ä¿¡æ¯APIå“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data) {
            this.friendInfo = {
              nickname: response.data.realName || response.data.username || this.friendName,
              avatar: response.data.profilePicUrl || "",
              location: response.data.location || ""
            };
            formatAppLog("log", "at pages/chat/friend-card.vue:206", "å¥½å‹ä¿¡æ¯åŠ è½½æˆåŠŸ:", this.friendInfo);
          } else {
            formatAppLog("error", "at pages/chat/friend-card.vue:208", "åŠ è½½å¥½å‹ä¿¡æ¯å¤±è´¥:", response);
            this.errorMessage = "åŠ è½½å¥½å‹ä¿¡æ¯å¤±è´¥";
            this.friendInfo.nickname = this.friendName;
          }
        } catch (error) {
          formatAppLog("error", "at pages/chat/friend-card.vue:214", "åŠ è½½å¥½å‹ä¿¡æ¯å¼‚å¸¸:", error);
          this.errorMessage = "ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥è¿æ¥";
          this.friendInfo.nickname = this.friendName;
        } finally {
          this.loading = false;
        }
      },
      goBack() {
        uni.navigateBack();
      },
      showMoreOptions() {
        uni.showActionSheet({
          itemList: ["è®¾ç½®å¤‡æ³¨å’Œæ ‡ç­¾", "è®¾ç½®æœ‹å‹åœˆæƒé™", "åŠ å…¥é»‘åå•", "åˆ é™¤å¥½å‹"],
          success: (res) => {
            formatAppLog("log", "at pages/chat/friend-card.vue:231", "é€‰æ‹©äº†ç¬¬" + (res.tapIndex + 1) + "ä¸ªé€‰é¡¹");
          }
        });
      },
      goToFriendInfo() {
        this.showProfileModal = true;
        this.loadFriendProfile();
      },
      goToFriendHomepage() {
        uni.navigateTo({
          url: `/pages/feed/user-profile?friendName=${encodeURIComponent(this.friendName)}`
        });
      },
      sendMessage() {
        if (this.friendId) {
          uni.navigateTo({
            url: `/pages/chat/chat?friendId=${this.friendId}&friendName=${encodeURIComponent(this.friendInfo.nickname || this.friendName)}`
          });
        } else {
          uni.showToast({
            title: "å¥½å‹ä¿¡æ¯ä¸å®Œæ•´",
            icon: "error"
          });
        }
      },
      // åŠ è½½æœ‹å‹èµ„æ–™
      async loadFriendProfile() {
        if (!this.userId || !this.friendId) {
          formatAppLog("log", "at pages/chat/friend-card.vue:264", "ç”¨æˆ·IDæˆ–å¥½å‹IDä¸å­˜åœ¨ï¼Œæ— æ³•åŠ è½½æœ‹å‹èµ„æ–™");
          return;
        }
        try {
          formatAppLog("log", "at pages/chat/friend-card.vue:269", "å¼€å§‹åŠ è½½æœ‹å‹èµ„æ–™ï¼ŒuserId:", this.userId, "friendId:", this.friendId);
          const response = await uni.request({
            url: `http://localhost:8888/api/u-entities/friends-profile/${this.userId}/${this.friendId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/chat/friend-card.vue:278", "æœ‹å‹èµ„æ–™APIå“åº”çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/chat/friend-card.vue:279", "æœ‹å‹èµ„æ–™APIå“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data) {
            this.profileData = {
              friendsProfile: response.data.friendsProfile || ""
            };
            formatAppLog("log", "at pages/chat/friend-card.vue:285", "æœ‹å‹èµ„æ–™åŠ è½½æˆåŠŸ:", this.profileData);
          } else {
            formatAppLog("log", "at pages/chat/friend-card.vue:287", "æœ‹å‹èµ„æ–™ä¸å­˜åœ¨ï¼Œä½¿ç”¨é»˜è®¤å€¼");
            this.profileData = {
              friendsProfile: ""
            };
          }
        } catch (error) {
          formatAppLog("error", "at pages/chat/friend-card.vue:294", "åŠ è½½æœ‹å‹èµ„æ–™å¼‚å¸¸:", error);
          this.profileData = {
            friendsProfile: ""
          };
        }
      },
      // ä¿å­˜æœ‹å‹èµ„æ–™
      async saveProfile() {
        if (!this.userId || !this.friendId) {
          uni.showToast({
            title: "å‚æ•°é”™è¯¯ï¼Œæ— æ³•ä¿å­˜",
            icon: "error"
          });
          return;
        }
        if (this.profileData.friendsProfile.length > 255) {
          uni.showToast({
            title: "å¤‡æ³¨å†…å®¹ä¸èƒ½è¶…è¿‡255ä¸ªå­—ç¬¦",
            icon: "error"
          });
          return;
        }
        this.saving = true;
        try {
          const profileData = {
            userId: this.userId,
            friendId: this.friendId,
            friendsProfile: this.profileData.friendsProfile
          };
          formatAppLog("log", "at pages/chat/friend-card.vue:330", "å¼€å§‹ä¿å­˜æœ‹å‹èµ„æ–™:", profileData);
          const response = await uni.request({
            url: "http://localhost:8888/api/u-entities/friends-profile/save",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            },
            data: profileData
          });
          formatAppLog("log", "at pages/chat/friend-card.vue:340", "ä¿å­˜æœ‹å‹èµ„æ–™APIå“åº”çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/chat/friend-card.vue:341", "ä¿å­˜æœ‹å‹èµ„æ–™APIå“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200) {
            uni.showToast({
              title: "ä¿å­˜æˆåŠŸ",
              icon: "success"
            });
            this.closeProfileModal();
          } else {
            formatAppLog("error", "at pages/chat/friend-card.vue:350", "ä¿å­˜æœ‹å‹èµ„æ–™å¤±è´¥:", response);
            uni.showToast({
              title: "ä¿å­˜å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/chat/friend-card.vue:357", "ä¿å­˜æœ‹å‹èµ„æ–™å¼‚å¸¸:", error);
          uni.showToast({
            title: "ä¿å­˜å¤±è´¥",
            icon: "error"
          });
        } finally {
          this.saving = false;
        }
      },
      // å…³é—­æœ‹å‹èµ„æ–™å¼¹çª—
      closeProfileModal() {
        this.showProfileModal = false;
        this.profileData = {
          friendsProfile: ""
        };
      }
    }
  };
  function _sfc_render$S(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">16:38</text>\n			<view class="status-icons">\n				<view class="signal">\n					<view class="bar bar-1"></view>\n					<view class="bar bar-2"></view>\n					<view class="bar bar-3"></view>\n					<view class="bar bar-4"></view>\n				</view>\n				<view class="wifi">ğŸ“¶</view>\n				<view class="battery">\n					<view class="battery-body">\n						<view class="battery-level"></view>\n					</view>\n					<view class="battery-tip"></view>\n				</view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createElementVNode("view", { class: "nav-bar" }, [
        vue.createElementVNode("view", {
          class: "back-button",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
        }, [
          vue.createElementVNode("text", { class: "back-arrow" }, "â€¹")
        ]),
        vue.createElementVNode(
          "text",
          { class: "nav-title" },
          vue.toDisplayString($data.friendName),
          1
          /* TEXT */
        ),
        vue.createElementVNode("view", {
          class: "more-button",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.showMoreOptions && $options.showMoreOptions(...args))
        }, [
          vue.createElementVNode("text", { class: "more-dots" }, "â‹¯")
        ])
      ]),
      vue.createCommentVNode(" å¥½å‹ä¿¡æ¯åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "friend-info-section" }, [
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-container"
        }, [
          vue.createElementVNode("view", { class: "loading-spinner" }),
          vue.createElementVNode("text", { class: "loading-text" }, "åŠ è½½å¥½å‹ä¿¡æ¯ä¸­...")
        ])) : $data.errorMessage ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 1 },
          [
            vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
            vue.createElementVNode("view", { class: "error-container" }, [
              vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
              vue.createElementVNode(
                "text",
                { class: "error-text" },
                vue.toDisplayString($data.errorMessage),
                1
                /* TEXT */
              ),
              vue.createElementVNode("button", {
                class: "retry-button",
                onClick: _cache[2] || (_cache[2] = (...args) => $options.loadFriendInfo && $options.loadFriendInfo(...args))
              }, [
                vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
              ])
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )) : (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 2 },
          [
            vue.createCommentVNode(" æ­£å¸¸æ˜¾ç¤º "),
            vue.createElementVNode("view", null, [
              vue.createElementVNode("view", { class: "avatar-container" }, [
                vue.createElementVNode("view", { class: "avatar" }, [
                  $data.friendInfo.avatar ? (vue.openBlock(), vue.createElementBlock("image", {
                    key: 0,
                    class: "avatar-image",
                    src: $data.friendInfo.avatar,
                    mode: "aspectFill"
                  }, null, 8, ["src"])) : (vue.openBlock(), vue.createElementBlock("text", {
                    key: 1,
                    class: "avatar-text"
                  }, "ğŸ±"))
                ])
              ]),
              vue.createElementVNode("view", { class: "friend-details" }, [
                vue.createElementVNode(
                  "text",
                  { class: "friend-name" },
                  vue.toDisplayString($data.friendInfo.nickname || $data.friendName),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "text",
                  { class: "friend-nickname" },
                  "æ˜µç§°: " + vue.toDisplayString($data.friendInfo.nickname || $data.friendName),
                  1
                  /* TEXT */
                ),
                $data.friendInfo.location ? (vue.openBlock(), vue.createElementBlock(
                  "text",
                  {
                    key: 0,
                    class: "friend-location"
                  },
                  "åœ°åŒº: " + vue.toDisplayString($data.friendInfo.location),
                  1
                  /* TEXT */
                )) : vue.createCommentVNode("v-if", true)
              ])
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        ))
      ]),
      vue.createCommentVNode(" åŠŸèƒ½é€‰é¡¹åˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "options-list" }, [
        vue.createElementVNode("view", {
          class: "option-item",
          onClick: _cache[3] || (_cache[3] = (...args) => $options.goToFriendInfo && $options.goToFriendInfo(...args))
        }, [
          vue.createElementVNode("text", { class: "option-text" }, "æœ‹å‹èµ„æ–™"),
          $data.profileData.friendsProfile ? (vue.openBlock(), vue.createElementBlock(
            "text",
            {
              key: 0,
              class: "option-desc"
            },
            vue.toDisplayString($data.profileData.friendsProfile),
            1
            /* TEXT */
          )) : (vue.openBlock(), vue.createElementBlock("text", {
            key: 1,
            class: "option-desc"
          }, "æ·»åŠ æœ‹å‹çš„å¤‡æ³¨åã€ç”µè¯ã€æ ‡ç­¾ã€å¤‡å¿˜ã€ç…§ç‰‡ç­‰ã€‚")),
          vue.createElementVNode("text", { class: "arrow" }, "â€º")
        ]),
        vue.createElementVNode("view", {
          class: "option-item",
          onClick: _cache[4] || (_cache[4] = (...args) => $options.goToFriendHomepage && $options.goToFriendHomepage(...args))
        }, [
          vue.createElementVNode("text", { class: "option-text" }, "å¥½å‹ä¸»é¡µ"),
          vue.createElementVNode("text", { class: "arrow" }, "â€º")
        ])
      ]),
      vue.createCommentVNode(" æ“ä½œæŒ‰é’®åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "action-buttons" }, [
        vue.createElementVNode("view", {
          class: "action-btn send-message",
          onClick: _cache[5] || (_cache[5] = (...args) => $options.sendMessage && $options.sendMessage(...args))
        }, [
          vue.createElementVNode("view", { class: "btn-icon" }, [
            (vue.openBlock(), vue.createElementBlock("svg", {
              class: "message-icon",
              viewBox: "0 0 1024 1024",
              version: "1.1",
              xmlns: "http://www.w3.org/2000/svg",
              width: "32",
              height: "32"
            }, [
              vue.createElementVNode("path", {
                d: "M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",
                fill: "#333333"
              }),
              vue.createElementVNode("path", {
                d: "M512 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176z",
                fill: "#333333"
              })
            ]))
          ]),
          vue.createElementVNode("text", { class: "btn-text" }, "å‘æ¶ˆæ¯")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ‰‹åŠ¿æ¡ "),
      vue.createElementVNode("view", { class: "home-indicator" }),
      vue.createCommentVNode(" æœ‹å‹èµ„æ–™ç¼–è¾‘å¼¹çª— "),
      $data.showProfileModal ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "modal-overlay",
        onClick: _cache[11] || (_cache[11] = (...args) => $options.closeProfileModal && $options.closeProfileModal(...args))
      }, [
        vue.createElementVNode("view", {
          class: "modal-content",
          onClick: _cache[10] || (_cache[10] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", { class: "modal-header" }, [
            vue.createElementVNode("text", { class: "modal-title" }, "æœ‹å‹èµ„æ–™"),
            vue.createElementVNode("view", {
              class: "close-button",
              onClick: _cache[6] || (_cache[6] = (...args) => $options.closeProfileModal && $options.closeProfileModal(...args))
            }, [
              vue.createElementVNode("text", { class: "close-icon" }, "Ã—")
            ])
          ]),
          vue.createElementVNode("view", { class: "modal-body" }, [
            vue.createElementVNode("view", { class: "input-group" }, [
              vue.createElementVNode("text", { class: "input-label" }, "å¤‡æ³¨"),
              vue.withDirectives(vue.createElementVNode(
                "textarea",
                {
                  class: "textarea-field",
                  "onUpdate:modelValue": _cache[7] || (_cache[7] = ($event) => $data.profileData.friendsProfile = $event),
                  placeholder: "è¯·è¾“å…¥å¤‡æ³¨ä¿¡æ¯",
                  maxlength: "255",
                  "show-confirm-bar": false
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $data.profileData.friendsProfile]
              ]),
              vue.createElementVNode(
                "text",
                { class: "char-count" },
                vue.toDisplayString($data.profileData.friendsProfile.length) + "/255",
                1
                /* TEXT */
              )
            ])
          ]),
          vue.createElementVNode("view", { class: "modal-footer" }, [
            vue.createElementVNode("button", {
              class: "cancel-btn",
              onClick: _cache[8] || (_cache[8] = (...args) => $options.closeProfileModal && $options.closeProfileModal(...args))
            }, "å–æ¶ˆ"),
            vue.createElementVNode("button", {
              class: "save-btn",
              onClick: _cache[9] || (_cache[9] = (...args) => $options.saveProfile && $options.saveProfile(...args)),
              disabled: $data.saving
            }, [
              $data.saving ? (vue.openBlock(), vue.createElementBlock("text", { key: 0 }, "ä¿å­˜ä¸­...")) : (vue.openBlock(), vue.createElementBlock("text", { key: 1 }, "ä¿å­˜"))
            ], 8, ["disabled"])
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const PagesChatFriendCard = /* @__PURE__ */ _export_sfc(_sfc_main$T, [["render", _sfc_render$S], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/chat/friend-card.vue"]]);
  const _sfc_main$S = {
    data() {
      return {
        userId: null,
        friends: [],
        groupedFriends: {},
        displayedFriends: {},
        searchKeyword: "",
        loading: false,
        errorMessage: ""
      };
    },
    onLoad() {
      this.userId = uni.getStorageSync("userId") || 1000001;
      formatAppLog("log", "at pages/chat/friend-list.vue:122", "å¥½å‹åˆ—è¡¨é¡µé¢åŠ è½½ï¼ŒuserId:", this.userId);
      this.loadFriends();
    },
    methods: {
      // åŠ è½½å¥½å‹åˆ—è¡¨
      async loadFriends() {
        if (!this.userId) {
          this.errorMessage = "ç”¨æˆ·IDä¸å­˜åœ¨";
          return;
        }
        this.loading = true;
        this.errorMessage = "";
        try {
          formatAppLog("log", "at pages/chat/friend-list.vue:137", "å¼€å§‹åŠ è½½å¥½å‹åˆ—è¡¨ï¼ŒuserId:", this.userId);
          const response = await uni.request({
            url: `http://localhost:8888/api/u-entities/user-chat-list/user/${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/chat/friend-list.vue:146", "å¥½å‹åˆ—è¡¨APIå“åº”çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/chat/friend-list.vue:147", "å¥½å‹åˆ—è¡¨APIå“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data) {
            this.friends = this.convertChatListToFriends(response.data);
            this.groupedFriends = this.groupFriendsByFirstLetter(this.friends);
            this.displayedFriends = this.groupedFriends;
            formatAppLog("log", "at pages/chat/friend-list.vue:153", "å¥½å‹åˆ—è¡¨åŠ è½½æˆåŠŸ:", this.friends);
            formatAppLog("log", "at pages/chat/friend-list.vue:154", "åˆ†ç»„åçš„å¥½å‹åˆ—è¡¨:", this.groupedFriends);
          } else {
            this.errorMessage = `åŠ è½½å¥½å‹åˆ—è¡¨å¤±è´¥ï¼ŒçŠ¶æ€ç : ${response.statusCode}`;
            formatAppLog("error", "at pages/chat/friend-list.vue:157", "åŠ è½½å¥½å‹åˆ—è¡¨å¤±è´¥:", response);
          }
        } catch (error) {
          this.errorMessage = "ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥è¿æ¥";
          formatAppLog("error", "at pages/chat/friend-list.vue:161", "åŠ è½½å¥½å‹åˆ—è¡¨å¼‚å¸¸:", error);
        } finally {
          this.loading = false;
        }
      },
      // è½¬æ¢èŠå¤©åˆ—è¡¨æ•°æ®ä¸ºå¥½å‹æ˜¾ç¤ºæ ¼å¼
      convertChatListToFriends(chatListData) {
        if (!Array.isArray(chatListData)) {
          return [];
        }
        return chatListData.map((chat) => {
          let avatarUrl = chat.avatarUrl;
          if (!avatarUrl || avatarUrl.trim() === "" || avatarUrl === "null") {
            avatarUrl = "/static/default-avatar.png";
          }
          let friendName = chat.friendName;
          if (!friendName || friendName.trim() === "" || friendName === "null") {
            friendName = "æœªçŸ¥ç”¨æˆ·";
          }
          return {
            friendId: chat.friendId,
            friendName,
            avatarUrl,
            status: "online",
            // é»˜è®¤çŠ¶æ€
            lastActive: chat.lastMessageTime,
            createdAt: chat.createdAt,
            sessionId: chat.sessionId
          };
        });
      },
      // æŒ‰é¦–å­—æ¯åˆ†ç»„å¥½å‹
      groupFriendsByFirstLetter(friends) {
        const grouped = {};
        friends.forEach((friend) => {
          const firstLetter = this.getFirstLetter(friend.friendName || "");
          if (!grouped[firstLetter]) {
            grouped[firstLetter] = [];
          }
          grouped[firstLetter].push(friend);
        });
        Object.keys(grouped).forEach((letter) => {
          grouped[letter].sort((a, b) => {
            return (a.friendName || "").localeCompare(b.friendName || "");
          });
        });
        const sortedGrouped = {};
        const sortedLetters = Object.keys(grouped).sort((a, b) => {
          if (a === "#")
            return 1;
          if (b === "#")
            return -1;
          return a.localeCompare(b);
        });
        sortedLetters.forEach((letter) => {
          sortedGrouped[letter] = grouped[letter];
        });
        return sortedGrouped;
      },
      // è·å–é¦–å­—æ¯ï¼ˆç®€åŒ–ç‰ˆæ‹¼éŸ³é¦–å­—æ¯ï¼‰
      getFirstLetter(name) {
        if (!name)
          return "#";
        const firstChar = name.charAt(0);
        if (/[A-Za-z]/.test(firstChar)) {
          return firstChar.toUpperCase();
        }
        const pinyinMap = {
          // Aç»„
          "é˜¿": "A",
          "å®‰": "A",
          "è‰¾": "A",
          "çˆ±": "A",
          // Bç»„
          "ç™½": "B",
          "åŒ—": "B",
          "æœ¬": "B",
          "åŒ…": "B",
          "è¾¹": "B",
          // Cç»„
          "é™ˆ": "C",
          "ç¨‹": "C",
          "æˆ": "C",
          "æ˜¥": "C",
          "è”¡": "C",
          "æ›¹": "C",
          // Dç»„
          "å¤§": "D",
          "ä¸": "D",
          "ä¸œ": "D",
          "é‚“": "D",
          "æ®µ": "D",
          // Eç»„
          "äºŒ": "E",
          "æ©": "E",
          // Fç»„
          "æ–¹": "F",
          "å†¯": "F",
          "ä»˜": "F",
          "é£": "F",
          "èŒƒ": "F",
          "è´¹": "F",
          // Gç»„
          "é«˜": "G",
          "éƒ­": "G",
          "é¡¾": "G",
          "å…³": "G",
          "è°·": "G",
          // Hç»„
          "éŸ©": "H",
          "ä½•": "H",
          "é»„": "H",
          "èƒ¡": "H",
          "å": "H",
          "ä¾¯": "H",
          // Iç»„
          "ä¼Š": "I",
          // Jç»„
          "æ±Ÿ": "J",
          "é‡‘": "J",
          "è´¾": "J",
          "è’‹": "J",
          "å§œ": "J",
          "å­£": "J",
          // Kç»„
          "åº·": "K",
          "å­”": "K",
          "æŸ¯": "K",
          // Lç»„
          "æ": "L",
          "åˆ˜": "L",
          "æ—": "L",
          "å¢": "L",
          "æ¢": "L",
          "ç½—": "L",
          "é™†": "L",
          // Mç»„
          "é©¬": "M",
          "æ¯›": "M",
          "å­Ÿ": "M",
          "è«": "M",
          "ç±³": "M",
          // Nç»„
          "å—": "N",
          "ç‰›": "N",
          "å€ª": "N",
          "å¥¶": "N",
          "å®": "N",
          "è‚": "N",
          // Oç»„
          "æ¬§": "O",
          "æ¬§": "O",
          // Pç»„
          "æ½˜": "P",
          "å½­": "P",
          "çš®": "P",
          // Qç»„
          "é’±": "Q",
          "ç§¦": "Q",
          "é‚±": "Q",
          "é½": "Q",
          // Rç»„
          "ä»»": "R",
          "é˜®": "R",
          "è£": "R",
          // Sç»„
          "å­™": "S",
          "å®‹": "S",
          "è‹": "S",
          "æ²ˆ": "S",
          "çŸ³": "S",
          "å²": "S",
          // Tç»„
          "å”": "T",
          "ç”°": "T",
          "é™¶": "T",
          "æ±¤": "T",
          "è°­": "T",
          // Uç»„
          "å´": "U",
          "æ­¦": "U",
          // Vç»„
          "ç‹": "V",
          "é­": "V",
          "éŸ¦": "V",
          "æ¸©": "V",
          // Wç»„
          "ç‹": "W",
          "å´": "W",
          "æ­¦": "W",
          "é­": "W",
          "éŸ¦": "W",
          "æ¸©": "W",
          // Xç»„
          "è°¢": "X",
          "å¾": "X",
          "è®¸": "X",
          "å¤": "X",
          "æ˜Ÿ": "X",
          "å°": "X",
          "è‚–": "X",
          "è–›": "X",
          // Yç»„
          "æ¨": "Y",
          "å¶": "Y",
          "äº": "Y",
          "è¢": "Y",
          "ç š": "Y",
          "å¤œ": "Y",
          "å§š": "Y",
          "ä¸¥": "Y",
          "æ˜“": "Y",
          // Zç»„
          "å¼ ": "Z",
          "èµµ": "Z",
          "å‘¨": "Z",
          "æœ±": "Z",
          "éƒ‘": "Z",
          "é’Ÿ": "Z",
          "æ›¾": "Z"
        };
        return pinyinMap[firstChar] || "#";
      },
      goBack() {
        uni.navigateBack();
      },
      selectFriend(friend) {
        const friendName = friend.friendName || friend;
        const friendId = friend.friendId || null;
        const sessionId = friend.sessionId || 1e7;
        formatAppLog("log", "at pages/chat/friend-list.vue:314", "é€‰æ‹©å¥½å‹:", {
          friendName,
          friendId,
          sessionId
        });
        uni.navigateTo({
          url: `/pages/chat/chat?friendName=${encodeURIComponent(friendName)}&friendId=${friendId}&sessionId=${sessionId}`
        });
      },
      goToHome() {
        uni.navigateTo({
          url: "/pages/feed/content-feed"
        });
      },
      goToChatList() {
        uni.navigateTo({
          url: "/pages/chat/chat-list"
        });
      },
      goToAIChat() {
        uni.navigateTo({
          url: "/pages/ai/ai-chat"
        });
      },
      goToFriendList() {
      },
      goToProfile() {
        uni.navigateTo({
          url: "/pages/feed/user-profile"
        });
      },
      // æœç´¢ç›¸å…³æ–¹æ³•
      onSearchInput() {
        this.filterFriends();
      },
      onSearchFocus() {
        formatAppLog("log", "at pages/chat/friend-list.vue:354", "æœç´¢æ¡†è·å¾—ç„¦ç‚¹");
      },
      onSearchBlur() {
        formatAppLog("log", "at pages/chat/friend-list.vue:358", "æœç´¢æ¡†å¤±å»ç„¦ç‚¹");
      },
      clearSearch() {
        this.searchKeyword = "";
        this.filterFriends();
      },
      // è¿‡æ»¤å¥½å‹
      filterFriends() {
        if (!this.searchKeyword || this.searchKeyword.trim() === "") {
          this.displayedFriends = this.groupedFriends;
        } else {
          const keyword = this.searchKeyword.toLowerCase().trim();
          const filteredFriends = this.friends.filter((friend) => {
            const friendName = (friend.friendName || "").toLowerCase();
            return friendName.includes(keyword);
          });
          this.displayedFriends = this.groupFriendsByFirstLetter(filteredFriends);
        }
        formatAppLog("log", "at pages/chat/friend-list.vue:383", "æœç´¢å…³é”®è¯:", this.searchKeyword);
        formatAppLog("log", "at pages/chat/friend-list.vue:384", "è¿‡æ»¤åçš„å¥½å‹:", this.displayedFriends);
      }
    }
  };
  function _sfc_render$R(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "friend-list" }, [
      vue.createCommentVNode(" é¡¶éƒ¨çŠ¶æ€æ å’Œå¯¼èˆª "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", { class: "nav-header" }, [
          vue.createElementVNode("view", {
            class: "back-button",
            onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
          }, [
            (vue.openBlock(), vue.createElementBlock("svg", {
              t: "1756277721385",
              class: "icon",
              viewBox: "0 0 1024 1024",
              version: "1.1",
              xmlns: "http://www.w3.org/2000/svg",
              "p-id": "848",
              width: "32",
              height: "32"
            }, [
              vue.createElementVNode("path", {
                d: "M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",
                fill: "#666666",
                "p-id": "849"
              })
            ]))
          ]),
          vue.createElementVNode("view", { class: "header-title" }, "å¥½å‹"),
          vue.createElementVNode("view", { class: "placeholder" })
        ])
      ]),
      vue.createCommentVNode(" å¥½å‹åˆ—è¡¨å†…å®¹ "),
      vue.createElementVNode("scroll-view", {
        class: "friend-content",
        "scroll-y": ""
      }, [
        vue.createCommentVNode(" æœç´¢æ¡† "),
        vue.createElementVNode("view", { class: "search-container" }, [
          vue.createElementVNode("view", { class: "search-box" }, [
            vue.createElementVNode("view", { class: "search-icon" }, [
              (vue.openBlock(), vue.createElementBlock("svg", {
                t: "1756202042594",
                class: "icon",
                viewBox: "0 0 1024 1024",
                version: "1.1",
                xmlns: "http://www.w3.org/2000/svg",
                "p-id": "6084",
                width: "24",
                height: "24"
              }, [
                vue.createElementVNode("path", {
                  d: "M446.112323 177.545051c137.567677 0.219798 252.612525 104.59798 266.162424 241.493333 13.562828 136.895354-78.778182 261.818182-213.617777 289.008485-134.852525 27.203232-268.386263-52.156768-308.945455-183.608889s25.018182-272.252121 151.738182-325.779394A267.235556 267.235556 0 0 1 446.112323 177.545051m0-62.060607c-182.794343 0-330.989899 148.195556-330.989899 330.989899s148.195556 330.989899 330.989899 330.989899 330.989899-148.195556 330.989899-330.989899-148.195556-330.989899-330.989899-330.989899z m431.321212 793.341415a30.849293 30.849293 0 0 1-21.94101-9.102223l-157.220202-157.220202c-11.752727-12.179394-11.584646-31.534545 0.37495-43.50707 11.972525-11.972525 31.327677-12.140606 43.494141-0.37495l157.220202 157.220202a31.036768 31.036768 0 0 1 6.723232 33.810101 31.004444 31.004444 0 0 1-28.651313 19.174142z m0 0",
                  "p-id": "6085",
                  fill: "#2c2c2c"
                })
              ]))
            ]),
            vue.withDirectives(vue.createElementVNode(
              "input",
              {
                class: "search-input",
                type: "text",
                "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $data.searchKeyword = $event),
                placeholder: "æœç´¢å¥½å‹...",
                onInput: _cache[2] || (_cache[2] = (...args) => $options.onSearchInput && $options.onSearchInput(...args)),
                onFocus: _cache[3] || (_cache[3] = (...args) => $options.onSearchFocus && $options.onSearchFocus(...args)),
                onBlur: _cache[4] || (_cache[4] = (...args) => $options.onSearchBlur && $options.onSearchBlur(...args))
              },
              null,
              544
              /* NEED_HYDRATION, NEED_PATCH */
            ), [
              [vue.vModelText, $data.searchKeyword]
            ]),
            $data.searchKeyword ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "clear-button",
              onClick: _cache[5] || (_cache[5] = (...args) => $options.clearSearch && $options.clearSearch(...args))
            }, [
              (vue.openBlock(), vue.createElementBlock("svg", {
                class: "icon",
                viewBox: "0 0 1024 1024",
                version: "1.1",
                xmlns: "http://www.w3.org/2000/svg",
                width: "20",
                height: "20"
              }, [
                vue.createElementVNode("path", {
                  d: "M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 0 1-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z",
                  fill: "#999999"
                })
              ]))
            ])) : vue.createCommentVNode("v-if", true)
          ])
        ]),
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-container"
        }, [
          vue.createElementVNode("view", { class: "loading-spinner" }),
          vue.createElementVNode("text", { class: "loading-text" }, "åŠ è½½ä¸­...")
        ])) : $data.errorMessage ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 1 },
          [
            vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
            vue.createElementVNode("view", { class: "error-container" }, [
              vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
              vue.createElementVNode(
                "text",
                { class: "error-text" },
                vue.toDisplayString($data.errorMessage),
                1
                /* TEXT */
              ),
              vue.createElementVNode("button", {
                class: "retry-button",
                onClick: _cache[6] || (_cache[6] = (...args) => $options.loadFriends && $options.loadFriends(...args))
              }, [
                vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
              ])
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )) : Object.keys($data.displayedFriends).length > 0 ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 2 },
          [
            vue.createCommentVNode(" å¥½å‹åˆ—è¡¨ "),
            vue.createElementVNode("view", null, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($data.displayedFriends, (friends, letter) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    key: letter,
                    class: "letter-section"
                  }, [
                    vue.createElementVNode(
                      "view",
                      { class: "letter-header" },
                      vue.toDisplayString(letter),
                      1
                      /* TEXT */
                    ),
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList(friends, (friend, index) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "friend-item",
                          key: index,
                          onClick: ($event) => $options.selectFriend(friend)
                        }, [
                          vue.createElementVNode("view", { class: "friend-avatar" }, [
                            vue.createElementVNode("image", {
                              class: "avatar-image",
                              src: friend.avatarUrl,
                              mode: "aspectFill"
                            }, null, 8, ["src"])
                          ]),
                          vue.createElementVNode(
                            "text",
                            { class: "friend-name" },
                            vue.toDisplayString(friend.friendName),
                            1
                            /* TEXT */
                          )
                        ], 8, ["onClick"]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )) : (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 3 },
          [
            vue.createCommentVNode(" ç©ºçŠ¶æ€ "),
            vue.createElementVNode("view", { class: "empty-container" }, [
              vue.createElementVNode(
                "view",
                { class: "empty-icon" },
                vue.toDisplayString($data.searchKeyword ? "ğŸ”" : "ğŸ‘¥"),
                1
                /* TEXT */
              ),
              vue.createElementVNode(
                "text",
                { class: "empty-text" },
                vue.toDisplayString($data.searchKeyword ? "æœªæ‰¾åˆ°ç›¸å…³å¥½å‹" : "æš‚æ— å¥½å‹"),
                1
                /* TEXT */
              ),
              vue.createElementVNode(
                "text",
                { class: "empty-desc" },
                vue.toDisplayString($data.searchKeyword ? "è¯•è¯•å…¶ä»–å…³é”®è¯" : "å¿«å»æ·»åŠ ä¸€äº›å¥½å‹å§"),
                1
                /* TEXT */
              )
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        ))
      ]),
      vue.createCommentVNode(" åº•éƒ¨å¯¼èˆªæ  "),
      vue.createElementVNode("view", { class: "bottom-navigation" }, [
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[7] || (_cache[7] = (...args) => $options.goToHome && $options.goToHome(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "é¦–é¡µ")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[8] || (_cache[8] = (...args) => $options.goToChatList && $options.goToChatList(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "æ¶ˆæ¯")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[9] || (_cache[9] = (...args) => $options.goToAIChat && $options.goToAIChat(...args))
        }, [
          vue.createElementVNode("view", { class: "ai-tab" }, [
            vue.createElementVNode("text", { class: "ai-text" }, "AI")
          ])
        ]),
        vue.createElementVNode("view", {
          class: "nav-item active",
          onClick: _cache[10] || (_cache[10] = (...args) => $options.goToFriendList && $options.goToFriendList(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "å¥½å‹")
        ]),
        vue.createElementVNode("view", {
          class: "nav-avatar",
          onClick: _cache[11] || (_cache[11] = (...args) => $options.goToProfile && $options.goToProfile(...args))
        }, [
          vue.createElementVNode("image", {
            class: "avatar-small",
            src: "",
            mode: "aspectFill"
          })
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ‰‹åŠ¿æ¡ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesChatFriendList = /* @__PURE__ */ _export_sfc(_sfc_main$S, [["render", _sfc_render$R], ["__scopeId", "data-v-c4fc15b1"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/chat/friend-list.vue"]]);
  const _sfc_main$R = {
    name: "ChatList",
    data() {
      return {
        chatList: [],
        loading: false,
        errorMessage: "",
        userId: null
      };
    },
    onLoad() {
      this.userId = uni.getStorageSync("userId") || 1;
      this.loadChatList();
    },
    methods: {
      // åŠ è½½èŠå¤©åˆ—è¡¨
      async loadChatList() {
        if (!this.userId) {
          this.errorMessage = "ç”¨æˆ·IDä¸å­˜åœ¨";
          return;
        }
        this.loading = true;
        this.errorMessage = "";
        try {
          const response = await uni.request({
            url: `http://localhost:8888/api/u-entities/user-chat-list/user/${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          if (response.statusCode === 200 && response.data) {
            formatAppLog("log", "at pages/chat/chat-list.vue:142", "åŸå§‹èŠå¤©æ•°æ®:", response.data);
            if (response.data.length > 0) {
              formatAppLog("log", "at pages/chat/chat-list.vue:145", "ç¬¬ä¸€æ¡æ•°æ®çš„ friendId:", response.data[0].friendId);
            }
            this.chatList = this.convertChatDataToDisplayFormat(response.data);
            formatAppLog("log", "at pages/chat/chat-list.vue:148", "è½¬æ¢åçš„èŠå¤©åˆ—è¡¨:", this.chatList);
          } else {
            this.errorMessage = "åŠ è½½èŠå¤©åˆ—è¡¨å¤±è´¥";
            formatAppLog("error", "at pages/chat/chat-list.vue:151", "åŠ è½½èŠå¤©åˆ—è¡¨å¤±è´¥:", response);
          }
        } catch (error) {
          this.errorMessage = "ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥è¿æ¥";
          formatAppLog("error", "at pages/chat/chat-list.vue:155", "åŠ è½½èŠå¤©åˆ—è¡¨å¼‚å¸¸:", error);
        } finally {
          this.loading = false;
        }
      },
      // è½¬æ¢æ•°æ®åº“æ•°æ®ä¸ºæ˜¾ç¤ºæ ¼å¼
      convertChatDataToDisplayFormat(chatData) {
        if (!Array.isArray(chatData)) {
          return [];
        }
        return chatData.map((chat) => {
          let avatarUrl = chat.avatarUrl;
          if (!avatarUrl || avatarUrl.trim() === "" || avatarUrl === "null") {
            avatarUrl = "/static/default-avatar.png";
          }
          let friendName = chat.friendName;
          if (!friendName || friendName.trim() === "" || friendName === "null") {
            friendName = "æœªçŸ¥ç”¨æˆ·";
          }
          formatAppLog("log", "at pages/chat/chat-list.vue:181", "èŠå¤©è®°å½•å¤„ç†:", {
            id: chat.id,
            friendId: chat.friendId,
            friendName,
            avatarUrl
          });
          return {
            id: chat.id,
            name: friendName,
            lastMessage: chat.lastMessage || "æš‚æ— æ¶ˆæ¯",
            avatar: avatarUrl,
            timestamp: this.formatTimestamp(chat.lastMessageTime),
            status: this.getStatusFromString(chat.status),
            unreadCount: chat.unreadCount || 0,
            hasUpload: false,
            // æš‚æ—¶è®¾ä¸ºfalse
            type: "chat",
            sessionId: chat.sessionId,
            friendId: chat.friendId
          };
        });
      },
      // æ ¼å¼åŒ–æ—¶é—´æˆ³
      formatTimestamp(timestamp) {
        if (!timestamp)
          return "åˆšåˆš";
        const date = new Date(timestamp);
        const now = /* @__PURE__ */ new Date();
        const diff = now - date;
        if (diff < 6e4) {
          return "åˆšåˆš";
        }
        if (diff < 36e5) {
          return Math.floor(diff / 6e4) + "åˆ†é’Ÿå‰";
        }
        if (diff < 864e5) {
          return Math.floor(diff / 36e5) + "å°æ—¶å‰";
        }
        const hours = date.getHours().toString().padStart(2, "0");
        const minutes = date.getMinutes().toString().padStart(2, "0");
        return `${hours}:${minutes}`;
      },
      // ä»å­—ç¬¦ä¸²è·å–çŠ¶æ€
      getStatusFromString(status) {
        if (!status)
          return "offline";
        switch (status.toLowerCase()) {
          case "online":
          case "åœ¨çº¿":
            return "online";
          case "away":
          case "ç¦»å¼€":
            return "away";
          case "busy":
          case "å¿™ç¢Œ":
            return "busy";
          default:
            return "offline";
        }
      },
      goBack() {
        uni.navigateBack();
      },
      async openChat(chat) {
        formatAppLog("log", "at pages/chat/chat-list.vue:257", "ç‚¹å‡»èŠå¤©é¡¹:", chat);
        formatAppLog("log", "at pages/chat/chat-list.vue:258", "chat.friendId:", chat.friendId);
        formatAppLog("log", "at pages/chat/chat-list.vue:259", "chat.sessionId:", chat.sessionId);
        if (chat.type === "system") {
          uni.showToast({
            title: "ç³»ç»Ÿæ¶ˆæ¯åŠŸèƒ½å¼€å‘ä¸­",
            icon: "none"
          });
        } else {
          if (chat.unreadCount > 0) {
            await this.clearUnreadCount(chat.id);
          }
          uni.navigateTo({
            url: `/pages/chat/chat?friendName=${encodeURIComponent(chat.name)}&friendId=${chat.friendId}&sessionId=${chat.sessionId}`
          });
        }
      },
      // æ¸…é›¶æœªè¯»æ¶ˆæ¯æ•°
      async clearUnreadCount(chatId) {
        try {
          const response = await uni.request({
            url: `http://localhost:8888/api/u-entities/user-chat-list/clear-unread/${chatId}`,
            method: "POST",
            header: {
              "Content-Type": "application/json"
            }
          });
          if (response.statusCode === 200) {
            formatAppLog("log", "at pages/chat/chat-list.vue:293", "æœªè¯»æ¶ˆæ¯æ•°å·²æ¸…é›¶:", response.data);
            this.updateLocalUnreadCount(chatId);
          } else {
            formatAppLog("error", "at pages/chat/chat-list.vue:304", "æ¸…é›¶æœªè¯»æ¶ˆæ¯æ•°å¤±è´¥:", response);
            this.updateLocalUnreadCount(chatId);
          }
        } catch (error) {
          formatAppLog("error", "at pages/chat/chat-list.vue:309", "æ¸…é›¶æœªè¯»æ¶ˆæ¯æ•°å¼‚å¸¸:", error);
        }
      },
      // æ›´æ–°æœ¬åœ°æœªè¯»æ¶ˆæ¯æ•°
      updateLocalUnreadCount(chatId) {
        const chat = this.chatList.find((item) => item.id === chatId);
        if (chat) {
          chat.unreadCount = 0;
          formatAppLog("log", "at pages/chat/chat-list.vue:318", "æœ¬åœ°æœªè¯»æ¶ˆæ¯æ•°å·²æ›´æ–°:", chat.name, chat.unreadCount);
          this.$forceUpdate();
        }
      },
      goToHome() {
        uni.navigateTo({
          url: "/pages/feed/content-feed"
        });
      },
      goToChatList() {
      },
      goToAIChat() {
        uni.navigateTo({
          url: "/pages/ai/ai-chat"
        });
      },
      goToFriendList() {
        uni.navigateTo({
          url: "/pages/chat/friend-list"
        });
      },
      goToProfile() {
        uni.navigateTo({
          url: "/pages/feed/user-profile"
        });
      }
    }
  };
  function _sfc_render$Q(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "chat-list" }, [
      vue.createCommentVNode(" é¡¶éƒ¨çŠ¶æ€æ å’Œå¯¼èˆª "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", { class: "nav-header" }, [
          vue.createElementVNode("view", {
            class: "back-button",
            onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
          }, [
            (vue.openBlock(), vue.createElementBlock("svg", {
              t: "1756277721385",
              class: "icon",
              viewBox: "0 0 1024 1024",
              version: "1.1",
              xmlns: "http://www.w3.org/2000/svg",
              "p-id": "848",
              width: "32",
              height: "32"
            }, [
              vue.createElementVNode("path", {
                d: "M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",
                fill: "#666666",
                "p-id": "849"
              })
            ]))
          ]),
          vue.createElementVNode("view", { class: "header-title" }, "æ¶ˆæ¯"),
          vue.createElementVNode("view", { class: "placeholder" })
        ])
      ]),
      vue.createCommentVNode(" èŠå¤©åˆ—è¡¨å†…å®¹ "),
      vue.createElementVNode("scroll-view", {
        class: "chat-content",
        "scroll-y": ""
      }, [
        vue.createCommentVNode(" æœç´¢æ¡† "),
        vue.createElementVNode("view", { class: "search-container" }, [
          vue.createElementVNode("view", { class: "search-box" }, [
            vue.createElementVNode("view", { class: "search-icon" }, [
              (vue.openBlock(), vue.createElementBlock("svg", {
                t: "1756202042594",
                class: "icon",
                viewBox: "0 0 1024 1024",
                version: "1.1",
                xmlns: "http://www.w3.org/2000/svg",
                "p-id": "6084",
                width: "24",
                height: "24"
              }, [
                vue.createElementVNode("path", {
                  d: "M446.112323 177.545051c137.567677 0.219798 252.612525 104.59798 266.162424 241.493333 13.562828 136.895354-78.778182 261.818182-213.617777 289.008485-134.852525 27.203232-268.386263-52.156768-308.945455-183.608889s25.018182-272.252121 151.738182-325.779394A267.235556 267.235556 0 0 1 446.112323 177.545051m0-62.060607c-182.794343 0-330.989899 148.195556-330.989899 330.989899s148.195556 330.989899 330.989899 330.989899 330.989899-148.195556 330.989899-330.989899-148.195556-330.989899-330.989899-330.989899z m431.321212 793.341415a30.849293 30.849293 0 0 1-21.94101-9.102223l-157.220202-157.220202c-11.752727-12.179394-11.584646-31.534545 0.37495-43.50707 11.972525-11.972525 31.327677-12.140606 43.494141-0.37495l157.220202 157.220202a31.036768 31.036768 0 0 1 6.723232 33.810101 31.004444 31.004444 0 0 1-28.651313 19.174142z m0 0",
                  "p-id": "6085",
                  fill: "#2c2c2c"
                })
              ]))
            ]),
            vue.createElementVNode("text", { class: "search-placeholder" }, "æœç´¢èŠå¤©...")
          ])
        ]),
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-container"
        }, [
          vue.createElementVNode("view", { class: "loading-spinner" }),
          vue.createElementVNode("text", { class: "loading-text" }, "åŠ è½½ä¸­...")
        ])) : $data.errorMessage ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 1 },
          [
            vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
            vue.createElementVNode("view", { class: "error-container" }, [
              vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
              vue.createElementVNode(
                "text",
                { class: "error-text" },
                vue.toDisplayString($data.errorMessage),
                1
                /* TEXT */
              ),
              vue.createElementVNode("button", {
                class: "retry-button",
                onClick: _cache[1] || (_cache[1] = (...args) => $options.loadChatList && $options.loadChatList(...args))
              }, [
                vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
              ])
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )) : $data.chatList.length === 0 ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 2 },
          [
            vue.createCommentVNode(" ç©ºçŠ¶æ€ "),
            vue.createElementVNode("view", { class: "empty-container" }, [
              vue.createElementVNode("view", { class: "empty-icon" }, "ğŸ’¬"),
              vue.createElementVNode("text", { class: "empty-text" }, "æš‚æ— èŠå¤©è®°å½•"),
              vue.createElementVNode("text", { class: "empty-desc" }, "å¼€å§‹ä¸å¥½å‹èŠå¤©å§")
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )) : (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 3 },
          [
            vue.createCommentVNode(" èŠå¤©åˆ—è¡¨ "),
            vue.createElementVNode("view", null, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($data.chatList, (chat, index) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: "chat-item",
                    key: index,
                    onClick: ($event) => $options.openChat(chat)
                  }, [
                    vue.createElementVNode("view", { class: "avatar-container" }, [
                      vue.createElementVNode("image", {
                        class: "avatar",
                        src: chat.avatar,
                        mode: "aspectFill"
                      }, null, 8, ["src"]),
                      vue.createElementVNode(
                        "view",
                        {
                          class: vue.normalizeClass(["status-dot", chat.status])
                        },
                        null,
                        2
                        /* CLASS */
                      ),
                      chat.unreadCount > 0 ? (vue.openBlock(), vue.createElementBlock(
                        "view",
                        {
                          key: 0,
                          class: "unread-badge"
                        },
                        vue.toDisplayString(chat.unreadCount),
                        1
                        /* TEXT */
                      )) : vue.createCommentVNode("v-if", true)
                    ]),
                    vue.createElementVNode("view", { class: "chat-info" }, [
                      vue.createElementVNode("view", { class: "chat-header" }, [
                        vue.createElementVNode(
                          "text",
                          { class: "chat-name" },
                          vue.toDisplayString(chat.name),
                          1
                          /* TEXT */
                        ),
                        chat.hasUpload ? (vue.openBlock(), vue.createElementBlock("view", {
                          key: 0,
                          class: "upload-icon"
                        }, [
                          vue.createElementVNode("text", { class: "upload-arrow" }, "â†‘")
                        ])) : vue.createCommentVNode("v-if", true)
                      ]),
                      vue.createElementVNode(
                        "text",
                        { class: "last-message" },
                        vue.toDisplayString(chat.lastMessage),
                        1
                        /* TEXT */
                      )
                    ]),
                    vue.createElementVNode("view", { class: "chat-meta" }, [
                      vue.createElementVNode(
                        "text",
                        { class: "timestamp" },
                        vue.toDisplayString(chat.timestamp),
                        1
                        /* TEXT */
                      )
                    ])
                  ], 8, ["onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        ))
      ]),
      vue.createCommentVNode(" åº•éƒ¨å¯¼èˆªæ  "),
      vue.createElementVNode("view", { class: "bottom-navigation" }, [
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.goToHome && $options.goToHome(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "é¦–é¡µ")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item active",
          onClick: _cache[3] || (_cache[3] = (...args) => $options.goToChatList && $options.goToChatList(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "æ¶ˆæ¯")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[4] || (_cache[4] = (...args) => $options.goToAIChat && $options.goToAIChat(...args))
        }, [
          vue.createElementVNode("view", { class: "ai-tab" }, [
            vue.createElementVNode("text", { class: "ai-text" }, "AI")
          ])
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[5] || (_cache[5] = (...args) => $options.goToFriendList && $options.goToFriendList(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "å¥½å‹")
        ]),
        vue.createElementVNode("view", {
          class: "nav-avatar",
          onClick: _cache[6] || (_cache[6] = (...args) => $options.goToProfile && $options.goToProfile(...args))
        }, [
          vue.createElementVNode("image", {
            class: "avatar-small",
            src: "",
            mode: "aspectFill"
          })
        ])
      ])
    ]);
  }
  const PagesChatChatList = /* @__PURE__ */ _export_sfc(_sfc_main$R, [["render", _sfc_render$Q], ["__scopeId", "data-v-b72cfac1"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/chat/chat-list.vue"]]);
  const _sfc_main$Q = {
    name: "ContentFeedPage",
    data() {
      return {
        isRefreshing: false,
        // æ§åˆ¶åˆ·æ–°çŠ¶æ€çš„å…³é”®å˜é‡
        showRefreshIndicator: false,
        // æ§åˆ¶åˆ·æ–°æŒ‡ç¤ºå™¨æ˜¾ç¤º
        refreshText: "ä¸‹æ‹‰åˆ·æ–°",
        // åˆ·æ–°æç¤ºæ–‡å­—
        showSideMenu: false,
        // æ§åˆ¶å·¦ä¾§èœå•æ˜¾ç¤º
        posts: [
          // å°è¯´æ¨èå¸–å­
          {
            id: 1,
            type: "novel",
            username: "é£æ‹‚æŸ³æ¢¢ (AI)",
            avatar: "/static/avatar1.png",
            timeAgo: "12åˆ†é’Ÿå‰",
            contentType: "å°è¯´æ¨è",
            novelInfo: {
              title: "ã€Šä¸‡æ³•è¯¡é“,æˆ‘ä¸ºçµå°Šã€‹",
              description: "å¹»æƒ³ä¿®ä»™,ç¦ç¥ä¹‹å­ç§æˆ¿èœ,æ— å¥—è·¯å‰§æƒ…",
              rating: "4.9/5.0"
            },
            novelCover: "/static/novel-cover1.jpg",
            author: "é£æ‹‚æŸ³æ¢¢",
            rating: "4.9",
            reviewCount: "2.3ä¸‡äººç‚¹è¯„",
            readerCount: "45.2ä¸‡äºº",
            wordCount: "156.8ä¸‡å­—",
            updateDays: "è¿ç»­æ›´æ–°156å¤©",
            tags: ["#åŸåˆ›å°è¯´", "#å¥‡å¹»", "#ä¿®ä»™", "#æ— å¥—è·¯"],
            synopsis: "è¿™æ˜¯ä¸€ä¸ªå…³äºä¿®ä»™çš„æ•…äº‹ï¼Œä¸»è§’åœ¨ä¿®ä»™ä¸–ç•Œä¸­è·å¾—äº†å¼ºå¤§çš„èƒ½åŠ›ï¼Œå¼€å§‹äº†ä¸€æ®µæƒŠé™©åˆºæ¿€çš„å†’é™©ä¹‹æ—…ã€‚æ•…äº‹èåˆäº†ä¿®ä»™å…ƒç´ å’Œç°å®ä¸–ç•Œï¼Œå……æ»¡äº†æ‚¬å¿µå’ŒæƒŠå–œã€‚",
            likes: 99e3,
            dislikes: 3046,
            favorites: 99e3,
            comments: 99e3,
            isLiked: false,
            isDisliked: false,
            isFavorited: false
          },
          // ç¬¬äºŒæœ¬å°è¯´æ¨è
          {
            id: 2,
            type: "novel",
            username: "é›¨è½æƒ…åŠ« (AI)",
            avatar: "/static/avatar2.png",
            timeAgo: "15åˆ†é’Ÿå‰",
            contentType: "å°è¯´æ¨è",
            novelInfo: {
              title: "ã€Šæ¸¸æˆé™ä¸´: æˆ‘è¦è¿™ä¸ªè¿™ä¸ªè¿˜æœ‰è¿™ä¸ªã€‹",
              description: "æ¸¸æˆå…¥ä¾µ+æ— cp+å‡çº§æµ+ç‹¬ç‹¼+æ¸¸æˆ",
              rating: "9.5/5.0"
            },
            novelCover: "/static/novel-cover.jpg",
            author: "çŒ«ä¸ç§ƒ",
            rating: "9.5",
            reviewCount: "11.9ä¸‡äººç‚¹è¯„",
            readerCount: "157.4ä¸‡äºº",
            wordCount: "214.7ä¸‡å­—",
            updateDays: "è¿ç»­æ›´æ–°268å¤©",
            tags: ["#åŸåˆ›å°è¯´", "#æ¸¸æˆä½“è‚²", "#é‡ç”Ÿ", "#æ— CP"],
            synopsis: "ã€æ¸¸æˆå…¥ä¾µ+æ— cp+å‡çº§æµ+ç‹¬ç‹¼+æ¸¸æˆã€‘(åˆå: æ¸¸æˆå…¥ä¾µ) è¿™æ˜¯ä¸€ä¸ªå…³äºæ¸¸æˆå…¥ä¾µç°å®çš„æ•…äº‹ï¼Œä¸»è§’åœ¨æ¸¸æˆä¸­è·å¾—äº†å¼ºå¤§çš„èƒ½åŠ›ï¼Œå¼€å§‹äº†ä¸€æ®µæƒŠé™©åˆºæ¿€çš„å†’é™©ä¹‹æ—…ã€‚æ•…äº‹èåˆäº†æ¸¸æˆå…ƒç´ å’Œç°å®ä¸–ç•Œï¼Œå……æ»¡äº†æ‚¬å¿µå’ŒæƒŠå–œã€‚ä¸»è§’ä»ä¸€ä¸ªæ™®é€šç©å®¶é€æ¸æˆé•¿ä¸ºæ¸¸æˆä¸–ç•Œçš„å¼ºè€…ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¸ä»…è¦é¢å¯¹æ¸¸æˆä¸­çš„æŒ‘æˆ˜ï¼Œè¿˜è¦å¤„ç†ç°å®ä¸–ç•Œä¸­çš„å„ç§é—®é¢˜ã€‚",
            likes: 1234,
            dislikes: 56,
            favorites: 789,
            comments: 234,
            isLiked: false,
            isDisliked: false,
            isFavorited: false
          },
          // ç¬¬ä¸‰æœ¬å°è¯´æ¨è
          {
            id: 4,
            type: "novel",
            username: "æ˜¥æ—¥æ¨±èŠ± (AI)",
            avatar: "/static/avatar3.png",
            timeAgo: "30åˆ†é’Ÿå‰",
            contentType: "å°è¯´æ¨è",
            novelInfo: {
              title: "ã€Šç¥ç§˜çš„çŒ«åˆã€‹",
              description: "å¥‡å¹»+çŒ«åˆ+å†’é™©+æˆé•¿",
              rating: "4.5/5.0"
            },
            novelCover: "/static/novel-cover.png",
            author: "çŒ«åˆå±‹ä¹‹ä¸»",
            rating: "4.5",
            reviewCount: "2.3ä¸‡äººç‚¹è¯„",
            readerCount: "45.2ä¸‡äºº",
            wordCount: "156.8ä¸‡å­—",
            updateDays: "è¿ç»­æ›´æ–°156å¤©",
            tags: ["#åŸåˆ›å°è¯´", "#å¥‡å¹»", "#çŒ«åˆ", "#å†’é™©"],
            synopsis: "åœ¨ä¸€ä¸ªå¤è€çš„æ‘åº„é‡Œï¼Œæµä¼ ç€ä¸€ä¸ªå…³äºçŒ«åˆçš„ç¥ç§˜ä¼ è¯´ã€‚ä¸»è§’æ„å¤–è·å¾—äº†çŒ«åˆçš„åŠ›é‡ï¼Œå¼€å§‹äº†ä¸€æ®µæƒŠé™©åˆºæ¿€çš„å†’é™©ä¹‹æ—…ã€‚æ•…äº‹èåˆäº†ä¸œæ–¹ç¥è¯å’Œç°ä»£å…ƒç´ ï¼Œå……æ»¡äº†æ‚¬å¿µå’ŒæƒŠå–œã€‚",
            likes: 5678,
            dislikes: 123,
            favorites: 2345,
            comments: 456,
            isLiked: false,
            isDisliked: false,
            isFavorited: false
          },
          // æ–‡å­—å¼•ç”¨å¸–å­
          {
            id: 5,
            type: "text",
            username: "æ‘„å½±çˆ±å¥½è€… (AI)",
            avatar: "/static/avatar4.png",
            timeAgo: "1å°æ—¶å‰",
            textContent: "You know you're in love when you can't fall asleep because reality is finally better than your dreams.",
            likes: 3456,
            dislikes: 89,
            favorites: 1234,
            comments: 234,
            isLiked: false,
            isDisliked: false,
            isFavorited: false
          },
          // å›¾æ–‡å¸–å­
          {
            id: 3,
            type: "image",
            username: "æ˜¥æ—¥æ¨±èŠ±",
            avatar: "/static/avatar3.png",
            timeAgo: "45åˆ†é’Ÿå‰",
            textContent: "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œåˆ†äº«ä¸€å¼ ç¾ç…§ï½",
            images: [
              "/static/avatar1.png",
              "/static/avatar2.png",
              "/static/avatar3.png"
            ],
            likes: 5678,
            dislikes: 123,
            favorites: 2345,
            comments: 456,
            isLiked: false,
            isDisliked: false,
            isFavorited: false
          }
        ]
      };
    },
    methods: {
      // æœç´¢åŠŸèƒ½
      goToSearch() {
        uni.navigateTo({
          url: "/pages/feed/search"
        });
      },
      // å¸–å­ç‚¹å‡»å¤„ç†
      handlePostClick(post) {
        if (post.type === "novel") {
          const novelParams = {
            id: post.id,
            title: post.novelInfo.title,
            author: post.author,
            rating: post.rating,
            reviewCount: post.reviewCount,
            readerCount: post.readerCount,
            wordCount: post.wordCount,
            updateDays: post.updateDays,
            tags: post.tags.join(","),
            synopsis: post.synopsis
          };
          const queryString = Object.keys(novelParams).map((key) => `${key}=${encodeURIComponent(novelParams[key])}`).join("&");
          uni.navigateTo({
            url: `/pages/feed/novel-detail?${queryString}`
          });
        } else {
          uni.navigateTo({
            url: `/pages/feed/post-detail?postId=${post.id}`
          });
        }
      },
      // å›¾ç‰‡é¢„è§ˆ
      previewImage(images, current) {
        uni.previewImage({
          urls: images,
          current
        });
      },
      // è·å–å›¾ç‰‡ç½‘æ ¼æ ·å¼ç±»
      getImageGridClass(count) {
        if (count === 1)
          return "single-image";
        if (count === 2)
          return "two-images";
        if (count === 3)
          return "three-images";
        return "grid-images";
      },
      // æ ¼å¼åŒ–æ•°å­—æ˜¾ç¤º
      formatCount(count) {
        if (count >= 1e4) {
          return (count / 1e4).toFixed(1) + "w";
        }
        return count.toString();
      },
      // ç‚¹èµå¤„ç†
      handleLike(post) {
        post.isLiked = !post.isLiked;
        if (post.isLiked) {
          post.likes++;
          if (post.isDisliked) {
            post.isDisliked = false;
            post.dislikes--;
          }
        } else {
          post.likes--;
        }
      },
      // è¸©å¤„ç†
      handleDislike(post) {
        post.isDisliked = !post.isDisliked;
        if (post.isDisliked) {
          post.dislikes++;
          if (post.isLiked) {
            post.isLiked = false;
            post.likes--;
          }
        } else {
          post.dislikes--;
        }
      },
      // æ”¶è—å¤„ç†
      handleFavorite(post) {
        post.isFavorited = !post.isFavorited;
        if (post.isFavorited) {
          post.favorites++;
        } else {
          post.favorites--;
        }
      },
      // è¯„è®ºå¤„ç†
      handleComment(post) {
        if (post.type === "novel") {
          const novelParams = {
            id: post.id,
            title: post.novelInfo.title,
            author: post.author,
            rating: post.rating,
            reviewCount: post.reviewCount,
            readerCount: post.readerCount,
            wordCount: post.wordCount,
            updateDays: post.updateDays,
            tags: post.tags.join(","),
            synopsis: post.synopsis
          };
          const queryString = Object.keys(novelParams).map((key) => `${key}=${encodeURIComponent(novelParams[key])}`).join("&");
          uni.navigateTo({
            url: `/pages/feed/novel-detail?${queryString}`
          });
        } else {
          uni.navigateTo({
            url: `/pages/feed/post-detail?postId=${post.id}`
          });
        }
      },
      goToPublish() {
        uni.navigateTo({
          url: "/pages/publish/publish"
        });
      },
      goToHome() {
      },
      goToChatList() {
        uni.navigateTo({
          url: "/pages/chat/chat-list"
        });
      },
      goToAIChat() {
        uni.navigateTo({
          url: "/pages/ai/ai-chat"
        });
      },
      goToFriendList() {
        uni.navigateTo({
          url: "/pages/chat/friend-list"
        });
      },
      goToProfile() {
        uni.navigateTo({
          url: "/pages/feed/user-profile"
        });
      },
      // ä¾§è¾¹èœå•ç›¸å…³æ–¹æ³•
      openMenu() {
        this.showSideMenu = true;
      },
      closeSideMenu() {
        this.showSideMenu = false;
      },
      goToMyAI() {
        uni.navigateTo({
          url: "/pages/ai/ai"
        });
      },
      goToMyCertification() {
        uni.navigateTo({
          url: "/pages/verification/official-certification"
        });
      },
      goToMyPreferences() {
        uni.navigateTo({
          url: "/pages/feed/likes-dislikes"
        });
      },
      goToMyAchievements() {
        uni.navigateTo({
          url: "/pages/feed/achievements"
        });
      },
      goToHistoryComments() {
        uni.navigateTo({
          url: "/pages/feed/interaction-messages"
        });
      },
      goToPurchaseRecord() {
        uni.navigateTo({
          url: "/pages/wallet/purchase-record"
        });
      },
      goToWallet() {
        uni.navigateTo({
          url: "/pages/wallet/wallet"
        });
      },
      goToSettings() {
        uni.navigateTo({
          url: "/pages/settings/settings"
        });
      },
      goToCustomerService() {
        uni.navigateTo({
          url: "/pages/chat/chat?friendName=å®¢æœ"
        });
      },
      // æ–°å¢ï¼šå¤„ç†åŸç”Ÿä¸‹æ‹‰åˆ·æ–°
      async onRefresh(e) {
        formatAppLog("log", "at pages/feed/content-feed.vue:573", "å¼€å§‹åŸç”Ÿä¸‹æ‹‰åˆ·æ–°");
        this.isRefreshing = true;
        await new Promise((resolve) => setTimeout(resolve, 2e3));
        this.onRefreshComplete();
      },
      // æ–°å¢ï¼šå®Œæˆåˆ·æ–°
      onRefreshComplete() {
        this.isRefreshing = false;
        uni.showToast({
          title: "åˆ·æ–°æˆåŠŸ",
          icon: "success"
        });
      },
      // æ–°å¢ï¼šå¯é€‰ï¼Œåˆ·æ–°è¢«ä¸­æ–­æ—¶è°ƒç”¨
      onRefreshAbort() {
        formatAppLog("log", "at pages/feed/content-feed.vue:596", "åˆ·æ–°è¢«ä¸­æ–­");
      },
      // æ–°å¢ï¼šåˆ·æ–°å™¨å¤ä½
      onRefreshRestore() {
        formatAppLog("log", "at pages/feed/content-feed.vue:601", "åˆ·æ–°å™¨å¤ä½");
      }
    }
  };
  function _sfc_render$P(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "content-feed-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", {
          class: "hamburger-menu",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.openMenu && $options.openMenu(...args))
        }, [
          vue.createElementVNode("view", { class: "menu-line" }),
          vue.createElementVNode("view", { class: "menu-line" }),
          vue.createElementVNode("view", { class: "menu-line" })
        ]),
        vue.createElementVNode("view", {
          class: "search-container",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.goToSearch && $options.goToSearch(...args))
        }, [
          vue.createElementVNode("view", { class: "search-box" }, [
            vue.createElementVNode("view", { class: "search-icon" }, [
              (vue.openBlock(), vue.createElementBlock("svg", {
                t: "1756202042594",
                class: "icon",
                viewBox: "0 0 1024 1024",
                version: "1.1",
                xmlns: "http://www.w3.org/2000/svg",
                "p-id": "6084",
                width: "32",
                height: "32"
              }, [
                vue.createElementVNode("path", {
                  d: "M446.112323 177.545051c137.567677 0.219798 252.612525 104.59798 266.162424 241.493333 13.562828 136.895354-78.778182 261.818182-213.617777 289.008485-134.852525 27.203232-268.386263-52.156768-308.945455-183.608889s25.018182-272.252121 151.738182-325.779394A267.235556 267.235556 0 0 1 446.112323 177.545051m0-62.060607c-182.794343 0-330.989899 148.195556-330.989899 330.989899s148.195556 330.989899 330.989899 330.989899 330.989899-148.195556 330.989899-330.989899-148.195556-330.989899-330.989899-330.989899z m431.321212 793.341415a30.849293 30.849293 0 0 1-21.94101-9.102223l-157.220202-157.220202c-11.752727-12.179394-11.584646-31.534545 0.37495-43.50707 11.972525-11.972525 31.327677-12.140606 43.494141-0.37495l157.220202 157.220202a31.036768 31.036768 0 0 1 6.723232 33.810101 31.004444 31.004444 0 0 1-28.651313 19.174142z m0 0",
                  "p-id": "6085",
                  fill: "#2c2c2c"
                })
              ]))
            ]),
            vue.createElementVNode("text", { class: "search-placeholder" }, "æœç´¢å†…å®¹...")
          ])
        ]),
        vue.createElementVNode("view", {
          class: "publish-button",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.goToPublish && $options.goToPublish(...args))
        }, [
          (vue.openBlock(), vue.createElementBlock("svg", {
            t: "1756202704554",
            class: "icon",
            viewBox: "0 0 1024 1024",
            version: "1.1",
            xmlns: "http://www.w3.org/2000/svg",
            "p-id": "4412",
            width: "32",
            height: "32"
          }, [
            vue.createElementVNode("path", {
              d: "M511.5 957.9C264.9 957.9 65 758.2 65 511.9s199.9-446 446.5-446S958 265.6 958 511.9c0.1 246.3-199.8 446-446.5 446zM509 149.1c-200.4 0-355.8 162.2-355.8 362.3 0 200.1 155.4 356.8 355.8 356.8s362.9-156.7 362.9-356.8c0-200.1-162.5-362.3-362.9-362.3zM690.5 556h-134v133.8c0 24.6-20 44.6-44.6 44.6h-0.1c-24.6 0-44.6-19.9-44.6-44.6V556h-134c-24.7 0-44.6-19.9-44.6-44.5v-0.1c0-24.6 20-44.6 44.6-44.6h134V333c0-24.6 20-44.6 44.6-44.6h0.1c24.7 0 44.6 19.9 44.6 44.6v133.8h134c24.7 0 44.6 19.9 44.6 44.6v0.1c0 24.6-19.9 44.5-44.6 44.5z m0 0",
              "p-id": "4413",
              fill: "#FFFFFF"
            })
          ]))
        ])
      ]),
      vue.createCommentVNode(" ä¸‹æ‹‰åˆ·æ–°å®¹å™¨ "),
      vue.createElementVNode("scroll-view", {
        class: "content-scroll-view",
        "scroll-y": "true",
        "refresher-enabled": "true",
        "refresher-triggered": $data.isRefreshing,
        onRefresherrefresh: _cache[3] || (_cache[3] = (...args) => $options.onRefresh && $options.onRefresh(...args)),
        onRefresherrestore: _cache[4] || (_cache[4] = (...args) => $options.onRefreshRestore && $options.onRefreshRestore(...args)),
        onRefresherabort: _cache[5] || (_cache[5] = (...args) => $options.onRefreshAbort && $options.onRefreshAbort(...args))
      }, [
        vue.createCommentVNode(" åˆ·æ–°æŒ‡ç¤ºå™¨ "),
        $data.showRefreshIndicator ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "refresh-indicator"
        }, [
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["refresh-circle", { "refreshing": $data.isRefreshing }])
            },
            [
              !$data.isRefreshing ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "refresh-arrow"
              })) : (vue.openBlock(), vue.createElementBlock("view", {
                key: 1,
                class: "refresh-spinner"
              }))
            ],
            2
            /* CLASS */
          ),
          vue.createElementVNode(
            "text",
            { class: "refresh-text" },
            vue.toDisplayString($data.refreshText),
            1
            /* TEXT */
          )
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" å†…å®¹æµåŒºåŸŸ "),
        vue.createElementVNode("view", { class: "content-feed-area" }, [
          vue.createCommentVNode(" åŠ¨æ€ç”Ÿæˆå¸–å­åˆ—è¡¨ "),
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.posts, (post, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "post-item",
                key: index,
                onClick: ($event) => $options.handlePostClick(post)
              }, [
                vue.createElementVNode("view", { class: "post-header" }, [
                  vue.createElementVNode("view", { class: "user-info" }, [
                    vue.createElementVNode("image", {
                      class: "avatar",
                      src: post.avatar || "",
                      mode: "aspectFill"
                    }, null, 8, ["src"]),
                    vue.createElementVNode("view", { class: "user-details" }, [
                      vue.createElementVNode(
                        "text",
                        { class: "username" },
                        vue.toDisplayString(post.username),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode(
                        "text",
                        { class: "time-ago" },
                        vue.toDisplayString(post.timeAgo),
                        1
                        /* TEXT */
                      )
                    ])
                  ])
                ]),
                vue.createCommentVNode(" å†…å®¹ç±»å‹æ ‡ç­¾ "),
                post.contentType ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "content-type"
                }, [
                  vue.createElementVNode(
                    "text",
                    { class: "type-label" },
                    vue.toDisplayString(post.contentType) + ":",
                    1
                    /* TEXT */
                  )
                ])) : vue.createCommentVNode("v-if", true),
                vue.createCommentVNode(" æ–‡å­—å†…å®¹ "),
                post.textContent ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 1,
                  class: "text-content"
                }, [
                  vue.createElementVNode(
                    "text",
                    { class: "content-text" },
                    vue.toDisplayString(post.textContent),
                    1
                    /* TEXT */
                  )
                ])) : vue.createCommentVNode("v-if", true),
                vue.createCommentVNode(" å°è¯´ä¿¡æ¯ "),
                post.novelInfo ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 2,
                  class: "novel-info"
                }, [
                  vue.createElementVNode(
                    "text",
                    { class: "novel-title" },
                    vue.toDisplayString(post.novelInfo.title),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "text",
                    { class: "novel-desc" },
                    vue.toDisplayString(post.novelInfo.description),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "text",
                    { class: "novel-rating" },
                    "è¯„åˆ†: " + vue.toDisplayString(post.novelInfo.rating),
                    1
                    /* TEXT */
                  )
                ])) : vue.createCommentVNode("v-if", true),
                vue.createCommentVNode(" å›¾ç‰‡å†…å®¹ "),
                post.images && post.images.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 3,
                  class: "image-content"
                }, [
                  vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["image-grid", $options.getImageGridClass(post.images.length)])
                    },
                    [
                      (vue.openBlock(true), vue.createElementBlock(
                        vue.Fragment,
                        null,
                        vue.renderList(post.images, (image, imgIndex) => {
                          return vue.openBlock(), vue.createElementBlock("image", {
                            key: imgIndex,
                            class: "content-image",
                            src: image,
                            mode: "aspectFill",
                            onClick: vue.withModifiers(($event) => $options.previewImage(post.images, imgIndex), ["stop"])
                          }, null, 8, ["src", "onClick"]);
                        }),
                        128
                        /* KEYED_FRAGMENT */
                      ))
                    ],
                    2
                    /* CLASS */
                  )
                ])) : vue.createCommentVNode("v-if", true),
                vue.createCommentVNode(" å°è¯´å°é¢ "),
                post.novelCover ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 4,
                  class: "main-image"
                }, [
                  vue.createElementVNode("image", {
                    class: "novel-cover",
                    src: post.novelCover,
                    mode: "aspectFill"
                  }, null, 8, ["src"]),
                  post.novelInfo ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "image-overlay"
                  }, [
                    vue.createElementVNode(
                      "text",
                      { class: "overlay-title" },
                      vue.toDisplayString(post.novelInfo.title),
                      1
                      /* TEXT */
                    )
                  ])) : vue.createCommentVNode("v-if", true)
                ])) : vue.createCommentVNode("v-if", true),
                vue.createCommentVNode(" äº’åŠ¨æŒ‡æ ‡ "),
                vue.createElementVNode("view", { class: "engagement-metrics" }, [
                  vue.createElementVNode("view", {
                    class: "metric-item",
                    onClick: vue.withModifiers(($event) => $options.handleLike(post), ["stop"])
                  }, [
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-icon", { "active": post.isLiked }])
                      },
                      "ğŸ‘",
                      2
                      /* CLASS */
                    ),
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-count", { "active": post.isLiked }])
                      },
                      vue.toDisplayString($options.formatCount(post.likes)),
                      3
                      /* TEXT, CLASS */
                    )
                  ], 8, ["onClick"]),
                  vue.createElementVNode("view", {
                    class: "metric-item",
                    onClick: vue.withModifiers(($event) => $options.handleDislike(post), ["stop"])
                  }, [
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-icon", { "active": post.isDisliked }])
                      },
                      "ğŸ‘",
                      2
                      /* CLASS */
                    ),
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-count", { "active": post.isDisliked }])
                      },
                      vue.toDisplayString($options.formatCount(post.dislikes)),
                      3
                      /* TEXT, CLASS */
                    )
                  ], 8, ["onClick"]),
                  vue.createElementVNode("view", {
                    class: "metric-item",
                    onClick: vue.withModifiers(($event) => $options.handleFavorite(post), ["stop"])
                  }, [
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-icon", { "active": post.isFavorited }])
                      },
                      "â­",
                      2
                      /* CLASS */
                    ),
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-count", { "active": post.isFavorited }])
                      },
                      vue.toDisplayString($options.formatCount(post.favorites)),
                      3
                      /* TEXT, CLASS */
                    )
                  ], 8, ["onClick"]),
                  vue.createElementVNode("view", {
                    class: "metric-item",
                    onClick: vue.withModifiers(($event) => $options.handleComment(post), ["stop"])
                  }, [
                    vue.createElementVNode("text", { class: "metric-icon" }, "ğŸ’¬"),
                    vue.createElementVNode(
                      "text",
                      { class: "metric-count" },
                      vue.toDisplayString($options.formatCount(post.comments)),
                      1
                      /* TEXT */
                    )
                  ], 8, ["onClick"])
                ])
              ], 8, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ], 40, ["refresher-triggered"]),
      vue.createCommentVNode(" åº•éƒ¨å¯¼èˆªæ  "),
      vue.createElementVNode("view", { class: "bottom-navigation" }, [
        vue.createElementVNode("view", {
          class: "nav-item active",
          onClick: _cache[6] || (_cache[6] = (...args) => $options.goToHome && $options.goToHome(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "é¦–é¡µ")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[7] || (_cache[7] = (...args) => $options.goToChatList && $options.goToChatList(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "æ¶ˆæ¯")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[8] || (_cache[8] = (...args) => $options.goToAIChat && $options.goToAIChat(...args))
        }, [
          vue.createElementVNode("view", { class: "ai-tab" }, [
            vue.createElementVNode("text", { class: "ai-text" }, "AI")
          ])
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[9] || (_cache[9] = (...args) => $options.goToFriendList && $options.goToFriendList(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "å¥½å‹")
        ]),
        vue.createElementVNode("view", {
          class: "nav-avatar",
          onClick: _cache[10] || (_cache[10] = (...args) => $options.goToProfile && $options.goToProfile(...args))
        }, [
          vue.createElementVNode("image", {
            class: "avatar-small",
            src: "",
            mode: "aspectFill"
          })
        ])
      ]),
      vue.createCommentVNode(" å·¦ä¾§èœå•é¢æ¿ "),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["side-menu", { "active": $data.showSideMenu }]),
          onClick: _cache[22] || (_cache[22] = (...args) => $options.closeSideMenu && $options.closeSideMenu(...args))
        },
        [
          vue.createElementVNode("view", {
            class: "menu-content",
            onClick: _cache[21] || (_cache[21] = vue.withModifiers(() => {
            }, ["stop"]))
          }, [
            vue.createCommentVNode(" èœå•å¤´éƒ¨ "),
            vue.createElementVNode("view", { class: "menu-header" }, [
              vue.createElementVNode("view", {
                class: "menu-close",
                onClick: _cache[11] || (_cache[11] = (...args) => $options.closeSideMenu && $options.closeSideMenu(...args))
              }, [
                vue.createElementVNode("text", { class: "close-icon" }, "Ã—")
              ])
            ]),
            vue.createCommentVNode(" èœå•é€‰é¡¹åˆ—è¡¨ "),
            vue.createElementVNode("view", { class: "menu-list" }, [
              vue.createCommentVNode(" æˆ‘çš„AI "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[12] || (_cache[12] = (...args) => $options.goToMyAI && $options.goToMyAI(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„AI")
                ])
              ]),
              vue.createCommentVNode(" æˆ‘çš„è®¤è¯ã€å–œæ¶ã€æˆå°± "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[13] || (_cache[13] = (...args) => $options.goToMyCertification && $options.goToMyCertification(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„è®¤è¯")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[14] || (_cache[14] = (...args) => $options.goToMyPreferences && $options.goToMyPreferences(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„å–œæ¶")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[15] || (_cache[15] = (...args) => $options.goToMyAchievements && $options.goToMyAchievements(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„æˆå°±")
                ])
              ]),
              vue.createCommentVNode(" å†å²è¯„è®º "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[16] || (_cache[16] = (...args) => $options.goToHistoryComments && $options.goToHistoryComments(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "äº’åŠ¨æ¶ˆæ¯")
                ])
              ]),
              vue.createCommentVNode(" è´­ä¹°è®°å½•ã€é’±åŒ… "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[17] || (_cache[17] = (...args) => $options.goToPurchaseRecord && $options.goToPurchaseRecord(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "è´­ä¹°è®°å½•")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[18] || (_cache[18] = (...args) => $options.goToWallet && $options.goToWallet(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "é’±åŒ…")
                ])
              ]),
              vue.createCommentVNode(" è®¾ç½®å’Œå®¢æœ "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[19] || (_cache[19] = (...args) => $options.goToSettings && $options.goToSettings(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "è®¾ç½®")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[20] || (_cache[20] = (...args) => $options.goToCustomerService && $options.goToCustomerService(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "å®¢æœä¸æœåŠ¡")
                ])
              ])
            ])
          ])
        ],
        2
        /* CLASS */
      )
    ]);
  }
  const PagesFeedContentFeed = /* @__PURE__ */ _export_sfc(_sfc_main$Q, [["render", _sfc_render$P], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/feed/content-feed.vue"]]);
  const _sfc_main$P = {
    name: "ChatFeedPage",
    data() {
      return {
        isRefreshing: false,
        showSideMenu: false,
        scrollTop: 0,
        inputMessage: "",
        inputFocus: false,
        onlineCount: 12345,
        // æ¨¡æ‹Ÿåœ¨çº¿äººæ•°
        posts: [],
        // ä»åç«¯APIè·å–çš„çœŸå®æ•°æ®
        userId: 1000100,
        // é»˜è®¤ç”¨æˆ·IDï¼Œé¢„ç•™æ–¹æ³•ä»¥åä¼ å‚
        loading: false,
        errorMessage: "",
        // é”™è¯¯ä¿¡æ¯
        hasError: false
        // æ˜¯å¦æœ‰é”™è¯¯
      };
    },
    created() {
      formatAppLog("log", "at pages/feed/chat-feed.vue:278", "é¡µé¢åˆ›å»ºï¼Œå¼€å§‹åŠ è½½æ•°æ®...");
      this.testConnection();
      this.loadChatFeedData();
      this.loadOnlineCount();
    },
    methods: {
      // åŠ è½½èŠå¤©åŠ¨æ€æ•°æ®
      async loadChatFeedData() {
        try {
          formatAppLog("log", "at pages/feed/chat-feed.vue:287", "=== å¼€å§‹åŠ è½½èŠå¤©åŠ¨æ€æ•°æ® ===");
          formatAppLog("log", "at pages/feed/chat-feed.vue:288", "ç”¨æˆ·ID:", this.userId);
          formatAppLog("log", "at pages/feed/chat-feed.vue:289", "è¯·æ±‚URL:", `http://localhost:8888/api/chat-feed/data?userId=${this.userId}`);
          this.loading = true;
          this.hasError = false;
          this.errorMessage = "";
          const response = await uni.request({
            url: `http://localhost:8888/api/chat-feed/data?userId=${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/chat-feed.vue:302", "=== APIå“åº”è¯¦æƒ… ===");
          formatAppLog("log", "at pages/feed/chat-feed.vue:303", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/feed/chat-feed.vue:304", "å“åº”æ•°æ®:", response.data);
          formatAppLog("log", "at pages/feed/chat-feed.vue:305", "å“åº”å¤´:", response.header);
          if (response.statusCode === 200) {
            formatAppLog("log", "at pages/feed/chat-feed.vue:309", "å“åº”æ•°æ®ç»“æ„æ£€æŸ¥:");
            formatAppLog("log", "at pages/feed/chat-feed.vue:310", "- response.data:", response.data);
            formatAppLog("log", "at pages/feed/chat-feed.vue:311", "- response.data.success:", response.data.success);
            formatAppLog("log", "at pages/feed/chat-feed.vue:312", "- response.data.data:", response.data.data);
            let feedData = [];
            if (response.data && response.data.data && Array.isArray(response.data.data)) {
              feedData = response.data.data;
            } else if (Array.isArray(response.data)) {
              feedData = response.data;
            } else {
              formatAppLog("error", "at pages/feed/chat-feed.vue:323", "æ— æ³•è¯†åˆ«çš„å“åº”æ ¼å¼:", response.data);
              this.hasError = true;
              this.errorMessage = "å“åº”æ•°æ®æ ¼å¼é”™è¯¯";
              return;
            }
            this.posts = feedData;
            formatAppLog("log", "at pages/feed/chat-feed.vue:330", "æˆåŠŸåŠ è½½èŠå¤©åŠ¨æ€æ•°æ®ï¼Œå…±", this.posts.length, "æ¡");
            formatAppLog("log", "at pages/feed/chat-feed.vue:331", "ç¬¬ä¸€æ¡æ•°æ®ç¤ºä¾‹:", this.posts.length > 0 ? this.posts[0] : "æ— æ•°æ®");
            if (this.posts.length === 0) {
              this.hasError = true;
              this.errorMessage = "æš‚æ— æ¨èæ•°æ®ï¼Œè¯·ç¨åå†è¯•";
              formatAppLog("log", "at pages/feed/chat-feed.vue:336", "æ²¡æœ‰è·å–åˆ°ä»»ä½•æ¨èæ•°æ®");
            } else {
              uni.showToast({
                title: `åŠ è½½äº†${this.posts.length}æ¡åŠ¨æ€`,
                icon: "success",
                duration: 2e3
              });
            }
          } else {
            formatAppLog("error", "at pages/feed/chat-feed.vue:346", "åŠ è½½èŠå¤©åŠ¨æ€æ•°æ®å¤±è´¥:", response.data.message);
            this.hasError = true;
            this.errorMessage = response.data.message || "åŠ è½½æ•°æ®å¤±è´¥";
            uni.showToast({
              title: "åŠ è½½æ•°æ®å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/chat-feed.vue:355", "åŠ è½½èŠå¤©åŠ¨æ€æ•°æ®å¼‚å¸¸:", error);
          this.hasError = true;
          this.errorMessage = "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®";
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        } finally {
          this.loading = false;
        }
      },
      // åŠ è½½åœ¨çº¿äººæ•°
      async loadOnlineCount() {
        try {
          formatAppLog("log", "at pages/feed/chat-feed.vue:370", "å¼€å§‹åŠ è½½åœ¨çº¿äººæ•°");
          const response = await uni.request({
            url: "http://localhost:8888/api/chat-feed/online-count",
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/chat-feed.vue:380", "åœ¨çº¿äººæ•°APIå“åº”:", response);
          if (response.statusCode === 200 && response.data.success) {
            this.onlineCount = response.data.onlineCount;
            formatAppLog("log", "at pages/feed/chat-feed.vue:384", "æˆåŠŸåŠ è½½åœ¨çº¿äººæ•°:", this.onlineCount);
          } else {
            formatAppLog("error", "at pages/feed/chat-feed.vue:386", "åŠ è½½åœ¨çº¿äººæ•°å¤±è´¥:", response.data.message);
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/chat-feed.vue:389", "åŠ è½½åœ¨çº¿äººæ•°å¼‚å¸¸:", error);
        }
      },
      // æœç´¢åŠŸèƒ½
      goToSearch() {
        uni.navigateTo({
          url: "/pages/feed/search"
        });
      },
      // å¸–å­ç‚¹å‡»å¤„ç†
      handlePostClick(post) {
        if (post.type === "novel") {
          const novelParams = {
            id: post.id,
            userId: this.userId,
            // ä¼ é€’ç”¨æˆ·ID
            title: post.novelInfo ? post.novelInfo.title : post.title,
            author: post.author,
            rating: post.rating,
            reviewCount: post.reviewCount,
            readerCount: post.readerCount,
            wordCount: post.wordCount,
            updateDays: post.updateDays,
            tags: post.tags ? post.tags.join(",") : "",
            synopsis: post.synopsis
          };
          const queryString = Object.keys(novelParams).map((key) => `${key}=${encodeURIComponent(novelParams[key])}`).join("&");
          formatAppLog("log", "at pages/feed/chat-feed.vue:423", "è·³è½¬åˆ°å°è¯´è¯¦æƒ…é¡µï¼Œå‚æ•°:", novelParams);
          uni.navigateTo({
            url: `/pages/feed/novel-detail?${queryString}`
          });
        } else {
          formatAppLog("log", "at pages/feed/chat-feed.vue:429", "è·³è½¬åˆ°å¸–å­è¯¦æƒ…é¡µï¼Œå‚æ•°:", { postId: post.id, postType: post.type, userId: this.userId });
          uni.navigateTo({
            url: `/pages/feed/review-detail?postId=${post.id}&postType=${post.type}&userId=${this.userId}`
          });
        }
      },
      // å›¾ç‰‡é¢„è§ˆ
      previewImage(images, current) {
        uni.previewImage({
          urls: images,
          current
        });
      },
      // å¤„ç†å›¾ç‰‡åŠ è½½é”™è¯¯
      handleImageError(post, imgIndex) {
        formatAppLog("log", "at pages/feed/chat-feed.vue:446", "å›¾ç‰‡åŠ è½½å¤±è´¥:", post.images[imgIndex]);
        if (post.images && post.images[imgIndex]) {
          post.images[imgIndex] = "/static/image-error.png";
        }
      },
      // æ ¼å¼åŒ–æ•°å­—æ˜¾ç¤º
      formatCount(count) {
        if (count >= 1e4) {
          return (count / 1e4).toFixed(1) + "w";
        }
        return count.toString();
      },
      // ç‚¹èµå¤„ç†
      async handleLike(post) {
        try {
          formatAppLog("log", "at pages/feed/chat-feed.vue:464", "å¤„ç†ç‚¹èµæ“ä½œ:", post);
          if (post._isProcessing) {
            formatAppLog("log", "at pages/feed/chat-feed.vue:468", "æ­£åœ¨å¤„ç†ä¸­ï¼Œå¿½ç•¥é‡å¤ç‚¹å‡»");
            return;
          }
          post._isProcessing = true;
          let contentType = 1;
          if (post.type === "image") {
            contentType = 2;
          } else if (post.type === "novel") {
            contentType = 3;
          }
          formatAppLog("log", "at pages/feed/chat-feed.vue:481", "å‘é€ç‚¹èµè¯·æ±‚:", {
            userId: this.userId,
            contentId: post.id,
            contentType
          });
          const response = await uni.request({
            url: "http://localhost:8888/api/chat-feed/like",
            method: "POST",
            data: {
              userId: this.userId,
              contentId: post.id,
              contentType
            },
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/chat-feed.vue:500", "ç‚¹èµAPIå“åº”:", response);
          if (response.statusCode === 200 && response.data.success) {
            const wasLiked = post.isLiked;
            post.isLiked = response.data.isActive;
            if (post.isLiked && !wasLiked) {
              post.likes++;
              if (post.isDisliked) {
                post.isDisliked = false;
                post.dislikes = Math.max(0, post.dislikes - 1);
              }
            } else if (!post.isLiked && wasLiked) {
              post.likes = Math.max(0, post.likes - 1);
            }
            uni.showToast({
              title: response.data.message,
              icon: "success",
              duration: 1500
            });
            formatAppLog("log", "at pages/feed/chat-feed.vue:526", "ç‚¹èµçŠ¶æ€æ›´æ–°æˆåŠŸ:", {
              isLiked: post.isLiked,
              likes: post.likes,
              dislikes: post.dislikes
            });
          } else {
            formatAppLog("error", "at pages/feed/chat-feed.vue:532", "ç‚¹èµæ“ä½œå¤±è´¥:", response.data);
            uni.showToast({
              title: response.data.message || "ç‚¹èµå¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/chat-feed.vue:539", "ç‚¹èµæ“ä½œå¼‚å¸¸:", error);
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        } finally {
          post._isProcessing = false;
        }
      },
      // è¸©å¤„ç†
      async handleDislike(post) {
        try {
          formatAppLog("log", "at pages/feed/chat-feed.vue:553", "å¤„ç†ç‚¹è¸©æ“ä½œ:", post);
          if (post._isProcessing) {
            formatAppLog("log", "at pages/feed/chat-feed.vue:557", "æ­£åœ¨å¤„ç†ä¸­ï¼Œå¿½ç•¥é‡å¤ç‚¹å‡»");
            return;
          }
          post._isProcessing = true;
          let contentType = 1;
          if (post.type === "image") {
            contentType = 2;
          } else if (post.type === "novel") {
            contentType = 3;
          }
          formatAppLog("log", "at pages/feed/chat-feed.vue:570", "å‘é€ç‚¹è¸©è¯·æ±‚:", {
            userId: this.userId,
            contentId: post.id,
            contentType
          });
          const response = await uni.request({
            url: "http://localhost:8888/api/chat-feed/dislike",
            method: "POST",
            data: {
              userId: this.userId,
              contentId: post.id,
              contentType
            },
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/chat-feed.vue:589", "ç‚¹è¸©APIå“åº”:", response);
          if (response.statusCode === 200 && response.data.success) {
            const wasDisliked = post.isDisliked;
            post.isDisliked = response.data.isActive;
            if (post.isDisliked && !wasDisliked) {
              post.dislikes++;
              if (post.isLiked) {
                post.isLiked = false;
                post.likes = Math.max(0, post.likes - 1);
              }
            } else if (!post.isDisliked && wasDisliked) {
              post.dislikes = Math.max(0, post.dislikes - 1);
            }
            uni.showToast({
              title: response.data.message,
              icon: "success",
              duration: 1500
            });
            formatAppLog("log", "at pages/feed/chat-feed.vue:615", "ç‚¹è¸©çŠ¶æ€æ›´æ–°æˆåŠŸ:", {
              isDisliked: post.isDisliked,
              likes: post.likes,
              dislikes: post.dislikes
            });
          } else {
            formatAppLog("error", "at pages/feed/chat-feed.vue:621", "ç‚¹è¸©æ“ä½œå¤±è´¥:", response.data);
            uni.showToast({
              title: response.data.message || "ç‚¹è¸©å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/chat-feed.vue:628", "ç‚¹è¸©æ“ä½œå¼‚å¸¸:", error);
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        } finally {
          post._isProcessing = false;
        }
      },
      // æ”¶è—å¤„ç†
      async handleFavorite(post) {
        try {
          formatAppLog("log", "at pages/feed/chat-feed.vue:642", "å¤„ç†æ”¶è—æ“ä½œ:", post);
          if (post._isProcessing) {
            formatAppLog("log", "at pages/feed/chat-feed.vue:646", "æ­£åœ¨å¤„ç†ä¸­ï¼Œå¿½ç•¥é‡å¤ç‚¹å‡»");
            return;
          }
          post._isProcessing = true;
          let contentType = 1;
          if (post.type === "image") {
            contentType = 2;
          } else if (post.type === "novel") {
            contentType = 3;
          }
          formatAppLog("log", "at pages/feed/chat-feed.vue:659", "å‘é€æ”¶è—è¯·æ±‚:", {
            userId: this.userId,
            contentId: post.id,
            contentType
          });
          const response = await uni.request({
            url: "http://localhost:8888/api/chat-feed/favorite",
            method: "POST",
            data: {
              userId: this.userId,
              contentId: post.id,
              contentType
            },
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/chat-feed.vue:678", "æ”¶è—APIå“åº”:", response);
          if (response.statusCode === 200 && response.data.success) {
            const wasFavorited = post.isFavorited;
            post.isFavorited = response.data.isActive;
            if (post.isFavorited && !wasFavorited) {
              post.favorites++;
            } else if (!post.isFavorited && wasFavorited) {
              post.favorites = Math.max(0, post.favorites - 1);
            }
            uni.showToast({
              title: response.data.message,
              icon: "success",
              duration: 1500
            });
            formatAppLog("log", "at pages/feed/chat-feed.vue:699", "æ”¶è—çŠ¶æ€æ›´æ–°æˆåŠŸ:", {
              isFavorited: post.isFavorited,
              favorites: post.favorites
            });
          } else {
            formatAppLog("error", "at pages/feed/chat-feed.vue:704", "æ”¶è—æ“ä½œå¤±è´¥:", response.data);
            uni.showToast({
              title: response.data.message || "æ”¶è—å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/chat-feed.vue:711", "æ”¶è—æ“ä½œå¼‚å¸¸:", error);
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        } finally {
          post._isProcessing = false;
        }
      },
      // è¯„è®ºå¤„ç†
      handleComment(post) {
        if (post.type === "novel") {
          const novelParams = {
            id: post.id,
            title: post.novelInfo.title,
            author: post.author,
            rating: post.rating,
            reviewCount: post.reviewCount,
            readerCount: post.readerCount,
            wordCount: post.wordCount,
            updateDays: post.updateDays,
            tags: post.tags.join(","),
            synopsis: post.synopsis
          };
          const queryString = Object.keys(novelParams).map((key) => `${key}=${encodeURIComponent(novelParams[key])}`).join("&");
          uni.navigateTo({
            url: `/pages/feed/novel-detail?${queryString}`
          });
        } else {
          uni.navigateTo({
            url: `/pages/feed/review-detail?postId=${post.id}&postType=${post.type}&userId=${this.userId}`
          });
        }
      },
      // è·³è½¬åˆ°å‘å¸ƒé¡µé¢
      goToPublish() {
        formatAppLog("log", "at pages/feed/chat-feed.vue:757", "è·³è½¬åˆ°å‘å¸ƒé¡µé¢ï¼Œç”¨æˆ·ID:", this.userId);
        uni.navigateTo({
          url: `/pages/publish/publish?userId=${this.userId}`
        });
      },
      // å‘é€æ¶ˆæ¯
      sendMessage() {
        if (this.inputMessage.trim()) {
          formatAppLog("log", "at pages/feed/chat-feed.vue:767", "å‘é€æ¶ˆæ¯:", this.inputMessage);
          this.inputMessage = "";
          this.inputFocus = false;
          this.scrollToBottom();
        }
      },
      // åˆ‡æ¢å›¾ç‰‡é€‰æ‹©å™¨
      toggleImagePicker() {
        formatAppLog("log", "at pages/feed/chat-feed.vue:779", "é€‰æ‹©å›¾ç‰‡");
      },
      // æ»šåŠ¨åˆ°åº•éƒ¨
      scrollToBottom() {
        this.$nextTick(() => {
          this.scrollTop = 99999;
        });
      },
      // å¯¼èˆªæ–¹æ³•
      goToHome() {
      },
      goToChatList() {
        uni.navigateTo({
          url: "/pages/chat/chat-list"
        });
      },
      goToAIChat() {
        uni.navigateTo({
          url: "/pages/ai/ai-chat"
        });
      },
      goToFriendList() {
        uni.navigateTo({
          url: "/pages/chat/friend-list"
        });
      },
      goToProfile() {
        uni.navigateTo({
          url: "/pages/feed/user-profile"
        });
      },
      // ä¾§è¾¹èœå•ç›¸å…³æ–¹æ³•
      openMenu() {
        this.showSideMenu = true;
      },
      closeSideMenu() {
        this.showSideMenu = false;
      },
      goToMyAI() {
        uni.navigateTo({
          url: "/pages/ai/ai"
        });
      },
      goToMyCertification() {
        uni.navigateTo({
          url: "/pages/verification/official-certification"
        });
      },
      goToMyPreferences() {
        uni.navigateTo({
          url: `/pages/feed/likes-dislikes?userId=${this.userId}`
        });
      },
      goToMyAchievements() {
        uni.navigateTo({
          url: "/pages/feed/achievements"
        });
      },
      goToHistoryComments() {
        uni.navigateTo({
          url: `/pages/feed/interaction-messages?userId=${this.userId}`
        });
      },
      goToPurchaseRecord() {
        uni.navigateTo({
          url: `/pages/wallet/purchase-record?userId=${this.userId}`
        });
      },
      goToWallet() {
        uni.navigateTo({
          url: `/pages/wallet/wallet?userId=${this.userId}`
        });
      },
      goToSettings() {
        uni.navigateTo({
          url: "/pages/settings/settings"
        });
      },
      goToCustomerService() {
        uni.navigateTo({
          url: "/pages/chat/chat?friendName=å®¢æœ"
        });
      },
      // åˆ·æ–°ç›¸å…³æ–¹æ³•
      async onRefresh(e) {
        formatAppLog("log", "at pages/feed/chat-feed.vue:869", "å¼€å§‹åˆ·æ–°èŠå¤©åŠ¨æ€æ•°æ®");
        this.isRefreshing = true;
        this.hasError = false;
        this.errorMessage = "";
        try {
          await this.refreshCache();
          await this.loadChatFeedData();
          await this.loadOnlineCount();
          this.onRefreshComplete();
        } catch (error) {
          formatAppLog("error", "at pages/feed/chat-feed.vue:882", "åˆ·æ–°æ•°æ®å¤±è´¥:", error);
          this.hasError = true;
          this.errorMessage = "åˆ·æ–°æ•°æ®å¤±è´¥ï¼Œè¯·é‡è¯•";
          this.onRefreshComplete();
        }
      },
      // åˆ·æ–°ç¼“å­˜
      async refreshCache() {
        try {
          formatAppLog("log", "at pages/feed/chat-feed.vue:892", "å¼€å§‹åˆ·æ–°åç«¯ç¼“å­˜...");
          const response = await uni.request({
            url: "http://localhost:8888/api/chat-feed/refresh-cache",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/chat-feed.vue:901", "ç¼“å­˜åˆ·æ–°å“åº”:", response);
          if (response.statusCode === 200 && response.data.success) {
            formatAppLog("log", "at pages/feed/chat-feed.vue:904", "åç«¯ç¼“å­˜åˆ·æ–°æˆåŠŸ");
          } else {
            formatAppLog("error", "at pages/feed/chat-feed.vue:906", "åç«¯ç¼“å­˜åˆ·æ–°å¤±è´¥:", response.data.message);
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/chat-feed.vue:909", "åˆ·æ–°ç¼“å­˜å¼‚å¸¸:", error);
        }
      },
      onRefreshComplete() {
        this.isRefreshing = false;
        if (!this.hasError) {
          uni.showToast({
            title: "åˆ·æ–°æˆåŠŸ",
            icon: "success"
          });
        }
      },
      onRefreshAbort() {
        formatAppLog("log", "at pages/feed/chat-feed.vue:925", "åˆ·æ–°è¢«ä¸­æ–­");
      },
      onRefreshRestore() {
        formatAppLog("log", "at pages/feed/chat-feed.vue:929", "åˆ·æ–°å™¨å¤ä½");
      },
      // æµ‹è¯•åç«¯è¿æ¥
      async testConnection() {
        try {
          formatAppLog("log", "at pages/feed/chat-feed.vue:935", "=== æµ‹è¯•åç«¯è¿æ¥ ===");
          const response = await uni.request({
            url: "http://localhost:8888/api/chat-feed/test",
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/chat-feed.vue:944", "æµ‹è¯•è¿æ¥å“åº”:", response);
          if (response.statusCode === 200) {
            uni.showToast({
              title: "åç«¯è¿æ¥æ­£å¸¸",
              icon: "success"
            });
          } else {
            uni.showToast({
              title: "åç«¯è¿æ¥å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/chat-feed.vue:958", "æµ‹è¯•è¿æ¥å¼‚å¸¸:", error);
          uni.showToast({
            title: "è¿æ¥å¼‚å¸¸",
            icon: "error"
          });
        }
      }
    }
  };
  function _sfc_render$O(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "chat-feed-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", {
          class: "hamburger-menu",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.openMenu && $options.openMenu(...args))
        }, [
          vue.createElementVNode("view", { class: "menu-line" }),
          vue.createElementVNode("view", { class: "menu-line" }),
          vue.createElementVNode("view", { class: "menu-line" })
        ]),
        vue.createElementVNode("view", { class: "title-container" }, [
          vue.createElementVNode("text", { class: "page-title" }, "ä¸‡äººèŠå¤©"),
          vue.createElementVNode(
            "text",
            { class: "online-count" },
            vue.toDisplayString($data.onlineCount) + "äººåœ¨çº¿",
            1
            /* TEXT */
          )
        ]),
        vue.createElementVNode("view", {
          class: "search-button",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.goToSearch && $options.goToSearch(...args))
        }, [
          (vue.openBlock(), vue.createElementBlock("svg", {
            t: "1756202042594",
            class: "icon",
            viewBox: "0 0 1024 1024",
            version: "1.1",
            xmlns: "http://www.w3.org/2000/svg",
            "p-id": "6084",
            width: "32",
            height: "32"
          }, [
            vue.createElementVNode("path", {
              d: "M446.112323 177.545051c137.567677 0.219798 252.612525 104.59798 266.162424 241.493333 13.562828 136.895354-78.778182 261.818182-213.617777 289.008485-134.852525 27.203232-268.386263-52.156768-308.945455-183.608889s25.018182-272.252121 151.738182-325.779394A267.235556 267.235556 0 0 1 446.112323 177.545051m0-62.060607c-182.794343 0-330.989899 148.195556-330.989899 330.989899s148.195556 330.989899 330.989899 330.989899 330.989899-148.195556 330.989899-330.989899-148.195556-330.989899-330.989899-330.989899z m431.321212 793.341415a30.849293 30.849293 0 0 1-21.94101-9.102223l-157.220202-157.220202c-11.752727-12.179394-11.584646-31.534545 0.37495-43.50707 11.972525-11.972525 31.327677-12.140606 43.494141-0.37495l157.220202 157.220202a31.036768 31.036768 0 0 1 6.723232 33.810101 31.004444 31.004444 0 0 1-28.651313 19.174142z m0 0",
              "p-id": "6085",
              fill: "#2c2c2c"
            })
          ]))
        ])
      ]),
      vue.createCommentVNode(" èŠå¤©æ¶ˆæ¯åŒºåŸŸ "),
      vue.createElementVNode("scroll-view", {
        class: "chat-scroll-view",
        "scroll-y": "true",
        "scroll-top": $data.scrollTop,
        "scroll-with-animation": true,
        "refresher-enabled": "true",
        "refresher-triggered": $data.isRefreshing,
        onRefresherrefresh: _cache[4] || (_cache[4] = (...args) => $options.onRefresh && $options.onRefresh(...args)),
        onRefresherrestore: _cache[5] || (_cache[5] = (...args) => $options.onRefreshRestore && $options.onRefreshRestore(...args)),
        onRefresherabort: _cache[6] || (_cache[6] = (...args) => $options.onRefreshAbort && $options.onRefreshAbort(...args))
      }, [
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-container"
        }, [
          vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½æ•°æ®...")
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
        $data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "error-container"
        }, [
          vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
          vue.createElementVNode(
            "text",
            { class: "error-text" },
            vue.toDisplayString($data.errorMessage),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "error-actions" }, [
            vue.createElementVNode("button", {
              class: "retry-button",
              onClick: _cache[2] || (_cache[2] = (...args) => $options.loadChatFeedData && $options.loadChatFeedData(...args))
            }, "é‡æ–°åŠ è½½"),
            vue.createElementVNode("button", {
              class: "retry-button",
              onClick: _cache[3] || (_cache[3] = (...args) => $options.testConnection && $options.testConnection(...args))
            }, "æµ‹è¯•è¿æ¥")
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" èŠå¤©æ¶ˆæ¯åˆ—è¡¨ "),
        !$data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 2,
          class: "chat-messages"
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.posts, (post, index) => {
              var _a, _b, _c, _d;
              return vue.openBlock(), vue.createElementBlock("view", {
                class: vue.normalizeClass(["message-item", { "is-ai": post.isAI }]),
                key: index,
                onClick: ($event) => $options.handlePostClick(post)
              }, [
                vue.createCommentVNode(" ç”¨æˆ·å¤´åƒ "),
                vue.createElementVNode("view", { class: "message-avatar" }, [
                  vue.createElementVNode("image", {
                    class: "avatar",
                    src: post.avatar || "",
                    mode: "aspectFill"
                  }, null, 8, ["src"]),
                  post.isAI ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "ai-badge"
                  }, "AI")) : vue.createCommentVNode("v-if", true)
                ]),
                vue.createCommentVNode(" æ¶ˆæ¯å†…å®¹ "),
                vue.createElementVNode("view", { class: "message-content" }, [
                  vue.createCommentVNode(" ç”¨æˆ·ä¿¡æ¯ "),
                  vue.createElementVNode("view", { class: "message-header" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "username" },
                      vue.toDisplayString(post.username),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "text",
                      { class: "message-time" },
                      vue.toDisplayString(post.timeAgo),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createCommentVNode(" å°è¯´æ¨èæ¶ˆæ¯ "),
                  post.type === "novel" ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "novel-message"
                  }, [
                    vue.createElementVNode("view", { class: "novel-card" }, [
                      vue.createElementVNode("view", { class: "novel-header" }, [
                        vue.createElementVNode("text", { class: "novel-type" }, "ğŸ“š å°è¯´æ¨è"),
                        vue.createElementVNode(
                          "text",
                          { class: "novel-rating" },
                          vue.toDisplayString(post.novelRating || ((_a = post.novelInfo) == null ? void 0 : _a.rating)),
                          1
                          /* TEXT */
                        )
                      ]),
                      vue.createElementVNode(
                        "text",
                        { class: "novel-title" },
                        vue.toDisplayString(post.novelTitle || ((_b = post.novelInfo) == null ? void 0 : _b.title)),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode(
                        "text",
                        { class: "novel-desc" },
                        vue.toDisplayString(post.novelDescription || ((_c = post.novelInfo) == null ? void 0 : _c.description)),
                        1
                        /* TEXT */
                      ),
                      vue.createCommentVNode(" å°è¯´å°é¢ "),
                      post.novelCover ? (vue.openBlock(), vue.createElementBlock("view", {
                        key: 0,
                        class: "novel-cover-container"
                      }, [
                        vue.createElementVNode("image", {
                          class: "novel-cover",
                          src: post.novelCover,
                          mode: "aspectFill"
                        }, null, 8, ["src"]),
                        vue.createElementVNode("view", { class: "novel-overlay" }, [
                          vue.createElementVNode(
                            "text",
                            { class: "overlay-title" },
                            vue.toDisplayString(post.novelTitle || ((_d = post.novelInfo) == null ? void 0 : _d.title)),
                            1
                            /* TEXT */
                          )
                        ])
                      ])) : vue.createCommentVNode("v-if", true),
                      vue.createCommentVNode(" å°è¯´æ ‡ç­¾ "),
                      post.tags ? (vue.openBlock(), vue.createElementBlock("view", {
                        key: 1,
                        class: "novel-tags"
                      }, [
                        (vue.openBlock(true), vue.createElementBlock(
                          vue.Fragment,
                          null,
                          vue.renderList(post.tags, (tag) => {
                            return vue.openBlock(), vue.createElementBlock(
                              "text",
                              {
                                class: "tag",
                                key: tag
                              },
                              vue.toDisplayString(tag),
                              1
                              /* TEXT */
                            );
                          }),
                          128
                          /* KEYED_FRAGMENT */
                        ))
                      ])) : vue.createCommentVNode("v-if", true)
                    ])
                  ])) : post.type === "image" ? (vue.openBlock(), vue.createElementBlock(
                    vue.Fragment,
                    { key: 1 },
                    [
                      vue.createCommentVNode(" å›¾æ–‡æ¶ˆæ¯ "),
                      vue.createElementVNode("view", { class: "image-message" }, [
                        post.textContent ? (vue.openBlock(), vue.createElementBlock(
                          "text",
                          {
                            key: 0,
                            class: "message-text"
                          },
                          vue.toDisplayString(post.textContent),
                          1
                          /* TEXT */
                        )) : vue.createCommentVNode("v-if", true),
                        vue.createCommentVNode(" å›¾ç‰‡åŒºåŸŸ "),
                        post.images && post.images.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                          key: 1,
                          class: "message-images"
                        }, [
                          (vue.openBlock(true), vue.createElementBlock(
                            vue.Fragment,
                            null,
                            vue.renderList(post.images, (image, imgIndex) => {
                              return vue.openBlock(), vue.createElementBlock("image", {
                                key: imgIndex,
                                class: "message-image",
                                src: image,
                                mode: "aspectFill",
                                onClick: vue.withModifiers(($event) => $options.previewImage(post.images, imgIndex), ["stop"]),
                                onError: ($event) => $options.handleImageError(post, imgIndex)
                              }, null, 40, ["src", "onClick", "onError"]);
                            }),
                            128
                            /* KEYED_FRAGMENT */
                          ))
                        ])) : !post.hasImages ? (vue.openBlock(), vue.createElementBlock(
                          vue.Fragment,
                          { key: 2 },
                          [
                            vue.createCommentVNode(" å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶çš„é¢„ç•™ä½ç½® "),
                            vue.createElementVNode("view", { class: "image-placeholder" }, [
                              vue.createElementVNode("view", { class: "placeholder-content" }, [
                                vue.createElementVNode("text", { class: "placeholder-icon" }, "ğŸ–¼ï¸"),
                                vue.createElementVNode("text", { class: "placeholder-text" }, "å›¾ç‰‡å†…å®¹æš‚æ—¶æ— æ³•æ˜¾ç¤º")
                              ])
                            ])
                          ],
                          2112
                          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
                        )) : vue.createCommentVNode("v-if", true)
                      ])
                    ],
                    2112
                    /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
                  )) : post.type === "text" ? (vue.openBlock(), vue.createElementBlock(
                    vue.Fragment,
                    { key: 2 },
                    [
                      vue.createCommentVNode(" çº¯æ–‡å­—æ¶ˆæ¯ "),
                      vue.createElementVNode("view", { class: "text-message" }, [
                        vue.createElementVNode(
                          "text",
                          { class: "message-text" },
                          vue.toDisplayString(post.textContent),
                          1
                          /* TEXT */
                        )
                      ])
                    ],
                    2112
                    /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
                  )) : vue.createCommentVNode("v-if", true),
                  vue.createCommentVNode(" äº’åŠ¨æŒ‡æ ‡ "),
                  vue.createElementVNode("view", { class: "message-actions" }, [
                    vue.createElementVNode("view", {
                      class: "action-item",
                      onClick: vue.withModifiers(($event) => $options.handleLike(post), ["stop"])
                    }, [
                      vue.createElementVNode(
                        "text",
                        {
                          class: vue.normalizeClass(["action-icon", { "active": post.isLiked }])
                        },
                        "ğŸ‘",
                        2
                        /* CLASS */
                      ),
                      vue.createElementVNode(
                        "text",
                        {
                          class: vue.normalizeClass(["action-count", { "active": post.isLiked }])
                        },
                        vue.toDisplayString($options.formatCount(post.likes)),
                        3
                        /* TEXT, CLASS */
                      )
                    ], 8, ["onClick"]),
                    vue.createElementVNode("view", {
                      class: "action-item",
                      onClick: vue.withModifiers(($event) => $options.handleDislike(post), ["stop"])
                    }, [
                      vue.createElementVNode(
                        "text",
                        {
                          class: vue.normalizeClass(["action-icon", { "active": post.isDisliked }])
                        },
                        "ğŸ‘",
                        2
                        /* CLASS */
                      ),
                      vue.createElementVNode(
                        "text",
                        {
                          class: vue.normalizeClass(["action-count", { "active": post.isDisliked }])
                        },
                        vue.toDisplayString($options.formatCount(post.dislikes)),
                        3
                        /* TEXT, CLASS */
                      )
                    ], 8, ["onClick"]),
                    vue.createElementVNode("view", {
                      class: "action-item",
                      onClick: vue.withModifiers(($event) => $options.handleFavorite(post), ["stop"])
                    }, [
                      vue.createElementVNode(
                        "text",
                        {
                          class: vue.normalizeClass(["action-icon", { "active": post.isFavorited }])
                        },
                        "â­",
                        2
                        /* CLASS */
                      ),
                      vue.createElementVNode(
                        "text",
                        {
                          class: vue.normalizeClass(["action-count", { "active": post.isFavorited }])
                        },
                        vue.toDisplayString($options.formatCount(post.favorites)),
                        3
                        /* TEXT, CLASS */
                      )
                    ], 8, ["onClick"]),
                    vue.createElementVNode("view", {
                      class: "action-item",
                      onClick: vue.withModifiers(($event) => $options.handleComment(post), ["stop"])
                    }, [
                      vue.createElementVNode("text", { class: "action-icon" }, "ğŸ’¬"),
                      vue.createElementVNode(
                        "text",
                        { class: "action-count" },
                        vue.toDisplayString($options.formatCount(post.comments)),
                        1
                        /* TEXT */
                      )
                    ], 8, ["onClick"])
                  ])
                ])
              ], 10, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])) : vue.createCommentVNode("v-if", true)
      ], 40, ["scroll-top", "refresher-triggered"]),
      vue.createCommentVNode(" åº•éƒ¨è¾“å…¥åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "input-area" }, [
        vue.createElementVNode("view", { class: "input-container" }, [
          vue.createElementVNode("view", {
            class: "input-box",
            onClick: _cache[9] || (_cache[9] = (...args) => $options.goToPublish && $options.goToPublish(...args))
          }, [
            vue.createElementVNode("input", {
              class: "message-input",
              type: "text",
              placeholder: "è¯´ç‚¹ä»€ä¹ˆ...",
              value: $data.inputMessage,
              readonly: "",
              focus: $data.inputFocus
            }, null, 8, ["value", "focus"]),
            vue.createElementVNode("view", { class: "input-actions" }, [
              vue.createElementVNode("view", {
                class: "action-btn",
                onClick: _cache[7] || (_cache[7] = vue.withModifiers((...args) => $options.toggleImagePicker && $options.toggleImagePicker(...args), ["stop"]))
              }, [
                vue.createElementVNode("text", { class: "action-icon" }, "ğŸ“·")
              ]),
              vue.createElementVNode("view", {
                class: "action-btn",
                onClick: _cache[8] || (_cache[8] = vue.withModifiers((...args) => $options.goToPublish && $options.goToPublish(...args), ["stop"]))
              }, [
                vue.createElementVNode("text", { class: "action-icon" }, "ğŸ“¤")
              ])
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨å¯¼èˆªæ  "),
      vue.createElementVNode("view", { class: "bottom-navigation" }, [
        vue.createElementVNode("view", {
          class: "nav-item active",
          onClick: _cache[10] || (_cache[10] = (...args) => $options.goToHome && $options.goToHome(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "é¦–é¡µ")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[11] || (_cache[11] = (...args) => $options.goToChatList && $options.goToChatList(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "æ¶ˆæ¯")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[12] || (_cache[12] = (...args) => $options.goToAIChat && $options.goToAIChat(...args))
        }, [
          vue.createElementVNode("view", { class: "ai-tab" }, [
            vue.createElementVNode("text", { class: "ai-text" }, "AI")
          ])
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[13] || (_cache[13] = (...args) => $options.goToFriendList && $options.goToFriendList(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "å¥½å‹")
        ]),
        vue.createElementVNode("view", {
          class: "nav-avatar",
          onClick: _cache[14] || (_cache[14] = (...args) => $options.goToProfile && $options.goToProfile(...args))
        }, [
          vue.createElementVNode("image", {
            class: "avatar-small",
            src: "",
            mode: "aspectFill"
          })
        ])
      ]),
      vue.createCommentVNode(" å·¦ä¾§èœå•é¢æ¿ "),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["side-menu", { "active": $data.showSideMenu }]),
          onClick: _cache[26] || (_cache[26] = (...args) => $options.closeSideMenu && $options.closeSideMenu(...args))
        },
        [
          vue.createElementVNode("view", {
            class: "menu-content",
            onClick: _cache[25] || (_cache[25] = vue.withModifiers(() => {
            }, ["stop"]))
          }, [
            vue.createCommentVNode(" èœå•å¤´éƒ¨ "),
            vue.createElementVNode("view", { class: "menu-header" }, [
              vue.createElementVNode("view", {
                class: "menu-close",
                onClick: _cache[15] || (_cache[15] = (...args) => $options.closeSideMenu && $options.closeSideMenu(...args))
              }, [
                vue.createElementVNode("text", { class: "close-icon" }, "Ã—")
              ])
            ]),
            vue.createCommentVNode(" èœå•é€‰é¡¹åˆ—è¡¨ "),
            vue.createElementVNode("view", { class: "menu-list" }, [
              vue.createCommentVNode(" æˆ‘çš„AI "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[16] || (_cache[16] = (...args) => $options.goToMyAI && $options.goToMyAI(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„AI")
                ])
              ]),
              vue.createCommentVNode(" æˆ‘çš„è®¤è¯ã€å–œæ¶ã€æˆå°± "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[17] || (_cache[17] = (...args) => $options.goToMyCertification && $options.goToMyCertification(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„è®¤è¯")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[18] || (_cache[18] = (...args) => $options.goToMyPreferences && $options.goToMyPreferences(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„å–œæ¶")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[19] || (_cache[19] = (...args) => $options.goToMyAchievements && $options.goToMyAchievements(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„æˆå°±")
                ])
              ]),
              vue.createCommentVNode(" å†å²è¯„è®º "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[20] || (_cache[20] = (...args) => $options.goToHistoryComments && $options.goToHistoryComments(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "äº’åŠ¨æ¶ˆæ¯")
                ])
              ]),
              vue.createCommentVNode(" è´­ä¹°è®°å½•ã€é’±åŒ… "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[21] || (_cache[21] = (...args) => $options.goToPurchaseRecord && $options.goToPurchaseRecord(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "è´­ä¹°è®°å½•")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[22] || (_cache[22] = (...args) => $options.goToWallet && $options.goToWallet(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "é’±åŒ…")
                ])
              ]),
              vue.createCommentVNode(" è®¾ç½®å’Œå®¢æœ "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[23] || (_cache[23] = (...args) => $options.goToSettings && $options.goToSettings(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "è®¾ç½®")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[24] || (_cache[24] = (...args) => $options.goToCustomerService && $options.goToCustomerService(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "å®¢æœä¸æœåŠ¡")
                ])
              ])
            ])
          ])
        ],
        2
        /* CLASS */
      )
    ]);
  }
  const PagesFeedChatFeed = /* @__PURE__ */ _export_sfc(_sfc_main$P, [["render", _sfc_render$O], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/feed/chat-feed.vue"]]);
  const _sfc_main$O = {
    name: "PostDetailPage",
    data() {
      return {
        postDetail: {
          id: "",
          authorName: "",
          authorAvatar: "",
          publishTime: "",
          textContent: "",
          images: [],
          location: "",
          likes: 0,
          dislikes: 0,
          favorites: 0,
          isLiked: false,
          isDisliked: false,
          isFavorited: false,
          isFollowed: false,
          comments: []
        },
        commentText: "",
        showMoreModal: false,
        scrollTop: 0,
        replyToComment: null,
        replyToReply: null,
        isOwnPost: false
        // æ ‡è¯†æ˜¯å¦æ¥è‡ªç”¨æˆ·è‡ªå·±çš„ä¸ªäººèµ„æ–™é¡µ
      };
    },
    onLoad(options) {
      formatAppLog("log", "at pages/feed/post-detail.vue:229", "é¡µé¢åŠ è½½å‚æ•°:", options);
      if (options.postId) {
        const postId = parseInt(options.postId);
        formatAppLog("log", "at pages/feed/post-detail.vue:234", "è§£æåçš„postId:", postId);
        if (options.isOwnPost === "true") {
          this.isOwnPost = true;
          formatAppLog("log", "at pages/feed/post-detail.vue:239", "è¿™æ˜¯ç”¨æˆ·è‡ªå·±çš„å¸–å­ï¼Œéšè—å…³æ³¨æŒ‰é’®");
        }
        this.loadPostDetail(postId);
      } else {
        formatAppLog("log", "at pages/feed/post-detail.vue:245", "ä½¿ç”¨é»˜è®¤postId: 3");
        this.loadPostDetail(3);
      }
    },
    methods: {
      // åŠ è½½å¸–å­è¯¦æƒ…
      loadPostDetail(postId) {
        formatAppLog("log", "at pages/feed/post-detail.vue:252", "å¼€å§‹åŠ è½½å¸–å­è¯¦æƒ…ï¼ŒpostId:", postId);
        const mockPosts = {
          1: {
            id: 1,
            authorName: "é£æ‹‚æŸ³æ¢¢ (AI)",
            authorAvatar: "/static/avatar1.png",
            publishTime: "12åˆ†é’Ÿå‰",
            textContent: "æ¨èä¸€æœ¬è¶…å¥½çœ‹çš„å°è¯´ï¼ã€Šä¸‡æ³•è¯¡é“,æˆ‘ä¸ºçµå°Šã€‹å¹»æƒ³ä¿®ä»™é¢˜æï¼Œç¦ç¥ä¹‹å­ç§æˆ¿èœï¼Œæ— å¥—è·¯å‰§æƒ…ï¼Œè¯„åˆ†4.9/5.0ï¼Œå¼ºçƒˆæ¨èç»™å¤§å®¶ï¼",
            images: [
              "/static/avatar1.png"
            ],
            location: "AIæ¨è",
            likes: 99e3,
            dislikes: 3046,
            favorites: 99e3,
            isLiked: false,
            isDisliked: false,
            isFavorited: false,
            isFollowed: false,
            comments: [
              {
                username: "ä¹¦è™«å°ç‹",
                userAvatar: "/static/avatar2.png",
                time: "10åˆ†é’Ÿå‰",
                content: "çœ‹èµ·æ¥ä¸é”™ï¼Œé©¬ä¸Šå»çœ‹çœ‹ï¼",
                likes: 45,
                isLiked: false,
                replies: [
                  {
                    username: "ä¿®ä»™çˆ±å¥½è€…",
                    userAvatar: "/static/avatar3.png",
                    time: "8åˆ†é’Ÿå‰",
                    content: "æˆ‘ä¹Ÿè§‰å¾—ä¸é”™ï¼",
                    likes: 12,
                    isLiked: false,
                    replyTo: "ä¹¦è™«å°ç‹"
                  }
                ]
              },
              {
                username: "ä¿®ä»™çˆ±å¥½è€…",
                userAvatar: "/static/avatar3.png",
                time: "8åˆ†é’Ÿå‰",
                content: "å·²ç»çœ‹è¿‡äº†ï¼Œç¡®å®å¾ˆç²¾å½©",
                likes: 32,
                isLiked: false,
                replies: []
              }
            ]
          },
          5: {
            id: 5,
            authorName: "çŒ«åˆå±‹ä¹‹ä¸»",
            authorAvatar: "/static/avatar3.png",
            publishTime: "12åˆ†é’Ÿå‰",
            textContent: "ç»˜ç”»ç»ƒä¹ ",
            images: [],
            location: "ä¸ªäººåŠ¨æ€",
            likes: 10,
            dislikes: 2,
            favorites: 5,
            isLiked: false,
            isDisliked: false,
            isFavorited: false,
            isFollowed: false,
            comments: [
              {
                username: "è‰ºæœ¯çˆ±å¥½è€…",
                userAvatar: "/static/avatar4.png",
                time: "10åˆ†é’Ÿå‰",
                content: "ç”»å¾—çœŸä¸é”™ï¼",
                likes: 8,
                isLiked: false,
                replies: []
              },
              {
                username: "ç»˜ç”»è¾¾äºº",
                userAvatar: "/static/avatar1.png",
                time: "8åˆ†é’Ÿå‰",
                content: "ç»§ç»­åŠ æ²¹ï¼",
                likes: 5,
                isLiked: false,
                replies: []
              }
            ]
          },
          2: {
            id: 2,
            authorName: "é›¨è½æƒ…åŠ« (AI)",
            authorAvatar: "/static/avatar2.png",
            publishTime: "15åˆ†é’Ÿå‰",
            textContent: "You know you're in love when you can't fall asleep because reality is finally better than your dreams.",
            images: [],
            location: "AIåˆ†äº«",
            likes: 1234,
            dislikes: 56,
            favorites: 789,
            isLiked: false,
            isDisliked: false,
            isFavorited: false,
            isFollowed: false,
            comments: [
              {
                username: "æƒ…æ„Ÿä¸“å®¶",
                userAvatar: "/static/avatar4.png",
                time: "12åˆ†é’Ÿå‰",
                content: "è¿™å¥è¯å¤ªæœ‰é“ç†äº†ï¼",
                likes: 23,
                isLiked: false,
                replies: []
              }
            ]
          },
          3: {
            id: 3,
            authorName: "æ˜¥æ—¥æ¨±èŠ±",
            authorAvatar: "/static/avatar3.png",
            publishTime: "30åˆ†é’Ÿå‰",
            textContent: "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œåˆ†äº«ä¸€å¼ ç¾ç…§ï½é˜³å…‰æ˜åªšçš„æ—¥å­é‡Œï¼Œå¿ƒæƒ…ä¹Ÿå˜å¾—æ ¼å¤–ç¾å¥½ã€‚å¸Œæœ›æ¯ä¸ªäººéƒ½èƒ½æ„Ÿå—åˆ°è¿™ä»½æ¸©æš–å’Œå¿«ä¹ï¼",
            images: [
              "/static/avatar1.png",
              "/static/avatar2.png",
              "/static/avatar3.png"
            ],
            location: "åŒ—äº¬å¸‚æœé˜³åŒº",
            likes: 5678,
            dislikes: 123,
            favorites: 2345,
            isLiked: false,
            isDisliked: false,
            isFavorited: false,
            isFollowed: false,
            comments: [
              {
                username: "æ‘„å½±çˆ±å¥½è€…",
                userAvatar: "/static/avatar4.png",
                time: "25åˆ†é’Ÿå‰",
                content: "æ‹å¾—çœŸå¥½çœ‹ï¼å…‰çº¿å¾ˆæŸ”å’Œ",
                likes: 12,
                isLiked: false,
                replies: [
                  {
                    username: "æ˜¥æ—¥æ¨±èŠ±",
                    userAvatar: "/static/avatar3.png",
                    time: "22åˆ†é’Ÿå‰",
                    content: "è°¢è°¢å¤¸å¥–ï¼",
                    likes: 5,
                    isLiked: false,
                    replyTo: "æ‘„å½±çˆ±å¥½è€…"
                  }
                ]
              },
              {
                username: "æ—…è¡Œè¾¾äºº",
                userAvatar: "/static/avatar1.png",
                time: "20åˆ†é’Ÿå‰",
                content: "è¿™æ˜¯åœ¨å“ªé‡Œæ‹çš„ï¼Ÿé£æ™¯å¾ˆç¾",
                likes: 8,
                isLiked: false,
                replies: []
              },
              {
                username: "ç”Ÿæ´»è®°å½•è€…",
                userAvatar: "/static/avatar2.png",
                time: "15åˆ†é’Ÿå‰",
                content: "å¤©æ°”ç¡®å®å¾ˆæ£’ï¼Œé€‚åˆå‡ºé—¨èµ°èµ°",
                likes: 15,
                isLiked: false,
                replies: []
              }
            ]
          },
          4: {
            id: 4,
            authorName: "çŒ«åˆå±‹ä¹‹ä¸»",
            authorAvatar: "/static/avatar3.png",
            publishTime: "1å°æ—¶å‰",
            textContent: "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼",
            images: [],
            location: "ä¸ªäººåŠ¨æ€",
            likes: 10,
            dislikes: 1,
            favorites: 5,
            isLiked: false,
            isDisliked: false,
            isFavorited: false,
            isFollowed: false,
            comments: [
              {
                username: "å¤©æ°”è§‚å¯Ÿå‘˜",
                userAvatar: "/static/avatar2.png",
                time: "50åˆ†é’Ÿå‰",
                content: "ç¡®å®æ˜¯ä¸ªå¥½å¤©æ°”ï¼",
                likes: 6,
                isLiked: false,
                replies: []
              }
            ]
          },
          6: {
            id: 6,
            authorName: "çŒ«åˆå±‹ä¹‹ä¸»",
            authorAvatar: "/static/avatar3.png",
            publishTime: "3å¤©å‰",
            textContent: null,
            images: ["/static/image3.jpg", "/static/image4.jpg"],
            location: "ä¸ªäººç›¸å†Œ",
            likes: 18,
            dislikes: 4,
            favorites: 10,
            isLiked: false,
            isDisliked: false,
            isFavorited: false,
            isFollowed: false,
            comments: [
              {
                username: "æ‘„å½±çˆ±å¥½è€…",
                userAvatar: "/static/avatar1.png",
                time: "2å¤©å‰",
                content: "ç…§ç‰‡æ‹å¾—å¾ˆç¾ï¼",
                likes: 12,
                isLiked: false,
                replies: []
              }
            ]
          }
        };
        if (mockPosts[postId]) {
          formatAppLog("log", "at pages/feed/post-detail.vue:485", "æ‰¾åˆ°å¸–å­æ•°æ®:", mockPosts[postId]);
          this.postDetail = { ...mockPosts[postId] };
        } else {
          this.postDetail = {
            id: postId,
            authorName: this.postDetail.authorName || "æ˜¥æ—¥æ¨±èŠ±",
            authorAvatar: "/static/avatar3.png",
            publishTime: "30åˆ†é’Ÿå‰",
            textContent: this.postDetail.textContent || "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œåˆ†äº«ä¸€å¼ ç¾ç…§ï½é˜³å…‰æ˜åªšçš„æ—¥å­é‡Œï¼Œå¿ƒæƒ…ä¹Ÿå˜å¾—æ ¼å¤–ç¾å¥½ã€‚å¸Œæœ›æ¯ä¸ªäººéƒ½èƒ½æ„Ÿå—åˆ°è¿™ä»½æ¸©æš–å’Œå¿«ä¹ï¼",
            images: [
              "/static/avatar1.png",
              "/static/avatar2.png",
              "/static/avatar3.png"
            ],
            location: "åŒ—äº¬å¸‚æœé˜³åŒº",
            likes: 5678,
            dislikes: 123,
            favorites: 2345,
            isLiked: false,
            isDisliked: false,
            isFavorited: false,
            isFollowed: false,
            comments: [
              {
                username: "æ‘„å½±çˆ±å¥½è€…",
                userAvatar: "/static/avatar4.png",
                time: "25åˆ†é’Ÿå‰",
                content: "æ‹å¾—çœŸå¥½çœ‹ï¼å…‰çº¿å¾ˆæŸ”å’Œ",
                likes: 12,
                isLiked: false,
                replies: [
                  {
                    username: "æ˜¥æ—¥æ¨±èŠ±",
                    userAvatar: "/static/avatar3.png",
                    time: "22åˆ†é’Ÿå‰",
                    content: "è°¢è°¢å¤¸å¥–ï¼",
                    likes: 5,
                    isLiked: false,
                    replyTo: "æ‘„å½±çˆ±å¥½è€…"
                  }
                ]
              },
              {
                username: "æ—…è¡Œè¾¾äºº",
                userAvatar: "/static/avatar1.png",
                time: "20åˆ†é’Ÿå‰",
                content: "è¿™æ˜¯åœ¨å“ªé‡Œæ‹çš„ï¼Ÿé£æ™¯å¾ˆç¾",
                likes: 8,
                isLiked: false,
                replies: []
              },
              {
                username: "ç”Ÿæ´»è®°å½•è€…",
                userAvatar: "/static/avatar2.png",
                time: "15åˆ†é’Ÿå‰",
                content: "å¤©æ°”ç¡®å®å¾ˆæ£’ï¼Œé€‚åˆå‡ºé—¨èµ°èµ°",
                likes: 15,
                isLiked: false,
                replies: []
              }
            ]
          };
        }
      },
      // è¿”å›ä¸Šä¸€é¡µ
      goBack() {
        uni.navigateBack();
      },
      // è·³è½¬åˆ°ç”¨æˆ·èµ„æ–™é¡µ
      goToUserProfile() {
        uni.navigateTo({
          url: `/pages/feed/user-profile?username=${encodeURIComponent(this.postDetail.authorName)}`
        });
      },
      // å…³æ³¨/å–æ¶ˆå…³æ³¨
      toggleFollow() {
        this.postDetail.isFollowed = !this.postDetail.isFollowed;
        uni.showToast({
          title: this.postDetail.isFollowed ? "å…³æ³¨æˆåŠŸ" : "å·²å–æ¶ˆå…³æ³¨",
          icon: "success"
        });
      },
      // è·å–å›¾ç‰‡ç½‘æ ¼æ ·å¼
      getImageGridClass(count) {
        if (count === 1)
          return "single-image";
        if (count === 2)
          return "two-images";
        if (count === 3)
          return "three-images";
        return "grid-images";
      },
      // å›¾ç‰‡é¢„è§ˆ
      previewImage(images, current) {
        uni.previewImage({
          urls: images,
          current
        });
      },
      // æ ¼å¼åŒ–æ•°å­—
      formatCount(count) {
        if (count >= 1e4) {
          return (count / 1e4).toFixed(1) + "w";
        }
        return count.toString();
      },
      // ç‚¹èµ
      handleLike() {
        this.postDetail.isLiked = !this.postDetail.isLiked;
        if (this.postDetail.isLiked) {
          this.postDetail.likes++;
          if (this.postDetail.isDisliked) {
            this.postDetail.isDisliked = false;
            this.postDetail.dislikes--;
          }
        } else {
          this.postDetail.likes--;
        }
      },
      // è¸©
      handleDislike() {
        this.postDetail.isDisliked = !this.postDetail.isDisliked;
        if (this.postDetail.isDisliked) {
          this.postDetail.dislikes++;
          if (this.postDetail.isLiked) {
            this.postDetail.isLiked = false;
            this.postDetail.likes--;
          }
        } else {
          this.postDetail.dislikes--;
        }
      },
      // æ”¶è—
      handleFavorite() {
        this.postDetail.isFavorited = !this.postDetail.isFavorited;
        if (this.postDetail.isFavorited) {
          this.postDetail.favorites++;
        } else {
          this.postDetail.favorites--;
        }
      },
      // åˆ†äº«
      handleShare() {
        uni.showToast({
          title: "åˆ†äº«åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      // æ˜¾ç¤ºæ›´å¤šé€‰é¡¹
      showMoreOptions() {
        this.showMoreModal = true;
      },
      // éšè—æ›´å¤šé€‰é¡¹
      hideMoreOptions() {
        this.showMoreModal = false;
      },
      // ä¸¾æŠ¥å¸–å­
      reportPost() {
        this.hideMoreOptions();
        uni.navigateTo({
          url: "/pages/report/report"
        });
      },
      // å¤åˆ¶é“¾æ¥
      copyLink() {
        this.hideMoreOptions();
        uni.setClipboardData({
          data: `https://example.com/post/${this.postDetail.id}`,
          success: () => {
            uni.showToast({
              title: "é“¾æ¥å·²å¤åˆ¶",
              icon: "success"
            });
          }
        });
      },
      // ç‚¹èµè¯„è®º
      likeComment(comment, index) {
        comment.isLiked = !comment.isLiked;
        if (comment.isLiked) {
          comment.likes++;
        } else {
          comment.likes--;
        }
      },
      // ç‚¹èµå›å¤
      likeReply(comment, replyIndex) {
        const reply = comment.replies[replyIndex];
        reply.isLiked = !reply.isLiked;
        if (reply.isLiked) {
          reply.likes++;
        } else {
          reply.likes--;
        }
      },
      // å›å¤è¯„è®º
      replyComment(comment) {
        formatAppLog("log", "at pages/feed/post-detail.vue:697", "å›å¤è¯„è®º:", comment);
        this.replyToComment = comment;
        this.replyToReply = null;
        this.commentText = "";
        this.$nextTick(() => {
          const input = uni.createSelectorQuery().select(".comment-input");
          if (input) {
            input.focus();
          }
        });
      },
      // å›å¤å›å¤
      handleReplyToReply(comment, reply) {
        this.replyToComment = comment;
        this.replyToReply = reply;
        this.commentText = "";
        this.$nextTick(() => {
          const input = uni.createSelectorQuery().select(".comment-input");
          if (input) {
            input.focus();
          }
        });
      },
      // è¾“å…¥æ¡†èšç„¦
      onInputFocus() {
      },
      // è¾“å…¥æ¡†å¤±ç„¦
      onInputBlur() {
      },
      // æäº¤è¯„è®º
      submitComment() {
        if (!this.commentText.trim()) {
          return;
        }
        if (this.replyToComment) {
          const newReply = {
            username: "æˆ‘",
            userAvatar: "/static/avatar3.png",
            time: "åˆšåˆš",
            content: this.commentText,
            likes: 0,
            isLiked: false,
            replyTo: this.replyToReply ? this.replyToReply.username : this.replyToComment.username
          };
          if (!this.replyToComment.replies) {
            this.replyToComment.replies = [];
          }
          this.replyToComment.replies.push(newReply);
          this.replyToComment = null;
          this.replyToReply = null;
          uni.showToast({
            title: "å›å¤æˆåŠŸ",
            icon: "success"
          });
        } else {
          const newComment = {
            username: "æˆ‘",
            userAvatar: "/static/avatar3.png",
            time: "åˆšåˆš",
            content: this.commentText,
            likes: 0,
            isLiked: false,
            replies: []
          };
          this.postDetail.comments.unshift(newComment);
          uni.showToast({
            title: "è¯„è®ºæˆåŠŸ",
            icon: "success"
          });
        }
        this.commentText = "";
      },
      // è·å–æ€»è¯„è®ºæ•°ï¼ˆåŒ…æ‹¬å›å¤ï¼‰
      getTotalCommentsCount() {
        let total = this.postDetail.comments.length;
        this.postDetail.comments.forEach((comment) => {
          if (comment.replies) {
            total += comment.replies.length;
          }
        });
        return total;
      },
      // è·å–è¾“å…¥æ¡†placeholder
      getInputPlaceholder() {
        if (this.replyToComment) {
          if (this.replyToReply) {
            return `å›å¤ @${this.replyToReply.username}...`;
          }
          return `å›å¤ @${this.replyToComment.username}...`;
        }
        return "è¯´ç‚¹ä»€ä¹ˆ...";
      },
      // å–æ¶ˆå›å¤
      cancelReply() {
        formatAppLog("log", "at pages/feed/post-detail.vue:819", "å–æ¶ˆå›å¤");
        this.commentText = "";
        this.replyToComment = null;
        this.replyToReply = null;
      }
    }
  };
  function _sfc_render$N(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "post-detail-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", {
          class: "back-button",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
        }, [
          (vue.openBlock(), vue.createElementBlock("svg", {
            t: "1756246262970",
            class: "icon",
            viewBox: "0 0 1024 1024",
            version: "1.1",
            xmlns: "http://www.w3.org/2000/svg",
            "p-id": "904",
            width: "32",
            height: "32"
          }, [
            vue.createElementVNode("path", {
              d: "M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",
              fill: "#666666",
              "p-id": "905"
            })
          ]))
        ]),
        vue.createElementVNode("view", { class: "header-title" }, "åŠ¨æ€è¯¦æƒ…"),
        vue.createElementVNode("view", {
          class: "more-button",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.showMoreOptions && $options.showMoreOptions(...args))
        }, [
          (vue.openBlock(), vue.createElementBlock("svg", {
            t: "1756202704554",
            class: "icon",
            viewBox: "0 0 1024 1024",
            version: "1.1",
            xmlns: "http://www.w3.org/2000/svg",
            width: "32",
            height: "32"
          }, [
            vue.createElementVNode("path", {
              d: "M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",
              fill: "#333333"
            }),
            vue.createElementVNode("path", {
              d: "M464 688a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z",
              fill: "#333333"
            })
          ]))
        ])
      ]),
      vue.createCommentVNode(" å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "content-scroll" }, [
        vue.createCommentVNode(" å¸–å­å†…å®¹ "),
        vue.createElementVNode("view", { class: "post-content" }, [
          vue.createCommentVNode(" ä½œè€…ä¿¡æ¯ "),
          vue.createElementVNode("view", { class: "author-section" }, [
            vue.createElementVNode("view", {
              class: "author-info",
              onClick: _cache[2] || (_cache[2] = (...args) => $options.goToUserProfile && $options.goToUserProfile(...args))
            }, [
              vue.createElementVNode("image", {
                class: "author-avatar",
                src: $data.postDetail.authorAvatar,
                mode: "aspectFill"
              }, null, 8, ["src"]),
              vue.createElementVNode("view", { class: "author-details" }, [
                vue.createElementVNode(
                  "text",
                  { class: "author-name" },
                  vue.toDisplayString($data.postDetail.authorName),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "text",
                  { class: "author-time" },
                  vue.toDisplayString($data.postDetail.publishTime),
                  1
                  /* TEXT */
                )
              ])
            ]),
            !$data.isOwnPost ? (vue.openBlock(), vue.createElementBlock(
              "view",
              {
                key: 0,
                class: vue.normalizeClass(["follow-button", { "followed": $data.postDetail.isFollowed }]),
                onClick: _cache[3] || (_cache[3] = (...args) => $options.toggleFollow && $options.toggleFollow(...args))
              },
              [
                vue.createElementVNode(
                  "text",
                  { class: "follow-text" },
                  vue.toDisplayString($data.postDetail.isFollowed ? "å·²å…³æ³¨" : "å…³æ³¨"),
                  1
                  /* TEXT */
                )
              ],
              2
              /* CLASS */
            )) : vue.createCommentVNode("v-if", true)
          ]),
          vue.createCommentVNode(" æ–‡å­—å†…å®¹ "),
          $data.postDetail.textContent ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "text-content"
          }, [
            vue.createElementVNode(
              "text",
              { class: "content-text" },
              vue.toDisplayString($data.postDetail.textContent),
              1
              /* TEXT */
            )
          ])) : vue.createCommentVNode("v-if", true),
          vue.createCommentVNode(" å›¾ç‰‡å†…å®¹ "),
          $data.postDetail.images && $data.postDetail.images.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 1,
            class: "image-content"
          }, [
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["image-grid", $options.getImageGridClass($data.postDetail.images.length)])
              },
              [
                (vue.openBlock(true), vue.createElementBlock(
                  vue.Fragment,
                  null,
                  vue.renderList($data.postDetail.images, (image, index) => {
                    return vue.openBlock(), vue.createElementBlock("image", {
                      key: index,
                      class: "content-image",
                      src: image,
                      mode: "aspectFill",
                      onClick: ($event) => $options.previewImage($data.postDetail.images, index)
                    }, null, 8, ["src", "onClick"]);
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ],
              2
              /* CLASS */
            )
          ])) : vue.createCommentVNode("v-if", true),
          vue.createCommentVNode(" ä½ç½®ä¿¡æ¯ "),
          $data.postDetail.location ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 2,
            class: "location-info"
          }, [
            vue.createElementVNode("view", { class: "location-icon" }, [
              (vue.openBlock(), vue.createElementBlock("svg", {
                t: "1756202704554",
                class: "icon",
                viewBox: "0 0 1024 1024",
                version: "1.1",
                xmlns: "http://www.w3.org/2000/svg",
                width: "24",
                height: "24"
              }, [
                vue.createElementVNode("path", {
                  d: "M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",
                  fill: "#999999"
                }),
                vue.createElementVNode("path", {
                  d: "M512 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z",
                  fill: "#999999"
                })
              ]))
            ]),
            vue.createElementVNode(
              "text",
              { class: "location-text" },
              vue.toDisplayString($data.postDetail.location),
              1
              /* TEXT */
            )
          ])) : vue.createCommentVNode("v-if", true),
          vue.createCommentVNode(" äº’åŠ¨æŒ‡æ ‡ "),
          vue.createElementVNode("view", { class: "engagement-metrics" }, [
            vue.createElementVNode("view", {
              class: "metric-item",
              onClick: _cache[4] || (_cache[4] = (...args) => $options.handleLike && $options.handleLike(...args))
            }, [
              vue.createElementVNode(
                "text",
                {
                  class: vue.normalizeClass(["metric-icon", { "active": $data.postDetail.isLiked }])
                },
                "ğŸ‘",
                2
                /* CLASS */
              ),
              vue.createElementVNode(
                "text",
                {
                  class: vue.normalizeClass(["metric-count", { "active": $data.postDetail.isLiked }])
                },
                vue.toDisplayString($options.formatCount($data.postDetail.likes)),
                3
                /* TEXT, CLASS */
              )
            ]),
            vue.createElementVNode("view", {
              class: "metric-item",
              onClick: _cache[5] || (_cache[5] = (...args) => $options.handleDislike && $options.handleDislike(...args))
            }, [
              vue.createElementVNode(
                "text",
                {
                  class: vue.normalizeClass(["metric-icon", { "active": $data.postDetail.isDisliked }])
                },
                "ğŸ‘",
                2
                /* CLASS */
              ),
              vue.createElementVNode(
                "text",
                {
                  class: vue.normalizeClass(["metric-count", { "active": $data.postDetail.isDisliked }])
                },
                vue.toDisplayString($options.formatCount($data.postDetail.dislikes)),
                3
                /* TEXT, CLASS */
              )
            ]),
            vue.createElementVNode("view", {
              class: "metric-item",
              onClick: _cache[6] || (_cache[6] = (...args) => $options.handleFavorite && $options.handleFavorite(...args))
            }, [
              vue.createElementVNode(
                "text",
                {
                  class: vue.normalizeClass(["metric-icon", { "active": $data.postDetail.isFavorited }])
                },
                "â­",
                2
                /* CLASS */
              ),
              vue.createElementVNode(
                "text",
                {
                  class: vue.normalizeClass(["metric-count", { "active": $data.postDetail.isFavorited }])
                },
                vue.toDisplayString($options.formatCount($data.postDetail.favorites)),
                3
                /* TEXT, CLASS */
              )
            ]),
            vue.createElementVNode("view", {
              class: "metric-item",
              onClick: _cache[7] || (_cache[7] = (...args) => $options.handleShare && $options.handleShare(...args))
            }, [
              vue.createElementVNode("text", { class: "metric-icon" }, "ğŸ“¤"),
              vue.createElementVNode("text", { class: "metric-count" }, "åˆ†äº«")
            ])
          ])
        ]),
        vue.createCommentVNode(" è¯„è®ºåŒºåŸŸ "),
        vue.createElementVNode("view", { class: "comments-section" }, [
          vue.createElementVNode("view", { class: "comments-header" }, [
            vue.createElementVNode(
              "text",
              { class: "comments-title" },
              "è¯„è®º (" + vue.toDisplayString($options.getTotalCommentsCount()) + ")",
              1
              /* TEXT */
            )
          ]),
          vue.createCommentVNode(" è¯„è®ºåˆ—è¡¨ "),
          vue.createElementVNode("view", { class: "comments-list" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.postDetail.comments, (comment, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "comment-item",
                  key: index
                }, [
                  vue.createElementVNode("view", { class: "comment-avatar" }, [
                    vue.createElementVNode("image", {
                      class: "comment-user-avatar",
                      src: comment.userAvatar,
                      mode: "aspectFill"
                    }, null, 8, ["src"])
                  ]),
                  vue.createElementVNode("view", { class: "comment-content" }, [
                    vue.createElementVNode("view", { class: "comment-user-info" }, [
                      vue.createElementVNode(
                        "text",
                        { class: "comment-username" },
                        vue.toDisplayString(comment.username),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode(
                        "text",
                        { class: "comment-time" },
                        vue.toDisplayString(comment.time),
                        1
                        /* TEXT */
                      )
                    ]),
                    vue.createElementVNode(
                      "text",
                      { class: "comment-text" },
                      vue.toDisplayString(comment.content),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("view", { class: "comment-actions" }, [
                      vue.createElementVNode("view", {
                        class: "comment-action",
                        onClick: ($event) => $options.likeComment(comment, index)
                      }, [
                        vue.createElementVNode(
                          "text",
                          {
                            class: vue.normalizeClass(["action-icon", { "active": comment.isLiked }])
                          },
                          "ğŸ‘",
                          2
                          /* CLASS */
                        ),
                        vue.createElementVNode(
                          "text",
                          { class: "action-count" },
                          vue.toDisplayString($options.formatCount(comment.likes)),
                          1
                          /* TEXT */
                        )
                      ], 8, ["onClick"]),
                      vue.createElementVNode("view", {
                        class: "comment-action",
                        onClick: ($event) => $options.replyComment(comment)
                      }, [
                        vue.createElementVNode("text", { class: "action-icon" }, "ğŸ’¬"),
                        vue.createElementVNode("text", { class: "action-count" }, "å›å¤")
                      ], 8, ["onClick"])
                    ]),
                    vue.createCommentVNode(" å›å¤åˆ—è¡¨ "),
                    comment.replies && comment.replies.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "replies-list"
                    }, [
                      (vue.openBlock(true), vue.createElementBlock(
                        vue.Fragment,
                        null,
                        vue.renderList(comment.replies, (reply, replyIndex) => {
                          return vue.openBlock(), vue.createElementBlock("view", {
                            class: "reply-item",
                            key: replyIndex
                          }, [
                            vue.createElementVNode("view", { class: "reply-avatar" }, [
                              vue.createElementVNode("image", {
                                class: "reply-user-avatar",
                                src: reply.userAvatar,
                                mode: "aspectFill"
                              }, null, 8, ["src"])
                            ]),
                            vue.createElementVNode("view", { class: "reply-content" }, [
                              vue.createElementVNode("view", { class: "reply-user-info" }, [
                                vue.createElementVNode(
                                  "text",
                                  { class: "reply-username" },
                                  vue.toDisplayString(reply.username),
                                  1
                                  /* TEXT */
                                ),
                                vue.createElementVNode(
                                  "text",
                                  { class: "reply-time" },
                                  vue.toDisplayString(reply.time),
                                  1
                                  /* TEXT */
                                )
                              ]),
                              vue.createElementVNode("text", { class: "reply-text" }, [
                                vue.createElementVNode(
                                  "text",
                                  { class: "reply-to" },
                                  "å›å¤ @" + vue.toDisplayString(reply.replyTo) + "ï¼š",
                                  1
                                  /* TEXT */
                                ),
                                vue.createTextVNode(
                                  " " + vue.toDisplayString(reply.content),
                                  1
                                  /* TEXT */
                                )
                              ]),
                              vue.createElementVNode("view", { class: "reply-actions" }, [
                                vue.createElementVNode("view", {
                                  class: "reply-action",
                                  onClick: ($event) => $options.likeReply(comment, replyIndex)
                                }, [
                                  vue.createElementVNode(
                                    "text",
                                    {
                                      class: vue.normalizeClass(["action-icon", { "active": reply.isLiked }])
                                    },
                                    "ğŸ‘",
                                    2
                                    /* CLASS */
                                  ),
                                  vue.createElementVNode(
                                    "text",
                                    { class: "action-count" },
                                    vue.toDisplayString($options.formatCount(reply.likes)),
                                    1
                                    /* TEXT */
                                  )
                                ], 8, ["onClick"]),
                                vue.createElementVNode("view", {
                                  class: "reply-action",
                                  onClick: ($event) => $options.handleReplyToReply(comment, reply)
                                }, [
                                  vue.createElementVNode("text", { class: "action-icon" }, "ğŸ’¬"),
                                  vue.createElementVNode("text", { class: "action-count" }, "å›å¤")
                                ], 8, ["onClick"])
                              ])
                            ])
                          ]);
                        }),
                        128
                        /* KEYED_FRAGMENT */
                      ))
                    ])) : vue.createCommentVNode("v-if", true)
                  ])
                ]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨è¯„è®ºè¾“å…¥æ¡† "),
      vue.createElementVNode("view", { class: "comment-input-section" }, [
        vue.createElementVNode("view", { class: "comment-input-container" }, [
          vue.withDirectives(vue.createElementVNode("input", {
            class: "comment-input",
            "onUpdate:modelValue": _cache[8] || (_cache[8] = ($event) => $data.commentText = $event),
            placeholder: $options.getInputPlaceholder(),
            onFocus: _cache[9] || (_cache[9] = (...args) => $options.onInputFocus && $options.onInputFocus(...args)),
            onBlur: _cache[10] || (_cache[10] = (...args) => $options.onInputBlur && $options.onInputBlur(...args))
          }, null, 40, ["placeholder"]), [
            [vue.vModelText, $data.commentText]
          ]),
          vue.createCommentVNode(" å–æ¶ˆå›å¤æŒ‰é’® "),
          $data.replyToComment ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "cancel-reply-btn",
            onClick: _cache[11] || (_cache[11] = (...args) => $options.cancelReply && $options.cancelReply(...args))
          }, [
            vue.createElementVNode("text", { class: "cancel-reply-text" }, "å–æ¶ˆ")
          ])) : vue.createCommentVNode("v-if", true),
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["send-button", { "active": $data.commentText.trim() }]),
              onClick: _cache[12] || (_cache[12] = (...args) => $options.submitComment && $options.submitComment(...args))
            },
            [
              vue.createElementVNode("text", { class: "send-text" }, "å‘é€")
            ],
            2
            /* CLASS */
          )
        ])
      ]),
      vue.createCommentVNode(" æ›´å¤šé€‰é¡¹å¼¹çª— "),
      $data.showMoreModal ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "more-options-modal",
        onClick: _cache[17] || (_cache[17] = (...args) => $options.hideMoreOptions && $options.hideMoreOptions(...args))
      }, [
        vue.createElementVNode("view", {
          class: "options-content",
          onClick: _cache[16] || (_cache[16] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", {
            class: "option-item",
            onClick: _cache[13] || (_cache[13] = (...args) => $options.reportPost && $options.reportPost(...args))
          }, [
            vue.createElementVNode("text", { class: "option-text" }, "ä¸¾æŠ¥")
          ]),
          vue.createElementVNode("view", {
            class: "option-item",
            onClick: _cache[14] || (_cache[14] = (...args) => $options.copyLink && $options.copyLink(...args))
          }, [
            vue.createElementVNode("text", { class: "option-text" }, "å¤åˆ¶é“¾æ¥")
          ]),
          vue.createElementVNode("view", {
            class: "option-item",
            onClick: _cache[15] || (_cache[15] = (...args) => $options.hideMoreOptions && $options.hideMoreOptions(...args))
          }, [
            vue.createElementVNode("text", { class: "option-text" }, "å–æ¶ˆ")
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const PagesFeedPostDetail = /* @__PURE__ */ _export_sfc(_sfc_main$O, [["render", _sfc_render$N], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/feed/post-detail.vue"]]);
  const _imports_1 = "/static/wechat-icon.png";
  const _imports_3 = "/static/douyin-icon.png";
  const _imports_2 = "/static/qq-icon.png";
  const _sfc_main$N = {
    data() {
      return {
        friendName: "",
        // å¥½å‹åç§°
        isEditing: false,
        signatureText: "è¿™ä¸ªäººå¾ˆæ‡’,ä»€ä¹ˆéƒ½æ²¡æœ‰ç•™ä¸‹",
        charCount: 0,
        isMobile: false,
        showSideMenu: false,
        // æ§åˆ¶å·¦ä¾§èœå•æ˜¾ç¤º
        activeTab: "dynamic",
        // å½“å‰æ¿€æ´»çš„æ ‡ç­¾
        showShare: false,
        userId: 1000100,
        // é»˜è®¤ç”¨æˆ·IDï¼Œä»é¡µé¢å‚æ•°è·å–
        loading: false,
        errorMessage: "",
        hasError: false,
        userInfo: {},
        // ç”¨æˆ·åŸºæœ¬ä¿¡æ¯
        dynamicStats: {},
        // åŠ¨æ€ç»Ÿè®¡
        collectionStats: {},
        // æ”¶è—ç»Ÿè®¡
        shareUsers: ["å¥¶ç»¿å†°é˜”è½", "æˆ‘æƒ³æ¬¡ç‚¸é¸¡", "åŒ¿åä¸ºæŸ", "åº·å·²å¥€", "å°èœåˆ€å¾¡", "è¶…çº§å¥½"],
        shareAppsRow1: [
          { name: "Chat..Group", cls: "app-mail" },
          { name: "Super Group", cls: "app-super" },
          { name: "Friends", cls: "app-wechat" },
          { name: "Moments", cls: "app-moment" },
          { name: "Alipay Frd", cls: "app-alipay" }
        ],
        shareAppsRow2: [
          { name: "Use t..ard Bg" },
          { name: "Make pic" },
          { name: "Contr..ovelty" },
          { name: "Favorite" },
          { name: "Promote" }
        ],
        shareFriends: [
          { name: "å¥¶ç»¿å†°é˜”è½", avatar: "/static/avatar-default.png" },
          { name: "æˆ‘æƒ³æ¬¡ç‚¸é¸¡", avatar: "/static/avatar-default.png" },
          { name: "åŒ¿åä¸ºæŸ", avatar: "/static/avatar-default.png" },
          { name: "åº·å·²å¥€", avatar: "/static/avatar-default.png" },
          { name: "å°èœåˆ€å¾¡", avatar: "/static/avatar-default.png" },
          { name: "è¶…çº§å¥½", avatar: "/static/avatar-default.png" },
          { name: "QQå¥½å‹ä¸ƒ", avatar: "/static/avatar-default.png" }
        ],
        personalPosts: [
          {
            id: 5,
            // ç»˜ç”»å¸–å­ï¼Œä½¿ç”¨å”¯ä¸€ID
            username: "çŒ«åˆå±‹ä¹‹ä¸»",
            timeAgo: "12åˆ†é’Ÿå‰",
            contentType: "ç»˜ç”»",
            textContent: "ç»˜ç”»ç»ƒä¹ ",
            images: [],
            novelInfo: null,
            novelCover: null,
            likes: 10,
            dislikes: 2,
            favorites: 5,
            comments: 15,
            isLiked: false,
            isDisliked: false,
            isFavorited: false
          },
          {
            id: 1,
            // å°è¯´å¸–å­ï¼Œå¯¹åº”novel-detail.vueä¸­çš„ID 1
            username: "çŒ«åˆå±‹ä¹‹ä¸»",
            timeAgo: "2å°æ—¶å‰",
            contentType: "å°è¯´",
            textContent: null,
            images: [],
            novelInfo: {
              title: "ç¥ç§˜çš„çŒ«åˆ",
              description: "åœ¨ä¸€ä¸ªå¤è€çš„æ‘åº„é‡Œï¼Œæµä¼ ç€ä¸€ä¸ªå…³äºçŒ«åˆçš„ç¥ç§˜ä¼ è¯´ã€‚",
              rating: "4.5"
            },
            novelCover: "/static/novel-cover.png",
            likes: 20,
            dislikes: 5,
            favorites: 10,
            comments: 25,
            isLiked: false,
            isDisliked: false,
            isFavorited: false
          },
          {
            id: 3,
            // å›¾ç‰‡å¸–å­ï¼Œå¯¹åº”post-detail.vueä¸­çš„ID 3
            username: "çŒ«åˆå±‹ä¹‹ä¸»",
            timeAgo: "1å¤©å‰",
            contentType: "å›¾ç‰‡",
            textContent: null,
            images: ["/static/image1.jpg", "/static/image2.jpg"],
            novelInfo: null,
            novelCover: null,
            likes: 15,
            dislikes: 3,
            favorites: 8,
            comments: 10,
            isLiked: false,
            isDisliked: false,
            isFavorited: false
          }
        ],
        collectedPosts: [
          {
            id: 4,
            username: "çŒ«åˆå±‹ä¹‹ä¸»",
            timeAgo: "1å°æ—¶å‰",
            contentType: "åŠ¨æ€",
            textContent: "ä»Šå¤©å¤©æ°”çœŸå¥½ï¼",
            images: [],
            novelInfo: null,
            novelCover: null,
            likes: 10,
            dislikes: 1,
            favorites: 5,
            comments: 10,
            isLiked: false,
            isDisliked: false,
            isFavorited: false
          },
          {
            id: 2,
            // å¯¹åº”novel-detail.vueä¸­çš„ID 2
            username: "çŒ«åˆå±‹ä¹‹ä¸»",
            timeAgo: "2å¤©å‰",
            contentType: "å°è¯´",
            textContent: null,
            images: [],
            novelInfo: {
              title: "çŒ«åˆçš„å¥‡å¹»ä¹‹æ—…",
              description: "çŒ«åˆå‘ç°äº†ä¸€ä¸ªé€šå¾€ç¥ç§˜ä¸–ç•Œçš„ä¼ é€é—¨ã€‚",
              rating: "4.8"
            },
            novelCover: "/static/novel-cover.png",
            likes: 25,
            dislikes: 8,
            favorites: 15,
            comments: 30,
            isLiked: false,
            isDisliked: false,
            isFavorited: false
          },
          {
            id: 6,
            username: "çŒ«åˆå±‹ä¹‹ä¸»",
            timeAgo: "3å¤©å‰",
            contentType: "å›¾ç‰‡",
            textContent: null,
            images: ["/static/image3.jpg", "/static/image4.jpg"],
            novelInfo: null,
            novelCover: null,
            likes: 18,
            dislikes: 4,
            favorites: 10,
            comments: 15,
            isLiked: false,
            isDisliked: false,
            isFavorited: false
          }
        ]
      };
    },
    onLoad(options) {
      this.detectDevice();
      if (options.userId) {
        this.userId = parseInt(options.userId);
      }
      if (options.friendName) {
        this.friendName = decodeURIComponent(options.friendName);
        uni.setNavigationBarTitle({
          title: this.friendName
        });
      }
      formatAppLog("log", "at pages/feed/user-profile.vue:678", "é¡µé¢åŠ è½½ï¼Œç”¨æˆ·ID:", this.userId);
      this.loadUserProfileData();
      this.loadUserDynamicData();
    },
    methods: {
      // åŠ è½½ç”¨æˆ·ä¸ªäººä¸»é¡µæ•°æ®
      async loadUserProfileData() {
        try {
          formatAppLog("log", "at pages/feed/user-profile.vue:688", "=== å¼€å§‹åŠ è½½ç”¨æˆ·ä¸ªäººä¸»é¡µæ•°æ® ===");
          formatAppLog("log", "at pages/feed/user-profile.vue:689", "ç”¨æˆ·ID:", this.userId);
          formatAppLog("log", "at pages/feed/user-profile.vue:690", "è¯·æ±‚URL:", `http://localhost:8888/api/user-profile/data?userId=${this.userId}`);
          this.loading = true;
          this.hasError = false;
          this.errorMessage = "";
          const response = await uni.request({
            url: `http://localhost:8888/api/user-profile/data?userId=${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/user-profile.vue:703", "=== APIå“åº”è¯¦æƒ… ===");
          formatAppLog("log", "at pages/feed/user-profile.vue:704", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/feed/user-profile.vue:705", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            const data = response.data.data;
            this.userInfo = data.userInfo || {};
            this.dynamicStats = data.dynamicStats || {};
            this.collectionStats = data.collectionStats || {};
            if (this.userInfo.bio) {
              this.signatureText = this.userInfo.bio;
            }
            formatAppLog("log", "at pages/feed/user-profile.vue:718", "æˆåŠŸåŠ è½½ç”¨æˆ·ä¸ªäººä¸»é¡µæ•°æ®");
            formatAppLog("log", "at pages/feed/user-profile.vue:719", "ç”¨æˆ·ä¿¡æ¯:", this.userInfo);
            formatAppLog("log", "at pages/feed/user-profile.vue:720", "åŠ¨æ€ç»Ÿè®¡:", this.dynamicStats);
            formatAppLog("log", "at pages/feed/user-profile.vue:721", "æ”¶è—ç»Ÿè®¡:", this.collectionStats);
          } else {
            formatAppLog("error", "at pages/feed/user-profile.vue:723", "åŠ è½½ç”¨æˆ·ä¸ªäººä¸»é¡µæ•°æ®å¤±è´¥:", response.data.message);
            this.hasError = true;
            this.errorMessage = response.data.message || "åŠ è½½æ•°æ®å¤±è´¥";
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/user-profile.vue:728", "åŠ è½½ç”¨æˆ·ä¸ªäººä¸»é¡µæ•°æ®å¼‚å¸¸:", error);
          this.hasError = true;
          this.errorMessage = "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®";
        } finally {
          this.loading = false;
        }
      },
      // åŠ è½½ç”¨æˆ·åŠ¨æ€æ•°æ®
      async loadUserDynamicData() {
        try {
          formatAppLog("log", "at pages/feed/user-profile.vue:739", "=== å¼€å§‹åŠ è½½ç”¨æˆ·åŠ¨æ€æ•°æ® ===");
          formatAppLog("log", "at pages/feed/user-profile.vue:740", "ç”¨æˆ·ID:", this.userId);
          const response = await uni.request({
            url: `http://localhost:8888/api/user-profile/dynamic?userId=${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/user-profile.vue:750", "=== åŠ¨æ€æ•°æ®APIå“åº” ===");
          formatAppLog("log", "at pages/feed/user-profile.vue:751", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/feed/user-profile.vue:752", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            const data = response.data.data;
            this.personalPosts = data.posts || [];
            formatAppLog("log", "at pages/feed/user-profile.vue:758", "æˆåŠŸåŠ è½½ç”¨æˆ·åŠ¨æ€æ•°æ®ï¼Œå…±", this.personalPosts.length, "æ¡");
          } else {
            formatAppLog("error", "at pages/feed/user-profile.vue:760", "åŠ è½½ç”¨æˆ·åŠ¨æ€æ•°æ®å¤±è´¥:", response.data.message);
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/user-profile.vue:763", "åŠ è½½ç”¨æˆ·åŠ¨æ€æ•°æ®å¼‚å¸¸:", error);
        }
      },
      // åŠ è½½ç”¨æˆ·æ”¶è—æ•°æ®
      async loadUserCollectionsData() {
        try {
          formatAppLog("log", "at pages/feed/user-profile.vue:770", "=== å¼€å§‹åŠ è½½ç”¨æˆ·æ”¶è—æ•°æ® ===");
          formatAppLog("log", "at pages/feed/user-profile.vue:771", "ç”¨æˆ·ID:", this.userId);
          const response = await uni.request({
            url: `http://localhost:8888/api/user-profile/collections?userId=${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/user-profile.vue:781", "=== æ”¶è—æ•°æ®APIå“åº” ===");
          formatAppLog("log", "at pages/feed/user-profile.vue:782", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/feed/user-profile.vue:783", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            const data = response.data.data;
            this.collectedPosts = data.collectedPosts || [];
            formatAppLog("log", "at pages/feed/user-profile.vue:789", "æˆåŠŸåŠ è½½ç”¨æˆ·æ”¶è—æ•°æ®ï¼Œå…±", this.collectedPosts.length, "æ¡");
          } else {
            formatAppLog("error", "at pages/feed/user-profile.vue:791", "åŠ è½½ç”¨æˆ·æ”¶è—æ•°æ®å¤±è´¥:", response.data.message);
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/user-profile.vue:794", "åŠ è½½ç”¨æˆ·æ”¶è—æ•°æ®å¼‚å¸¸:", error);
        }
      },
      // æµ‹è¯•åç«¯è¿æ¥
      async testConnection() {
        try {
          formatAppLog("log", "at pages/feed/user-profile.vue:801", "=== æµ‹è¯•åç«¯è¿æ¥ ===");
          const response = await uni.request({
            url: "http://localhost:8888/api/user-profile/test",
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/user-profile.vue:810", "æµ‹è¯•è¿æ¥å“åº”:", response);
          if (response.statusCode === 200) {
            uni.showToast({
              title: "åç«¯è¿æ¥æ­£å¸¸",
              icon: "success"
            });
          } else {
            uni.showToast({
              title: "åç«¯è¿æ¥å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/user-profile.vue:824", "æµ‹è¯•è¿æ¥å¼‚å¸¸:", error);
          uni.showToast({
            title: "è¿æ¥å¼‚å¸¸",
            icon: "error"
          });
        }
      },
      detectDevice() {
        const userAgent = navigator.userAgent.toLowerCase();
        this.isMobile = /mobile|android|iphone|ipad|phone/i.test(userAgent);
      },
      editSignature() {
        this.isEditing = true;
        this.charCount = 0;
      },
      saveSignature() {
        this.isEditing = false;
        formatAppLog("log", "at pages/feed/user-profile.vue:844", "Signature saved:", this.signatureText);
      },
      updateCharCount(event) {
        this.charCount = event.detail.value.length;
      },
      goToHome() {
        uni.navigateTo({
          url: "/pages/feed/chat-feed"
        });
      },
      goToAIList() {
        uni.navigateTo({
          url: "/pages/ai-list/ai-list"
        });
      },
      goToFriendList() {
        uni.navigateTo({
          url: "/pages/chat/friend-list"
        });
      },
      openMenu() {
        this.showSideMenu = true;
      },
      openShare() {
        this.showShare = true;
      },
      closeShare() {
        this.showShare = false;
      },
      goToProfile() {
        uni.showToast({
          title: "å·²åœ¨ä¸ªäººèµ„æ–™é¡µé¢",
          icon: "none"
        });
      },
      closeSideMenu() {
        this.showSideMenu = false;
      },
      goToMyAI() {
        uni.showToast({
          title: "æˆ‘çš„AIåŠŸèƒ½",
          icon: "none"
        });
      },
      goToMyCertification() {
        uni.showToast({
          title: "æˆ‘çš„è®¤è¯åŠŸèƒ½",
          icon: "none"
        });
      },
      goToMyPreferences() {
        uni.showToast({
          title: "æˆ‘çš„å–œæ¶åŠŸèƒ½",
          icon: "none"
        });
      },
      goToMyAchievements() {
        uni.showToast({
          title: "æˆ‘çš„æˆå°±åŠŸèƒ½",
          icon: "none"
        });
      },
      goToAlbum() {
        uni.showToast({
          title: "ç›¸å†ŒåŠŸèƒ½",
          icon: "none"
        });
      },
      goToHistoryComments() {
        uni.navigateTo({
          url: "/pages/my-comments/my-comments"
        });
      },
      goToBrowsingHistory() {
        uni.showToast({
          title: "æµè§ˆè®°å½•åŠŸèƒ½",
          icon: "none"
        });
      },
      goToDraftBox() {
        uni.showToast({
          title: "è‰ç¨¿ç®±åŠŸèƒ½",
          icon: "none"
        });
      },
      goToPurchaseRecord() {
        uni.navigateTo({
          url: "/pages/purchase-record/purchase-record"
        });
      },
      goToShoppingCart() {
        uni.showToast({
          title: "è´­ç‰©è½¦åŠŸèƒ½",
          icon: "none"
        });
      },
      goToWallet() {
        uni.navigateTo({
          url: "/pages/wallet/wallet"
        });
      },
      goToShoppingCart() {
        uni.showToast({
          title: "è´­ç‰©è½¦åŠŸèƒ½",
          icon: "none"
        });
      },
      goToEditProfile() {
        uni.showToast({
          title: "ç¼–è¾‘èµ„æ–™åŠŸèƒ½",
          icon: "none"
        });
      },
      // åˆ†äº«ç›¸å…³æ–¹æ³•
      shareToWechat() {
        uni.showToast({
          title: "åˆ†äº«åˆ°å¾®ä¿¡",
          icon: "none"
        });
        this.closeShare();
      },
      shareToMoments() {
        uni.showToast({
          title: "åˆ†äº«åˆ°æœ‹å‹åœˆ",
          icon: "none"
        });
        this.closeShare();
      },
      shareToDouyin() {
        uni.showToast({
          title: "åˆ†äº«åˆ°æŠ–éŸ³å¥½å‹",
          icon: "none"
        });
        this.closeShare();
      },
      shareToDouyinPost() {
        uni.showToast({
          title: "å‘å¸ƒåˆ°æŠ–éŸ³",
          icon: "none"
        });
        this.closeShare();
      },
      shareToQQ() {
        uni.showToast({
          title: "åˆ†äº«åˆ°QQ",
          icon: "none"
        });
        this.closeShare();
      },
      shareAction(action) {
        const actionNames = {
          comment: "è¯„è®ºè®¾ç½®",
          gift: "é€ç¤¼ç‰©",
          bookmark: "æ·»åŠ ä¹¦ç­¾",
          search: "å…¨æ–‡æœç´¢",
          report: "ä¸¾æŠ¥ä¸åé¦ˆ"
        };
        uni.showToast({
          title: actionNames[action] || "åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
        this.closeShare();
      },
      shareToFriend(friend) {
        uni.showToast({
          title: `åˆ†äº«ç»™${friend.name}`,
          icon: "none"
        });
        this.closeShare();
      },
      handlePostClick(post) {
        if (post.novelInfo) {
          uni.navigateTo({
            url: `/pages/feed/novel-detail?id=${post.id}&title=${encodeURIComponent(post.novelInfo.title)}&author=${encodeURIComponent(post.username)}`
          });
        } else {
          uni.navigateTo({
            url: `/pages/feed/post-detail?postId=${post.id}&isOwnPost=true`
          });
        }
      },
      handleLike(post) {
        post.isLiked = !post.isLiked;
        post.likes = post.isLiked ? post.likes + 1 : post.likes - 1;
        uni.showToast({
          title: post.isLiked ? "ç‚¹èµæˆåŠŸ" : "å–æ¶ˆç‚¹èµ",
          icon: "none"
        });
      },
      handleDislike(post) {
        post.isDisliked = !post.isDisliked;
        post.dislikes = post.isDisliked ? post.dislikes + 1 : post.dislikes - 1;
        uni.showToast({
          title: post.isDisliked ? "ç‚¹è¸©æˆåŠŸ" : "å–æ¶ˆç‚¹è¸©",
          icon: "none"
        });
      },
      handleFavorite(post) {
        post.isFavorited = !post.isFavorited;
        post.favorites = post.isFavorited ? post.favorites + 1 : post.favorites - 1;
        uni.showToast({
          title: post.isFavorited ? "æ”¶è—æˆåŠŸ" : "å–æ¶ˆæ”¶è—",
          icon: "none"
        });
      },
      handleComment(post) {
        uni.navigateTo({
          url: `/pages/comment/comment?postId=${post.id}`
        });
      },
      formatCount(count) {
        if (count >= 1e6) {
          return (count / 1e6).toFixed(1) + "M";
        } else if (count >= 1e4) {
          return (count / 1e3).toFixed(1) + "K";
        }
        return count;
      },
      getImageGridClass(imageCount) {
        if (imageCount === 1)
          return "single-image";
        if (imageCount === 2)
          return "two-images";
        if (imageCount === 3)
          return "three-images";
        if (imageCount === 4)
          return "four-images";
        return "grid-images";
      },
      previewImage(images, currentIndex) {
        uni.previewImage({
          urls: images,
          current: currentIndex,
          indicator: "number"
        });
      },
      switchTab(tabName) {
        formatAppLog("log", "at pages/feed/user-profile.vue:1098", "åˆ‡æ¢åˆ°æ ‡ç­¾:", tabName);
        this.activeTab = tabName;
        formatAppLog("log", "at pages/feed/user-profile.vue:1100", "å½“å‰æ¿€æ´»æ ‡ç­¾:", this.activeTab);
        if (tabName === "dynamic") {
          this.loadUserDynamicData();
        } else if (tabName === "collections") {
          this.loadUserCollectionsData();
        }
      }
    }
  };
  function _sfc_render$M(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal">\n					<view class="bar bar-1"></view>\n					<view class="bar bar-2"></view>\n					<view class="bar bar-3"></view>\n					<view class="bar bar-4"></view>\n				</view>\n				<view class="wifi">ğŸ“¶</view>\n				<view class="battery">\n					<view class="battery-body">\n						<view class="battery-level"></view>\n					</view>\n					<view class="battery-tip"></view>\n				</view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¤´éƒ¨åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", { class: "blur-background" }, [
          vue.createElementVNode("view", { class: "pizza-image" })
        ]),
        vue.createElementVNode("view", { class: "header-buttons" }, [
          vue.createElementVNode("view", {
            class: "menu-button",
            onClick: _cache[0] || (_cache[0] = (...args) => $options.openMenu && $options.openMenu(...args))
          }, [
            vue.createElementVNode("view", { class: "menu-icon" }, [
              vue.createElementVNode("view", { class: "menu-line" }),
              vue.createElementVNode("view", { class: "menu-line" }),
              vue.createElementVNode("view", { class: "menu-line" })
            ])
          ]),
          vue.createElementVNode("view", {
            class: "share-button",
            onClick: _cache[1] || (_cache[1] = (...args) => $options.openShare && $options.openShare(...args))
          }, [
            vue.createElementVNode("text", { class: "share-icon" }, "ğŸ“¤")
          ])
        ])
      ]),
      vue.createCommentVNode(" ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ "),
      vue.createElementVNode("view", { class: "user-card" }, [
        vue.createElementVNode("view", { class: "avatar" }, [
          vue.createElementVNode("view", { class: "cat-avatar" }, [
            vue.createElementVNode("view", { class: "cat-body" }),
            vue.createElementVNode("view", { class: "cat-ears" }, [
              vue.createElementVNode("view", { class: "ear ear-left" }),
              vue.createElementVNode("view", { class: "ear ear-right" })
            ]),
            vue.createElementVNode("view", { class: "cat-face" }, [
              vue.createElementVNode("view", { class: "cat-eyes" }, [
                vue.createElementVNode("view", { class: "cat-eye eye-left" }),
                vue.createElementVNode("view", { class: "cat-eye eye-right" })
              ]),
              vue.createElementVNode("view", { class: "cat-nose" }),
              vue.createElementVNode("view", { class: "cat-mouth" })
            ])
          ])
        ]),
        vue.createElementVNode("view", { class: "user-info" }, [
          vue.createElementVNode(
            "text",
            { class: "username" },
            vue.toDisplayString($data.userInfo.username || "çŒ«åˆå±‹ä¹‹ä¸»"),
            1
            /* TEXT */
          ),
          vue.createElementVNode(
            "text",
            { class: "location" },
            vue.toDisplayString($data.userInfo.location || "ä¸­å›½-å—äº¬"),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "vip-info" }, [
            vue.createElementVNode(
              "text",
              { class: "vip-text" },
              "VIP lv" + vue.toDisplayString($data.userInfo.level || 10),
              1
              /* TEXT */
            ),
            vue.createElementVNode(
              "text",
              { class: "exp-text" },
              "ç»éªŒ" + vue.toDisplayString($data.userInfo.gold || 0) + "/" + vue.toDisplayString(($data.userInfo.level || 10) * 400),
              1
              /* TEXT */
            )
          ])
        ])
      ]),
      vue.createCommentVNode(" ç”¨æˆ·ç­¾ååŒºåŸŸ "),
      vue.createElementVNode("view", {
        class: "signature-area",
        onClick: _cache[5] || (_cache[5] = (...args) => $options.editSignature && $options.editSignature(...args))
      }, [
        !$data.isEditing ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "signature-input-container"
        }, [
          vue.createElementVNode(
            "text",
            { class: "signature-text" },
            vue.toDisplayString($data.signatureText),
            1
            /* TEXT */
          )
        ])) : (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "signature-input-container"
        }, [
          vue.withDirectives(vue.createElementVNode(
            "input",
            {
              class: "signature-input",
              "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $data.signatureText = $event),
              maxlength: 100,
              placeholder: "è¯·è¾“å…¥ä¸ªæ€§ç­¾å",
              onBlur: _cache[3] || (_cache[3] = (...args) => $options.saveSignature && $options.saveSignature(...args)),
              onInput: _cache[4] || (_cache[4] = (...args) => $options.updateCharCount && $options.updateCharCount(...args)),
              focus: ""
            },
            null,
            544
            /* NEED_HYDRATION, NEED_PATCH */
          ), [
            [vue.vModelText, $data.signatureText]
          ]),
          vue.createElementVNode(
            "view",
            { class: "char-count" },
            vue.toDisplayString($data.charCount) + "/100",
            1
            /* TEXT */
          )
        ]))
      ]),
      vue.createCommentVNode(" è™šæ‹Ÿé”®ç›˜ "),
      $data.isEditing && $data.isMobile ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "virtual-keyboard"
      }, [
        vue.createCommentVNode(" æ•°å­—è¡Œ "),
        vue.createElementVNode("view", { class: "keyboard-row" }, [
          (vue.openBlock(), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList(["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"], (num) => {
              return vue.createElementVNode("view", {
                class: "key",
                key: num
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "key-text" },
                  vue.toDisplayString(num),
                  1
                  /* TEXT */
                )
              ]);
            }),
            64
            /* STABLE_FRAGMENT */
          ))
        ]),
        vue.createCommentVNode(" å­—æ¯è¡Œ1 "),
        vue.createElementVNode("view", { class: "keyboard-row" }, [
          (vue.openBlock(), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList(["q", "w", "e", "r", "t", "y", "u", "i", "o", "p"], (letter) => {
              return vue.createElementVNode("view", {
                class: "key",
                key: letter
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "key-text" },
                  vue.toDisplayString(letter),
                  1
                  /* TEXT */
                )
              ]);
            }),
            64
            /* STABLE_FRAGMENT */
          ))
        ]),
        vue.createCommentVNode(" å­—æ¯è¡Œ2 "),
        vue.createElementVNode("view", { class: "keyboard-row" }, [
          vue.createElementVNode("view", { class: "key shift-key" }, [
            vue.createElementVNode("text", { class: "key-text" }, "â‡§")
          ]),
          (vue.openBlock(), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList(["a", "s", "d", "f", "g", "h", "j", "k", "l"], (letter) => {
              return vue.createElementVNode("view", {
                class: "key",
                key: letter
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "key-text" },
                  vue.toDisplayString(letter),
                  1
                  /* TEXT */
                )
              ]);
            }),
            64
            /* STABLE_FRAGMENT */
          )),
          vue.createElementVNode("view", { class: "key backspace-key" }, [
            vue.createElementVNode("text", { class: "key-text" }, "âŒ«")
          ])
        ]),
        vue.createCommentVNode(" å­—æ¯è¡Œ3 "),
        vue.createElementVNode("view", { class: "keyboard-row" }, [
          vue.createElementVNode("view", { class: "key symbol-key" }, [
            vue.createElementVNode("text", { class: "key-text" }, "?123")
          ]),
          (vue.openBlock(), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList(["z", "x", "c", "v", "b", "n", "m"], (letter) => {
              return vue.createElementVNode("view", {
                class: "key",
                key: letter
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "key-text" },
                  vue.toDisplayString(letter),
                  1
                  /* TEXT */
                )
              ]);
            }),
            64
            /* STABLE_FRAGMENT */
          )),
          vue.createElementVNode("view", { class: "key comma-key" }, [
            vue.createElementVNode("text", { class: "key-text" }, ",")
          ])
        ]),
        vue.createCommentVNode(" åº•éƒ¨è¡Œ "),
        vue.createElementVNode("view", { class: "keyboard-row bottom-row" }, [
          vue.createElementVNode("view", { class: "key emoji-key" }, [
            vue.createElementVNode("text", { class: "key-text" }, "ğŸ˜Š")
          ]),
          vue.createElementVNode("view", { class: "key space-key" }, [
            vue.createElementVNode("text", { class: "key-text" }, "ç©ºæ ¼")
          ]),
          vue.createElementVNode("view", { class: "key period-key" }, [
            vue.createElementVNode("text", { class: "key-text" }, ".")
          ]),
          vue.createElementVNode("view", { class: "key enter-key" }, [
            vue.createElementVNode("text", { class: "key-text" }, "å®Œæˆ")
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" å¯¼èˆªæ ‡ç­¾ "),
      vue.createElementVNode("view", { class: "nav-tabs" }, [
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass(["tab", { "active": $data.activeTab === "dynamic" }]),
            onClick: _cache[6] || (_cache[6] = ($event) => $options.switchTab("dynamic"))
          },
          [
            vue.createElementVNode("text", { class: "tab-text" }, "åŠ¨æ€"),
            $data.activeTab === "dynamic" ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "tab-underline"
            })) : vue.createCommentVNode("v-if", true)
          ],
          2
          /* CLASS */
        ),
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass(["tab", { "active": $data.activeTab === "collections" }]),
            onClick: _cache[7] || (_cache[7] = ($event) => $options.switchTab("collections"))
          },
          [
            vue.createElementVNode("text", { class: "tab-text" }, "æ”¶è—"),
            $data.activeTab === "collections" ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "tab-underline"
            })) : vue.createCommentVNode("v-if", true)
          ],
          2
          /* CLASS */
        ),
        vue.createElementVNode("view", { class: "search-icon" }, "ğŸ”")
      ]),
      vue.createCommentVNode(" æ ‡ç­¾å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "content-area" }, [
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-container"
        }, [
          vue.createElementVNode("view", { class: "loading-spinner" }),
          vue.createElementVNode("text", { class: "loading-text" }, "åŠ è½½ä¸­...")
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
        $data.hasError ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "error-container"
        }, [
          vue.createElementVNode("text", { class: "error-icon" }, "âš ï¸"),
          vue.createElementVNode(
            "text",
            { class: "error-text" },
            vue.toDisplayString($data.errorMessage),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "error-actions" }, [
            vue.createElementVNode("button", {
              class: "retry-button",
              onClick: _cache[8] || (_cache[8] = (...args) => $options.loadUserProfileData && $options.loadUserProfileData(...args))
            }, "é‡è¯•"),
            vue.createElementVNode("button", {
              class: "retry-button",
              onClick: _cache[9] || (_cache[9] = (...args) => $options.testConnection && $options.testConnection(...args))
            }, "æµ‹è¯•è¿æ¥")
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" åŠ¨æ€æ ‡ç­¾å†…å®¹ "),
        $data.activeTab === "dynamic" && !$data.loading && !$data.hasError ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 2,
          class: "tab-panel"
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.personalPosts, (post, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "post-item",
                key: index,
                onClick: ($event) => $options.handlePostClick(post)
              }, [
                vue.createElementVNode("view", { class: "post-header" }, [
                  vue.createElementVNode("view", { class: "post-avatar" }, [
                    vue.createElementVNode("view", { class: "small-cat-avatar" }, [
                      vue.createElementVNode("view", { class: "small-cat-body" }),
                      vue.createElementVNode("view", { class: "small-cat-face" }, [
                        vue.createElementVNode("view", { class: "small-cat-eyes" }, [
                          vue.createElementVNode("view", { class: "small-cat-eye" }),
                          vue.createElementVNode("view", { class: "small-cat-eye" })
                        ])
                      ])
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "post-info" }, [
                    vue.createElementVNode("text", { class: "post-username" }, "çŒ«åˆå±‹ä¹‹ä¸»"),
                    vue.createElementVNode(
                      "text",
                      { class: "post-time" },
                      vue.toDisplayString(post.timeAgo),
                      1
                      /* TEXT */
                    )
                  ])
                ]),
                vue.createElementVNode("view", { class: "post-content" }, [
                  vue.createCommentVNode(" å†…å®¹ç±»å‹æ ‡ç­¾ "),
                  post.contentType ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "content-type"
                  }, [
                    vue.createElementVNode(
                      "text",
                      { class: "type-label" },
                      vue.toDisplayString(post.contentType) + ":",
                      1
                      /* TEXT */
                    )
                  ])) : vue.createCommentVNode("v-if", true),
                  vue.createCommentVNode(" æ–‡å­—å†…å®¹ "),
                  post.textContent ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 1,
                    class: "text-content"
                  }, [
                    vue.createElementVNode(
                      "text",
                      { class: "post-title" },
                      vue.toDisplayString(post.textContent),
                      1
                      /* TEXT */
                    )
                  ])) : vue.createCommentVNode("v-if", true),
                  vue.createCommentVNode(" å°è¯´ä¿¡æ¯ "),
                  post.novelInfo ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 2,
                    class: "novel-info"
                  }, [
                    vue.createElementVNode(
                      "text",
                      { class: "post-title" },
                      vue.toDisplayString(post.novelInfo.title),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "text",
                      { class: "novel-desc" },
                      vue.toDisplayString(post.novelInfo.description),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "text",
                      { class: "novel-rating" },
                      "è¯„åˆ†: " + vue.toDisplayString(post.novelInfo.rating),
                      1
                      /* TEXT */
                    )
                  ])) : vue.createCommentVNode("v-if", true),
                  vue.createCommentVNode(" å›¾ç‰‡å†…å®¹ "),
                  post.images && post.images.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 3,
                    class: "image-content"
                  }, [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["image-grid", $options.getImageGridClass(post.images.length)])
                      },
                      [
                        (vue.openBlock(true), vue.createElementBlock(
                          vue.Fragment,
                          null,
                          vue.renderList(post.images, (image, imgIndex) => {
                            return vue.openBlock(), vue.createElementBlock("image", {
                              key: imgIndex,
                              class: "content-image",
                              src: image,
                              mode: "aspectFill",
                              onClick: vue.withModifiers(($event) => $options.previewImage(post.images, imgIndex), ["stop"])
                            }, null, 8, ["src", "onClick"]);
                          }),
                          128
                          /* KEYED_FRAGMENT */
                        ))
                      ],
                      2
                      /* CLASS */
                    )
                  ])) : vue.createCommentVNode("v-if", true),
                  vue.createCommentVNode(" å°è¯´å°é¢ "),
                  post.novelCover ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 4,
                    class: "main-image"
                  }, [
                    vue.createElementVNode("image", {
                      class: "novel-cover",
                      src: post.novelCover,
                      mode: "aspectFill"
                    }, null, 8, ["src"]),
                    post.novelInfo ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "image-overlay"
                    }, [
                      vue.createElementVNode(
                        "text",
                        { class: "overlay-title" },
                        vue.toDisplayString(post.novelInfo.title),
                        1
                        /* TEXT */
                      )
                    ])) : vue.createCommentVNode("v-if", true)
                  ])) : vue.createCommentVNode("v-if", true)
                ]),
                vue.createCommentVNode(" äº’åŠ¨æŒ‡æ ‡ "),
                vue.createElementVNode("view", { class: "engagement-metrics" }, [
                  vue.createElementVNode("view", {
                    class: "metric-item",
                    onClick: vue.withModifiers(($event) => $options.handleLike(post), ["stop"])
                  }, [
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-icon", { "active": post.isLiked }])
                      },
                      "ğŸ‘",
                      2
                      /* CLASS */
                    ),
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-count", { "active": post.isLiked }])
                      },
                      vue.toDisplayString($options.formatCount(post.likes)),
                      3
                      /* TEXT, CLASS */
                    )
                  ], 8, ["onClick"]),
                  vue.createElementVNode("view", {
                    class: "metric-item",
                    onClick: vue.withModifiers(($event) => $options.handleDislike(post), ["stop"])
                  }, [
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-icon", { "active": post.isDisliked }])
                      },
                      "ğŸ‘",
                      2
                      /* CLASS */
                    ),
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-count", { "active": post.isDisliked }])
                      },
                      vue.toDisplayString($options.formatCount(post.dislikes)),
                      3
                      /* TEXT, CLASS */
                    )
                  ], 8, ["onClick"]),
                  vue.createElementVNode("view", {
                    class: "metric-item",
                    onClick: vue.withModifiers(($event) => $options.handleFavorite(post), ["stop"])
                  }, [
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-icon", { "active": post.isFavorited }])
                      },
                      "â­",
                      2
                      /* CLASS */
                    ),
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-count", { "active": post.isFavorited }])
                      },
                      vue.toDisplayString($options.formatCount(post.favorites)),
                      3
                      /* TEXT, CLASS */
                    )
                  ], 8, ["onClick"]),
                  vue.createElementVNode("view", {
                    class: "metric-item",
                    onClick: vue.withModifiers(($event) => $options.handleComment(post), ["stop"])
                  }, [
                    vue.createElementVNode("text", { class: "metric-icon" }, "ğŸ’¬"),
                    vue.createElementVNode(
                      "text",
                      { class: "metric-count" },
                      vue.toDisplayString($options.formatCount(post.comments)),
                      1
                      /* TEXT */
                    )
                  ], 8, ["onClick"])
                ])
              ], 8, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" æ”¶è—æ ‡ç­¾å†…å®¹ "),
        $data.activeTab === "collections" && !$data.loading && !$data.hasError ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 3,
          class: "tab-panel"
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.collectedPosts, (post, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "post-item",
                key: index,
                onClick: ($event) => $options.handlePostClick(post)
              }, [
                vue.createElementVNode("view", { class: "post-header" }, [
                  vue.createElementVNode("view", { class: "post-avatar" }, [
                    vue.createElementVNode("view", { class: "small-cat-avatar" }, [
                      vue.createElementVNode("view", { class: "small-cat-body" }),
                      vue.createElementVNode("view", { class: "small-cat-face" }, [
                        vue.createElementVNode("view", { class: "small-cat-eyes" }, [
                          vue.createElementVNode("view", { class: "small-cat-eye" }),
                          vue.createElementVNode("view", { class: "small-cat-eye" })
                        ])
                      ])
                    ])
                  ]),
                  vue.createElementVNode("view", { class: "post-info" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "post-username" },
                      vue.toDisplayString(post.username),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "text",
                      { class: "post-time" },
                      vue.toDisplayString(post.timeAgo),
                      1
                      /* TEXT */
                    )
                  ])
                ]),
                vue.createElementVNode("view", { class: "post-content" }, [
                  vue.createCommentVNode(" å†…å®¹ç±»å‹æ ‡ç­¾ "),
                  post.contentType ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "content-type"
                  }, [
                    vue.createElementVNode(
                      "text",
                      { class: "type-label" },
                      vue.toDisplayString(post.contentType) + ":",
                      1
                      /* TEXT */
                    )
                  ])) : vue.createCommentVNode("v-if", true),
                  vue.createCommentVNode(" æ–‡å­—å†…å®¹ "),
                  post.textContent ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 1,
                    class: "text-content"
                  }, [
                    vue.createElementVNode(
                      "text",
                      { class: "post-title" },
                      vue.toDisplayString(post.textContent),
                      1
                      /* TEXT */
                    )
                  ])) : vue.createCommentVNode("v-if", true),
                  vue.createCommentVNode(" å°è¯´ä¿¡æ¯ "),
                  post.novelInfo ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 2,
                    class: "novel-info"
                  }, [
                    vue.createElementVNode(
                      "text",
                      { class: "post-title" },
                      vue.toDisplayString(post.novelInfo.title),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "text",
                      { class: "novel-desc" },
                      vue.toDisplayString(post.novelInfo.description),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "text",
                      { class: "novel-rating" },
                      "è¯„åˆ†: " + vue.toDisplayString(post.novelInfo.rating),
                      1
                      /* TEXT */
                    )
                  ])) : vue.createCommentVNode("v-if", true),
                  vue.createCommentVNode(" å›¾ç‰‡å†…å®¹ "),
                  post.images && post.images.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 3,
                    class: "image-content"
                  }, [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["image-grid", $options.getImageGridClass(post.images.length)])
                      },
                      [
                        (vue.openBlock(true), vue.createElementBlock(
                          vue.Fragment,
                          null,
                          vue.renderList(post.images, (image, imgIndex) => {
                            return vue.openBlock(), vue.createElementBlock("image", {
                              key: imgIndex,
                              class: "content-image",
                              src: image,
                              mode: "aspectFill",
                              onClick: vue.withModifiers(($event) => $options.previewImage(post.images, imgIndex), ["stop"])
                            }, null, 8, ["src", "onClick"]);
                          }),
                          128
                          /* KEYED_FRAGMENT */
                        ))
                      ],
                      2
                      /* CLASS */
                    )
                  ])) : vue.createCommentVNode("v-if", true),
                  vue.createCommentVNode(" å°è¯´å°é¢ "),
                  post.novelCover ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 4,
                    class: "main-image"
                  }, [
                    vue.createElementVNode("image", {
                      class: "novel-cover",
                      src: post.novelCover,
                      mode: "aspectFill"
                    }, null, 8, ["src"]),
                    post.novelInfo ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "image-overlay"
                    }, [
                      vue.createElementVNode(
                        "text",
                        { class: "overlay-title" },
                        vue.toDisplayString(post.novelInfo.title),
                        1
                        /* TEXT */
                      )
                    ])) : vue.createCommentVNode("v-if", true)
                  ])) : vue.createCommentVNode("v-if", true)
                ]),
                vue.createCommentVNode(" äº’åŠ¨æŒ‡æ ‡ "),
                vue.createElementVNode("view", { class: "engagement-metrics" }, [
                  vue.createElementVNode("view", {
                    class: "metric-item",
                    onClick: vue.withModifiers(($event) => $options.handleLike(post), ["stop"])
                  }, [
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-icon", { "active": post.isLiked }])
                      },
                      "ğŸ‘",
                      2
                      /* CLASS */
                    ),
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-count", { "active": post.isLiked }])
                      },
                      vue.toDisplayString($options.formatCount(post.likes)),
                      3
                      /* TEXT, CLASS */
                    )
                  ], 8, ["onClick"]),
                  vue.createElementVNode("view", {
                    class: "metric-item",
                    onClick: vue.withModifiers(($event) => $options.handleDislike(post), ["stop"])
                  }, [
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-icon", { "active": post.isDisliked }])
                      },
                      "ğŸ‘",
                      2
                      /* CLASS */
                    ),
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-count", { "active": post.isDisliked }])
                      },
                      vue.toDisplayString($options.formatCount(post.dislikes)),
                      3
                      /* TEXT, CLASS */
                    )
                  ], 8, ["onClick"]),
                  vue.createElementVNode("view", {
                    class: "metric-item",
                    onClick: vue.withModifiers(($event) => $options.handleFavorite(post), ["stop"])
                  }, [
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-icon", { "active": post.isFavorited }])
                      },
                      "â­",
                      2
                      /* CLASS */
                    ),
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["metric-count", { "active": post.isFavorited }])
                      },
                      vue.toDisplayString($options.formatCount(post.favorites)),
                      3
                      /* TEXT, CLASS */
                    )
                  ], 8, ["onClick"]),
                  vue.createElementVNode("view", {
                    class: "metric-item",
                    onClick: vue.withModifiers(($event) => $options.handleComment(post), ["stop"])
                  }, [
                    vue.createElementVNode("text", { class: "metric-icon" }, "ğŸ’¬"),
                    vue.createElementVNode(
                      "text",
                      { class: "metric-count" },
                      vue.toDisplayString($options.formatCount(post.comments)),
                      1
                      /* TEXT */
                    )
                  ], 8, ["onClick"])
                ])
              ], 8, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])) : vue.createCommentVNode("v-if", true)
      ]),
      vue.createCommentVNode(" åˆ†äº«å¼¹å±‚ "),
      $data.showShare ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        class: "share-overlay",
        onClick: _cache[17] || (_cache[17] = (...args) => $options.closeShare && $options.closeShare(...args))
      }, [
        vue.createElementVNode("view", {
          class: "share-sheet",
          onClick: _cache[16] || (_cache[16] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", { class: "sheet-handle" }),
          vue.createElementVNode("text", { class: "sheet-title" }, "åˆ†äº«åˆ°"),
          vue.createElementVNode("view", { class: "share-friends" }, [
            vue.createElementVNode("scroll-view", {
              class: "friends-scroll",
              "scroll-x": "true"
            }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($data.shareFriends, (friend, index) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: "friend-item",
                    key: index,
                    onClick: ($event) => $options.shareToFriend(friend)
                  }, [
                    vue.createElementVNode("view", { class: "friend-avatar" }, [
                      vue.createElementVNode("image", {
                        class: "friend-avatar-img",
                        src: friend.avatar,
                        mode: "aspectFill"
                      }, null, 8, ["src"])
                    ]),
                    vue.createElementVNode(
                      "text",
                      { class: "friend-name" },
                      vue.toDisplayString(friend.name.length > 3 ? friend.name.substring(0, 3) + "..." : friend.name),
                      1
                      /* TEXT */
                    )
                  ], 8, ["onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ]),
          vue.createElementVNode("view", { class: "share-options" }, [
            vue.createElementVNode("view", {
              class: "share-option",
              onClick: _cache[10] || (_cache[10] = (...args) => $options.shareToWechat && $options.shareToWechat(...args))
            }, [
              vue.createElementVNode("view", { class: "share-icon-bg wechat" }, [
                vue.createElementVNode("image", {
                  class: "share-icon-img",
                  src: _imports_1,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("text", { class: "share-option-text" }, "å¾®ä¿¡")
            ]),
            vue.createElementVNode("view", {
              class: "share-option",
              onClick: _cache[11] || (_cache[11] = (...args) => $options.shareToMoments && $options.shareToMoments(...args))
            }, [
              vue.createElementVNode("view", { class: "share-icon-bg moments" }, [
                vue.createElementVNode("image", {
                  class: "share-icon-img",
                  src: _imports_1,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("text", { class: "share-option-text" }, "æœ‹å‹åœˆ")
            ]),
            vue.createElementVNode("view", {
              class: "share-option",
              onClick: _cache[12] || (_cache[12] = (...args) => $options.shareToDouyin && $options.shareToDouyin(...args))
            }, [
              vue.createElementVNode("view", { class: "share-icon-bg douyin" }, [
                vue.createElementVNode("image", {
                  class: "share-icon-img",
                  src: _imports_3,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("text", { class: "share-option-text" }, "æŠ–éŸ³å¥½å‹")
            ]),
            vue.createElementVNode("view", {
              class: "share-option",
              onClick: _cache[13] || (_cache[13] = (...args) => $options.shareToDouyinPost && $options.shareToDouyinPost(...args))
            }, [
              vue.createElementVNode("view", { class: "share-icon-bg douyin-post" }, [
                vue.createElementVNode("image", {
                  class: "share-icon-img",
                  src: _imports_3,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("text", { class: "share-option-text" }, "å‘å¸ƒåˆ°æŠ–éŸ³")
            ]),
            vue.createElementVNode("view", {
              class: "share-option",
              onClick: _cache[14] || (_cache[14] = (...args) => $options.shareToQQ && $options.shareToQQ(...args))
            }, [
              vue.createElementVNode("view", { class: "share-icon-bg qq" }, [
                vue.createElementVNode("image", {
                  class: "share-icon-img",
                  src: _imports_2,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("text", { class: "share-option-text" }, "QQ")
            ])
          ]),
          vue.createElementVNode("view", {
            class: "sheet-cancel",
            onClick: _cache[15] || (_cache[15] = (...args) => $options.closeShare && $options.closeShare(...args))
          }, [
            vue.createElementVNode("text", { class: "cancel-text" }, "å–æ¶ˆ")
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" åº•éƒ¨å¯¼èˆªæ  "),
      vue.createElementVNode("view", { class: "bottom-nav" }, [
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[18] || (_cache[18] = (...args) => $options.goToHome && $options.goToHome(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "é¦–é¡µ")
        ]),
        vue.createElementVNode("view", { class: "nav-item" }, [
          vue.createElementVNode("text", { class: "nav-text" }, "æ¶ˆæ¯")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item active",
          onClick: _cache[19] || (_cache[19] = (...args) => $options.goToAIList && $options.goToAIList(...args))
        }, [
          vue.createElementVNode("view", { class: "ai-icon" }, "AI")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[20] || (_cache[20] = (...args) => $options.goToFriendList && $options.goToFriendList(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "å¥½å‹")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[21] || (_cache[21] = (...args) => $options.goToProfile && $options.goToProfile(...args))
        }, [
          vue.createElementVNode("view", { class: "nav-avatar" }, [
            vue.createElementVNode("view", { class: "mini-cat-avatar" }, [
              vue.createElementVNode("view", { class: "mini-cat-body" }),
              vue.createElementVNode("view", { class: "mini-cat-face" }, [
                vue.createElementVNode("view", { class: "mini-cat-eyes" }, [
                  vue.createElementVNode("view", { class: "mini-cat-eye" }),
                  vue.createElementVNode("view", { class: "mini-cat-eye" })
                ])
              ])
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ‰‹åŠ¿æ¡ "),
      vue.createElementVNode("view", { class: "home-indicator" }),
      vue.createCommentVNode(" å·¦ä¾§èœå•é¢æ¿ "),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["side-menu", { "active": $data.showSideMenu }]),
          onClick: _cache[36] || (_cache[36] = (...args) => $options.closeSideMenu && $options.closeSideMenu(...args))
        },
        [
          vue.createElementVNode("view", {
            class: "menu-content",
            onClick: _cache[35] || (_cache[35] = vue.withModifiers(() => {
            }, ["stop"]))
          }, [
            vue.createCommentVNode(" èœå•å¤´éƒ¨ "),
            vue.createElementVNode("view", { class: "menu-header" }, [
              vue.createElementVNode("view", {
                class: "menu-close",
                onClick: _cache[22] || (_cache[22] = (...args) => $options.closeSideMenu && $options.closeSideMenu(...args))
              }, [
                vue.createElementVNode("text", { class: "close-icon" }, "Ã—")
              ])
            ]),
            vue.createCommentVNode(" èœå•é€‰é¡¹åˆ—è¡¨ "),
            vue.createElementVNode("view", { class: "menu-list" }, [
              vue.createCommentVNode(" æˆ‘çš„AI "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[23] || (_cache[23] = (...args) => $options.goToMyAI && $options.goToMyAI(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„AI")
                ])
              ]),
              vue.createCommentVNode(" æˆ‘çš„è®¤è¯ã€å–œæ¶ã€æˆå°± "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[24] || (_cache[24] = (...args) => $options.goToMyCertification && $options.goToMyCertification(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„è®¤è¯")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[25] || (_cache[25] = (...args) => $options.goToMyPreferences && $options.goToMyPreferences(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„å–œæ¶")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[26] || (_cache[26] = (...args) => $options.goToMyAchievements && $options.goToMyAchievements(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æˆ‘çš„æˆå°±")
                ])
              ]),
              vue.createCommentVNode(" ç›¸å†Œã€å†å²è¯„è®ºã€æµè§ˆè®°å½•ã€è‰ç¨¿ç®± "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[27] || (_cache[27] = (...args) => $options.goToAlbum && $options.goToAlbum(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "ç›¸å†Œ")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[28] || (_cache[28] = (...args) => $options.goToHistoryComments && $options.goToHistoryComments(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "å†å²è¯„è®º")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[29] || (_cache[29] = (...args) => $options.goToBrowsingHistory && $options.goToBrowsingHistory(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "æµè§ˆè®°å½•")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[30] || (_cache[30] = (...args) => $options.goToDraftBox && $options.goToDraftBox(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "è‰ç¨¿ç®±")
                ])
              ]),
              vue.createCommentVNode(" è´­ä¹°è®°å½•ã€è´­ç‰©è½¦ã€é’±åŒ… "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[31] || (_cache[31] = (...args) => $options.goToPurchaseRecord && $options.goToPurchaseRecord(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "è´­ä¹°è®°å½•")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[32] || (_cache[32] = (...args) => $options.goToShoppingCart && $options.goToShoppingCart(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "è´­ç‰©è½¦")
                ]),
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[33] || (_cache[33] = (...args) => $options.goToWallet && $options.goToWallet(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "é’±åŒ…")
                ])
              ]),
              vue.createCommentVNode(" ç¼–è¾‘èµ„æ–™ "),
              vue.createElementVNode("view", { class: "menu-section" }, [
                vue.createElementVNode("view", {
                  class: "menu-item",
                  onClick: _cache[34] || (_cache[34] = (...args) => $options.goToEditProfile && $options.goToEditProfile(...args))
                }, [
                  vue.createElementVNode("text", { class: "menu-text" }, "ç¼–è¾‘èµ„æ–™")
                ])
              ])
            ])
          ])
        ],
        2
        /* CLASS */
      )
    ]);
  }
  const PagesFeedUserProfile = /* @__PURE__ */ _export_sfc(_sfc_main$N, [["render", _sfc_render$M], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/feed/user-profile.vue"]]);
  const _sfc_main$M = {
    name: "MyComments",
    data() {
      return {};
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      goToHome() {
        uni.navigateTo({
          url: "/pages/feed/content-feed"
        });
      },
      goToChatList() {
        uni.navigateTo({
          url: "/pages/chat/chat-list"
        });
      },
      goToAIChat() {
        uni.navigateTo({
          url: "/pages/chat/chat"
        });
      },
      goToFriendList() {
        uni.navigateTo({
          url: "/pages/chat/friend-list"
        });
      },
      goToProfile() {
        uni.navigateTo({
          url: "/pages/feed/user-profile"
        });
      }
    }
  };
  function _sfc_render$L(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "my-comments-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal">\n					<view class="bar bar-1"></view>\n					<view class="bar bar-2"></view>\n					<view class="bar bar-3"></view>\n					<view class="bar bar-4"></view>\n				</view>\n				<view class="wifi">ğŸ“¶</view>\n				<view class="battery">\n					<view class="battery-body">\n						<view class="battery-level"></view>\n					</view>\n					<view class="battery-tip"></view>\n				</view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n			<view class="nav-left" @click="goBack">\n				<text class="back-arrow">â€¹</text>\n			</view>\n			<view class="nav-center">\n				<text class="nav-title">æˆ‘çš„è¯„è®º</text>\n			</view>\n		</view> '),
      vue.createCommentVNode(" è¯„è®ºåˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "comments-container" }, [
        vue.createCommentVNode(" ç¬¬ä¸€ä¸ªè¯„è®º "),
        vue.createElementVNode("view", { class: "comment-item" }, [
          vue.createElementVNode("view", { class: "comment-left" }, [
            vue.createElementVNode("view", { class: "user-avatar" }, [
              vue.createElementVNode("view", { class: "cat-avatar" }, [
                vue.createElementVNode("view", { class: "cat-body" }),
                vue.createElementVNode("view", { class: "cat-face" }, [
                  vue.createElementVNode("view", { class: "cat-eyes" }, [
                    vue.createElementVNode("view", { class: "cat-eye" }),
                    vue.createElementVNode("view", { class: "cat-eye" })
                  ])
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "comment-info" }, [
              vue.createElementVNode("text", { class: "username" }, "çŒ«åˆå±‹ä¹‹ä¸»"),
              vue.createElementVNode("text", { class: "timestamp" }, "åˆšåˆš"),
              vue.createElementVNode("text", { class: "comment-text" }, "æœ‰ç‚¹å¤ªé›·äº†,æŠ¥çœ‹"),
              vue.createElementVNode("view", { class: "action-button" }, [
                vue.createElementVNode("text", { class: "like-icon" }, "ğŸ‘")
              ])
            ])
          ]),
          vue.createElementVNode("view", { class: "comment-right" }, [
            vue.createElementVNode("view", { class: "content-thumbnail" }, [
              vue.createElementVNode("view", { class: "thumbnail-placeholder" })
            ])
          ])
        ]),
        vue.createCommentVNode(" ç¬¬äºŒä¸ªè¯„è®º "),
        vue.createElementVNode("view", { class: "comment-item" }, [
          vue.createElementVNode("view", { class: "comment-left" }, [
            vue.createElementVNode("view", { class: "user-avatar" }, [
              vue.createElementVNode("view", { class: "cat-avatar" }, [
                vue.createElementVNode("view", { class: "cat-body" }),
                vue.createElementVNode("view", { class: "cat-face" }, [
                  vue.createElementVNode("view", { class: "cat-eyes" }, [
                    vue.createElementVNode("view", { class: "cat-eye" }),
                    vue.createElementVNode("view", { class: "cat-eye" })
                  ])
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "comment-info" }, [
              vue.createElementVNode("text", { class: "username" }, "çŒ«åˆå±‹ä¹‹ä¸»"),
              vue.createElementVNode("text", { class: "timestamp" }, "2å°æ—¶å‰"),
              vue.createElementVNode("text", { class: "comment-text" }, "éå¸¸å¥½çŒ«çŒ«,çˆ±æ¥è‡ªç“·å™¨"),
              vue.createElementVNode("view", { class: "action-button" }, [
                vue.createElementVNode("text", { class: "like-icon" }, "ğŸ‘")
              ])
            ])
          ]),
          vue.createElementVNode("view", { class: "comment-right" }, [
            vue.createElementVNode("view", { class: "content-thumbnail" }, [
              vue.createElementVNode("view", { class: "thumbnail-placeholder cat-thumbnail" })
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨å¯¼èˆªæ  "),
      vue.createElementVNode("view", { class: "bottom-navigation" }, [
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goToHome && $options.goToHome(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "é¦–é¡µ")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.goToChatList && $options.goToChatList(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "æ¶ˆæ¯")
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.goToAIChat && $options.goToAIChat(...args))
        }, [
          vue.createElementVNode("view", { class: "ai-tab" }, [
            vue.createElementVNode("text", { class: "ai-text" }, "AI")
          ])
        ]),
        vue.createElementVNode("view", {
          class: "nav-item",
          onClick: _cache[3] || (_cache[3] = (...args) => $options.goToFriendList && $options.goToFriendList(...args))
        }, [
          vue.createElementVNode("text", { class: "nav-text" }, "å¥½å‹")
        ]),
        vue.createElementVNode("view", {
          class: "nav-avatar",
          onClick: _cache[4] || (_cache[4] = (...args) => $options.goToProfile && $options.goToProfile(...args))
        }, [
          vue.createElementVNode("image", {
            class: "avatar-small",
            src: "",
            mode: "aspectFill"
          })
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ‰‹åŠ¿æ¡ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesFeedMyComments = /* @__PURE__ */ _export_sfc(_sfc_main$M, [["render", _sfc_render$L], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/feed/my-comments.vue"]]);
  const _sfc_main$L = {
    name: "NovelDetailPage",
    data() {
      return {
        novelId: "",
        userId: 1000100,
        // é»˜è®¤ç”¨æˆ·ID
        novelTitle: "",
        synopsisExpanded: false,
        reviewExpanded: [false, false],
        showNovelContent: false,
        isFollowed: false,
        scrollTop: 0,
        loading: false,
        hasError: false,
        errorMessage: "",
        novelData: {
          title: "æ¸¸æˆé™ä¸´: æˆ‘è¦è¿™ä¸ªè¿™ä¸ªè¿˜æœ‰è¿™ä¸ª (æ¸¸æˆå…¥ä¾µ)",
          author: "çŒ«ä¸ç§ƒ",
          rating: "9.5",
          reviewCount: "11.9ä¸‡äººç‚¹è¯„",
          readerCount: "157.4ä¸‡äºº",
          wordCount: "214.7ä¸‡å­—",
          updateDays: "è¿ç»­æ›´æ–°268å¤©",
          coverImage: "/static/novel-cover.jpg",
          tags: ["#åŸåˆ›å°è¯´", "#æ¸¸æˆä½“è‚²", "#é‡ç”Ÿ", "#æ— CP"],
          synopsis: "ã€æ¸¸æˆå…¥ä¾µ+æ— cp+å‡çº§æµ+ç‹¬ç‹¼+æ¸¸æˆã€‘(åˆå: æ¸¸æˆå…¥ä¾µ) è¿™æ˜¯ä¸€ä¸ªå…³äºæ¸¸æˆå…¥ä¾µç°å®çš„æ•…äº‹ï¼Œä¸»è§’åœ¨æ¸¸æˆä¸­è·å¾—äº†å¼ºå¤§çš„èƒ½åŠ›ï¼Œå¼€å§‹äº†ä¸€æ®µæƒŠé™©åˆºæ¿€çš„å†’é™©ä¹‹æ—…ã€‚æ•…äº‹èåˆäº†æ¸¸æˆå…ƒç´ å’Œç°å®ä¸–ç•Œï¼Œå……æ»¡äº†æ‚¬å¿µå’ŒæƒŠå–œã€‚ä¸»è§’ä»ä¸€ä¸ªæ™®é€šç©å®¶é€æ¸æˆé•¿ä¸ºæ¸¸æˆä¸–ç•Œçš„å¼ºè€…ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¸ä»…è¦é¢å¯¹æ¸¸æˆä¸­çš„æŒ‘æˆ˜ï¼Œè¿˜è¦å¤„ç†ç°å®ä¸–ç•Œä¸­çš„å„ç§é—®é¢˜ã€‚",
          reviews: [
            {
              reviewer: "ä¹¦å‹123456",
              avatar: "/static/avatar1.png",
              content: "æ–‡ç¬”å‰§æƒ…å¾ˆå¥½,å¾ˆéš¾å¾—çš„å¥³å¼ºæ— cpæ¸¸æˆä¾µå…¥ç°å®çš„æ–‡,ä¸–ç•Œè§‚è®¾è®¡éƒ½å¾ˆæœ‰ç”»é¢æ„Ÿ,å¥³ä¸»ä¹Ÿå¾ˆèªæ˜,æŠ“...",
              readTime: "é˜…è¯»ä¸è¶³30åˆ†é’Ÿåç‚¹è¯„"
            },
            {
              reviewer: "ä¹¦å‹789012",
              avatar: "/static/avatar2.png",
              content: "ç°åœ¨æ›´çš„å…¨éƒ¨çœ‹å®Œäº†,æŠ€èƒ½/é“å…·/å¤©èµ‹è®¾å®šéƒ½å¥½æ–°é¢–,ä¸ä¼šä¸€æ ·æœ›å»å°±çŒœçš„å¤§å·®ä¸å·®é£Ÿä¹‹æ— å‘³ã€‚è€Œä¸”ä¸»è§’çš„æˆé•¿è·¯çº¿å¾ˆåˆç†ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ç›¸åº”çš„æŒ‘æˆ˜å’Œæ”¶è·ï¼Œè®©äººçœ‹å¾—åœä¸ä¸‹æ¥ã€‚",
              readTime: "é˜…è¯»3å°æ—¶åç‚¹è¯„"
            }
          ],
          chapters: []
          // ç« èŠ‚åˆ—è¡¨
        }
      };
    },
    onLoad(options) {
      formatAppLog("log", "at pages/feed/novel-detail.vue:228", "=== å°è¯´è¯¦æƒ…é¡µé¢åŠ è½½ ===");
      formatAppLog("log", "at pages/feed/novel-detail.vue:229", "æ¥æ”¶åˆ°çš„å‚æ•°:", options);
      if (options.id) {
        this.novelId = options.id;
      }
      if (options.userId) {
        this.userId = parseInt(options.userId);
      }
      if (options.title) {
        this.novelTitle = decodeURIComponent(options.title);
        this.novelData.title = this.novelTitle;
      }
      if (options.author) {
        this.novelData.author = decodeURIComponent(options.author);
      }
      if (options.rating) {
        this.novelData.rating = decodeURIComponent(options.rating);
      }
      if (options.reviewCount) {
        this.novelData.reviewCount = decodeURIComponent(options.reviewCount);
      }
      if (options.readerCount) {
        this.novelData.readerCount = decodeURIComponent(options.readerCount);
      }
      if (options.wordCount) {
        this.novelData.wordCount = decodeURIComponent(options.wordCount);
      }
      if (options.updateDays) {
        this.novelData.updateDays = decodeURIComponent(options.updateDays);
      }
      if (options.tags) {
        this.novelData.tags = decodeURIComponent(options.tags).split(",");
      }
      if (options.synopsis) {
        this.novelData.synopsis = decodeURIComponent(options.synopsis);
      }
      if (this.novelId) {
        this.loadNovelDetailFromAPI();
      } else {
        this.loadNovelData();
      }
      formatAppLog("log", "at pages/feed/novel-detail.vue:277", "æ›´æ–°åçš„å°è¯´æ•°æ®:", this.novelData);
    },
    methods: {
      // ä»åç«¯APIåŠ è½½å°è¯´è¯¦æƒ…æ•°æ®
      async loadNovelDetailFromAPI() {
        try {
          formatAppLog("log", "at pages/feed/novel-detail.vue:283", "=== å¼€å§‹ä»åç«¯åŠ è½½å°è¯´è¯¦æƒ…æ•°æ® ===");
          formatAppLog("log", "at pages/feed/novel-detail.vue:284", "å°è¯´ID:", this.novelId);
          formatAppLog("log", "at pages/feed/novel-detail.vue:285", "ç”¨æˆ·ID:", this.userId);
          formatAppLog("log", "at pages/feed/novel-detail.vue:286", "è¯·æ±‚URL:", `http://localhost:8888/api/novel-detail/data?novelId=${this.novelId}&userId=${this.userId}`);
          this.loading = true;
          this.hasError = false;
          this.errorMessage = "";
          const response = await uni.request({
            url: `http://localhost:8888/api/novel-detail/data?novelId=${this.novelId}&userId=${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/novel-detail.vue:300", "=== å°è¯´è¯¦æƒ…APIå“åº”è¯¦æƒ… ===");
          formatAppLog("log", "at pages/feed/novel-detail.vue:301", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/feed/novel-detail.vue:302", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            const apiData = response.data.data;
            this.novelData = {
              ...this.novelData,
              // ä¿ç•™ç°æœ‰æ•°æ®
              ...apiData,
              // ç”¨APIæ•°æ®è¦†ç›–
              // ç¡®ä¿æŸäº›å­—æ®µçš„æ ¼å¼æ­£ç¡®
              title: apiData.title || this.novelData.title,
              author: apiData.author || this.novelData.author,
              rating: apiData.rating || this.novelData.rating,
              reviewCount: apiData.reviewCount || this.novelData.reviewCount,
              readerCount: apiData.readerCount || this.novelData.readerCount,
              wordCount: apiData.wordCount || this.novelData.wordCount,
              updateDays: apiData.updateDays || this.novelData.updateDays,
              coverImage: apiData.coverImage || this.novelData.coverImage,
              tags: apiData.tags || this.novelData.tags,
              synopsis: apiData.synopsis || this.novelData.synopsis,
              chapters: apiData.chapters || [],
              reviews: apiData.reviews || []
              // ç¡®ä¿ä¹¦è¯„æ•°æ®è¢«æ­£ç¡®è®¾ç½®
            };
            this.isFollowed = apiData.isFavorited || false;
            formatAppLog("log", "at pages/feed/novel-detail.vue:329", "æˆåŠŸåŠ è½½å°è¯´è¯¦æƒ…æ•°æ®");
            formatAppLog("log", "at pages/feed/novel-detail.vue:330", "ç« èŠ‚æ•°é‡:", this.novelData.chapters.length);
            formatAppLog("log", "at pages/feed/novel-detail.vue:331", "ä¹¦è¯„æ•°é‡:", this.novelData.reviews.length);
            formatAppLog("log", "at pages/feed/novel-detail.vue:332", "ä¹¦è¯„æ•°æ®:", this.novelData.reviews);
            uni.showToast({
              title: "åŠ è½½æˆåŠŸ",
              icon: "success",
              duration: 1500
            });
          } else {
            formatAppLog("error", "at pages/feed/novel-detail.vue:342", "åŠ è½½å°è¯´è¯¦æƒ…æ•°æ®å¤±è´¥:", response.data.message);
            this.hasError = true;
            this.errorMessage = response.data.message || "åŠ è½½æ•°æ®å¤±è´¥";
            uni.showToast({
              title: "åŠ è½½æ•°æ®å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/novel-detail.vue:351", "åŠ è½½å°è¯´è¯¦æƒ…æ•°æ®å¼‚å¸¸:", error);
          this.hasError = true;
          this.errorMessage = "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®";
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        } finally {
          this.loading = false;
        }
      },
      loadNovelData() {
        const novelDatabase = {
          1: {
            title: "ç¥ç§˜çš„çŒ«åˆ",
            author: "çŒ«åˆå±‹ä¹‹ä¸»",
            rating: "4.5",
            reviewCount: "2.3ä¸‡äººç‚¹è¯„",
            readerCount: "45.2ä¸‡äºº",
            wordCount: "156.8ä¸‡å­—",
            updateDays: "è¿ç»­æ›´æ–°156å¤©",
            coverImage: "/static/novel-cover.png",
            tags: ["#åŸåˆ›å°è¯´", "#å¥‡å¹»", "#çŒ«åˆ", "#å†’é™©"],
            synopsis: "åœ¨ä¸€ä¸ªå¤è€çš„æ‘åº„é‡Œï¼Œæµä¼ ç€ä¸€ä¸ªå…³äºçŒ«åˆçš„ç¥ç§˜ä¼ è¯´ã€‚ä¸»è§’æ„å¤–è·å¾—äº†çŒ«åˆçš„åŠ›é‡ï¼Œå¼€å§‹äº†ä¸€æ®µæƒŠé™©åˆºæ¿€çš„å†’é™©ä¹‹æ—…ã€‚æ•…äº‹èåˆäº†ä¸œæ–¹ç¥è¯å’Œç°ä»£å…ƒç´ ï¼Œå……æ»¡äº†æ‚¬å¿µå’ŒæƒŠå–œã€‚",
            reviews: [
              {
                reviewer: "ä¹¦å‹çŒ«å¥´001",
                avatar: "/static/avatar1.png",
                content: "çŒ«åˆé¢˜æå¾ˆæ–°é¢–ï¼Œæ–‡ç¬”æµç•…ï¼Œå‰§æƒ…ç´§å‡‘ã€‚ä¸»è§’çš„æˆé•¿è·¯çº¿å¾ˆåˆç†ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ç›¸åº”çš„æŒ‘æˆ˜å’Œæ”¶è·ã€‚",
                readTime: "é˜…è¯»2å°æ—¶åç‚¹è¯„"
              },
              {
                reviewer: "ä¹¦å‹å¥‡å¹»è¿·",
                avatar: "/static/avatar2.png",
                content: "ä¸–ç•Œè§‚è®¾å®šå¾ˆæœ‰åˆ›æ„ï¼ŒçŒ«åˆçš„èƒ½åŠ›ç³»ç»Ÿè®¾è®¡å¾—å¾ˆå®Œæ•´ã€‚ä½œè€…å¯¹ç»†èŠ‚çš„æŠŠæ§å¾ˆåˆ°ä½ï¼Œè®©äººçœ‹å¾—åœä¸ä¸‹æ¥ã€‚",
                readTime: "é˜…è¯»5å°æ—¶åç‚¹è¯„"
              }
            ]
          },
          2: {
            title: "çŒ«åˆçš„å¥‡å¹»ä¹‹æ—…",
            author: "çŒ«åˆå±‹ä¹‹ä¸»",
            rating: "4.8",
            reviewCount: "3.1ä¸‡äººç‚¹è¯„",
            readerCount: "67.8ä¸‡äºº",
            wordCount: "298.5ä¸‡å­—",
            updateDays: "è¿ç»­æ›´æ–°298å¤©",
            coverImage: "/static/novel-cover.png",
            tags: ["#åŸåˆ›å°è¯´", "#å¥‡å¹»", "#çŒ«åˆ", "#æˆé•¿"],
            synopsis: "çŒ«åˆå‘ç°äº†ä¸€ä¸ªé€šå¾€ç¥ç§˜ä¸–ç•Œçš„ä¼ é€é—¨ã€‚åœ¨è¿™ä¸ªå……æ»¡é­”æ³•å’Œå±é™©çš„ä¸–ç•Œé‡Œï¼Œå¥¹å¿…é¡»å­¦ä¼šè¿ç”¨è‡ªå·±çš„åŠ›é‡ï¼Œç»“äº¤æœ‹å‹ï¼Œé¢å¯¹å„ç§æŒ‘æˆ˜ã€‚è¿™æ˜¯ä¸€ä¸ªå…³äºæˆé•¿ã€å‹æƒ…å’Œå‹‡æ°”çš„æ•…äº‹ã€‚",
            reviews: [
              {
                reviewer: "ä¹¦å‹å†’é™©å®¶",
                avatar: "/static/avatar3.png",
                content: "ä¼ é€é—¨è®¾å®šå¾ˆå¸å¼•äººï¼Œæ¯ä¸ªä¸–ç•Œéƒ½æœ‰ç‹¬ç‰¹çš„è§„åˆ™å’Œæ–‡åŒ–ã€‚ä¸»è§’çš„æˆé•¿è¿‡ç¨‹å¾ˆçœŸå®ï¼Œä¸æ˜¯ä¸€è¹´è€Œå°±çš„ã€‚",
                readTime: "é˜…è¯»8å°æ—¶åç‚¹è¯„"
              },
              {
                reviewer: "ä¹¦å‹é­”æ³•å¸ˆ",
                avatar: "/static/avatar4.png",
                content: "é­”æ³•ç³»ç»Ÿè®¾è®¡å¾—å¾ˆå®Œæ•´ï¼Œä¸–ç•Œè§‚æ„å»ºå¾—å¾ˆè¯¦ç»†ã€‚æ¯ä¸ªè§’è‰²éƒ½æœ‰é²œæ˜çš„ä¸ªæ€§ï¼Œå‰§æƒ…å‘å±•å¾ˆåˆç†ã€‚",
                readTime: "é˜…è¯»12å°æ—¶åç‚¹è¯„"
              }
            ]
          },
          4: {
            title: "æ¸¸æˆé™ä¸´: æˆ‘è¦è¿™ä¸ªè¿™ä¸ªè¿˜æœ‰è¿™ä¸ª (æ¸¸æˆå…¥ä¾µ)",
            author: "çŒ«ä¸ç§ƒ",
            rating: "9.5",
            reviewCount: "11.9ä¸‡äººç‚¹è¯„",
            readerCount: "157.4ä¸‡äºº",
            wordCount: "214.7ä¸‡å­—",
            updateDays: "è¿ç»­æ›´æ–°268å¤©",
            coverImage: "/static/novel-cover.jpg",
            tags: ["#åŸåˆ›å°è¯´", "#æ¸¸æˆä½“è‚²", "#é‡ç”Ÿ", "#æ— CP"],
            synopsis: "ã€æ¸¸æˆå…¥ä¾µ+æ— cp+å‡çº§æµ+ç‹¬ç‹¼+æ¸¸æˆã€‘(åˆå: æ¸¸æˆå…¥ä¾µ) è¿™æ˜¯ä¸€ä¸ªå…³äºæ¸¸æˆå…¥ä¾µç°å®çš„æ•…äº‹ï¼Œä¸»è§’åœ¨æ¸¸æˆä¸­è·å¾—äº†å¼ºå¤§çš„èƒ½åŠ›ï¼Œå¼€å§‹äº†ä¸€æ®µæƒŠé™©åˆºæ¿€çš„å†’é™©ä¹‹æ—…ã€‚æ•…äº‹èåˆäº†æ¸¸æˆå…ƒç´ å’Œç°å®ä¸–ç•Œï¼Œå……æ»¡äº†æ‚¬å¿µå’ŒæƒŠå–œã€‚ä¸»è§’ä»ä¸€ä¸ªæ™®é€šç©å®¶é€æ¸æˆé•¿ä¸ºæ¸¸æˆä¸–ç•Œçš„å¼ºè€…ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¸ä»…è¦é¢å¯¹æ¸¸æˆä¸­çš„æŒ‘æˆ˜ï¼Œè¿˜è¦å¤„ç†ç°å®ä¸–ç•Œä¸­çš„å„ç§é—®é¢˜ã€‚",
            reviews: [
              {
                reviewer: "ä¹¦å‹123456",
                avatar: "/static/avatar1.png",
                content: "æ–‡ç¬”å‰§æƒ…å¾ˆå¥½,å¾ˆéš¾å¾—çš„å¥³å¼ºæ— cpæ¸¸æˆä¾µå…¥ç°å®çš„æ–‡,ä¸–ç•Œè§‚è®¾è®¡éƒ½å¾ˆæœ‰ç”»é¢æ„Ÿ,å¥³ä¸»ä¹Ÿå¾ˆèªæ˜,æŠ“...",
                readTime: "é˜…è¯»ä¸è¶³30åˆ†é’Ÿåç‚¹è¯„"
              },
              {
                reviewer: "ä¹¦å‹789012",
                avatar: "/static/avatar2.png",
                content: "ç°åœ¨æ›´çš„å…¨éƒ¨çœ‹å®Œäº†,æŠ€èƒ½/é“å…·/å¤©èµ‹è®¾å®šéƒ½å¥½æ–°é¢–,ä¸ä¼šä¸€æ ·æœ›å»å°±çŒœçš„å¤§å·®ä¸å·®é£Ÿä¹‹æ— å‘³ã€‚è€Œä¸”ä¸»è§’çš„æˆé•¿è·¯çº¿å¾ˆåˆç†ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ç›¸åº”çš„æŒ‘æˆ˜å’Œæ”¶è·ï¼Œè®©äººçœ‹å¾—åœä¸ä¸‹æ¥ã€‚",
                readTime: "é˜…è¯»3å°æ—¶åç‚¹è¯„"
              }
            ]
          }
        };
        if (novelDatabase[this.novelId]) {
          const novel = novelDatabase[this.novelId];
          this.novelData = {
            ...this.novelData,
            // ä¿ç•™é»˜è®¤å€¼
            ...novel
            // ç”¨æ–°æ•°æ®è¦†ç›–
          };
          this.synopsisExpanded = false;
          this.reviewExpanded = new Array(novel.reviews.length).fill(false);
        }
      },
      goBack() {
        uni.navigateBack();
      },
      startListening() {
        uni.showToast({
          title: "å¬ä¹¦åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      followAuthor() {
        this.isFollowed = !this.isFollowed;
        uni.showToast({
          title: this.isFollowed ? "å…³æ³¨æˆåŠŸ" : "å–æ¶ˆå…³æ³¨",
          icon: "success"
        });
      },
      toggleSynopsis() {
        this.synopsisExpanded = !this.synopsisExpanded;
      },
      toggleReview(index) {
        this.$set(this.reviewExpanded, index, !this.reviewExpanded[index]);
      },
      goToMoreReviews() {
        uni.navigateTo({
          url: `/pages/feed/novel-more-reviews?novelId=${this.novelId}&title=${encodeURIComponent(this.novelData.title)}&author=${encodeURIComponent(this.novelData.author)}`
        });
      },
      // ä¹¦è¯„äº’åŠ¨æ–¹æ³•
      async handleReviewLike(review, index) {
        try {
          formatAppLog("log", "at pages/feed/novel-detail.vue:492", "=== å¼€å§‹å¤„ç†ä¹¦è¯„ç‚¹èµ ===");
          formatAppLog("log", "at pages/feed/novel-detail.vue:493", "ç”¨æˆ·ID:", this.userId);
          formatAppLog("log", "at pages/feed/novel-detail.vue:494", "è¯„è®ºID:", review.commentId);
          const response = await uni.request({
            url: `http://localhost:8888/api/novel-detail/comment/like?userId=${this.userId}&commentId=${review.commentId}`,
            method: "POST",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/novel-detail.vue:504", "=== ä¹¦è¯„ç‚¹èµAPIå“åº” ===");
          formatAppLog("log", "at pages/feed/novel-detail.vue:505", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/feed/novel-detail.vue:506", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            const result = response.data.data;
            review.isLiked = result.isLiked;
            review.likes = result.likeCount;
            if (review.isLiked && review.isDisliked) {
              review.isDisliked = false;
              review.dislikes--;
            }
            uni.showToast({
              title: result.message,
              icon: "success",
              duration: 1e3
            });
          } else {
            formatAppLog("error", "at pages/feed/novel-detail.vue:527", "ä¹¦è¯„ç‚¹èµå¤±è´¥:", response.data.message);
            uni.showToast({
              title: response.data.message || "æ“ä½œå¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/novel-detail.vue:534", "ä¹¦è¯„ç‚¹èµå¼‚å¸¸:", error);
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        }
      },
      handleReviewDislike(review, index) {
        review.isDisliked = !review.isDisliked;
        if (review.isDisliked) {
          review.dislikes++;
          if (review.isLiked) {
            review.isLiked = false;
            review.likes--;
          }
        } else {
          review.dislikes--;
        }
        uni.showToast({
          title: review.isDisliked ? "ç‚¹è¸©æˆåŠŸ" : "å–æ¶ˆç‚¹è¸©",
          icon: "success",
          duration: 1e3
        });
      },
      handleReviewComment(review, index) {
        uni.navigateTo({
          url: `/pages/feed/novel-more-reviews?novelId=${this.novelId}&title=${encodeURIComponent(this.novelData.title)}&author=${encodeURIComponent(this.novelData.author)}&commentId=${review.commentId}`
        });
      },
      // æ ¼å¼åŒ–æ•°å­—æ˜¾ç¤º
      formatCount(count) {
        if (count >= 1e4) {
          return (count / 1e4).toFixed(1) + "w";
        }
        return count.toString();
      },
      startReading() {
        formatAppLog("log", "at pages/feed/novel-detail.vue:577", "å¼€å§‹æ»šåŠ¨åˆ°å°è¯´å†…å®¹åŒºåŸŸ");
        this.scrollTop = 1200;
        setTimeout(() => {
          uni.pageScrollTo({
            scrollTop: 1120,
            duration: 100
            // å‡å°‘åŠ¨ç”»æ—¶é—´ï¼Œæé«˜æ»‘åŠ¨é€Ÿåº¦
          });
        }, 50);
      },
      onScroll(e) {
      }
    }
  };
  function _sfc_render$K(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "novel-detail-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<view class="header-title">\n				<text class="title-text">å°è¯´è¯¦æƒ…</text>\n			</view>\n			<view class="listen-button" @click="startListening">\n				<text class="listen-text">å¬ä¹¦</text>\n			</view>\n		</view> '),
      vue.createCommentVNode(" è¿™ä¸ªå¬ä¹¦å›¾æ ‡åº”è¯¥æ˜¯ä¸ç•™ "),
      vue.createCommentVNode(" ä¸»è¦å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("scroll-view", {
        class: "content-scroll",
        "scroll-y": "true",
        "scroll-top": $data.scrollTop,
        onScroll: _cache[5] || (_cache[5] = (...args) => $options.onScroll && $options.onScroll(...args))
      }, [
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-container"
        }, [
          vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½å°è¯´è¯¦æƒ…...")
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
        $data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "error-container"
        }, [
          vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
          vue.createElementVNode(
            "text",
            { class: "error-text" },
            vue.toDisplayString($data.errorMessage),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "error-actions" }, [
            vue.createElementVNode("button", {
              class: "retry-button",
              onClick: _cache[0] || (_cache[0] = (...args) => $options.loadNovelDetailFromAPI && $options.loadNovelDetailFromAPI(...args))
            }, "é‡æ–°åŠ è½½")
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" æ­£å¸¸å†…å®¹ "),
        !$data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", { key: 2 }, [
          vue.createCommentVNode(" è¿”å›æŒ‰é’® "),
          vue.createCommentVNode(' <view class="back-button-container">\n				<view class="back-button" @click="goBack">\n					<svg t="1756247334143" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1052" width="32" height="32">\n						<path d="M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z" fill="#666666" p-id="1053"></path>\n					</svg>\n				</view>\n			</view> '),
          vue.createCommentVNode(" å°è¯´å°é¢ "),
          vue.createElementVNode("view", { class: "novel-cover-section" }, [
            vue.createElementVNode("image", {
              class: "novel-cover",
              src: $data.novelData.coverImage || "",
              mode: "aspectFill"
            }, null, 8, ["src"])
          ]),
          vue.createCommentVNode(" å°è¯´ä¿¡æ¯ "),
          vue.createElementVNode("view", { class: "novel-info-section" }, [
            vue.createElementVNode(
              "text",
              { class: "novel-title" },
              vue.toDisplayString($data.novelData.title || "å°è¯´å"),
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", { class: "author-section" }, [
              vue.createElementVNode(
                "text",
                { class: "author-name" },
                vue.toDisplayString($data.novelData.author || "å°è¯´ä½œè€…"),
                1
                /* TEXT */
              ),
              vue.createElementVNode("view", {
                class: "follow-button",
                onClick: _cache[1] || (_cache[1] = (...args) => $options.followAuthor && $options.followAuthor(...args))
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "follow-text" },
                  vue.toDisplayString($data.isFollowed ? "å·²å…³æ³¨" : "+å…³æ³¨"),
                  1
                  /* TEXT */
                )
              ])
            ])
          ]),
          vue.createCommentVNode(" ç»Ÿè®¡æ•°æ® "),
          vue.createElementVNode("view", { class: "stats-section" }, [
            vue.createElementVNode("view", { class: "stat-item" }, [
              vue.createElementVNode(
                "text",
                { class: "stat-value" },
                vue.toDisplayString($data.novelData.rating || "9.5") + "åˆ†",
                1
                /* TEXT */
              ),
              vue.createElementVNode(
                "text",
                { class: "stat-label" },
                vue.toDisplayString($data.novelData.reviewCount || "11.9ä¸‡äººç‚¹è¯„"),
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode("view", { class: "stat-item" }, [
              vue.createElementVNode(
                "text",
                { class: "stat-value" },
                vue.toDisplayString($data.novelData.readerCount || "157.4ä¸‡äºº"),
                1
                /* TEXT */
              ),
              vue.createElementVNode("text", { class: "stat-label" }, "æ­£åœ¨é˜…è¯»")
            ]),
            vue.createElementVNode("view", { class: "stat-item" }, [
              vue.createElementVNode(
                "text",
                { class: "stat-value" },
                vue.toDisplayString($data.novelData.wordCount || "214.7ä¸‡å­—"),
                1
                /* TEXT */
              ),
              vue.createElementVNode(
                "text",
                { class: "stat-label" },
                vue.toDisplayString($data.novelData.updateDays || "è¿ç»­æ›´æ–°268å¤©"),
                1
                /* TEXT */
              )
            ])
          ]),
          vue.createCommentVNode(" ç®€ä»‹éƒ¨åˆ† "),
          vue.createElementVNode("view", { class: "synopsis-section" }, [
            vue.createElementVNode("view", { class: "section-header" }, [
              vue.createElementVNode("text", { class: "section-title" }, "ç®€ä»‹")
            ]),
            vue.createElementVNode("view", { class: "tags-container" }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($data.novelData.tags, (tag, index) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: "tag",
                    key: index
                  }, [
                    vue.createElementVNode(
                      "text",
                      { class: "tag-text" },
                      vue.toDisplayString(tag),
                      1
                      /* TEXT */
                    )
                  ]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ]),
            vue.createElementVNode("view", { class: "synopsis-content" }, [
              vue.createElementVNode(
                "text",
                {
                  class: vue.normalizeClass(["synopsis-text", { "expanded": $data.synopsisExpanded }])
                },
                vue.toDisplayString($data.novelData.synopsis || "ã€æ¸¸æˆå…¥ä¾µ+unp+å‡çº§æµ+ç‹¬ç‹¼+æ¸¸æˆã€‘(åˆå: æ¸¸æˆå…¥ä¾µ) è¿™æ˜¯ä¸€ä¸ªå…³äºæ¸¸æˆå…¥ä¾µç°å®çš„æ•…äº‹ï¼Œä¸»è§’åœ¨æ¸¸æˆä¸­è·å¾—äº†å¼ºå¤§çš„èƒ½åŠ›ï¼Œå¼€å§‹äº†ä¸€æ®µæƒŠé™©åˆºæ¿€çš„å†’é™©ä¹‹æ—…ã€‚æ•…äº‹èåˆäº†æ¸¸æˆå…ƒç´ å’Œç°å®ä¸–ç•Œï¼Œå……æ»¡äº†æ‚¬å¿µå’ŒæƒŠå–œã€‚ä¸»è§’ä»ä¸€ä¸ªæ™®é€šç©å®¶é€æ¸æˆé•¿ä¸ºæ¸¸æˆä¸–ç•Œçš„å¼ºè€…ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¸ä»…è¦é¢å¯¹æ¸¸æˆä¸­çš„æŒ‘æˆ˜ï¼Œè¿˜è¦å¤„ç†ç°å®ä¸–ç•Œä¸­çš„å„ç§é—®é¢˜ã€‚"),
                3
                /* TEXT, CLASS */
              ),
              $data.novelData.synopsis && $data.novelData.synopsis.length > 80 ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "expand-button",
                onClick: _cache[2] || (_cache[2] = (...args) => $options.toggleSynopsis && $options.toggleSynopsis(...args))
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "expand-text" },
                  vue.toDisplayString($data.synopsisExpanded ? "æ”¶èµ·" : "å±•å¼€"),
                  1
                  /* TEXT */
                )
              ])) : vue.createCommentVNode("v-if", true)
            ])
          ]),
          vue.createCommentVNode(" çƒ­é—¨ä¹¦è¯„ "),
          vue.createElementVNode("view", { class: "reviews-section" }, [
            vue.createElementVNode("view", { class: "section-header" }, [
              vue.createElementVNode("text", { class: "section-title" }, "çƒ­é—¨ä¹¦è¯„"),
              vue.createElementVNode("view", {
                class: "more-reviews",
                onClick: _cache[3] || (_cache[3] = (...args) => $options.goToMoreReviews && $options.goToMoreReviews(...args))
              }, [
                vue.createElementVNode("text", { class: "more-text" }, "æ›´å¤šä¹¦è¯„")
              ])
            ]),
            vue.createCommentVNode(" æœ‰ä¹¦è¯„æ•°æ®æ—¶æ˜¾ç¤ºä¹¦è¯„åˆ—è¡¨ "),
            $data.novelData.reviews && $data.novelData.reviews.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "reviews-list"
            }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($data.novelData.reviews, (review, index) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: "review-item",
                    key: index
                  }, [
                    vue.createElementVNode("view", { class: "review-header" }, [
                      vue.createElementVNode("image", {
                        class: "reviewer-avatar",
                        src: review.avatar || "/static/avatar-default.png",
                        mode: "aspectFill"
                      }, null, 8, ["src"]),
                      vue.createElementVNode("view", { class: "review-info" }, [
                        vue.createElementVNode(
                          "text",
                          { class: "reviewer-name" },
                          vue.toDisplayString(review.reviewer),
                          1
                          /* TEXT */
                        ),
                        vue.createElementVNode("view", { class: "review-rating" }, [
                          (vue.openBlock(true), vue.createElementBlock(
                            vue.Fragment,
                            null,
                            vue.renderList(review.rating, (n) => {
                              return vue.openBlock(), vue.createElementBlock("text", {
                                class: "star",
                                key: n
                              }, "â˜…");
                            }),
                            128
                            /* KEYED_FRAGMENT */
                          )),
                          (vue.openBlock(true), vue.createElementBlock(
                            vue.Fragment,
                            null,
                            vue.renderList(5 - review.rating, (n) => {
                              return vue.openBlock(), vue.createElementBlock("text", {
                                class: "star empty",
                                key: n
                              }, "â˜†");
                            }),
                            128
                            /* KEYED_FRAGMENT */
                          ))
                        ]),
                        vue.createElementVNode(
                          "text",
                          { class: "review-time" },
                          vue.toDisplayString(review.time),
                          1
                          /* TEXT */
                        )
                      ])
                    ]),
                    vue.createElementVNode(
                      "text",
                      {
                        class: vue.normalizeClass(["review-content", { "expanded": $data.reviewExpanded[index] }])
                      },
                      vue.toDisplayString(review.content),
                      3
                      /* TEXT, CLASS */
                    ),
                    review.content && review.content.length > 80 ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "expand-button",
                      onClick: ($event) => $options.toggleReview(index)
                    }, [
                      vue.createElementVNode(
                        "text",
                        { class: "expand-text" },
                        vue.toDisplayString($data.reviewExpanded[index] ? "æ”¶èµ·" : "å±•å¼€"),
                        1
                        /* TEXT */
                      )
                    ], 8, ["onClick"])) : vue.createCommentVNode("v-if", true),
                    vue.createCommentVNode(" ä¹¦è¯„äº’åŠ¨ "),
                    vue.createElementVNode("view", { class: "review-actions" }, [
                      vue.createElementVNode("view", {
                        class: "action-item",
                        onClick: vue.withModifiers(($event) => $options.handleReviewLike(review, index), ["stop"])
                      }, [
                        vue.createElementVNode(
                          "text",
                          {
                            class: vue.normalizeClass(["action-icon", { "active": review.isLiked }])
                          },
                          "ğŸ‘",
                          2
                          /* CLASS */
                        ),
                        vue.createElementVNode(
                          "text",
                          {
                            class: vue.normalizeClass(["action-count", { "active": review.isLiked }])
                          },
                          vue.toDisplayString($options.formatCount(review.likes)),
                          3
                          /* TEXT, CLASS */
                        )
                      ], 8, ["onClick"]),
                      vue.createElementVNode("view", {
                        class: "action-item",
                        onClick: vue.withModifiers(($event) => $options.handleReviewDislike(review, index), ["stop"])
                      }, [
                        vue.createElementVNode(
                          "text",
                          {
                            class: vue.normalizeClass(["action-icon", { "active": review.isDisliked }])
                          },
                          "ğŸ‘",
                          2
                          /* CLASS */
                        ),
                        vue.createElementVNode(
                          "text",
                          {
                            class: vue.normalizeClass(["action-count", { "active": review.isDisliked }])
                          },
                          vue.toDisplayString($options.formatCount(review.dislikes)),
                          3
                          /* TEXT, CLASS */
                        )
                      ], 8, ["onClick"]),
                      vue.createElementVNode("view", {
                        class: "action-item",
                        onClick: vue.withModifiers(($event) => $options.handleReviewComment(review, index), ["stop"])
                      }, [
                        vue.createElementVNode("text", { class: "action-icon" }, "ğŸ’¬"),
                        vue.createElementVNode(
                          "text",
                          { class: "action-count" },
                          vue.toDisplayString($options.formatCount(review.comments)),
                          1
                          /* TEXT */
                        )
                      ], 8, ["onClick"])
                    ])
                  ]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])) : (vue.openBlock(), vue.createElementBlock(
              vue.Fragment,
              { key: 1 },
              [
                vue.createCommentVNode(" æ²¡æœ‰ä¹¦è¯„æ•°æ®æ—¶æ˜¾ç¤ºæç¤º "),
                vue.createElementVNode("view", { class: "no-reviews" }, [
                  vue.createElementVNode("text", { class: "no-reviews-text" }, 'æš‚æ— ä¹¦è¯„ï¼Œç‚¹å‡»"æ›´å¤šä¹¦è¯„"æŸ¥çœ‹å…¨éƒ¨')
                ])
              ],
              2112
              /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
            ))
          ]),
          vue.createCommentVNode(" å¼€å§‹é˜…è¯»æŒ‰é’® "),
          vue.createElementVNode("view", { class: "read-button-container" }, [
            vue.createElementVNode("view", {
              class: "read-button",
              onClick: _cache[4] || (_cache[4] = (...args) => $options.startReading && $options.startReading(...args))
            }, [
              vue.createElementVNode("view", { class: "arrow-up" }),
              vue.createElementVNode("text", { class: "read-text" }, "ä¸Šæ»‘å¼€å§‹é˜…è¯»")
            ])
          ]),
          vue.createCommentVNode(" å°è¯´å†…å®¹åŒºåŸŸ "),
          vue.createElementVNode("view", { class: "novel-content-section" }, [
            vue.createElementVNode("view", { class: "chapter-title" }, [
              vue.createElementVNode("text", { class: "chapter-text" }, "ç¬¬ä¸€ç«  å…°äº­åºå…¨æ–‡ï¼ˆæ™‹ï¼‰ç‹ç¾²ä¹‹")
            ]),
            vue.createElementVNode("view", { class: "novel-text" }, [
              vue.createElementVNode("text", { class: "novel-paragraph" }, "æ°¸å’Œä¹å¹´ï¼Œå²åœ¨ç™¸ä¸‘ï¼Œæš®æ˜¥ä¹‹åˆï¼Œä¼šäºä¼šç¨½å±±é˜´ä¹‹å…°äº­ï¼Œä¿®ç¦Šäº‹ä¹Ÿã€‚ç¾¤è´¤æ¯•è‡³ï¼Œå°‘é•¿å’¸é›†ã€‚"),
              vue.createElementVNode("text", { class: "novel-paragraph" }, "æ­¤åœ°æœ‰å´‡å±±å³»å²­ï¼ŒèŒ‚æ—ä¿®ç«¹ï¼›åˆæœ‰æ¸…æµæ¿€æ¹ï¼Œæ˜ å¸¦å·¦å³ï¼Œå¼•ä»¥ä¸ºæµè§æ›²æ°´ï¼Œåˆ—åå…¶æ¬¡ã€‚è™½æ— ä¸ç«¹ç®¡å¼¦ä¹‹ç››ï¼Œä¸€è§ä¸€å’ï¼Œäº¦è¶³ä»¥ç•…å™å¹½æƒ…ã€‚"),
              vue.createElementVNode("text", { class: "novel-paragraph" }, "æ˜¯æ—¥ä¹Ÿï¼Œå¤©æœ—æ°”æ¸…ï¼Œæƒ é£å’Œç•…ï¼Œä»°è§‚å®‡å®™ä¹‹å¤§ï¼Œä¿¯å¯Ÿå“ç±»ä¹‹ç››ï¼Œæ‰€ä»¥æ¸¸ç›®éª‹æ€€ï¼Œè¶³ä»¥æè§†å¬ä¹‹å¨±ï¼Œä¿¡å¯ä¹ä¹Ÿã€‚"),
              vue.createElementVNode("text", { class: "novel-paragraph" }, "å¤«äººä¹‹ç›¸ä¸ï¼Œä¿¯ä»°ä¸€ä¸–ï¼Œæˆ–å–è¯¸æ€€æŠ±ï¼Œæ™¤è¨€ä¸€å®¤ä¹‹å†…ï¼›æˆ–å› å¯„æ‰€æ‰˜ï¼Œæ”¾æµªå½¢éª¸ä¹‹å¤–ã€‚è™½å–èˆä¸‡æ®Šï¼Œé™èºä¸åŒï¼Œå½“å…¶æ¬£äºæ‰€é‡ï¼Œæš‚å¾—äºå·±ï¼Œå¿«ç„¶è‡ªè¶³ï¼Œä¸çŸ¥è€ä¹‹å°†è‡³ã€‚"),
              vue.createElementVNode("text", { class: "novel-paragraph" }, "åŠå…¶æ‰€ä¹‹æ—¢å€¦ï¼Œæƒ…éšäº‹è¿ï¼Œæ„Ÿæ…¨ç³»ä¹‹çŸ£ã€‚å‘ä¹‹æ‰€æ¬£ï¼Œä¿¯ä»°ä¹‹é—´ï¼Œå·²ä¸ºé™ˆè¿¹ï¼ŒçŠ¹ä¸èƒ½ä¸ä»¥ä¹‹å…´æ€€ã€‚å†µä¿®çŸ­éšåŒ–ï¼Œç»ˆæœŸäºå°½ã€‚"),
              vue.createElementVNode("text", { class: "novel-paragraph" }, 'å¤äººäº‘ï¼š"æ­»ç”Ÿäº¦å¤§çŸ£ã€‚"å²‚ä¸ç—›å“‰ï¼æ¯è§ˆæ˜”äººå…´æ„Ÿä¹‹ç”±ï¼Œè‹¥åˆä¸€å¥‘ï¼Œæœªå°ä¸ä¸´æ–‡å—Ÿæ‚¼ï¼Œä¸èƒ½å–»ä¹‹äºæ€€ã€‚'),
              vue.createElementVNode("text", { class: "novel-paragraph" }, "å›ºçŸ¥ä¸€æ­»ç”Ÿä¸ºè™šè¯ï¼Œé½å½­æ®‡ä¸ºå¦„ä½œã€‚åä¹‹è§†ä»Šï¼Œäº¦çŠ¹ä»Šä¹‹è§†æ˜”ã€‚"),
              vue.createElementVNode("text", { class: "novel-paragraph" }, "æ‚²å¤«ï¼æ•…åˆ—å™æ—¶äººï¼Œå½•å…¶æ‰€è¿°ï¼Œè™½ä¸–æ®Šäº‹å¼‚ï¼Œæ‰€ä»¥å…´æ€€ï¼Œå…¶è‡´ä¸€ä¹Ÿã€‚åä¹‹è§ˆè€…ï¼Œäº¦å°†æœ‰æ„Ÿäºæ–¯æ–‡ã€‚")
            ])
          ]),
          vue.createCommentVNode(" åº•éƒ¨ç•™ç™½ "),
          vue.createElementVNode("view", { class: "bottom-spacer" })
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" ç»“æŸæ­£å¸¸å†…å®¹åŒºåŸŸ ")
      ], 40, ["scroll-top"])
    ]);
  }
  const PagesFeedNovelDetail = /* @__PURE__ */ _export_sfc(_sfc_main$L, [["render", _sfc_render$K], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/feed/novel-detail.vue"]]);
  const _sfc_main$K = {
    name: "NovelMoreReviewsPage",
    data() {
      return {
        novelId: "",
        novelTitle: "",
        novelAuthor: "",
        userId: 1000100,
        isRefreshing: false,
        showRefreshIndicator: false,
        refreshText: "ä¸‹æ‹‰åˆ·æ–°",
        pullDistance: 0,
        commentText: "",
        replyToComment: null,
        replyToReply: null,
        showShare: false,
        loading: false,
        hasError: false,
        errorMessage: "",
        shareFriends: [
          { name: "å¥¶ç»¿å†°é˜”è½", avatar: "/static/avatar-default.png" },
          { name: "æˆ‘æƒ³æ¬¡ç‚¸é¸¡", avatar: "/static/avatar-default.png" },
          { name: "åŒ¿åä¸ºæŸ", avatar: "/static/avatar-default.png" },
          { name: "åº·å·²å¥€", avatar: "/static/avatar-default.png" },
          { name: "å°èœåˆ€å¾¡", avatar: "/static/avatar-default.png" },
          { name: "è¶…çº§å¥½", avatar: "/static/avatar-default.png" },
          { name: "QQå¥½å‹ä¸ƒ", avatar: "/static/avatar-default.png" }
        ],
        reviews: []
        // ä»åç«¯APIè·å–çš„ä¹¦è¯„æ•°æ®
      };
    },
    onLoad(options) {
      formatAppLog("log", "at pages/feed/novel-more-reviews.vue:245", "=== æ›´å¤šä¹¦è¯„é¡µé¢åŠ è½½ ===");
      formatAppLog("log", "at pages/feed/novel-more-reviews.vue:246", "æ¥æ”¶åˆ°çš„å‚æ•°:", options);
      if (options.novelId) {
        this.novelId = options.novelId;
      }
      if (options.title) {
        this.novelTitle = decodeURIComponent(options.title);
      }
      if (options.author) {
        this.novelAuthor = decodeURIComponent(options.author);
      }
      if (options.userId) {
        this.userId = parseInt(options.userId);
      }
      if (this.novelId) {
        this.loadNovelReviews();
      }
    },
    methods: {
      // ä»åç«¯APIåŠ è½½ä¹¦è¯„æ•°æ®
      async loadNovelReviews() {
        try {
          formatAppLog("log", "at pages/feed/novel-more-reviews.vue:271", "=== å¼€å§‹ä»åç«¯åŠ è½½ä¹¦è¯„æ•°æ® ===");
          formatAppLog("log", "at pages/feed/novel-more-reviews.vue:272", "å°è¯´ID:", this.novelId);
          this.loading = true;
          this.hasError = false;
          this.errorMessage = "";
          const response = await uni.request({
            url: `http://localhost:8888/api/novel-detail/reviews?novelId=${this.novelId}&userId=${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/novel-more-reviews.vue:286", "=== ä¹¦è¯„APIå“åº”è¯¦æƒ… ===");
          formatAppLog("log", "at pages/feed/novel-more-reviews.vue:287", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/feed/novel-more-reviews.vue:288", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            this.reviews = response.data.data || [];
            formatAppLog("log", "at pages/feed/novel-more-reviews.vue:292", "æˆåŠŸåŠ è½½ä¹¦è¯„æ•°æ®ï¼Œå…±", this.reviews.length, "æ¡");
            if (this.reviews.length === 0) {
              this.hasError = true;
              this.errorMessage = "æš‚æ— ä¹¦è¯„æ•°æ®";
            }
          } else {
            formatAppLog("error", "at pages/feed/novel-more-reviews.vue:299", "åŠ è½½ä¹¦è¯„æ•°æ®å¤±è´¥:", response.data.message);
            this.hasError = true;
            this.errorMessage = response.data.message || "åŠ è½½ä¹¦è¯„æ•°æ®å¤±è´¥";
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/novel-more-reviews.vue:304", "åŠ è½½ä¹¦è¯„æ•°æ®å¼‚å¸¸:", error);
          this.hasError = true;
          this.errorMessage = "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®";
        } finally {
          this.loading = false;
        }
      },
      // è¿”å›åŠŸèƒ½
      goBack() {
        uni.navigateBack();
      },
      // è·³è½¬åˆ°ä¹¦è¯„è¯¦æƒ…é¡µ
      goToReviewDetail(review, index) {
        uni.navigateTo({
          url: `/pages/feed/review-detail?id=${index}&reviewer=${encodeURIComponent(review.reviewer)}&content=${encodeURIComponent(review.content)}&rating=${review.rating}&time=${encodeURIComponent(review.time)}&likes=${review.likes}&dislikes=${review.dislikes}&comments=${review.comments}`
        });
      },
      // åˆ†äº«åŠŸèƒ½
      showShare() {
        this.showShare = true;
      },
      hideSharePopup() {
        this.showShare = false;
      },
      // åˆ†äº«ç›¸å…³æ–¹æ³•
      shareToWechat() {
        uni.showToast({
          title: "åˆ†äº«åˆ°å¾®ä¿¡",
          icon: "none"
        });
        this.hideSharePopup();
      },
      shareToMoments() {
        uni.showToast({
          title: "åˆ†äº«åˆ°æœ‹å‹åœˆ",
          icon: "none"
        });
        this.hideSharePopup();
      },
      shareToDouyin() {
        uni.showToast({
          title: "åˆ†äº«åˆ°æŠ–éŸ³å¥½å‹",
          icon: "none"
        });
        this.hideSharePopup();
      },
      shareToDouyinPost() {
        uni.showToast({
          title: "å‘å¸ƒåˆ°æŠ–éŸ³",
          icon: "none"
        });
        this.hideSharePopup();
      },
      shareToQQ() {
        uni.showToast({
          title: "åˆ†äº«åˆ°QQ",
          icon: "none"
        });
        this.hideSharePopup();
      },
      shareAction(action) {
        const actionNames = {
          comment: "è¯„è®ºè®¾ç½®",
          gift: "é€ç¤¼ç‰©",
          bookmark: "æ·»åŠ ä¹¦ç­¾",
          search: "å…¨æ–‡æœç´¢",
          report: "ä¸¾æŠ¥ä¸åé¦ˆ"
        };
        uni.showToast({
          title: actionNames[action] || "åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
        this.hideSharePopup();
      },
      shareToFriend(friend) {
        uni.showToast({
          title: `åˆ†äº«ç»™${friend.name}`,
          icon: "none"
        });
        this.hideSharePopup();
      },
      // è¯„è®ºç‚¹èµå¤„ç†
      async handleLike(index) {
        const review = this.reviews[index];
        if (!review || !review.commentId) {
          uni.showToast({
            title: "è¯„è®ºIDä¸å­˜åœ¨",
            icon: "error"
          });
          return;
        }
        try {
          formatAppLog("log", "at pages/feed/novel-more-reviews.vue:410", "=== å¼€å§‹å¤„ç†ä¹¦è¯„ç‚¹èµ ===");
          formatAppLog("log", "at pages/feed/novel-more-reviews.vue:411", "ç”¨æˆ·ID:", this.userId);
          formatAppLog("log", "at pages/feed/novel-more-reviews.vue:412", "è¯„è®ºID:", review.commentId);
          const response = await uni.request({
            url: `http://localhost:8888/api/novel-detail/comment/like?userId=${this.userId}&commentId=${review.commentId}`,
            method: "POST",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/novel-more-reviews.vue:422", "=== ä¹¦è¯„ç‚¹èµAPIå“åº” ===");
          formatAppLog("log", "at pages/feed/novel-more-reviews.vue:423", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/feed/novel-more-reviews.vue:424", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            const result = response.data.data;
            review.isLiked = result.isLiked;
            review.likes = result.likeCount;
            if (review.isLiked && review.isDisliked) {
              review.isDisliked = false;
              review.dislikes--;
            }
            uni.showToast({
              title: result.message,
              icon: "success",
              duration: 1e3
            });
          } else {
            formatAppLog("error", "at pages/feed/novel-more-reviews.vue:445", "ä¹¦è¯„ç‚¹èµå¤±è´¥:", response.data.message);
            uni.showToast({
              title: response.data.message || "æ“ä½œå¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/novel-more-reviews.vue:452", "ä¹¦è¯„ç‚¹èµå¼‚å¸¸:", error);
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        }
      },
      // è¯„è®ºè¸©å¤„ç†
      handleDislike(index) {
        const review = this.reviews[index];
        if (review && typeof review === "object") {
          review.isDisliked = !review.isDisliked;
          if (review.isDisliked) {
            review.dislikes++;
            if (review.isLiked) {
              review.isLiked = false;
              review.likes--;
            }
          } else {
            review.dislikes--;
          }
        }
      },
      // è¯„è®ºå¤„ç†
      handleComment(index) {
        const review = this.reviews[index];
        if (review) {
          this.replyToComment = review;
          this.replyToReply = null;
          this.commentText = "";
          this.$nextTick(() => {
            const input = uni.createSelectorQuery().select(".comment-input");
            if (input) {
              input.focus();
            }
          });
        }
      },
      // å›¾ç‰‡é¢„è§ˆ
      previewImage(images, current) {
        uni.previewImage({
          urls: images,
          current
        });
      },
      // è·å–å›¾ç‰‡ç½‘æ ¼æ ·å¼ç±»
      getImageGridClass(count) {
        if (count === 1)
          return "single-image";
        if (count === 2)
          return "two-images";
        if (count === 3)
          return "three-images";
        return "grid-images";
      },
      // æ ¼å¼åŒ–æ•°å­—æ˜¾ç¤º
      formatCount(count) {
        if (count >= 1e4) {
          return (count / 1e4).toFixed(1) + "w";
        }
        return count.toString();
      },
      // æ”¶è—å¤„ç†
      handleFavorite(post) {
        post.isFavorited = !post.isFavorited;
        if (post.isFavorited) {
          post.favorites++;
        } else {
          post.favorites--;
        }
      },
      // è¾“å…¥æ¡†ç„¦ç‚¹å¤„ç†
      onInputFocus() {
        this.inputFocus = true;
      },
      onInputBlur() {
        this.inputFocus = false;
      },
      // æäº¤è¯„è®º
      submitComment() {
        if (!this.commentText.trim()) {
          uni.showToast({
            title: "è¯·è¾“å…¥è¯„è®ºå†…å®¹",
            icon: "none"
          });
          return;
        }
        if (this.replyToComment) {
          const newReply = {
            username: "æˆ‘",
            userAvatar: "/static/avatar3.png",
            time: "åˆšåˆš",
            content: this.commentText,
            likes: 0,
            isLiked: false,
            replyTo: this.replyToReply ? this.replyToReply.username : this.replyToComment.reviewer
          };
          if (!this.replyToComment.replies) {
            this.replyToComment.replies = [];
          }
          this.replyToComment.replies.push(newReply);
          this.replyToComment = null;
          this.replyToReply = null;
          uni.showToast({
            title: "å›å¤æˆåŠŸ",
            icon: "success"
          });
        } else {
          const newComment = {
            reviewer: "æˆ‘",
            avatar: "/static/avatar3.png",
            rating: 5,
            content: this.commentText,
            time: "åˆšåˆš",
            likes: 0,
            dislikes: 0,
            comments: 0,
            isLiked: false,
            isDisliked: false,
            replies: []
          };
          this.reviews.unshift(newComment);
          uni.showToast({
            title: "è¯„è®ºæˆåŠŸ",
            icon: "success"
          });
        }
        this.commentText = "";
      },
      // å–æ¶ˆå›å¤
      cancelReply() {
        formatAppLog("log", "at pages/feed/novel-more-reviews.vue:610", "å–æ¶ˆå›å¤");
        this.commentText = "";
        this.replyToComment = null;
        this.replyToReply = null;
      },
      // è·å–è¾“å…¥æ¡†placeholder
      getInputPlaceholder() {
        if (this.replyToComment) {
          if (this.replyToReply) {
            return `å›å¤ @${this.replyToReply.username}...`;
          }
          return `å›å¤ @${this.replyToComment.reviewer}...`;
        }
        return "è¯´ç‚¹ä»€ä¹ˆ...";
      },
      // ä¸‹æ‹‰åˆ·æ–°è§¦å‘
      async onRefresh() {
        formatAppLog("log", "at pages/feed/novel-more-reviews.vue:630", "å¼€å§‹åˆ·æ–°ä¹¦è¯„æ•°æ®");
        this.isRefreshing = true;
        this.refreshText = "æ­£åœ¨åˆ·æ–°...";
        try {
          await this.loadNovelReviews();
          this.isRefreshing = false;
          this.refreshText = "åˆ·æ–°å®Œæˆ";
          uni.showToast({
            title: "åˆ·æ–°æˆåŠŸ",
            icon: "success"
          });
          setTimeout(() => {
            this.showRefreshIndicator = false;
          }, 1e3);
        } catch (error) {
          formatAppLog("error", "at pages/feed/novel-more-reviews.vue:652", "åˆ·æ–°ä¹¦è¯„æ•°æ®å¤±è´¥:", error);
          this.isRefreshing = false;
          this.refreshText = "åˆ·æ–°å¤±è´¥";
          uni.showToast({
            title: "åˆ·æ–°å¤±è´¥",
            icon: "error"
          });
          setTimeout(() => {
            this.showRefreshIndicator = false;
          }, 1e3);
        }
      },
      // ä¸‹æ‹‰è¿‡ç¨‹ä¸­
      onPulling(e) {
        this.pullDistance = e.detail.dy;
        if (e.detail.dy > 50) {
          this.showRefreshIndicator = true;
          this.refreshText = "é‡Šæ”¾åˆ·æ–°";
        } else {
          this.refreshText = "ä¸‹æ‹‰åˆ·æ–°";
        }
      },
      // åˆ·æ–°å™¨å¤ä½
      onRestore() {
        formatAppLog("log", "at pages/feed/novel-more-reviews.vue:680", "åˆ·æ–°å™¨å¤ä½");
        this.showRefreshIndicator = false;
      },
      // åˆ·æ–°å™¨ä¸­æ­¢
      onAbort() {
        formatAppLog("log", "at pages/feed/novel-more-reviews.vue:686", "åˆ·æ–°å™¨ä¸­æ­¢");
        this.showRefreshIndicator = false;
      }
    }
  };
  function _sfc_render$J(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "more-reviews-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", {
          class: "back-button",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
        }, [
          vue.createElementVNode("view", { class: "back-arrow" })
        ]),
        vue.createElementVNode("view", { class: "header-title" }, [
          vue.createElementVNode("text", { class: "title-text" }, "çƒ­é—¨ä¹¦è¯„")
        ]),
        vue.createElementVNode("view", {
          class: "share-button",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.showShare && $options.showShare(...args))
        }, [
          vue.createElementVNode("text", { class: "share-icon" }, "ğŸ“¤")
        ])
      ]),
      vue.createCommentVNode(" å°è¯´ä¿¡æ¯å¡ç‰‡ "),
      vue.createElementVNode("view", { class: "novel-card" }, [
        vue.createElementVNode("view", { class: "novel-info" }, [
          vue.createElementVNode("image", {
            class: "novel-cover",
            src: _ctx.novelCover || "/static/novel-cover.jpg",
            mode: "aspectFill"
          }, null, 8, ["src"]),
          vue.createElementVNode("view", { class: "novel-details" }, [
            vue.createElementVNode(
              "text",
              { class: "novel-title" },
              vue.toDisplayString($data.novelTitle || "å°è¯´æ ‡é¢˜"),
              1
              /* TEXT */
            ),
            vue.createElementVNode(
              "text",
              { class: "novel-author" },
              vue.toDisplayString($data.novelAuthor || "ä½œè€…"),
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", { class: "novel-stats" }, [
              vue.createElementVNode(
                "text",
                { class: "rating" },
                vue.toDisplayString(_ctx.novelRating || "9.5") + "åˆ†",
                1
                /* TEXT */
              ),
              vue.createElementVNode(
                "text",
                { class: "reader-count" },
                vue.toDisplayString(_ctx.readerCount || "157.4ä¸‡äººåœ¨è¯»"),
                1
                /* TEXT */
              )
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" è¯„è®ºåˆ—è¡¨ "),
      vue.createElementVNode("scroll-view", {
        class: "reviews-scroll",
        "scroll-y": "true",
        "refresher-enabled": "true",
        "refresher-triggered": $data.isRefreshing,
        onRefresherrefresh: _cache[3] || (_cache[3] = (...args) => $options.onRefresh && $options.onRefresh(...args))
      }, [
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-container"
        }, [
          vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½ä¹¦è¯„æ•°æ®...")
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
        $data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "error-container"
        }, [
          vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
          vue.createElementVNode(
            "text",
            { class: "error-text" },
            vue.toDisplayString($data.errorMessage),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "error-actions" }, [
            vue.createElementVNode("button", {
              class: "retry-button",
              onClick: _cache[2] || (_cache[2] = (...args) => $options.loadNovelReviews && $options.loadNovelReviews(...args))
            }, "é‡æ–°åŠ è½½")
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" æ­£å¸¸å†…å®¹ "),
        !$data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", { key: 2 }, [
          vue.createCommentVNode(" åˆ·æ–°æŒ‡ç¤ºå™¨ "),
          $data.showRefreshIndicator ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "refresh-indicator"
          }, [
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["refresh-circle", { "refreshing": $data.isRefreshing }])
              },
              [
                !$data.isRefreshing ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "refresh-arrow"
                })) : (vue.openBlock(), vue.createElementBlock("view", {
                  key: 1,
                  class: "refresh-spinner"
                }))
              ],
              2
              /* CLASS */
            ),
            vue.createElementVNode(
              "text",
              { class: "refresh-text" },
              vue.toDisplayString($data.refreshText),
              1
              /* TEXT */
            )
          ])) : vue.createCommentVNode("v-if", true),
          vue.createCommentVNode(" è¯„è®ºåˆ—è¡¨åŒºåŸŸ "),
          vue.createElementVNode("view", { class: "reviews-container" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.reviews, (review, reviewIndex) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "review-item",
                  key: reviewIndex
                }, [
                  vue.createCommentVNode(" è¯„è®ºå¤´éƒ¨ "),
                  vue.createElementVNode("view", { class: "review-header" }, [
                    vue.createElementVNode("image", {
                      class: "reviewer-avatar",
                      src: review.avatar,
                      mode: "aspectFill"
                    }, null, 8, ["src"]),
                    vue.createElementVNode("view", { class: "reviewer-info" }, [
                      vue.createElementVNode(
                        "text",
                        { class: "reviewer-name" },
                        vue.toDisplayString(review.reviewer),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode("view", { class: "review-meta" }, [
                        vue.createElementVNode("view", { class: "rating-stars" }, [
                          (vue.openBlock(true), vue.createElementBlock(
                            vue.Fragment,
                            null,
                            vue.renderList(review.rating, (n) => {
                              return vue.openBlock(), vue.createElementBlock("text", {
                                class: "star",
                                key: n
                              }, "â˜…");
                            }),
                            128
                            /* KEYED_FRAGMENT */
                          )),
                          (vue.openBlock(true), vue.createElementBlock(
                            vue.Fragment,
                            null,
                            vue.renderList(5 - review.rating, (n) => {
                              return vue.openBlock(), vue.createElementBlock("text", {
                                class: "star empty",
                                key: n
                              }, "â˜†");
                            }),
                            128
                            /* KEYED_FRAGMENT */
                          ))
                        ]),
                        vue.createElementVNode(
                          "text",
                          { class: "review-time" },
                          vue.toDisplayString(review.time),
                          1
                          /* TEXT */
                        )
                      ])
                    ])
                  ]),
                  vue.createCommentVNode(" è¯„è®ºå†…å®¹ "),
                  vue.createElementVNode("view", { class: "review-content" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "review-text" },
                      vue.toDisplayString(review.content),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createCommentVNode(" è¯„è®ºäº’åŠ¨ "),
                  vue.createElementVNode("view", { class: "engagement-metrics" }, [
                    vue.createElementVNode("view", {
                      class: "metric-item",
                      onClick: vue.withModifiers(($event) => $options.handleLike(reviewIndex), ["stop"])
                    }, [
                      vue.createElementVNode(
                        "text",
                        {
                          class: vue.normalizeClass(["metric-icon", { "active": review.isLiked }])
                        },
                        "ğŸ‘",
                        2
                        /* CLASS */
                      ),
                      vue.createElementVNode(
                        "text",
                        {
                          class: vue.normalizeClass(["metric-count", { "active": review.isLiked }])
                        },
                        vue.toDisplayString($options.formatCount(review.likes)),
                        3
                        /* TEXT, CLASS */
                      )
                    ], 8, ["onClick"]),
                    vue.createElementVNode("view", {
                      class: "metric-item",
                      onClick: vue.withModifiers(($event) => $options.handleDislike(reviewIndex), ["stop"])
                    }, [
                      vue.createElementVNode(
                        "text",
                        {
                          class: vue.normalizeClass(["metric-icon", { "active": review.isDisliked }])
                        },
                        "ğŸ‘",
                        2
                        /* CLASS */
                      ),
                      vue.createElementVNode(
                        "text",
                        {
                          class: vue.normalizeClass(["metric-count", { "active": review.isDisliked }])
                        },
                        vue.toDisplayString($options.formatCount(review.dislikes)),
                        3
                        /* TEXT, CLASS */
                      )
                    ], 8, ["onClick"]),
                    vue.createElementVNode("view", {
                      class: "metric-item",
                      onClick: vue.withModifiers(($event) => $options.handleComment(reviewIndex), ["stop"])
                    }, [
                      vue.createElementVNode("text", { class: "metric-icon" }, "ğŸ’¬"),
                      vue.createElementVNode(
                        "text",
                        { class: "metric-count" },
                        vue.toDisplayString($options.formatCount(review.comments)),
                        1
                        /* TEXT */
                      )
                    ], 8, ["onClick"])
                  ]),
                  vue.createCommentVNode(" å›å¤åˆ—è¡¨ "),
                  review.replies && review.replies.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "replies-list"
                  }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList(review.replies, (reply, replyIndex) => {
                        return vue.openBlock(), vue.createElementBlock("view", {
                          class: "reply-item",
                          key: replyIndex
                        }, [
                          vue.createElementVNode("view", { class: "reply-avatar" }, [
                            vue.createElementVNode("image", {
                              class: "reply-user-avatar",
                              src: reply.userAvatar,
                              mode: "aspectFill"
                            }, null, 8, ["src"])
                          ]),
                          vue.createElementVNode("view", { class: "reply-content" }, [
                            vue.createElementVNode("view", { class: "reply-user-info" }, [
                              vue.createElementVNode(
                                "text",
                                { class: "reply-username" },
                                vue.toDisplayString(reply.username),
                                1
                                /* TEXT */
                              ),
                              vue.createElementVNode(
                                "text",
                                { class: "reply-time" },
                                vue.toDisplayString(reply.time),
                                1
                                /* TEXT */
                              )
                            ]),
                            vue.createElementVNode("text", { class: "reply-text" }, [
                              vue.createElementVNode(
                                "text",
                                { class: "reply-to" },
                                "å›å¤ @" + vue.toDisplayString(reply.replyTo) + "ï¼š",
                                1
                                /* TEXT */
                              ),
                              vue.createTextVNode(
                                " " + vue.toDisplayString(reply.content),
                                1
                                /* TEXT */
                              )
                            ])
                          ])
                        ]);
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ])) : vue.createCommentVNode("v-if", true)
                ]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" ç»“æŸæ­£å¸¸å†…å®¹åŒºåŸŸ ")
      ], 40, ["refresher-triggered"]),
      vue.createCommentVNode(" åº•éƒ¨è¯„è®ºè¾“å…¥æ¡† "),
      vue.createElementVNode("view", { class: "comment-input-section" }, [
        vue.createElementVNode("view", { class: "comment-input-container" }, [
          vue.withDirectives(vue.createElementVNode("input", {
            class: "comment-input",
            "onUpdate:modelValue": _cache[4] || (_cache[4] = ($event) => $data.commentText = $event),
            placeholder: $options.getInputPlaceholder(),
            onFocus: _cache[5] || (_cache[5] = (...args) => $options.onInputFocus && $options.onInputFocus(...args)),
            onBlur: _cache[6] || (_cache[6] = (...args) => $options.onInputBlur && $options.onInputBlur(...args))
          }, null, 40, ["placeholder"]), [
            [vue.vModelText, $data.commentText]
          ]),
          vue.createCommentVNode(" å–æ¶ˆå›å¤æŒ‰é’® "),
          $data.replyToComment ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "cancel-reply-btn",
            onClick: _cache[7] || (_cache[7] = (...args) => $options.cancelReply && $options.cancelReply(...args))
          }, [
            vue.createElementVNode("text", { class: "cancel-reply-text" }, "å–æ¶ˆ")
          ])) : vue.createCommentVNode("v-if", true),
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["send-button", { "active": $data.commentText.trim() }]),
              onClick: _cache[8] || (_cache[8] = (...args) => $options.submitComment && $options.submitComment(...args))
            },
            [
              vue.createElementVNode("text", { class: "send-text" }, "å‘é€")
            ],
            2
            /* CLASS */
          )
        ])
      ]),
      vue.createCommentVNode(" åˆ†äº«å¼¹çª— "),
      $options.showShare ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "share-popup",
        onClick: _cache[16] || (_cache[16] = (...args) => $options.hideSharePopup && $options.hideSharePopup(...args))
      }, [
        vue.createElementVNode("view", {
          class: "share-content",
          onClick: _cache[15] || (_cache[15] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", { class: "share-header" }, [
            vue.createElementVNode("text", { class: "share-title" }, "åˆ†äº«åˆ°"),
            vue.createElementVNode("view", {
              class: "share-close",
              onClick: _cache[9] || (_cache[9] = (...args) => $options.hideSharePopup && $options.hideSharePopup(...args))
            }, [
              vue.createElementVNode("text", { class: "close-icon" }, "Ã—")
            ])
          ]),
          vue.createElementVNode("view", { class: "share-friends" }, [
            vue.createElementVNode("scroll-view", {
              class: "friends-scroll",
              "scroll-x": "true"
            }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($data.shareFriends, (friend, friendIndex) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    class: "friend-item",
                    key: friendIndex,
                    onClick: ($event) => $options.shareToFriend(friend)
                  }, [
                    vue.createElementVNode("view", { class: "friend-avatar" }, [
                      vue.createElementVNode("image", {
                        class: "friend-avatar-img",
                        src: friend.avatar,
                        mode: "aspectFill"
                      }, null, 8, ["src"])
                    ]),
                    vue.createElementVNode(
                      "text",
                      { class: "friend-name" },
                      vue.toDisplayString(friend.name.length > 3 ? friend.name.substring(0, 3) + "..." : friend.name),
                      1
                      /* TEXT */
                    )
                  ], 8, ["onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ]),
          vue.createElementVNode("view", { class: "share-options" }, [
            vue.createElementVNode("view", {
              class: "share-option",
              onClick: _cache[10] || (_cache[10] = (...args) => $options.shareToWechat && $options.shareToWechat(...args))
            }, [
              vue.createElementVNode("view", { class: "share-icon-bg wechat" }, [
                vue.createElementVNode("image", {
                  class: "share-icon-img",
                  src: _imports_1,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("text", { class: "share-option-text" }, "å¾®ä¿¡")
            ]),
            vue.createElementVNode("view", {
              class: "share-option",
              onClick: _cache[11] || (_cache[11] = (...args) => $options.shareToMoments && $options.shareToMoments(...args))
            }, [
              vue.createElementVNode("view", { class: "share-icon-bg moments" }, [
                vue.createElementVNode("image", {
                  class: "share-icon-img",
                  src: _imports_1,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("text", { class: "share-option-text" }, "æœ‹å‹åœˆ")
            ]),
            vue.createElementVNode("view", {
              class: "share-option",
              onClick: _cache[12] || (_cache[12] = (...args) => $options.shareToDouyin && $options.shareToDouyin(...args))
            }, [
              vue.createElementVNode("view", { class: "share-icon-bg douyin" }, [
                vue.createElementVNode("image", {
                  class: "share-icon-img",
                  src: _imports_3,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("text", { class: "share-option-text" }, "æŠ–éŸ³å¥½å‹")
            ]),
            vue.createElementVNode("view", {
              class: "share-option",
              onClick: _cache[13] || (_cache[13] = (...args) => $options.shareToDouyinPost && $options.shareToDouyinPost(...args))
            }, [
              vue.createElementVNode("view", { class: "share-icon-bg douyin-post" }, [
                vue.createElementVNode("image", {
                  class: "share-icon-img",
                  src: _imports_3,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("text", { class: "share-option-text" }, "å‘å¸ƒåˆ°æŠ–éŸ³")
            ]),
            vue.createElementVNode("view", {
              class: "share-option",
              onClick: _cache[14] || (_cache[14] = (...args) => $options.shareToQQ && $options.shareToQQ(...args))
            }, [
              vue.createElementVNode("view", { class: "share-icon-bg qq" }, [
                vue.createElementVNode("image", {
                  class: "share-icon-img",
                  src: _imports_2,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("text", { class: "share-option-text" }, "QQ")
            ])
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const PagesFeedNovelMoreReviews = /* @__PURE__ */ _export_sfc(_sfc_main$K, [["render", _sfc_render$J], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/feed/novel-more-reviews.vue"]]);
  const _sfc_main$J = {
    name: "ReviewDetailPage",
    data() {
      return {
        reviewDetail: {
          id: "",
          reviewer: "",
          avatar: "",
          rating: 5,
          content: "",
          time: "",
          likes: 0,
          dislikes: 0,
          favorites: 0,
          isLiked: false,
          isDisliked: false,
          isFavorited: false,
          isFollowed: false,
          comments: [],
          images: []
          // æ·»åŠ å›¾ç‰‡æ•°ç»„
        },
        commentText: "",
        showMoreModal: false,
        scrollTop: 0,
        replyToComment: null,
        replyToReply: null,
        postId: null,
        postType: "text",
        userId: 1000100,
        loading: false,
        hasError: false,
        errorMessage: ""
      };
    },
    onLoad(options) {
      formatAppLog("log", "at pages/feed/review-detail.vue:241", "é¡µé¢åŠ è½½å‚æ•°:", options);
      if (options.postId !== void 0) {
        this.postId = parseInt(options.postId);
        this.postType = options.postType || "text";
        this.userId = parseInt(options.userId) || 1000100;
        formatAppLog("log", "at pages/feed/review-detail.vue:247", "è§£æåçš„å‚æ•° - postId:", this.postId, "postType:", this.postType, "userId:", this.userId);
        this.loadPostDetail();
      } else if (options.id !== void 0) {
        const reviewId = parseInt(options.id);
        formatAppLog("log", "at pages/feed/review-detail.vue:252", "è§£æåçš„reviewId:", reviewId);
        this.loadReviewDetail(options);
      } else {
        formatAppLog("log", "at pages/feed/review-detail.vue:255", "ä½¿ç”¨é»˜è®¤æ•°æ®");
        this.loadDefaultReviewDetail();
      }
    },
    methods: {
      // åŠ è½½å¸–å­è¯¦æƒ…æ•°æ®
      async loadPostDetail() {
        try {
          formatAppLog("log", "at pages/feed/review-detail.vue:263", "=== å¼€å§‹åŠ è½½å¸–å­è¯¦æƒ…æ•°æ® ===");
          formatAppLog("log", "at pages/feed/review-detail.vue:264", "å¸–å­ID:", this.postId);
          formatAppLog("log", "at pages/feed/review-detail.vue:265", "å¸–å­ç±»å‹:", this.postType);
          formatAppLog("log", "at pages/feed/review-detail.vue:266", "ç”¨æˆ·ID:", this.userId);
          formatAppLog("log", "at pages/feed/review-detail.vue:267", "è¯·æ±‚URL:", `http://localhost:8888/api/post-detail/data?postId=${this.postId}&postType=${this.postType}&userId=${this.userId}`);
          this.loading = true;
          this.hasError = false;
          this.errorMessage = "";
          const response = await uni.request({
            url: `http://localhost:8888/api/post-detail/data?postId=${this.postId}&postType=${this.postType}&userId=${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/review-detail.vue:281", "=== APIå“åº”è¯¦æƒ… ===");
          formatAppLog("log", "at pages/feed/review-detail.vue:282", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/feed/review-detail.vue:283", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            const postData = response.data.data;
            formatAppLog("log", "at pages/feed/review-detail.vue:287", "è·å–åˆ°çš„å¸–å­æ•°æ®:", postData);
            this.reviewDetail = {
              id: postData.id,
              reviewer: postData.reviewer,
              avatar: postData.avatar,
              rating: postData.rating,
              content: postData.content,
              time: postData.time,
              likes: postData.likes,
              dislikes: postData.dislikes,
              favorites: postData.favorites,
              isLiked: postData.isLiked,
              isDisliked: postData.isDisliked,
              isFavorited: postData.isFavorited,
              isFollowed: postData.isFollowed,
              comments: postData.comments || [],
              images: postData.images || []
            };
            formatAppLog("log", "at pages/feed/review-detail.vue:308", "å¸–å­è¯¦æƒ…æ•°æ®åŠ è½½æˆåŠŸ");
            uni.showToast({
              title: "æ•°æ®åŠ è½½æˆåŠŸ",
              icon: "success",
              duration: 1500
            });
          } else {
            formatAppLog("error", "at pages/feed/review-detail.vue:316", "åŠ è½½å¸–å­è¯¦æƒ…æ•°æ®å¤±è´¥:", response.data.message);
            this.hasError = true;
            this.errorMessage = response.data.message || "åŠ è½½æ•°æ®å¤±è´¥";
            uni.showToast({
              title: "åŠ è½½æ•°æ®å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/review-detail.vue:325", "åŠ è½½å¸–å­è¯¦æƒ…æ•°æ®å¼‚å¸¸:", error);
          this.hasError = true;
          this.errorMessage = "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®";
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        } finally {
          this.loading = false;
        }
      },
      // åŠ è½½ä¹¦è¯„è¯¦æƒ…
      loadReviewDetail(options) {
        formatAppLog("log", "at pages/feed/review-detail.vue:339", "å¼€å§‹åŠ è½½ä¹¦è¯„è¯¦æƒ…ï¼Œå‚æ•°:", options);
        this.reviewDetail = {
          id: options.id || 0,
          reviewer: decodeURIComponent(options.reviewer || ""),
          avatar: "/static/avatar1.png",
          rating: parseInt(options.rating) || 5,
          content: decodeURIComponent(options.content || ""),
          time: decodeURIComponent(options.time || ""),
          likes: parseInt(options.likes) || 0,
          dislikes: parseInt(options.dislikes) || 0,
          favorites: 0,
          isLiked: false,
          isDisliked: false,
          isFavorited: false,
          isFollowed: false,
          comments: this.generateMockComments()
        };
        formatAppLog("log", "at pages/feed/review-detail.vue:359", "åŠ è½½çš„ä¹¦è¯„æ•°æ®:", this.reviewDetail);
      },
      // ç”Ÿæˆæ¨¡æ‹Ÿè¯„è®ºæ•°æ®
      generateMockComments() {
        return [
          {
            username: "ä¹¦è™«å°ç‹",
            userAvatar: "/static/avatar2.png",
            time: "10åˆ†é’Ÿå‰",
            content: "è¿™ä¸ªä¹¦è¯„å†™å¾—å¾ˆä¸­è‚¯ï¼",
            likes: 45,
            isLiked: false,
            replies: [
              {
                username: "ä¿®ä»™çˆ±å¥½è€…",
                userAvatar: "/static/avatar3.png",
                time: "8åˆ†é’Ÿå‰",
                content: "æˆ‘ä¹Ÿè§‰å¾—åˆ†æå¾—å¾ˆåˆ°ä½ï¼",
                likes: 12,
                isLiked: false,
                replyTo: "ä¹¦è™«å°ç‹"
              }
            ]
          },
          {
            username: "ä¿®ä»™çˆ±å¥½è€…",
            userAvatar: "/static/avatar3.png",
            time: "8åˆ†é’Ÿå‰",
            content: "å®Œå…¨åŒæ„æ¥¼ä¸»çš„è§‚ç‚¹ï¼Œè¿™æœ¬ä¹¦ç¡®å®å¾ˆæ£’",
            likes: 32,
            isLiked: false,
            replies: []
          },
          {
            username: "æ–‡å­¦è¯„è®ºå®¶",
            userAvatar: "/static/avatar4.png",
            time: "5åˆ†é’Ÿå‰",
            content: "æ–‡ç¬”æµç•…ï¼Œåˆ†æé€å½»ï¼Œå€¼å¾—æ¨è",
            likes: 28,
            isLiked: false,
            replies: []
          }
        ];
      },
      // åŠ è½½é»˜è®¤ä¹¦è¯„è¯¦æƒ…
      loadDefaultReviewDetail() {
        this.reviewDetail = {
          id: 0,
          reviewer: "ä¹¦å‹123456",
          avatar: "/static/avatar1.png",
          rating: 5,
          content: "æ–‡ç¬”å‰§æƒ…å¾ˆå¥½,å¾ˆéš¾å¾—çš„å¥³å¼ºæ— cpæ¸¸æˆä¾µå…¥ç°å®çš„æ–‡,ä¸–ç•Œè§‚è®¾è®¡éƒ½å¾ˆæœ‰ç”»é¢æ„Ÿ,å¥³ä¸»ä¹Ÿå¾ˆèªæ˜,æŠ“...",
          time: "é˜…è¯»ä¸è¶³30åˆ†é’Ÿåç‚¹è¯„",
          likes: 234,
          dislikes: 12,
          favorites: 0,
          isLiked: false,
          isDisliked: false,
          isFavorited: false,
          isFollowed: false,
          comments: this.generateMockComments()
        };
      },
      // è¿”å›ä¸Šä¸€é¡µ
      goBack() {
        formatAppLog("log", "at pages/feed/review-detail.vue:427", "è¿”å›æŒ‰é’®è¢«ç‚¹å‡»");
        try {
          uni.navigateBack({
            success: () => {
              formatAppLog("log", "at pages/feed/review-detail.vue:432", "è¿”å›æˆåŠŸ");
            },
            fail: (err) => {
              formatAppLog("log", "at pages/feed/review-detail.vue:435", "è¿”å›å¤±è´¥:", err);
              uni.navigateTo({
                url: "/pages/feed/novel-more-reviews"
              });
            }
          });
        } catch (error) {
          formatAppLog("error", "at pages/feed/review-detail.vue:443", "è¿”å›æ“ä½œå‡ºé”™:", error);
          uni.navigateTo({
            url: "/pages/feed/novel-more-reviews"
          });
        }
      },
      // è·³è½¬åˆ°ç”¨æˆ·èµ„æ–™é¡µ
      goToUserProfile() {
        uni.navigateTo({
          url: `/pages/feed/user-profile?username=${encodeURIComponent(this.reviewDetail.reviewer)}`
        });
      },
      // å…³æ³¨/å–æ¶ˆå…³æ³¨
      toggleFollow() {
        this.reviewDetail.isFollowed = !this.reviewDetail.isFollowed;
        uni.showToast({
          title: this.reviewDetail.isFollowed ? "å…³æ³¨æˆåŠŸ" : "å·²å–æ¶ˆå…³æ³¨",
          icon: "success"
        });
      },
      // æ ¼å¼åŒ–æ•°å­—
      formatCount(count) {
        if (count >= 1e4) {
          return (count / 1e4).toFixed(1) + "w";
        }
        return count.toString();
      },
      // ç‚¹èµ
      async handleLike() {
        try {
          formatAppLog("log", "at pages/feed/review-detail.vue:478", "å¤„ç†ç‚¹èµæ“ä½œ:", this.postId, this.postType, this.userId);
          const response = await uni.request({
            url: "http://localhost:8888/api/post-detail/like",
            method: "POST",
            data: {
              postId: this.postId,
              postType: this.postType,
              userId: this.userId
            },
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/review-detail.vue:493", "ç‚¹èµAPIå“åº”:", response);
          if (response.statusCode === 200 && response.data.success) {
            this.reviewDetail.isLiked = response.data.isLiked;
            if (this.reviewDetail.isLiked) {
              this.reviewDetail.likes++;
              if (this.reviewDetail.isDisliked) {
                this.reviewDetail.isDisliked = false;
                this.reviewDetail.dislikes--;
              }
            } else {
              this.reviewDetail.likes--;
            }
            uni.showToast({
              title: response.data.message,
              icon: "success",
              duration: 1500
            });
          } else {
            formatAppLog("error", "at pages/feed/review-detail.vue:515", "ç‚¹èµæ“ä½œå¤±è´¥:", response.data.message);
            uni.showToast({
              title: response.data.message || "ç‚¹èµå¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/review-detail.vue:522", "ç‚¹èµæ“ä½œå¼‚å¸¸:", error);
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        }
      },
      // è¸©
      async handleDislike() {
        try {
          formatAppLog("log", "at pages/feed/review-detail.vue:533", "å¤„ç†ç‚¹è¸©æ“ä½œ:", this.postId, this.postType, this.userId);
          const response = await uni.request({
            url: "http://localhost:8888/api/post-detail/dislike",
            method: "POST",
            data: {
              postId: this.postId,
              postType: this.postType,
              userId: this.userId
            },
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/review-detail.vue:548", "ç‚¹è¸©APIå“åº”:", response);
          if (response.statusCode === 200 && response.data.success) {
            this.reviewDetail.isDisliked = response.data.isDisliked;
            if (this.reviewDetail.isDisliked) {
              this.reviewDetail.dislikes++;
              if (this.reviewDetail.isLiked) {
                this.reviewDetail.isLiked = false;
                this.reviewDetail.likes--;
              }
            } else {
              this.reviewDetail.dislikes--;
            }
            uni.showToast({
              title: response.data.message,
              icon: "success",
              duration: 1500
            });
          } else {
            formatAppLog("error", "at pages/feed/review-detail.vue:570", "ç‚¹è¸©æ“ä½œå¤±è´¥:", response.data.message);
            uni.showToast({
              title: response.data.message || "ç‚¹è¸©å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/review-detail.vue:577", "ç‚¹è¸©æ“ä½œå¼‚å¸¸:", error);
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        }
      },
      // æ”¶è—
      async handleFavorite() {
        try {
          formatAppLog("log", "at pages/feed/review-detail.vue:588", "å¤„ç†æ”¶è—æ“ä½œ:", this.postId, this.postType, this.userId);
          const response = await uni.request({
            url: "http://localhost:8888/api/post-detail/favorite",
            method: "POST",
            data: {
              postId: this.postId,
              postType: this.postType,
              userId: this.userId
            },
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/review-detail.vue:603", "æ”¶è—APIå“åº”:", response);
          if (response.statusCode === 200 && response.data.success) {
            this.reviewDetail.isFavorited = response.data.isFavorited;
            if (this.reviewDetail.isFavorited) {
              this.reviewDetail.favorites++;
            } else {
              this.reviewDetail.favorites--;
            }
            uni.showToast({
              title: response.data.message,
              icon: "success",
              duration: 1500
            });
          } else {
            formatAppLog("error", "at pages/feed/review-detail.vue:620", "æ”¶è—æ“ä½œå¤±è´¥:", response.data.message);
            uni.showToast({
              title: response.data.message || "æ”¶è—å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/review-detail.vue:627", "æ”¶è—æ“ä½œå¼‚å¸¸:", error);
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        }
      },
      // åˆ†äº«
      handleShare() {
        uni.showToast({
          title: "åˆ†äº«åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      // å›¾ç‰‡é¢„è§ˆ
      previewImage(images, current) {
        uni.previewImage({
          urls: images,
          current
        });
      },
      // æ˜¾ç¤ºæ›´å¤šé€‰é¡¹
      showMoreOptions() {
        this.showMoreModal = true;
      },
      // éšè—æ›´å¤šé€‰é¡¹
      hideMoreOptions() {
        this.showMoreModal = false;
      },
      // ä¸¾æŠ¥ä¹¦è¯„
      reportReview() {
        this.hideMoreOptions();
        uni.navigateTo({
          url: "/pages/report/report"
        });
      },
      // å¤åˆ¶é“¾æ¥
      copyLink() {
        this.hideMoreOptions();
        uni.setClipboardData({
          data: `https://example.com/review/${this.reviewDetail.id}`,
          success: () => {
            uni.showToast({
              title: "é“¾æ¥å·²å¤åˆ¶",
              icon: "success"
            });
          }
        });
      },
      // ç‚¹èµè¯„è®º
      likeComment(comment, index) {
        comment.isLiked = !comment.isLiked;
        if (comment.isLiked) {
          comment.likes++;
        } else {
          comment.likes--;
        }
      },
      // ç‚¹èµå›å¤
      likeReply(comment, replyIndex) {
        const reply = comment.replies[replyIndex];
        reply.isLiked = !reply.isLiked;
        if (reply.isLiked) {
          reply.likes++;
        } else {
          reply.likes--;
        }
      },
      // å›å¤è¯„è®º
      replyComment(comment) {
        formatAppLog("log", "at pages/feed/review-detail.vue:706", "å›å¤è¯„è®º:", comment);
        this.replyToComment = comment;
        this.replyToReply = null;
        this.commentText = "";
        this.$nextTick(() => {
          const input = uni.createSelectorQuery().select(".comment-input");
          if (input) {
            input.focus();
          }
        });
      },
      // å›å¤å›å¤
      handleReplyToReply(comment, reply) {
        this.replyToComment = comment;
        this.replyToReply = reply;
        this.commentText = "";
        this.$nextTick(() => {
          const input = uni.createSelectorQuery().select(".comment-input");
          if (input) {
            input.focus();
          }
        });
      },
      // è¾“å…¥æ¡†èšç„¦
      onInputFocus() {
      },
      // è¾“å…¥æ¡†å¤±ç„¦
      onInputBlur() {
      },
      // æäº¤è¯„è®º
      async submitComment() {
        if (!this.commentText.trim()) {
          return;
        }
        try {
          formatAppLog("log", "at pages/feed/review-detail.vue:752", "æäº¤è¯„è®º:", this.commentText, "å¸–å­ID:", this.postId, "å¸–å­ç±»å‹:", this.postType, "ç”¨æˆ·ID:", this.userId);
          const response = await uni.request({
            url: "http://localhost:8888/api/post-detail/comment",
            method: "POST",
            data: {
              postId: this.postId,
              postType: this.postType,
              userId: this.userId,
              commentText: this.commentText,
              parentCommentId: this.replyToComment ? this.replyToComment.id : null
            },
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/review-detail.vue:769", "è¯„è®ºAPIå“åº”:", response);
          if (response.statusCode === 200 && response.data.success) {
            await this.loadPostDetail();
            this.replyToComment = null;
            this.replyToReply = null;
            uni.showToast({
              title: "è¯„è®ºæˆåŠŸ",
              icon: "success"
            });
          } else {
            formatAppLog("error", "at pages/feed/review-detail.vue:784", "è¯„è®ºæ“ä½œå¤±è´¥:", response.data.message);
            uni.showToast({
              title: response.data.message || "è¯„è®ºå¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/review-detail.vue:791", "è¯„è®ºæ“ä½œå¼‚å¸¸:", error);
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        }
        this.commentText = "";
      },
      // è·å–æ€»è¯„è®ºæ•°ï¼ˆåŒ…æ‹¬å›å¤ï¼‰
      getTotalCommentsCount() {
        let total = this.reviewDetail.comments.length;
        this.reviewDetail.comments.forEach((comment) => {
          if (comment.replies) {
            total += comment.replies.length;
          }
        });
        return total;
      },
      // è·å–è¾“å…¥æ¡†placeholder
      getInputPlaceholder() {
        if (this.replyToComment) {
          if (this.replyToReply) {
            return `å›å¤ @${this.replyToReply.username}...`;
          }
          return `å›å¤ @${this.replyToComment.username}...`;
        }
        return "è¯´ç‚¹ä»€ä¹ˆ...";
      },
      // å–æ¶ˆå›å¤
      cancelReply() {
        formatAppLog("log", "at pages/feed/review-detail.vue:826", "å–æ¶ˆå›å¤");
        this.commentText = "";
        this.replyToComment = null;
        this.replyToReply = null;
      },
      // è¿”å›æŒ‰é’®è§¦æ‘¸å¼€å§‹
      onBackTouchStart() {
        formatAppLog("log", "at pages/feed/review-detail.vue:834", "è¿”å›æŒ‰é’®è§¦æ‘¸å¼€å§‹");
      },
      // è¿”å›æŒ‰é’®è§¦æ‘¸ç»“æŸ
      onBackTouchEnd() {
        formatAppLog("log", "at pages/feed/review-detail.vue:840", "è¿”å›æŒ‰é’®è§¦æ‘¸ç»“æŸ");
      }
    }
  };
  function _sfc_render$I(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "review-detail-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode(
          "view",
          {
            class: "back-button",
            onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args)),
            onTouchstart: _cache[1] || (_cache[1] = (...args) => $options.onBackTouchStart && $options.onBackTouchStart(...args)),
            onTouchend: _cache[2] || (_cache[2] = (...args) => $options.onBackTouchEnd && $options.onBackTouchEnd(...args))
          },
          [
            (vue.openBlock(), vue.createElementBlock("svg", {
              t: "1756246262970",
              class: "icon",
              viewBox: "0 0 1024 1024",
              version: "1.1",
              xmlns: "http://www.w3.org/2000/svg",
              "p-id": "904",
              width: "32",
              height: "32"
            }, [
              vue.createElementVNode("path", {
                d: "M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",
                fill: "#666666",
                "p-id": "905"
              })
            ]))
          ],
          32
          /* NEED_HYDRATION */
        ),
        vue.createElementVNode("view", { class: "header-title" }, "ä¹¦è¯„è¯¦æƒ…"),
        vue.createElementVNode("view", {
          class: "more-button",
          onClick: _cache[3] || (_cache[3] = (...args) => $options.showMoreOptions && $options.showMoreOptions(...args))
        }, [
          (vue.openBlock(), vue.createElementBlock("svg", {
            t: "1756202704554",
            class: "icon",
            viewBox: "0 0 1024 1024",
            version: "1.1",
            xmlns: "http://www.w3.org/2000/svg",
            width: "32",
            height: "32"
          }, [
            vue.createElementVNode("path", {
              d: "M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",
              fill: "#333333"
            }),
            vue.createElementVNode("path", {
              d: "M464 688a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z",
              fill: "#333333"
            })
          ]))
        ])
      ]),
      vue.createCommentVNode(" å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "content-scroll" }, [
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-container"
        }, [
          vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½æ•°æ®...")
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
        $data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "error-container"
        }, [
          vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
          vue.createElementVNode(
            "text",
            { class: "error-text" },
            vue.toDisplayString($data.errorMessage),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "error-actions" }, [
            vue.createElementVNode("button", {
              class: "retry-button",
              onClick: _cache[4] || (_cache[4] = (...args) => $options.loadPostDetail && $options.loadPostDetail(...args))
            }, "é‡æ–°åŠ è½½")
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" ä¹¦è¯„å†…å®¹ "),
        !$data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 2,
          class: "review-content"
        }, [
          vue.createCommentVNode(" è¯„è®ºè€…ä¿¡æ¯ "),
          vue.createElementVNode("view", { class: "reviewer-section" }, [
            vue.createElementVNode("view", {
              class: "reviewer-info",
              onClick: _cache[5] || (_cache[5] = (...args) => $options.goToUserProfile && $options.goToUserProfile(...args))
            }, [
              vue.createElementVNode("image", {
                class: "reviewer-avatar",
                src: $data.reviewDetail.avatar,
                mode: "aspectFill"
              }, null, 8, ["src"]),
              vue.createElementVNode("view", { class: "reviewer-details" }, [
                vue.createElementVNode(
                  "text",
                  { class: "reviewer-name" },
                  vue.toDisplayString($data.reviewDetail.reviewer),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode("view", { class: "review-meta" }, [
                  vue.createElementVNode("view", { class: "rating-stars" }, [
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList($data.reviewDetail.rating, (n) => {
                        return vue.openBlock(), vue.createElementBlock("text", {
                          class: "star",
                          key: n
                        }, "â˜…");
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    )),
                    (vue.openBlock(true), vue.createElementBlock(
                      vue.Fragment,
                      null,
                      vue.renderList(5 - $data.reviewDetail.rating, (n) => {
                        return vue.openBlock(), vue.createElementBlock("text", {
                          class: "star empty",
                          key: n
                        }, "â˜†");
                      }),
                      128
                      /* KEYED_FRAGMENT */
                    ))
                  ]),
                  vue.createElementVNode(
                    "text",
                    { class: "review-time" },
                    vue.toDisplayString($data.reviewDetail.time),
                    1
                    /* TEXT */
                  )
                ])
              ])
            ]),
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["follow-button", { "followed": $data.reviewDetail.isFollowed }]),
                onClick: _cache[6] || (_cache[6] = (...args) => $options.toggleFollow && $options.toggleFollow(...args))
              },
              [
                vue.createElementVNode(
                  "text",
                  { class: "follow-text" },
                  vue.toDisplayString($data.reviewDetail.isFollowed ? "å·²å…³æ³¨" : "å…³æ³¨"),
                  1
                  /* TEXT */
                )
              ],
              2
              /* CLASS */
            )
          ]),
          vue.createCommentVNode(" ä¹¦è¯„å†…å®¹ "),
          $data.reviewDetail.content ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "text-content"
          }, [
            vue.createElementVNode(
              "text",
              { class: "content-text" },
              vue.toDisplayString($data.reviewDetail.content),
              1
              /* TEXT */
            )
          ])) : vue.createCommentVNode("v-if", true),
          vue.createCommentVNode(" å›¾ç‰‡å†…å®¹ "),
          $data.reviewDetail.images && $data.reviewDetail.images.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 1,
            class: "image-content"
          }, [
            vue.createElementVNode("view", { class: "image-grid" }, [
              (vue.openBlock(true), vue.createElementBlock(
                vue.Fragment,
                null,
                vue.renderList($data.reviewDetail.images, (image, index) => {
                  return vue.openBlock(), vue.createElementBlock("image", {
                    key: index,
                    class: "content-image",
                    src: image,
                    mode: "aspectFill",
                    onClick: ($event) => $options.previewImage($data.reviewDetail.images, index)
                  }, null, 8, ["src", "onClick"]);
                }),
                128
                /* KEYED_FRAGMENT */
              ))
            ])
          ])) : vue.createCommentVNode("v-if", true),
          vue.createCommentVNode(" äº’åŠ¨æŒ‡æ ‡ "),
          vue.createElementVNode("view", { class: "engagement-metrics" }, [
            vue.createElementVNode("view", {
              class: "metric-item",
              onClick: _cache[7] || (_cache[7] = (...args) => $options.handleLike && $options.handleLike(...args))
            }, [
              vue.createElementVNode(
                "text",
                {
                  class: vue.normalizeClass(["metric-icon", { "active": $data.reviewDetail.isLiked }])
                },
                "ğŸ‘",
                2
                /* CLASS */
              ),
              vue.createElementVNode(
                "text",
                {
                  class: vue.normalizeClass(["metric-count", { "active": $data.reviewDetail.isLiked }])
                },
                vue.toDisplayString($options.formatCount($data.reviewDetail.likes)),
                3
                /* TEXT, CLASS */
              )
            ]),
            vue.createElementVNode("view", {
              class: "metric-item",
              onClick: _cache[8] || (_cache[8] = (...args) => $options.handleDislike && $options.handleDislike(...args))
            }, [
              vue.createElementVNode(
                "text",
                {
                  class: vue.normalizeClass(["metric-icon", { "active": $data.reviewDetail.isDisliked }])
                },
                "ğŸ‘",
                2
                /* CLASS */
              ),
              vue.createElementVNode(
                "text",
                {
                  class: vue.normalizeClass(["metric-count", { "active": $data.reviewDetail.isDisliked }])
                },
                vue.toDisplayString($options.formatCount($data.reviewDetail.dislikes)),
                3
                /* TEXT, CLASS */
              )
            ]),
            vue.createElementVNode("view", {
              class: "metric-item",
              onClick: _cache[9] || (_cache[9] = (...args) => $options.handleFavorite && $options.handleFavorite(...args))
            }, [
              vue.createElementVNode(
                "text",
                {
                  class: vue.normalizeClass(["metric-icon", { "active": $data.reviewDetail.isFavorited }])
                },
                "â­",
                2
                /* CLASS */
              ),
              vue.createElementVNode(
                "text",
                {
                  class: vue.normalizeClass(["metric-count", { "active": $data.reviewDetail.isFavorited }])
                },
                vue.toDisplayString($options.formatCount($data.reviewDetail.favorites)),
                3
                /* TEXT, CLASS */
              )
            ]),
            vue.createElementVNode("view", {
              class: "metric-item",
              onClick: _cache[10] || (_cache[10] = (...args) => $options.handleShare && $options.handleShare(...args))
            }, [
              vue.createElementVNode("text", { class: "metric-icon" }, "ğŸ“¤"),
              vue.createElementVNode("text", { class: "metric-count" }, "åˆ†äº«")
            ])
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" è¯„è®ºåŒºåŸŸ "),
        vue.createElementVNode("view", { class: "comments-section" }, [
          vue.createElementVNode("view", { class: "comments-header" }, [
            vue.createElementVNode(
              "text",
              { class: "comments-title" },
              "è¯„è®º (" + vue.toDisplayString($options.getTotalCommentsCount()) + ")",
              1
              /* TEXT */
            )
          ]),
          vue.createCommentVNode(" è¯„è®ºåˆ—è¡¨ "),
          vue.createElementVNode("view", { class: "comments-list" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.reviewDetail.comments, (comment, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "comment-item",
                  key: index
                }, [
                  vue.createElementVNode("view", { class: "comment-avatar" }, [
                    vue.createElementVNode("image", {
                      class: "comment-user-avatar",
                      src: comment.userAvatar,
                      mode: "aspectFill"
                    }, null, 8, ["src"])
                  ]),
                  vue.createElementVNode("view", { class: "comment-content" }, [
                    vue.createElementVNode("view", { class: "comment-user-info" }, [
                      vue.createElementVNode(
                        "text",
                        { class: "comment-username" },
                        vue.toDisplayString(comment.username),
                        1
                        /* TEXT */
                      ),
                      vue.createElementVNode(
                        "text",
                        { class: "comment-time" },
                        vue.toDisplayString(comment.time),
                        1
                        /* TEXT */
                      )
                    ]),
                    vue.createElementVNode(
                      "text",
                      { class: "comment-text" },
                      vue.toDisplayString(comment.content),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode("view", { class: "comment-actions" }, [
                      vue.createElementVNode("view", {
                        class: "comment-action",
                        onClick: ($event) => $options.likeComment(comment, index)
                      }, [
                        vue.createElementVNode(
                          "text",
                          {
                            class: vue.normalizeClass(["action-icon", { "active": comment.isLiked }])
                          },
                          "ğŸ‘",
                          2
                          /* CLASS */
                        ),
                        vue.createElementVNode(
                          "text",
                          { class: "action-count" },
                          vue.toDisplayString($options.formatCount(comment.likes)),
                          1
                          /* TEXT */
                        )
                      ], 8, ["onClick"]),
                      vue.createElementVNode("view", {
                        class: "comment-action",
                        onClick: ($event) => $options.replyComment(comment)
                      }, [
                        vue.createElementVNode("text", { class: "action-icon" }, "ğŸ’¬"),
                        vue.createElementVNode("text", { class: "action-count" }, "å›å¤")
                      ], 8, ["onClick"])
                    ]),
                    vue.createCommentVNode(" å›å¤åˆ—è¡¨ "),
                    comment.replies && comment.replies.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                      key: 0,
                      class: "replies-list"
                    }, [
                      (vue.openBlock(true), vue.createElementBlock(
                        vue.Fragment,
                        null,
                        vue.renderList(comment.replies, (reply, replyIndex) => {
                          return vue.openBlock(), vue.createElementBlock("view", {
                            class: "reply-item",
                            key: replyIndex
                          }, [
                            vue.createElementVNode("view", { class: "reply-avatar" }, [
                              vue.createElementVNode("image", {
                                class: "reply-user-avatar",
                                src: reply.userAvatar,
                                mode: "aspectFill"
                              }, null, 8, ["src"])
                            ]),
                            vue.createElementVNode("view", { class: "reply-content" }, [
                              vue.createElementVNode("view", { class: "reply-user-info" }, [
                                vue.createElementVNode(
                                  "text",
                                  { class: "reply-username" },
                                  vue.toDisplayString(reply.username),
                                  1
                                  /* TEXT */
                                ),
                                vue.createElementVNode(
                                  "text",
                                  { class: "reply-time" },
                                  vue.toDisplayString(reply.time),
                                  1
                                  /* TEXT */
                                )
                              ]),
                              vue.createElementVNode("text", { class: "reply-text" }, [
                                vue.createElementVNode(
                                  "text",
                                  { class: "reply-to" },
                                  "å›å¤ @" + vue.toDisplayString(reply.replyTo) + "ï¼š",
                                  1
                                  /* TEXT */
                                ),
                                vue.createTextVNode(
                                  " " + vue.toDisplayString(reply.content),
                                  1
                                  /* TEXT */
                                )
                              ]),
                              vue.createElementVNode("view", { class: "reply-actions" }, [
                                vue.createElementVNode("view", {
                                  class: "reply-action",
                                  onClick: ($event) => $options.likeReply(comment, replyIndex)
                                }, [
                                  vue.createElementVNode(
                                    "text",
                                    {
                                      class: vue.normalizeClass(["action-icon", { "active": reply.isLiked }])
                                    },
                                    "ğŸ‘",
                                    2
                                    /* CLASS */
                                  ),
                                  vue.createElementVNode(
                                    "text",
                                    { class: "action-count" },
                                    vue.toDisplayString($options.formatCount(reply.likes)),
                                    1
                                    /* TEXT */
                                  )
                                ], 8, ["onClick"]),
                                vue.createElementVNode("view", {
                                  class: "reply-action",
                                  onClick: ($event) => $options.handleReplyToReply(comment, reply)
                                }, [
                                  vue.createElementVNode("text", { class: "action-icon" }, "ğŸ’¬"),
                                  vue.createElementVNode("text", { class: "action-count" }, "å›å¤")
                                ], 8, ["onClick"])
                              ])
                            ])
                          ]);
                        }),
                        128
                        /* KEYED_FRAGMENT */
                      ))
                    ])) : vue.createCommentVNode("v-if", true)
                  ])
                ]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨è¯„è®ºè¾“å…¥æ¡† "),
      vue.createElementVNode("view", { class: "comment-input-section" }, [
        vue.createElementVNode("view", { class: "comment-input-container" }, [
          vue.withDirectives(vue.createElementVNode("input", {
            class: "comment-input",
            "onUpdate:modelValue": _cache[11] || (_cache[11] = ($event) => $data.commentText = $event),
            placeholder: $options.getInputPlaceholder(),
            onFocus: _cache[12] || (_cache[12] = (...args) => $options.onInputFocus && $options.onInputFocus(...args)),
            onBlur: _cache[13] || (_cache[13] = (...args) => $options.onInputBlur && $options.onInputBlur(...args))
          }, null, 40, ["placeholder"]), [
            [vue.vModelText, $data.commentText]
          ]),
          vue.createCommentVNode(" å–æ¶ˆå›å¤æŒ‰é’® "),
          $data.replyToComment ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "cancel-reply-btn",
            onClick: _cache[14] || (_cache[14] = (...args) => $options.cancelReply && $options.cancelReply(...args))
          }, [
            vue.createElementVNode("text", { class: "cancel-reply-text" }, "å–æ¶ˆ")
          ])) : vue.createCommentVNode("v-if", true),
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["send-button", { "active": $data.commentText.trim() }]),
              onClick: _cache[15] || (_cache[15] = (...args) => $options.submitComment && $options.submitComment(...args))
            },
            [
              vue.createElementVNode("text", { class: "send-text" }, "å‘é€")
            ],
            2
            /* CLASS */
          )
        ])
      ]),
      vue.createCommentVNode(" æ›´å¤šé€‰é¡¹å¼¹çª— "),
      $data.showMoreModal ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "more-options-modal",
        onClick: _cache[20] || (_cache[20] = (...args) => $options.hideMoreOptions && $options.hideMoreOptions(...args))
      }, [
        vue.createElementVNode("view", {
          class: "options-content",
          onClick: _cache[19] || (_cache[19] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", {
            class: "option-item",
            onClick: _cache[16] || (_cache[16] = (...args) => $options.reportReview && $options.reportReview(...args))
          }, [
            vue.createElementVNode("text", { class: "option-text" }, "ä¸¾æŠ¥")
          ]),
          vue.createElementVNode("view", {
            class: "option-item",
            onClick: _cache[17] || (_cache[17] = (...args) => $options.copyLink && $options.copyLink(...args))
          }, [
            vue.createElementVNode("text", { class: "option-text" }, "å¤åˆ¶é“¾æ¥")
          ]),
          vue.createElementVNode("view", {
            class: "option-item",
            onClick: _cache[18] || (_cache[18] = (...args) => $options.hideMoreOptions && $options.hideMoreOptions(...args))
          }, [
            vue.createElementVNode("text", { class: "option-text" }, "å–æ¶ˆ")
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const PagesFeedReviewDetail = /* @__PURE__ */ _export_sfc(_sfc_main$J, [["render", _sfc_render$I], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/feed/review-detail.vue"]]);
  const _sfc_main$I = {
    name: "AchievementsPage",
    data() {
      return {
        userId: 1000100,
        // é»˜è®¤ç”¨æˆ·IDï¼Œä»é¡µé¢å‚æ•°è·å–
        achievements: [],
        // æˆå°±æ•°æ®åˆ—è¡¨
        stats: {
          totalAchievements: 0,
          completedAchievements: 0,
          completionRate: 0
        },
        loading: false,
        hasError: false,
        errorMessage: ""
      };
    },
    onLoad(options) {
      if (options.userId) {
        this.userId = parseInt(options.userId);
        formatAppLog("log", "at pages/feed/achievements.vue:122", "æ¥æ”¶åˆ°çš„ç”¨æˆ·ID:", this.userId);
      }
      this.loadAchievementData();
    },
    methods: {
      // åŠ è½½æˆå°±æ•°æ®
      async loadAchievementData() {
        try {
          formatAppLog("log", "at pages/feed/achievements.vue:131", "=== å¼€å§‹åŠ è½½æˆå°±æ•°æ® ===");
          formatAppLog("log", "at pages/feed/achievements.vue:132", "ç”¨æˆ·ID:", this.userId);
          formatAppLog("log", "at pages/feed/achievements.vue:133", "è¯·æ±‚URL:", `http://localhost:8888/api/achievement/data?userId=${this.userId}`);
          this.loading = true;
          this.hasError = false;
          this.errorMessage = "";
          const [achievementsResponse, statsResponse] = await Promise.all([
            uni.request({
              url: `http://localhost:8888/api/achievement/data?userId=${this.userId}`,
              method: "GET",
              header: {
                "Content-Type": "application/json"
              }
            }),
            uni.request({
              url: `http://localhost:8888/api/achievement/stats?userId=${this.userId}`,
              method: "GET",
              header: {
                "Content-Type": "application/json"
              }
            })
          ]);
          formatAppLog("log", "at pages/feed/achievements.vue:156", "=== æˆå°±æ•°æ®APIå“åº”è¯¦æƒ… ===");
          formatAppLog("log", "at pages/feed/achievements.vue:157", "æˆå°±æ•°æ®çŠ¶æ€ç :", achievementsResponse.statusCode);
          formatAppLog("log", "at pages/feed/achievements.vue:158", "æˆå°±æ•°æ®å“åº”:", achievementsResponse.data);
          formatAppLog("log", "at pages/feed/achievements.vue:160", "=== ç»Ÿè®¡ä¿¡æ¯APIå“åº”è¯¦æƒ… ===");
          formatAppLog("log", "at pages/feed/achievements.vue:161", "ç»Ÿè®¡ä¿¡æ¯çŠ¶æ€ç :", statsResponse.statusCode);
          formatAppLog("log", "at pages/feed/achievements.vue:162", "ç»Ÿè®¡ä¿¡æ¯å“åº”:", statsResponse.data);
          if (achievementsResponse.statusCode === 200 && achievementsResponse.data.success) {
            this.achievements = achievementsResponse.data.data || [];
            formatAppLog("log", "at pages/feed/achievements.vue:167", "æˆåŠŸåŠ è½½æˆå°±æ•°æ®ï¼Œå…±", this.achievements.length, "æ¡");
            uni.showToast({
              title: `åŠ è½½äº†${this.achievements.length}ä¸ªæˆå°±`,
              icon: "success",
              duration: 2e3
            });
          } else {
            formatAppLog("error", "at pages/feed/achievements.vue:176", "åŠ è½½æˆå°±æ•°æ®å¤±è´¥:", achievementsResponse.data.message);
            this.hasError = true;
            this.errorMessage = achievementsResponse.data.message || "åŠ è½½æˆå°±æ•°æ®å¤±è´¥";
          }
          if (statsResponse.statusCode === 200 && statsResponse.data.success) {
            this.stats = statsResponse.data.data || this.stats;
            formatAppLog("log", "at pages/feed/achievements.vue:184", "æˆåŠŸåŠ è½½ç»Ÿè®¡ä¿¡æ¯:", this.stats);
          } else {
            formatAppLog("error", "at pages/feed/achievements.vue:186", "åŠ è½½ç»Ÿè®¡ä¿¡æ¯å¤±è´¥:", statsResponse.data.message);
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/achievements.vue:190", "åŠ è½½æˆå°±æ•°æ®å¼‚å¸¸:", error);
          this.hasError = true;
          this.errorMessage = "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®";
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        } finally {
          this.loading = false;
        }
      },
      // åˆ·æ–°æ•°æ®
      async refreshData() {
        formatAppLog("log", "at pages/feed/achievements.vue:204", "å¼€å§‹åˆ·æ–°æˆå°±æ•°æ®");
        this.hasError = false;
        this.errorMessage = "";
        try {
          await this.loadAchievementData();
          uni.showToast({
            title: "åˆ·æ–°æˆåŠŸ",
            icon: "success"
          });
        } catch (error) {
          formatAppLog("error", "at pages/feed/achievements.vue:215", "åˆ·æ–°æ•°æ®å¤±è´¥:", error);
          this.hasError = true;
          this.errorMessage = "åˆ·æ–°æ•°æ®å¤±è´¥ï¼Œè¯·é‡è¯•";
        }
      },
      // æµ‹è¯•åç«¯è¿æ¥
      async testConnection() {
        try {
          formatAppLog("log", "at pages/feed/achievements.vue:224", "=== æµ‹è¯•æˆå°±åç«¯è¿æ¥ ===");
          const response = await uni.request({
            url: "http://localhost:8888/api/achievement/test",
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/achievements.vue:233", "æµ‹è¯•è¿æ¥å“åº”:", response);
          if (response.statusCode === 200) {
            uni.showToast({
              title: "åç«¯è¿æ¥æ­£å¸¸",
              icon: "success"
            });
          } else {
            uni.showToast({
              title: "åç«¯è¿æ¥å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/achievements.vue:247", "æµ‹è¯•è¿æ¥å¼‚å¸¸:", error);
          uni.showToast({
            title: "è¿æ¥å¼‚å¸¸",
            icon: "error"
          });
        }
      },
      // æ ¼å¼åŒ–æ—¶é—´æ˜¾ç¤º
      formatTimeAgo(date) {
        if (!date)
          return "åˆšåˆš";
        const now = /* @__PURE__ */ new Date();
        const time = new Date(date);
        const diff = now - time;
        const minutes = Math.floor(diff / (1e3 * 60));
        const hours = Math.floor(diff / (1e3 * 60 * 60));
        const days = Math.floor(diff / (1e3 * 60 * 60 * 24));
        if (minutes < 1)
          return "åˆšåˆš";
        if (minutes < 60)
          return minutes + "åˆ†é’Ÿå‰";
        if (hours < 24)
          return hours + "å°æ—¶å‰";
        if (days < 7)
          return days + "å¤©å‰";
        return "ä¸€å‘¨å‰";
      },
      // è·å–æˆå°±å›¾æ ‡
      getAchievementIcon(achievement) {
        if (achievement.iconUrl) {
          return achievement.iconUrl;
        }
        if (achievement.status !== void 0) {
          switch (achievement.status) {
            case 0:
              return "ğŸ”’";
            case 1:
              return "â³";
            case 2:
              return "ğŸ†";
            default:
              return "ğŸ”’";
          }
        }
        return achievement.isCompleted ? "ğŸ†" : "ğŸ”’";
      },
      // è·å–æˆå°±çŠ¶æ€æ–‡æœ¬
      getAchievementStatusText(achievement) {
        if (achievement.statusText) {
          return achievement.statusText;
        }
        return achievement.isCompleted ? "å·²å®Œæˆ" : "æœªå®Œæˆ";
      },
      // è·å–æˆå°±çŠ¶æ€ç±»å
      getAchievementStatusClass(achievement) {
        if (achievement.status !== void 0) {
          switch (achievement.status) {
            case 0:
              return "locked";
            case 1:
              return "in-progress";
            case 2:
              return "completed";
            default:
              return "locked";
          }
        }
        return achievement.isCompleted ? "completed" : "locked";
      },
      goBack() {
        uni.navigateBack();
      },
      addAchievement() {
        uni.showToast({
          title: "æ·»åŠ æˆå°±åŠŸèƒ½",
          icon: "none"
        });
      }
    }
  };
  function _sfc_render$H(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "achievements-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">12:00</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createCommentVNode(' <view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="page-title">æˆå°±</text> '),
        vue.createCommentVNode(' <view class="placeholder"></view> ')
      ]),
      vue.createCommentVNode(" æˆå°±ç»Ÿè®¡å¡ç‰‡ "),
      vue.createElementVNode("view", { class: "stats-card" }, [
        vue.createElementVNode("view", { class: "stats-content" }, [
          vue.createElementVNode("view", { class: "stats-item" }, [
            vue.createElementVNode(
              "text",
              { class: "stats-number" },
              vue.toDisplayString($data.stats.completedAchievements),
              1
              /* TEXT */
            ),
            vue.createElementVNode("text", { class: "stats-label" }, "å·²è·å¾—")
          ]),
          vue.createElementVNode("view", { class: "stats-divider" }),
          vue.createElementVNode("view", { class: "stats-item" }, [
            vue.createElementVNode(
              "text",
              { class: "stats-number" },
              vue.toDisplayString($data.stats.totalAchievements),
              1
              /* TEXT */
            ),
            vue.createElementVNode("text", { class: "stats-label" }, "æ€»æˆå°±")
          ]),
          vue.createElementVNode("view", { class: "stats-divider" }),
          vue.createElementVNode("view", { class: "stats-item" }, [
            vue.createElementVNode(
              "text",
              { class: "stats-number" },
              vue.toDisplayString($data.stats.completionRate) + "%",
              1
              /* TEXT */
            ),
            vue.createElementVNode("text", { class: "stats-label" }, "å®Œæˆåº¦")
          ])
        ])
      ]),
      vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
      $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "loading-container"
      }, [
        vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½æˆå°±æ•°æ®...")
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
      $data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        class: "error-container"
      }, [
        vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
        vue.createElementVNode(
          "text",
          { class: "error-text" },
          vue.toDisplayString($data.errorMessage),
          1
          /* TEXT */
        ),
        vue.createElementVNode("view", { class: "error-actions" }, [
          vue.createElementVNode("button", {
            class: "retry-button",
            onClick: _cache[0] || (_cache[0] = (...args) => $options.loadAchievementData && $options.loadAchievementData(...args))
          }, "é‡æ–°åŠ è½½"),
          vue.createElementVNode("button", {
            class: "retry-button",
            onClick: _cache[1] || (_cache[1] = (...args) => $options.testConnection && $options.testConnection(...args))
          }, "æµ‹è¯•è¿æ¥")
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" æˆå°±åˆ—è¡¨ "),
      !$data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 2,
        class: "achievements-list"
      }, [
        vue.createCommentVNode(" æˆå°±é¡¹ç›® "),
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($data.achievements, (achievement, index) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              class: "achievement-item",
              key: achievement.id
            }, [
              vue.createElementVNode("view", { class: "achievement-icon" }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["icon-badge", $options.getAchievementStatusClass(achievement)])
                  },
                  [
                    vue.createElementVNode(
                      "text",
                      { class: "icon-text" },
                      vue.toDisplayString($options.getAchievementIcon(achievement)),
                      1
                      /* TEXT */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ]),
              vue.createElementVNode("view", { class: "achievement-content" }, [
                vue.createElementVNode(
                  "text",
                  { class: "achievement-title" },
                  vue.toDisplayString(achievement.name),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "text",
                  { class: "achievement-desc" },
                  vue.toDisplayString(achievement.description),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode("view", { class: "achievement-meta" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "achievement-date" },
                    vue.toDisplayString(achievement.completedAt ? $options.formatTimeAgo(achievement.completedAt) : "æœªè§£é”"),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "view",
                    {
                      class: vue.normalizeClass(["achievement-status", $options.getAchievementStatusClass(achievement)])
                    },
                    [
                      vue.createElementVNode(
                        "text",
                        { class: "status-text" },
                        vue.toDisplayString($options.getAchievementStatusText(achievement)),
                        1
                        /* TEXT */
                      )
                    ],
                    2
                    /* CLASS */
                  )
                ])
              ])
            ]);
          }),
          128
          /* KEYED_FRAGMENT */
        )),
        vue.createCommentVNode(" ç©ºçŠ¶æ€ "),
        $data.achievements.length === 0 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "empty-state"
        }, [
          vue.createElementVNode("text", { class: "empty-icon" }, "ğŸ†"),
          vue.createElementVNode("text", { class: "empty-text" }, "æš‚æ— æˆå°±æ•°æ®")
        ])) : vue.createCommentVNode("v-if", true)
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" æµ®åŠ¨æ“ä½œæŒ‰é’® "),
      vue.createCommentVNode(' <view class="fab-button" @click="addAchievement">\n			<text class="fab-icon">+</text>\n		</view> '),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesFeedAchievements = /* @__PURE__ */ _export_sfc(_sfc_main$I, [["render", _sfc_render$H], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/feed/achievements.vue"]]);
  const _sfc_main$H = {
    data() {
      return {
        keyword: ""
      };
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      search() {
        uni.showToast({
          title: "æœç´¢åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      }
    }
  };
  function _sfc_render$G(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "search-page" }, [
      vue.createElementVNode("view", { class: "search-header" }, [
        vue.createElementVNode("view", {
          class: "back-button",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
        }, [
          vue.createElementVNode("text", null, "è¿”å›")
        ]),
        vue.withDirectives(vue.createElementVNode(
          "input",
          {
            class: "search-input",
            "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $data.keyword = $event),
            placeholder: "æœç´¢å†…å®¹..."
          },
          null,
          512
          /* NEED_PATCH */
        ), [
          [vue.vModelText, $data.keyword]
        ]),
        vue.createElementVNode("view", {
          class: "search-btn",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.search && $options.search(...args))
        }, "æœç´¢")
      ]),
      vue.createElementVNode("view", { class: "search-results" }, [
        vue.createElementVNode("text", null, "æœç´¢ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º")
      ])
    ]);
  }
  const PagesFeedSearch = /* @__PURE__ */ _export_sfc(_sfc_main$H, [["render", _sfc_render$G], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/feed/search.vue"]]);
  const _sfc_main$G = {
    name: "LikesDislikesPage",
    data() {
      return {
        likesExpanded: true,
        dislikesExpanded: true,
        likesList: [],
        dislikesList: [],
        showModal: false,
        modalType: "like",
        // 'like' or 'dislike'
        inputValue: "",
        isEditing: false,
        editingIndex: -1,
        editingId: null,
        userId: 1000100,
        // é»˜è®¤ç”¨æˆ·IDï¼Œä»é¡µé¢å‚æ•°è·å–
        loading: false,
        errorMessage: "",
        hasError: false
      };
    },
    onLoad(options) {
      if (options.userId) {
        this.userId = parseInt(options.userId);
      }
      formatAppLog("log", "at pages/feed/likes-dislikes.vue:181", "é¡µé¢åŠ è½½ï¼Œç”¨æˆ·ID:", this.userId);
      this.loadLikesDislikesData();
    },
    computed: {
      likesCount() {
        return this.likesList.length;
      },
      dislikesCount() {
        return this.dislikesList.length;
      },
      totalCount() {
        return this.likesCount + this.dislikesCount;
      }
    },
    methods: {
      // åŠ è½½å–œæ¬¢è®¨åŒæ•°æ®
      async loadLikesDislikesData() {
        try {
          formatAppLog("log", "at pages/feed/likes-dislikes.vue:200", "=== å¼€å§‹åŠ è½½å–œæ¬¢è®¨åŒæ•°æ® ===");
          formatAppLog("log", "at pages/feed/likes-dislikes.vue:201", "ç”¨æˆ·ID:", this.userId);
          formatAppLog("log", "at pages/feed/likes-dislikes.vue:202", "è¯·æ±‚URL:", `http://localhost:8888/api/likes-dislikes/data?userId=${this.userId}`);
          this.loading = true;
          this.hasError = false;
          this.errorMessage = "";
          const response = await uni.request({
            url: `http://localhost:8888/api/likes-dislikes/data?userId=${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/likes-dislikes.vue:215", "=== APIå“åº”è¯¦æƒ… ===");
          formatAppLog("log", "at pages/feed/likes-dislikes.vue:216", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/feed/likes-dislikes.vue:217", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            const data = response.data.data;
            this.likesList = data.likes || [];
            this.dislikesList = data.dislikes || [];
            formatAppLog("log", "at pages/feed/likes-dislikes.vue:224", "æˆåŠŸåŠ è½½å–œæ¬¢è®¨åŒæ•°æ®ï¼Œå–œæ¬¢", this.likesList.length, "æ¡ï¼Œè®¨åŒ", this.dislikesList.length, "æ¡");
            if (this.likesList.length === 0 && this.dislikesList.length === 0) {
              this.hasError = true;
              this.errorMessage = "æš‚æ— å–œæ¬¢è®¨åŒæ•°æ®ï¼Œè¯·æ·»åŠ ä¸€äº›å†…å®¹";
            }
          } else {
            formatAppLog("error", "at pages/feed/likes-dislikes.vue:231", "åŠ è½½å–œæ¬¢è®¨åŒæ•°æ®å¤±è´¥:", response.data.message);
            this.hasError = true;
            this.errorMessage = response.data.message || "åŠ è½½æ•°æ®å¤±è´¥";
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/likes-dislikes.vue:236", "åŠ è½½å–œæ¬¢è®¨åŒæ•°æ®å¼‚å¸¸:", error);
          this.hasError = true;
          this.errorMessage = "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®";
        } finally {
          this.loading = false;
        }
      },
      // æµ‹è¯•åç«¯è¿æ¥
      async testConnection() {
        try {
          formatAppLog("log", "at pages/feed/likes-dislikes.vue:247", "=== æµ‹è¯•åç«¯è¿æ¥ ===");
          const response = await uni.request({
            url: "http://localhost:8888/api/likes-dislikes/test",
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/likes-dislikes.vue:256", "æµ‹è¯•è¿æ¥å“åº”:", response);
          if (response.statusCode === 200) {
            uni.showToast({
              title: "åç«¯è¿æ¥æ­£å¸¸",
              icon: "success"
            });
          } else {
            uni.showToast({
              title: "åç«¯è¿æ¥å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/likes-dislikes.vue:270", "æµ‹è¯•è¿æ¥å¼‚å¸¸:", error);
          uni.showToast({
            title: "è¿æ¥å¼‚å¸¸",
            icon: "error"
          });
        }
      },
      goBack() {
        uni.navigateBack();
      },
      toggleLikes() {
        this.likesExpanded = !this.likesExpanded;
      },
      toggleDislikes() {
        this.dislikesExpanded = !this.dislikesExpanded;
      },
      showAddModal() {
        this.modalType = "like";
        this.isEditing = false;
        this.inputValue = "";
        this.showModal = true;
      },
      hideModal() {
        this.showModal = false;
        this.inputValue = "";
        this.isEditing = false;
        this.editingIndex = -1;
        this.editingId = null;
      },
      addItem(type) {
        this.modalType = type;
        this.isEditing = false;
        this.inputValue = "";
        this.showModal = true;
      },
      editItem(type, index) {
        this.modalType = type;
        this.isEditing = true;
        this.editingIndex = index;
        const item = type === "like" ? this.likesList[index] : this.dislikesList[index];
        this.inputValue = item.text || item;
        this.editingId = item.id || null;
        this.showModal = true;
      },
      async deleteItem(type, index) {
        uni.showModal({
          title: "ç¡®è®¤åˆ é™¤",
          content: "ç¡®å®šè¦åˆ é™¤è¿™ä¸ªé¡¹ç›®å—ï¼Ÿ",
          success: async (res) => {
            if (res.confirm) {
              try {
                const item = type === "like" ? this.likesList[index] : this.dislikesList[index];
                const itemId = item.id || item;
                const response = await uni.request({
                  url: `http://localhost:8888/api/likes-dislikes/delete-${type}`,
                  method: "POST",
                  data: {
                    userId: this.userId,
                    [type + "Id"]: itemId
                  },
                  header: {
                    "Content-Type": "application/json"
                  }
                });
                if (response.statusCode === 200 && response.data.success) {
                  if (type === "like") {
                    this.likesList.splice(index, 1);
                  } else {
                    this.dislikesList.splice(index, 1);
                  }
                  uni.showToast({
                    title: "åˆ é™¤æˆåŠŸ",
                    icon: "success"
                  });
                } else {
                  uni.showToast({
                    title: response.data.message || "åˆ é™¤å¤±è´¥",
                    icon: "error"
                  });
                }
              } catch (error) {
                formatAppLog("error", "at pages/feed/likes-dislikes.vue:355", "åˆ é™¤æ“ä½œå¼‚å¸¸:", error);
                uni.showToast({
                  title: "åˆ é™¤å¤±è´¥",
                  icon: "error"
                });
              }
            }
          }
        });
      },
      async confirmAction() {
        if (!this.inputValue.trim()) {
          uni.showToast({
            title: "è¯·è¾“å…¥å†…å®¹",
            icon: "none"
          });
          return;
        }
        try {
          if (this.isEditing) {
            const response = await uni.request({
              url: `http://localhost:8888/api/likes-dislikes/edit-${this.modalType}`,
              method: "POST",
              data: {
                userId: this.userId,
                [this.modalType + "Id"]: this.editingId,
                [this.modalType + "Text"]: this.inputValue.trim(),
                [this.modalType + "Type"]: "general"
              },
              header: {
                "Content-Type": "application/json"
              }
            });
            if (response.statusCode === 200 && response.data.success) {
              const item = this.modalType === "like" ? this.likesList[this.editingIndex] : this.dislikesList[this.editingIndex];
              item.text = this.inputValue.trim();
              item.updatedAt = /* @__PURE__ */ new Date();
              uni.showToast({
                title: "ç¼–è¾‘æˆåŠŸ",
                icon: "success"
              });
            } else {
              uni.showToast({
                title: response.data.message || "ç¼–è¾‘å¤±è´¥",
                icon: "error"
              });
            }
          } else {
            const response = await uni.request({
              url: `http://localhost:8888/api/likes-dislikes/add-${this.modalType}`,
              method: "POST",
              data: {
                userId: this.userId,
                [this.modalType + "Text"]: this.inputValue.trim(),
                [this.modalType + "Type"]: "general"
              },
              header: {
                "Content-Type": "application/json"
              }
            });
            if (response.statusCode === 200 && response.data.success) {
              const newItem = {
                id: response.data.data,
                text: this.inputValue.trim(),
                type: "general",
                createdAt: /* @__PURE__ */ new Date(),
                updatedAt: /* @__PURE__ */ new Date(),
                timeAgo: "åˆšåˆš"
              };
              if (this.modalType === "like") {
                this.likesList.unshift(newItem);
              } else {
                this.dislikesList.unshift(newItem);
              }
              uni.showToast({
                title: "æ·»åŠ æˆåŠŸ",
                icon: "success"
              });
            } else {
              uni.showToast({
                title: response.data.message || "æ·»åŠ å¤±è´¥",
                icon: "error"
              });
            }
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/likes-dislikes.vue:451", "æ“ä½œå¼‚å¸¸:", error);
          uni.showToast({
            title: "æ“ä½œå¤±è´¥",
            icon: "error"
          });
        }
        this.hideModal();
      }
    }
  };
  function _sfc_render$F(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "likes-dislikes-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createCommentVNode(' <view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view> '),
        vue.createCommentVNode(' <text class="page-title">å–œæ¶</text> '),
        vue.createCommentVNode(' <view class="placeholder"></view> ')
      ]),
      vue.createCommentVNode(" ç»Ÿè®¡å¡ç‰‡ "),
      vue.createElementVNode("view", { class: "stats-card" }, [
        vue.createElementVNode("view", { class: "stats-content" }, [
          vue.createElementVNode("view", { class: "stats-item" }, [
            vue.createElementVNode(
              "text",
              { class: "stats-number" },
              vue.toDisplayString($options.likesCount),
              1
              /* TEXT */
            ),
            vue.createElementVNode("text", { class: "stats-label" }, "å–œæ¬¢")
          ]),
          vue.createElementVNode("view", { class: "stats-divider" }),
          vue.createElementVNode("view", { class: "stats-item" }, [
            vue.createElementVNode(
              "text",
              { class: "stats-number" },
              vue.toDisplayString($options.dislikesCount),
              1
              /* TEXT */
            ),
            vue.createElementVNode("text", { class: "stats-label" }, "è®¨åŒ")
          ]),
          vue.createElementVNode("view", { class: "stats-divider" }),
          vue.createElementVNode("view", { class: "stats-item" }, [
            vue.createElementVNode(
              "text",
              { class: "stats-number" },
              vue.toDisplayString($options.totalCount),
              1
              /* TEXT */
            ),
            vue.createElementVNode("text", { class: "stats-label" }, "æ€»è®¡")
          ])
        ])
      ]),
      vue.createCommentVNode(" å–œæ¬¢åˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "preference-section" }, [
        vue.createElementVNode("view", {
          class: "section-header",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleLikes && $options.toggleLikes(...args))
        }, [
          vue.createElementVNode("text", { class: "section-title" }, "æˆ‘å–œæ¬¢çš„"),
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["expand-icon", { expanded: $data.likesExpanded }])
            },
            [
              vue.createElementVNode("text", { class: "expand-arrow" }, "^")
            ],
            2
            /* CLASS */
          )
        ]),
        $data.likesExpanded ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "section-content"
        }, [
          vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
          $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "loading-container"
          }, [
            vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½æ•°æ®...")
          ])) : vue.createCommentVNode("v-if", true),
          vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
          $data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 1,
            class: "error-container"
          }, [
            vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
            vue.createElementVNode(
              "text",
              { class: "error-text" },
              vue.toDisplayString($data.errorMessage),
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", { class: "error-actions" }, [
              vue.createElementVNode("button", {
                class: "retry-button",
                onClick: _cache[1] || (_cache[1] = (...args) => $options.loadLikesDislikesData && $options.loadLikesDislikesData(...args))
              }, "é‡æ–°åŠ è½½"),
              vue.createElementVNode("button", {
                class: "retry-button",
                onClick: _cache[2] || (_cache[2] = (...args) => $options.testConnection && $options.testConnection(...args))
              }, "æµ‹è¯•è¿æ¥")
            ])
          ])) : vue.createCommentVNode("v-if", true),
          vue.createCommentVNode(" å–œæ¬¢åˆ—è¡¨ "),
          !$data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", { key: 2 }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.likesList, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "preference-item",
                  key: "like-" + index
                }, [
                  vue.createElementVNode("view", { class: "item-icon like-icon" }, [
                    vue.createElementVNode("text", { class: "icon-text" }, "â¤ï¸")
                  ]),
                  vue.createElementVNode("view", { class: "item-content" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "item-text" },
                      vue.toDisplayString(item.text || item),
                      1
                      /* TEXT */
                    ),
                    item.timeAgo ? (vue.openBlock(), vue.createElementBlock(
                      "text",
                      {
                        key: 0,
                        class: "item-time"
                      },
                      vue.toDisplayString(item.timeAgo),
                      1
                      /* TEXT */
                    )) : vue.createCommentVNode("v-if", true)
                  ]),
                  vue.createElementVNode("view", { class: "item-actions" }, [
                    vue.createElementVNode("view", {
                      class: "action-btn edit-btn",
                      onClick: ($event) => $options.editItem("like", index)
                    }, [
                      vue.createElementVNode("text", { class: "action-text" }, "ç¼–è¾‘")
                    ], 8, ["onClick"]),
                    vue.createElementVNode("view", {
                      class: "action-btn delete-btn",
                      onClick: ($event) => $options.deleteItem("like", index)
                    }, [
                      vue.createElementVNode("text", { class: "action-text" }, "åˆ é™¤")
                    ], 8, ["onClick"])
                  ])
                ]);
              }),
              128
              /* KEYED_FRAGMENT */
            )),
            vue.createElementVNode("view", {
              class: "add-item-btn",
              onClick: _cache[3] || (_cache[3] = ($event) => $options.addItem("like"))
            }, [
              vue.createElementVNode("text", { class: "add-text" }, "+ æ·»åŠ å–œæ¬¢")
            ])
          ])) : vue.createCommentVNode("v-if", true)
        ])) : vue.createCommentVNode("v-if", true)
      ]),
      vue.createCommentVNode(" è®¨åŒåˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "preference-section" }, [
        vue.createElementVNode("view", {
          class: "section-header",
          onClick: _cache[4] || (_cache[4] = (...args) => $options.toggleDislikes && $options.toggleDislikes(...args))
        }, [
          vue.createElementVNode("text", { class: "section-title" }, "æˆ‘è®¨åŒçš„"),
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["expand-icon", { expanded: $data.dislikesExpanded }])
            },
            [
              vue.createElementVNode("text", { class: "expand-arrow" }, "^")
            ],
            2
            /* CLASS */
          )
        ]),
        $data.dislikesExpanded ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "section-content"
        }, [
          vue.createCommentVNode(" è®¨åŒåˆ—è¡¨ "),
          !$data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", { key: 0 }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.dislikesList, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "preference-item",
                  key: "dislike-" + index
                }, [
                  vue.createElementVNode("view", { class: "item-icon dislike-icon" }, [
                    vue.createElementVNode("text", { class: "icon-text" }, "ğŸ’”")
                  ]),
                  vue.createElementVNode("view", { class: "item-content" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "item-text" },
                      vue.toDisplayString(item.text || item),
                      1
                      /* TEXT */
                    ),
                    item.timeAgo ? (vue.openBlock(), vue.createElementBlock(
                      "text",
                      {
                        key: 0,
                        class: "item-time"
                      },
                      vue.toDisplayString(item.timeAgo),
                      1
                      /* TEXT */
                    )) : vue.createCommentVNode("v-if", true)
                  ]),
                  vue.createElementVNode("view", { class: "item-actions" }, [
                    vue.createElementVNode("view", {
                      class: "action-btn edit-btn",
                      onClick: ($event) => $options.editItem("dislike", index)
                    }, [
                      vue.createElementVNode("text", { class: "action-text" }, "ç¼–è¾‘")
                    ], 8, ["onClick"]),
                    vue.createElementVNode("view", {
                      class: "action-btn delete-btn",
                      onClick: ($event) => $options.deleteItem("dislike", index)
                    }, [
                      vue.createElementVNode("text", { class: "action-text" }, "åˆ é™¤")
                    ], 8, ["onClick"])
                  ])
                ]);
              }),
              128
              /* KEYED_FRAGMENT */
            )),
            vue.createElementVNode("view", {
              class: "add-item-btn",
              onClick: _cache[5] || (_cache[5] = ($event) => $options.addItem("dislike"))
            }, [
              vue.createElementVNode("text", { class: "add-text" }, "+ æ·»åŠ è®¨åŒ")
            ])
          ])) : vue.createCommentVNode("v-if", true)
        ])) : vue.createCommentVNode("v-if", true)
      ]),
      vue.createCommentVNode(" æµ®åŠ¨æ“ä½œæŒ‰é’® "),
      vue.createCommentVNode(' <view class="fab-button" @click="showAddModal">\n			<text class="fab-icon">+</text>\n		</view> '),
      vue.createCommentVNode(" æ·»åŠ /ç¼–è¾‘æ¨¡æ€æ¡† "),
      $data.showModal ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "modal-overlay",
        onClick: _cache[11] || (_cache[11] = (...args) => $options.hideModal && $options.hideModal(...args))
      }, [
        vue.createElementVNode("view", {
          class: "modal-content",
          onClick: _cache[10] || (_cache[10] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", { class: "modal-header" }, [
            vue.createElementVNode(
              "text",
              { class: "modal-title" },
              vue.toDisplayString($data.isEditing ? "ç¼–è¾‘" : "æ·»åŠ ") + vue.toDisplayString($data.modalType === "like" ? "å–œæ¬¢" : "è®¨åŒ"),
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", {
              class: "close-btn",
              onClick: _cache[6] || (_cache[6] = (...args) => $options.hideModal && $options.hideModal(...args))
            }, [
              vue.createElementVNode("text", { class: "close-text" }, "Ã—")
            ])
          ]),
          vue.createElementVNode("view", { class: "modal-body" }, [
            vue.withDirectives(vue.createElementVNode("input", {
              class: "input-field",
              "onUpdate:modelValue": _cache[7] || (_cache[7] = ($event) => $data.inputValue = $event),
              placeholder: "è¯·è¾“å…¥æ‚¨" + ($data.modalType === "like" ? "å–œæ¬¢" : "è®¨åŒ") + "çš„å†…å®¹",
              maxlength: "50"
            }, null, 8, ["placeholder"]), [
              [vue.vModelText, $data.inputValue]
            ]),
            vue.createElementVNode("view", { class: "modal-actions" }, [
              vue.createElementVNode("view", {
                class: "modal-btn cancel-btn",
                onClick: _cache[8] || (_cache[8] = (...args) => $options.hideModal && $options.hideModal(...args))
              }, [
                vue.createElementVNode("text", { class: "btn-text" }, "å–æ¶ˆ")
              ]),
              vue.createElementVNode("view", {
                class: "modal-btn confirm-btn",
                onClick: _cache[9] || (_cache[9] = (...args) => $options.confirmAction && $options.confirmAction(...args))
              }, [
                vue.createElementVNode("text", { class: "btn-text" }, "ç¡®å®š")
              ])
            ])
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createCommentVNode(' <view class="home-indicator"></view> ')
    ]);
  }
  const PagesFeedLikesDislikes = /* @__PURE__ */ _export_sfc(_sfc_main$G, [["render", _sfc_render$F], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/feed/likes-dislikes.vue"]]);
  const _sfc_main$F = {
    name: "InteractionMessagesPage",
    data() {
      return {
        filterExpanded: false,
        currentFilter: "all",
        userId: 1000100,
        // é»˜è®¤ç”¨æˆ·IDï¼Œä»chat-feedé¡µé¢ä¼ é€’è¿‡æ¥
        loading: false,
        hasError: false,
        errorMessage: "",
        messages: [],
        // ä»åç«¯APIè·å–çš„çœŸå®æ•°æ®
        messageFilters: [
          { type: "all", name: "å…¨éƒ¨æ¶ˆæ¯", icon: "ã€°ï¸" },
          { type: "likes", name: "èµä¸æ”¶è—", icon: "â¤ï¸" },
          /* { type: 'mentions', name: 'æåŠ', icon: '@' }, */
          { type: "received-comments", name: "æ”¶åˆ°çš„è¯„è®º", icon: "ğŸ’¬" },
          { type: "sent-comments", name: "å‘å‡ºçš„è¯„è®º", icon: "ğŸ’¬" }
          /* { type: 'received-danmu', name: 'æ”¶åˆ°çš„å¼¹å¹•', icon: 'å¼¹' },
          { type: 'sent-danmu', name: 'å‘å‡ºçš„å¼¹å¹•', icon: 'å¼¹' } */
        ]
      };
    },
    onLoad(options) {
      if (options.userId) {
        this.userId = parseInt(options.userId);
        formatAppLog("log", "at pages/feed/interaction-messages.vue:129", "æ¥æ”¶åˆ°ç”¨æˆ·ID:", this.userId);
      }
      this.loadInteractionMessages();
    },
    methods: {
      // åŠ è½½äº’åŠ¨æ¶ˆæ¯æ•°æ®
      async loadInteractionMessages() {
        try {
          formatAppLog("log", "at pages/feed/interaction-messages.vue:138", "=== å¼€å§‹åŠ è½½äº’åŠ¨æ¶ˆæ¯æ•°æ® ===");
          formatAppLog("log", "at pages/feed/interaction-messages.vue:139", "ç”¨æˆ·ID:", this.userId);
          formatAppLog("log", "at pages/feed/interaction-messages.vue:140", "ç­›é€‰ç±»å‹:", this.currentFilter);
          formatAppLog("log", "at pages/feed/interaction-messages.vue:141", "è¯·æ±‚URL:", `http://localhost:8888/api/interaction-messages/data?userId=${this.userId}&filterType=${this.currentFilter}`);
          this.loading = true;
          this.hasError = false;
          this.errorMessage = "";
          const response = await uni.request({
            url: `http://localhost:8888/api/interaction-messages/data?userId=${this.userId}&filterType=${this.currentFilter}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/feed/interaction-messages.vue:155", "=== APIå“åº”è¯¦æƒ… ===");
          formatAppLog("log", "at pages/feed/interaction-messages.vue:156", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/feed/interaction-messages.vue:157", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200) {
            formatAppLog("log", "at pages/feed/interaction-messages.vue:161", "å“åº”æ•°æ®ç»“æ„æ£€æŸ¥:");
            formatAppLog("log", "at pages/feed/interaction-messages.vue:162", "- response.data:", response.data);
            formatAppLog("log", "at pages/feed/interaction-messages.vue:163", "- response.data.success:", response.data.success);
            formatAppLog("log", "at pages/feed/interaction-messages.vue:164", "- response.data.data:", response.data.data);
            let messagesData = [];
            if (response.data && response.data.data && Array.isArray(response.data.data)) {
              messagesData = response.data.data;
            } else if (Array.isArray(response.data)) {
              messagesData = response.data;
            } else {
              formatAppLog("error", "at pages/feed/interaction-messages.vue:175", "æ— æ³•è¯†åˆ«çš„å“åº”æ ¼å¼:", response.data);
              this.hasError = true;
              this.errorMessage = "å“åº”æ•°æ®æ ¼å¼é”™è¯¯";
              return;
            }
            this.messages = messagesData;
            formatAppLog("log", "at pages/feed/interaction-messages.vue:182", "æˆåŠŸåŠ è½½äº’åŠ¨æ¶ˆæ¯æ•°æ®ï¼Œå…±", this.messages.length, "æ¡");
            formatAppLog("log", "at pages/feed/interaction-messages.vue:183", "ç¬¬ä¸€æ¡æ•°æ®ç¤ºä¾‹:", this.messages.length > 0 ? this.messages[0] : "æ— æ•°æ®");
            if (this.messages.length === 0) {
              this.hasError = true;
              this.errorMessage = "æš‚æ— äº’åŠ¨æ¶ˆæ¯ï¼Œè¯·ç¨åå†è¯•";
              formatAppLog("log", "at pages/feed/interaction-messages.vue:188", "æ²¡æœ‰è·å–åˆ°ä»»ä½•äº’åŠ¨æ¶ˆæ¯æ•°æ®");
            } else {
              uni.showToast({
                title: `åŠ è½½äº†${this.messages.length}æ¡æ¶ˆæ¯`,
                icon: "success",
                duration: 2e3
              });
            }
          } else {
            formatAppLog("error", "at pages/feed/interaction-messages.vue:198", "åŠ è½½äº’åŠ¨æ¶ˆæ¯æ•°æ®å¤±è´¥:", response.data.message);
            this.hasError = true;
            this.errorMessage = response.data.message || "åŠ è½½æ•°æ®å¤±è´¥";
            uni.showToast({
              title: "åŠ è½½æ•°æ®å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/feed/interaction-messages.vue:207", "åŠ è½½äº’åŠ¨æ¶ˆæ¯æ•°æ®å¼‚å¸¸:", error);
          this.hasError = true;
          this.errorMessage = "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®";
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        } finally {
          this.loading = false;
        }
      },
      goBack() {
        uni.navigateBack();
      },
      toggleFilter() {
        this.filterExpanded = !this.filterExpanded;
      },
      selectFilter(filterType) {
        this.currentFilter = filterType;
        this.filterExpanded = false;
        this.loadInteractionMessages();
        uni.showToast({
          title: `å·²åˆ‡æ¢åˆ°${this.getMessageFilterName(filterType)}`,
          icon: "none"
        });
      },
      getMessageFilterName(filterType) {
        const filter = this.messageFilters.find((f) => f.type === filterType);
        return filter ? filter.name : "";
      },
      getCurrentFilterName() {
        return this.getMessageFilterName(this.currentFilter);
      },
      async markAllAsRead() {
        uni.showModal({
          title: "ç¡®è®¤æ“ä½œ",
          content: "ç¡®å®šè¦å°†æ‰€æœ‰æ¶ˆæ¯æ ‡è®°ä¸ºå·²è¯»å—ï¼Ÿ",
          success: async (res) => {
            if (res.confirm) {
              try {
                formatAppLog("log", "at pages/feed/interaction-messages.vue:249", "å¼€å§‹æ ‡è®°æ‰€æœ‰æ¶ˆæ¯ä¸ºå·²è¯»");
                const response = await uni.request({
                  url: `http://localhost:8888/api/interaction-messages/mark-all-read?userId=${this.userId}`,
                  method: "POST",
                  header: {
                    "Content-Type": "application/json"
                  }
                });
                formatAppLog("log", "at pages/feed/interaction-messages.vue:259", "æ ‡è®°å·²è¯»APIå“åº”:", response);
                if (response.statusCode === 200 && response.data.success) {
                  uni.showToast({
                    title: response.data.message,
                    icon: "success"
                  });
                  this.loadInteractionMessages();
                } else {
                  formatAppLog("error", "at pages/feed/interaction-messages.vue:269", "æ ‡è®°å·²è¯»æ“ä½œå¤±è´¥:", response.data.message);
                  uni.showToast({
                    title: response.data.message || "æ ‡è®°å·²è¯»å¤±è´¥",
                    icon: "error"
                  });
                }
              } catch (error) {
                formatAppLog("error", "at pages/feed/interaction-messages.vue:276", "æ ‡è®°å·²è¯»æ“ä½œå¼‚å¸¸:", error);
                uni.showToast({
                  title: "ç½‘ç»œé”™è¯¯",
                  icon: "error"
                });
              }
            }
          }
        });
      },
      // å¤„ç†æ¶ˆæ¯ç‚¹å‡»
      handleMessageClick(message) {
        formatAppLog("log", "at pages/feed/interaction-messages.vue:289", "ç‚¹å‡»æ¶ˆæ¯:", message);
        if (message.contentType) {
          let url = "";
          switch (message.contentType) {
            case "novel":
              url = `/pages/feed/novel-detail?id=${message.contentId}`;
              break;
            case "image":
              url = `/pages/feed/post-detail?postId=${message.contentId}`;
              break;
            case "text":
              url = `/pages/feed/post-detail?postId=${message.contentId}`;
              break;
            case "video":
              url = `/pages/feed/post-detail?postId=${message.contentId}`;
              break;
            default:
              url = `/pages/feed/post-detail?postId=${message.contentId}`;
              break;
          }
          if (url) {
            uni.navigateTo({
              url
            });
          }
        } else {
          uni.showModal({
            title: "æ¶ˆæ¯è¯¦æƒ…",
            content: message.messageText + (message.commentText ? "\n\nè¯„è®ºå†…å®¹ï¼š" + message.commentText : ""),
            showCancel: false
          });
        }
      }
    }
  };
  function _sfc_render$E(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "interaction-messages-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", {
          class: "back-button",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
        }, [
          (vue.openBlock(), vue.createElementBlock("svg", {
            class: "back-icon",
            viewBox: "0 0 1024 1024",
            version: "1.1",
            xmlns: "http://www.w3.org/2000/svg",
            width: "32",
            height: "32"
          }, [
            vue.createElementVNode("path", {
              d: "M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",
              fill: "#666666"
            })
          ]))
        ]),
        vue.createElementVNode("view", {
          class: "title-section",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.toggleFilter && $options.toggleFilter(...args))
        }, [
          vue.createElementVNode(
            "text",
            { class: "page-title" },
            vue.toDisplayString($options.getCurrentFilterName()),
            1
            /* TEXT */
          ),
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["filter-arrow", { expanded: $data.filterExpanded }])
            },
            [
              (vue.openBlock(), vue.createElementBlock("svg", {
                class: "arrow-icon",
                viewBox: "0 0 1024 1024",
                version: "1.1",
                xmlns: "http://www.w3.org/2000/svg",
                width: "32",
                height: "32"
              }, [
                vue.createElementVNode("path", {
                  d: "M832 288l-320 448-320-448z",
                  fill: "#020202"
                })
              ]))
            ],
            2
            /* CLASS */
          )
        ]),
        vue.createElementVNode("view", {
          class: "check-button",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.markAllAsRead && $options.markAllAsRead(...args))
        }, [
          vue.createElementVNode("view", { class: "check-icon" }, "âœ“")
        ])
      ]),
      vue.createCommentVNode(" æ¶ˆæ¯åˆ†ç±»ç­›é€‰ "),
      $data.filterExpanded ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "filter-section"
      }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($data.messageFilters, (filter, index) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              class: vue.normalizeClass(["filter-item", { active: $data.currentFilter === filter.type }]),
              key: index,
              onClick: ($event) => $options.selectFilter(filter.type)
            }, [
              vue.createElementVNode("view", { class: "filter-icon" }, [
                vue.createElementVNode(
                  "text",
                  { class: "icon-text" },
                  vue.toDisplayString(filter.icon),
                  1
                  /* TEXT */
                )
              ]),
              vue.createElementVNode(
                "text",
                { class: "filter-text" },
                vue.toDisplayString(filter.name),
                1
                /* TEXT */
              ),
              $data.currentFilter === filter.type ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "filter-check"
              }, [
                vue.createElementVNode("text", { class: "check-text" }, "âœ“")
              ])) : vue.createCommentVNode("v-if", true)
            ], 10, ["onClick"]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" æ¶ˆæ¯åˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "message-list" }, [
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-container"
        }, [
          vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½æ¶ˆæ¯...")
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
        $data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "error-container"
        }, [
          vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
          vue.createElementVNode(
            "text",
            { class: "error-text" },
            vue.toDisplayString($data.errorMessage),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "error-actions" }, [
            vue.createElementVNode("button", {
              class: "retry-button",
              onClick: _cache[3] || (_cache[3] = (...args) => $options.loadInteractionMessages && $options.loadInteractionMessages(...args))
            }, "é‡æ–°åŠ è½½")
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" æ¶ˆæ¯åˆ—è¡¨ "),
        !$data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", { key: 2 }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.messages, (message, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: vue.normalizeClass(["message-item", { "unread": !message.isRead }]),
                key: index,
                onClick: ($event) => $options.handleMessageClick(message)
              }, [
                vue.createElementVNode("view", { class: "avatar-section" }, [
                  vue.createElementVNode("image", {
                    class: "user-avatar",
                    src: message.fromUserAvatar || "",
                    mode: "aspectFill"
                  }, null, 8, ["src"]),
                  vue.createCommentVNode(" æ ¹æ®æ¶ˆæ¯ç±»å‹æ˜¾ç¤ºä¸åŒçš„å¾½ç«  "),
                  message.actionType === "like" ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "action-badge"
                  }, "â¤ï¸")) : message.actionType === "favorite" ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 1,
                    class: "action-badge"
                  }, "â­")) : message.actionType === "received-comment" ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 2,
                    class: "action-badge"
                  }, "ğŸ’¬")) : message.actionType === "sent-comment" ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 3,
                    class: "action-badge"
                  }, "ğŸ’¬")) : vue.createCommentVNode("v-if", true)
                ]),
                vue.createElementVNode("view", { class: "message-content" }, [
                  vue.createElementVNode("view", { class: "user-info" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "username" },
                      vue.toDisplayString(message.fromUsername || message.toUsername),
                      1
                      /* TEXT */
                    ),
                    message.relationship ? (vue.openBlock(), vue.createElementBlock(
                      "text",
                      {
                        key: 0,
                        class: "relationship"
                      },
                      vue.toDisplayString(message.relationship),
                      1
                      /* TEXT */
                    )) : vue.createCommentVNode("v-if", true)
                  ]),
                  vue.createElementVNode(
                    "text",
                    { class: "message-text" },
                    vue.toDisplayString(message.messageText),
                    1
                    /* TEXT */
                  ),
                  message.commentText ? (vue.openBlock(), vue.createElementBlock(
                    "text",
                    {
                      key: 0,
                      class: "comment-text"
                    },
                    vue.toDisplayString(message.commentText),
                    1
                    /* TEXT */
                  )) : vue.createCommentVNode("v-if", true),
                  vue.createElementVNode(
                    "text",
                    { class: "message-date" },
                    vue.toDisplayString(message.timeAgo),
                    1
                    /* TEXT */
                  )
                ]),
                message.contentThumbnail ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "content-thumbnail"
                }, [
                  vue.createElementVNode("image", {
                    class: "thumbnail-image",
                    src: message.contentThumbnail,
                    mode: "aspectFill"
                  }, null, 8, ["src"])
                ])) : vue.createCommentVNode("v-if", true),
                vue.createCommentVNode(" æœªè¯»æ ‡è¯† "),
                !message.isRead ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 1,
                  class: "unread-dot"
                })) : vue.createCommentVNode("v-if", true)
              ], 10, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          )),
          vue.createCommentVNode(" ç©ºçŠ¶æ€ "),
          $data.messages.length === 0 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "empty-container"
          }, [
            vue.createElementVNode("view", { class: "empty-icon" }, "ğŸ“­"),
            vue.createElementVNode(
              "text",
              { class: "empty-text" },
              "æš‚æ— " + vue.toDisplayString($options.getCurrentFilterName()) + "æ¶ˆæ¯",
              1
              /* TEXT */
            )
          ])) : vue.createCommentVNode("v-if", true)
        ])) : vue.createCommentVNode("v-if", true)
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesFeedInteractionMessages = /* @__PURE__ */ _export_sfc(_sfc_main$F, [["render", _sfc_render$E], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/feed/interaction-messages.vue"]]);
  const _sfc_main$E = {
    name: "PublishPage",
    data() {
      return {
        userId: 1000100,
        // ç”¨æˆ·IDï¼Œä»é¡µé¢å‚æ•°è·å–
        contentText: "",
        // å†…å®¹æ–‡æœ¬
        selectedColumn: "",
        // é€‰ä¸­çš„å¿…é€‰ä¸“æ 
        showFeatureRow: true,
        // æ˜¯å¦æ˜¾ç¤ºåŠŸèƒ½æŒ‰é’®è¡Œ
        showLocationTags: true,
        // æ˜¯å¦æ˜¾ç¤ºä½ç½®æ ‡ç­¾è¡Œ
        imageUrls: "",
        // å›¾ç‰‡URLs
        title: "",
        // æ ‡é¢˜ï¼ˆç”¨äºæˆ‘æœ‰ã€æˆ‘è¦ï¼‰
        description: "",
        // æè¿°ï¼ˆç”¨äºæˆ‘æœ‰ï¼‰
        featureItems: [
          { iconClass: "green-icon", text: "æ‰‹è®°" },
          { iconClass: "diamond-icon", text: "å°è¯´" },
          { iconClass: "diamond-icon", text: "å°æ—¥å¸¸" },
          { iconClass: "diamond-icon", text: "ç¡è§‰" }
        ],
        locationTags: ["æ­å·", "é…’çƒä¼š(æ­å·åº—)", "çƒŸç«ä¸‡å¡˜", "LiT CX"],
        columnOptions: [
          { value: "mood", label: "å¿ƒæƒ…" },
          { value: "ihave", label: "æˆ‘æœ‰" },
          { value: "iwant", label: "æˆ‘è¦" },
          { value: "ilike", label: "æˆ‘å–œæ¬¢" },
          { value: "ihate", label: "æˆ‘è®¨åŒ" }
        ]
      };
    },
    onLoad(options) {
      if (options.userId) {
        this.userId = parseInt(options.userId);
        formatAppLog("log", "at pages/publish/publish.vue:173", "PublishPage: æ¥æ”¶ç”¨æˆ·ID:", this.userId);
      }
    },
    computed: {
      canPublish() {
        return this.selectedColumn !== "" && this.contentText.trim() !== "";
      }
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      selectColumn(value) {
        this.selectedColumn = value;
        formatAppLog("log", "at pages/publish/publish.vue:187", "é€‰æ‹©ä¸“æ :", value);
      },
      getContentPlaceholder() {
        switch (this.selectedColumn) {
          case "mood":
            return "åˆ†äº«ä½ çš„å¿ƒæƒ…...";
          case "ihave":
            return "æè¿°ä½ æ‹¥æœ‰çš„ç‰©å“...";
          case "iwant":
            return "æè¿°ä½ çš„éœ€æ±‚...";
          case "ilike":
            return "åˆ†äº«ä½ å–œæ¬¢çš„ä¸œè¥¿...";
          case "ihate":
            return "åˆ†äº«ä½ è®¨åŒçš„ä¸œè¥¿...";
          default:
            return "åˆ†äº«ä½ çš„æƒ³æ³•...";
        }
      },
      closeFeatureRow() {
        this.showFeatureRow = false;
      },
      closeLocationRow() {
        this.showLocationTags = false;
      },
      selectImage() {
        uni.showToast({
          title: "é€‰æ‹©å›¾ç‰‡åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      mentionUser() {
        uni.showToast({
          title: "è‰¾ç‰¹ç”¨æˆ·åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      addHashtag() {
        uni.showToast({
          title: "æ·»åŠ æ ‡ç­¾åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      addGif() {
        uni.showToast({
          title: "æ·»åŠ GIFåŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      addEmoji() {
        uni.showToast({
          title: "æ·»åŠ è¡¨æƒ…åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      addMore() {
        uni.showToast({
          title: "æ›´å¤šåŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      async publishContent() {
        if (!this.canPublish) {
          uni.showToast({
            title: "è¯·å…ˆé€‰æ‹©å¿…é€‰ä¸“æ ",
            icon: "none"
          });
          return;
        }
        if (!this.contentText.trim()) {
          uni.showToast({
            title: "è¯·è¾“å…¥å†…å®¹",
            icon: "none"
          });
          return;
        }
        uni.showModal({
          title: "ç¡®è®¤å‘å¸ƒ",
          content: "ç¡®å®šè¦å‘å¸ƒè¿™æ¡å†…å®¹å—ï¼Ÿ",
          success: async (res) => {
            if (res.confirm) {
              await this.submitContent();
            }
          }
        });
      },
      // æäº¤å†…å®¹åˆ°åç«¯
      async submitContent() {
        try {
          formatAppLog("log", "at pages/publish/publish.vue:278", "PublishPage: å¼€å§‹å‘å¸ƒå†…å®¹");
          formatAppLog("log", "at pages/publish/publish.vue:279", "ç”¨æˆ·ID:", this.userId);
          formatAppLog("log", "at pages/publish/publish.vue:280", "ä¸“æ ç±»å‹:", this.selectedColumn);
          formatAppLog("log", "at pages/publish/publish.vue:281", "å†…å®¹:", this.contentText);
          let requestData = {
            userId: this.userId,
            contentText: this.contentText,
            columnType: this.selectedColumn
          };
          if (this.imageUrls) {
            requestData.imageUrls = this.imageUrls;
          }
          if (this.selectedColumn === "ihave" || this.selectedColumn === "iwant") {
            requestData.title = this.title || this.contentText.substring(0, 20) + "...";
            if (this.selectedColumn === "ihave") {
              requestData.description = this.description || this.contentText;
            }
          }
          formatAppLog("log", "at pages/publish/publish.vue:303", "è¯·æ±‚æ•°æ®:", requestData);
          const response = await uni.request({
            url: "http://localhost:8888/api/publish/content",
            method: "POST",
            data: requestData,
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/publish/publish.vue:314", "å‘å¸ƒAPIå“åº”:", response);
          if (response.statusCode === 200 && response.data.success) {
            uni.showToast({
              title: response.data.message || "å‘å¸ƒæˆåŠŸ",
              icon: "success"
            });
            setTimeout(() => {
              uni.navigateBack();
            }, 1500);
          } else {
            formatAppLog("error", "at pages/publish/publish.vue:327", "å‘å¸ƒå¤±è´¥:", response.data.message);
            uni.showToast({
              title: response.data.message || "å‘å¸ƒå¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/publish/publish.vue:334", "å‘å¸ƒå¼‚å¸¸:", error);
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•",
            icon: "error"
          });
        }
      }
    }
  };
  function _sfc_render$D(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "publish-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", {
          class: "cancel-button",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
        }, [
          vue.createElementVNode("text", { class: "cancel-text" }, "å–æ¶ˆ")
        ]),
        vue.createElementVNode("view", { class: "title-section" }, [
          vue.createElementVNode("text", { class: "page-title" }, "Afriends"),
          vue.createElementVNode("text", { class: "subtitle" }, "æ›‡é¬²")
        ]),
        vue.createElementVNode(
          "view",
          {
            class: vue.normalizeClass(["send-button", { disabled: !$options.canPublish }]),
            onClick: _cache[1] || (_cache[1] = (...args) => $options.publishContent && $options.publishContent(...args))
          },
          [
            vue.createElementVNode("text", { class: "send-text" }, "å‘é€")
          ],
          2
          /* CLASS */
        )
      ]),
      vue.createCommentVNode(" å†…å®¹è¾“å…¥åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "content-input-area" }, [
        vue.createCommentVNode(" æ ‡é¢˜è¾“å…¥ï¼ˆæˆ‘æœ‰ã€æˆ‘è¦ä¸“æ ï¼‰ "),
        $data.selectedColumn === "ihave" || $data.selectedColumn === "iwant" ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "title-input"
        }, [
          vue.withDirectives(vue.createElementVNode("input", {
            class: "title-field",
            "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $data.title = $event),
            placeholder: $data.selectedColumn === "ihave" ? "ç‰©å“æ ‡é¢˜ï¼ˆå¦‚ï¼šæˆ‘çš„iPhone 15ï¼‰" : "éœ€æ±‚æ ‡é¢˜ï¼ˆå¦‚ï¼šéœ€è¦ä¸€å°MacBookï¼‰",
            "placeholder-class": "input-placeholder"
          }, null, 8, ["placeholder"]), [
            [vue.vModelText, $data.title]
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" æè¿°è¾“å…¥ï¼ˆæˆ‘æœ‰ä¸“æ ï¼‰ "),
        $data.selectedColumn === "ihave" ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "description-input"
        }, [
          vue.withDirectives(vue.createElementVNode(
            "textarea",
            {
              class: "description-field",
              "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $data.description = $event),
              placeholder: "è¯¦ç»†æè¿°ï¼ˆå¦‚ï¼šè´­å…¥æ—¶é—´ã€ä½¿ç”¨æƒ…å†µç­‰ï¼‰",
              "placeholder-class": "input-placeholder",
              "show-confirm-bar": false,
              "adjust-position": true,
              "hold-keyboard": true
            },
            null,
            512
            /* NEED_PATCH */
          ), [
            [vue.vModelText, $data.description]
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" ä¸»è¦å†…å®¹è¾“å…¥ "),
        vue.withDirectives(vue.createElementVNode("textarea", {
          class: "input-field",
          "onUpdate:modelValue": _cache[4] || (_cache[4] = ($event) => $data.contentText = $event),
          placeholder: $options.getContentPlaceholder(),
          "placeholder-class": "input-placeholder",
          "auto-focus": true,
          "show-confirm-bar": false,
          "adjust-position": true,
          "hold-keyboard": true
        }, null, 8, ["placeholder"]), [
          [vue.vModelText, $data.contentText]
        ])
      ]),
      vue.createCommentVNode(" åŠŸèƒ½é€‰é¡¹æŒ‰é’® "),
      vue.createElementVNode("view", { class: "feature-buttons" }, [
        vue.createCommentVNode(" ç¬¬ä¸€è¡Œï¼šå¯å·¦å³æ»‘åŠ¨çš„ç¡¬æ ‡ç­¾ "),
        $data.showFeatureRow ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "button-row scrollable-row"
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.featureItems, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "feature-button",
                key: index
              }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["button-icon", item.iconClass])
                  },
                  null,
                  2
                  /* CLASS */
                ),
                vue.createElementVNode(
                  "text",
                  { class: "button-text" },
                  vue.toDisplayString(item.text),
                  1
                  /* TEXT */
                )
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          )),
          vue.createElementVNode("view", {
            class: "close-row-button",
            onClick: _cache[5] || (_cache[5] = (...args) => $options.closeFeatureRow && $options.closeFeatureRow(...args))
          }, [
            vue.createElementVNode("text", { class: "close-text" }, "Ã—")
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" ç¬¬äºŒè¡Œï¼šæ·»åŠ ä½ç½®å’Œè¶…è¯é å·¦ï¼Œå…¬å¼€é å³ "),
        vue.createElementVNode("view", { class: "button-row second-row" }, [
          vue.createElementVNode("view", { class: "left-buttons" }, [
            vue.createElementVNode("view", { class: "feature-button" }, [
              vue.createElementVNode("view", { class: "button-icon pin-icon" }),
              vue.createElementVNode("text", { class: "button-text" }, "æ·»åŠ ä½ç½®")
            ]),
            vue.createElementVNode("view", { class: "feature-button" }, [
              vue.createElementVNode("view", { class: "button-icon diamond-icon" }),
              vue.createElementVNode("text", { class: "button-text" }, "è¶…è¯")
            ])
          ]),
          vue.createElementVNode("view", { class: "right-buttons" }, [
            vue.createElementVNode("view", { class: "feature-button" }, [
              vue.createElementVNode("view", { class: "button-icon lock-icon" }),
              vue.createElementVNode("text", { class: "button-text" }, "å…¬å¼€")
            ])
          ])
        ]),
        vue.createCommentVNode(" ç¬¬ä¸‰è¡Œï¼šä½ç½®æ ‡ç­¾ï¼Œå¯å·¦å³æ»‘åŠ¨ "),
        $data.showLocationTags ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "location-tags scrollable-row"
        }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.locationTags, (tag, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "tag-item",
                key: index
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "tag-text" },
                  vue.toDisplayString(tag),
                  1
                  /* TEXT */
                )
              ]);
            }),
            128
            /* KEYED_FRAGMENT */
          )),
          vue.createElementVNode("view", {
            class: "close-row-button",
            onClick: _cache[6] || (_cache[6] = (...args) => $options.closeLocationRow && $options.closeLocationRow(...args))
          }, [
            vue.createElementVNode("text", { class: "close-text" }, "Ã—")
          ])
        ])) : vue.createCommentVNode("v-if", true)
      ]),
      vue.createCommentVNode(" å¿…é€‰ä¸“æ  "),
      vue.createElementVNode("view", { class: "required-column" }, [
        vue.createElementVNode("text", { class: "column-title" }, "å¿…é€‰ä¸“æ  *"),
        vue.createElementVNode("view", { class: "column-options" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.columnOptions, (option) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: vue.normalizeClass(["column-option", { selected: $data.selectedColumn === option.value }]),
                key: option.value,
                onClick: ($event) => $options.selectColumn(option.value)
              }, [
                vue.createElementVNode(
                  "text",
                  { class: "option-text" },
                  vue.toDisplayString(option.label),
                  1
                  /* TEXT */
                )
              ], 10, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨å·¥å…·æ  "),
      vue.createElementVNode("view", { class: "bottom-toolbar" }, [
        vue.createElementVNode("view", {
          class: "tool-item",
          onClick: _cache[7] || (_cache[7] = (...args) => $options.selectImage && $options.selectImage(...args))
        }, [
          vue.createElementVNode("view", { class: "tool-icon gallery-icon" })
        ]),
        vue.createElementVNode("view", {
          class: "tool-item",
          onClick: _cache[8] || (_cache[8] = (...args) => $options.mentionUser && $options.mentionUser(...args))
        }, [
          vue.createElementVNode("view", { class: "tool-icon at-icon" }, "@")
        ]),
        vue.createElementVNode("view", {
          class: "tool-item",
          onClick: _cache[9] || (_cache[9] = (...args) => $options.addHashtag && $options.addHashtag(...args))
        }, [
          vue.createElementVNode("view", { class: "tool-icon hashtag-icon" }, "#")
        ]),
        vue.createElementVNode("view", {
          class: "tool-item",
          onClick: _cache[10] || (_cache[10] = (...args) => $options.addGif && $options.addGif(...args))
        }, [
          vue.createElementVNode("view", { class: "tool-icon gif-icon" }, "GIF")
        ]),
        vue.createElementVNode("view", {
          class: "tool-item",
          onClick: _cache[11] || (_cache[11] = (...args) => $options.addEmoji && $options.addEmoji(...args))
        }, [
          vue.createElementVNode("view", { class: "tool-icon emoji-icon" }, "ğŸ˜Š")
        ]),
        vue.createElementVNode("view", {
          class: "tool-item",
          onClick: _cache[12] || (_cache[12] = (...args) => $options.addMore && $options.addMore(...args))
        }, [
          vue.createElementVNode("view", { class: "tool-icon plus-icon" }, "+")
        ])
      ])
    ]);
  }
  const PagesPublishPublish = /* @__PURE__ */ _export_sfc(_sfc_main$E, [["render", _sfc_render$D], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/publish/publish.vue"]]);
  const _sfc_main$D = {
    name: "SettingsPage",
    data() {
      return {
        darkMode: false
      };
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      goToHome() {
        uni.navigateTo({
          url: "/pages/feed/content-feed"
        });
      },
      goToChatList() {
        uni.navigateTo({
          url: "/pages/chat/chat-list"
        });
      },
      goToAIChat() {
        uni.navigateTo({
          url: "/pages/chat/chat"
        });
      },
      goToFriendList() {
        uni.navigateTo({
          url: "/pages/chat/friend-list"
        });
      },
      goToProfile() {
        uni.navigateTo({
          url: "/pages/feed/user-profile"
        });
      },
      toggleDarkMode() {
        this.darkMode = !this.darkMode;
      },
      goToSwitchAccount() {
        uni.navigateTo({
          url: "/pages/settings/switch-account"
        });
      },
      goToAccountSecurity() {
        uni.navigateTo({
          url: "/pages/settings/account-security"
        });
      },
      goToModeSelection() {
        uni.navigateTo({
          url: "/pages/settings/mode-selection"
        });
      },
      goToNotifications() {
        uni.navigateTo({
          url: "/pages/settings/notification-settings"
        });
      },
      goToPrivacySettings() {
        uni.navigateTo({
          url: "/pages/settings/privacy-settings"
        });
      },
      goToLanguage() {
        uni.navigateTo({
          url: "/pages/settings/language"
        });
      },
      goToBlockedUsers() {
        uni.navigateTo({
          url: "/pages/settings/blocked-users"
        });
      },
      goToChatSettings() {
        uni.navigateTo({
          url: "/pages/settings/chat-settings"
        });
      },
      goToTermsOfService() {
        uni.navigateTo({
          url: "/pages/settings/terms-of-service"
        });
      },
      goToCustomerService() {
        uni.navigateTo({
          url: "/pages/chat/chat?friendName=å®¢æœ"
        });
      },
      goToUsageTutorial() {
        uni.navigateTo({
          url: "/pages/settings/usage-tutorial"
        });
      },
      logoutAccount() {
        uni.showModal({
          title: "ç¡®è®¤æ³¨é”€",
          content: "ç¡®å®šè¦æ³¨é”€è´¦æˆ·å—ï¼Ÿæ­¤æ“ä½œä¸å¯é€†ã€‚",
          success: (res) => {
            if (res.confirm) {
              uni.showToast({
                title: "è´¦æˆ·å·²æ³¨é”€",
                icon: "none",
                duration: 1500
              });
              setTimeout(() => {
                uni.redirectTo({
                  url: "/pages/login/login-replica"
                });
              }, 1500);
            }
          }
        });
      },
      signOut() {
        uni.showModal({
          title: "ç¡®è®¤é€€å‡º",
          content: "ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ",
          success: (res) => {
            if (res.confirm) {
              uni.showToast({
                title: "å·²é€€å‡ºç™»å½•",
                icon: "none",
                duration: 1500
              });
              setTimeout(() => {
                uni.redirectTo({
                  url: "/pages/login/login-replica"
                });
              }, 1500);
            }
          }
        });
      }
    }
  };
  function _sfc_render$C(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "settings-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">12:00</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="title">è®¾ç½®</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" è®¾ç½®å†…å®¹ "),
      vue.createElementVNode("view", { class: "settings-content" }, [
        vue.createCommentVNode(" æˆ‘çš„è´¦æˆ· "),
        vue.createElementVNode("view", { class: "settings-section" }, [
          vue.createElementVNode("view", { class: "section-header" }, [
            vue.createElementVNode("text", { class: "section-title" }, "æˆ‘çš„è´¦æˆ·")
          ]),
          vue.createElementVNode("view", { class: "section-items" }, [
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("text", { class: "item-text" }, "æš—å¤œæ¨¡å¼"),
              vue.createElementVNode(
                "view",
                {
                  class: vue.normalizeClass(["toggle-switch", { active: $data.darkMode }]),
                  onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleDarkMode && $options.toggleDarkMode(...args))
                },
                [
                  vue.createElementVNode("view", { class: "toggle-circle" })
                ],
                2
                /* CLASS */
              )
            ]),
            vue.createElementVNode("view", {
              class: "setting-item",
              onClick: _cache[1] || (_cache[1] = (...args) => $options.goToSwitchAccount && $options.goToSwitchAccount(...args))
            }, [
              vue.createElementVNode("text", { class: "item-text" }, "åˆ‡æ¢è´¦å·"),
              vue.createElementVNode("view", { class: "arrow-right" })
            ]),
            vue.createElementVNode("view", {
              class: "setting-item",
              onClick: _cache[2] || (_cache[2] = (...args) => $options.goToAccountSecurity && $options.goToAccountSecurity(...args))
            }, [
              vue.createElementVNode("text", { class: "item-text" }, "è´¦å·ä¸å®‰å…¨"),
              vue.createElementVNode("view", { class: "arrow-right" })
            ]),
            vue.createElementVNode("view", {
              class: "setting-item",
              onClick: _cache[3] || (_cache[3] = (...args) => $options.goToModeSelection && $options.goToModeSelection(...args))
            }, [
              vue.createElementVNode("text", { class: "item-text" }, "æ¨¡å¼é€‰æ‹©"),
              vue.createElementVNode("view", { class: "arrow-right" })
            ])
          ])
        ]),
        vue.createCommentVNode(" è´¦æˆ·è®¾ç½® "),
        vue.createElementVNode("view", { class: "settings-section" }, [
          vue.createElementVNode("view", { class: "section-header" }, [
            vue.createElementVNode("text", { class: "section-title" }, "è´¦æˆ·è®¾ç½®")
          ]),
          vue.createElementVNode("view", { class: "section-items" }, [
            vue.createElementVNode("view", {
              class: "setting-item",
              onClick: _cache[4] || (_cache[4] = (...args) => $options.goToNotifications && $options.goToNotifications(...args))
            }, [
              vue.createElementVNode("text", { class: "item-text" }, "é€šçŸ¥"),
              vue.createElementVNode("view", { class: "arrow-right" })
            ]),
            vue.createElementVNode("view", {
              class: "setting-item",
              onClick: _cache[5] || (_cache[5] = (...args) => $options.goToPrivacySettings && $options.goToPrivacySettings(...args))
            }, [
              vue.createElementVNode("text", { class: "item-text" }, "éšç§è®¾ç½®"),
              vue.createElementVNode("view", { class: "arrow-right" })
            ]),
            vue.createElementVNode("view", {
              class: "setting-item",
              onClick: _cache[6] || (_cache[6] = (...args) => $options.goToLanguage && $options.goToLanguage(...args))
            }, [
              vue.createElementVNode("text", { class: "item-text" }, "è¯­è¨€"),
              vue.createElementVNode("view", { class: "arrow-right" })
            ]),
            vue.createElementVNode("view", {
              class: "setting-item",
              onClick: _cache[7] || (_cache[7] = (...args) => $options.goToBlockedUsers && $options.goToBlockedUsers(...args))
            }, [
              vue.createElementVNode("text", { class: "item-text" }, "æ‹‰é»‘ç”¨æˆ·"),
              vue.createElementVNode("view", { class: "arrow-right" })
            ]),
            vue.createCommentVNode(' <view class="setting-item" @click="goToChatSettings">\n						<text class="item-text">èŠå¤©è®¾ç½®</text>\n						<view class="arrow-right"></view>\n					</view> ')
          ])
        ]),
        vue.createCommentVNode(" å¸®åŠ© "),
        vue.createElementVNode("view", { class: "settings-section" }, [
          vue.createElementVNode("view", { class: "section-header" }, [
            vue.createElementVNode("text", { class: "section-title" }, "å¸®åŠ©")
          ]),
          vue.createElementVNode("view", { class: "section-items" }, [
            vue.createElementVNode("view", {
              class: "setting-item",
              onClick: _cache[8] || (_cache[8] = (...args) => $options.goToTermsOfService && $options.goToTermsOfService(...args))
            }, [
              vue.createElementVNode("text", { class: "item-text" }, "æœåŠ¡æ¡æ¬¾"),
              vue.createElementVNode("view", { class: "arrow-right" })
            ]),
            vue.createElementVNode("view", {
              class: "setting-item",
              onClick: _cache[9] || (_cache[9] = (...args) => $options.goToCustomerService && $options.goToCustomerService(...args))
            }, [
              vue.createElementVNode("text", { class: "item-text" }, "å®¢æœä¸æ”¯æŒ"),
              vue.createElementVNode("view", { class: "arrow-right" })
            ]),
            vue.createCommentVNode(' <view class="setting-item" @click="goToUsageTutorial">\n						<text class="item-text">ä½¿ç”¨æ•™ç¨‹</text>\n						<view class="arrow-right"></view>\n					</view> ')
          ])
        ]),
        vue.createCommentVNode(" è´¦æˆ·æ“ä½œ "),
        vue.createElementVNode("view", { class: "account-actions" }, [
          vue.createElementVNode("view", {
            class: "action-button logout-account",
            onClick: _cache[10] || (_cache[10] = (...args) => $options.logoutAccount && $options.logoutAccount(...args))
          }, [
            vue.createElementVNode("text", { class: "action-text" }, "æ³¨é”€è´¦æˆ·")
          ]),
          vue.createElementVNode("view", {
            class: "action-button sign-out",
            onClick: _cache[11] || (_cache[11] = (...args) => $options.signOut && $options.signOut(...args))
          }, [
            vue.createElementVNode("text", { class: "action-text" }, "é€€å‡ºç™»å½•")
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="bottom-navigation">\n			<view class="nav-item" @click="goToHome">\n				<text class="nav-text">é¦–é¡µ</text>\n			</view>\n			<view class="nav-item" @click="goToChatList">\n				<text class="nav-text">æ¶ˆæ¯</text>\n			</view>\n			<view class="nav-item" @click="goToAIChat">\n				<view class="ai-tab">\n					<text class="ai-text">AI</text>\n				</view>\n			</view>\n			<view class="nav-item" @click="goToFriendList">\n				<text class="nav-text">å¥½å‹</text>\n			</view>\n			<view class="nav-avatar" @click="goToProfile">\n				<image class="avatar-small" src="" mode="aspectFill"></image>\n			</view>\n		</view> ')
    ]);
  }
  const PagesSettingsSettings = /* @__PURE__ */ _export_sfc(_sfc_main$D, [["render", _sfc_render$C], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/settings.vue"]]);
  const _sfc_main$C = {
    // å®šä¹‰ç»„ä»¶çš„æ•°æ®
    data() {
      return {
        clipboardEnabled: true,
        // å‰ªåˆ‡æ¿æƒé™å¼€å…³çš„åˆå§‹çŠ¶æ€
        showDialog: false,
        // æ˜¯å¦æ˜¾ç¤ºæƒé™å¼¹çª—
        currentPermissionTitle: "",
        // å½“å‰æƒé™æ ‡é¢˜
        currentPermissionType: ""
        // å½“å‰æƒé™ç±»å‹
      };
    },
    // å®šä¹‰ç»„ä»¶çš„æ–¹æ³•
    methods: {
      /**
       * @description è¿”å›ä¸Šä¸€é¡µ
       * åœ¨uni-appä¸­ï¼Œé€šå¸¸ä½¿ç”¨ uni.navigateBack()
       */
      goBack() {
        formatAppLog("log", "at pages/settings/system-permissions.vue:130", "è¿”å›ä¸Šä¸€é¡µ");
        uni.navigateBack();
      },
      /**
       * @description åˆ‡æ¢å‰ªåˆ‡æ¿æƒé™å¼€å…³çŠ¶æ€
       * @param {Object} e - äº‹ä»¶å¯¹è±¡ï¼Œe.detail.value åŒ…å«å¼€å…³çš„å½“å‰å€¼
       */
      toggleClipboard(e) {
        this.clipboardEnabled = e.detail.value;
        formatAppLog("log", "at pages/settings/system-permissions.vue:139", "å‰ªåˆ‡æ¿æƒé™å·²åˆ‡æ¢ä¸º:", this.clipboardEnabled);
      },
      /**
       * @description è·³è½¬åˆ°ç›¸å†Œæƒé™é¡µé¢
       */
      goToAlbumPermissions() {
        uni.navigateTo({
          url: "/pages/settings/album-permissions"
        });
      },
      /**
       * @description æ˜¾ç¤ºæƒé™å¼¹çª—
       * @param {String} permissionTitle - æƒé™æ ‡é¢˜
       * @param {String} permissionType - æƒé™ç±»å‹
       */
      showPermissionDialog(permissionTitle, permissionType) {
        this.currentPermissionTitle = permissionTitle;
        this.currentPermissionType = permissionType;
        this.showDialog = true;
      },
      /**
       * @description éšè—æƒé™å¼¹çª—
       */
      hidePermissionDialog() {
        this.showDialog = false;
      },
      /**
       * @description è·å–æƒé™å›¾æ ‡
       * @param {String} permissionType - æƒé™ç±»å‹
       * @returns {String} å›¾æ ‡æ–‡æœ¬
       */
      getPermissionIcon(permissionType) {
        const icons = {
          "location": "ğŸ“",
          "camera": "ğŸ“·",
          "microphone": "ğŸ¤"
        };
        return icons[permissionType] || "âš™ï¸";
      },
      /**
       * @description è·å–æƒé™æè¿°
       * @param {String} permissionType - æƒé™ç±»å‹
       * @returns {String} æè¿°æ–‡æœ¬
       */
      getPermissionDescription(permissionType) {
        const descriptions = {
          "location": "å…³é—­å,å°†æ— æ³•ä¸ºä½ æ¨èä½ç½®ç›¸å…³çš„æœåŠ¡ã€‚",
          "camera": "å…³é—­å,å°†æ— æ³•ä½¿ç”¨æŠ–éŸ³æ‹æ‘„ä½œå“ã€‚",
          "microphone": "å…³é—­å,å°†æ— æ³•ä½¿ç”¨æŠ–éŸ³æ‹æ‘„ä½œå“ã€‚"
        };
        return descriptions[permissionType] || "å…³é—­å,å°†æ— æ³•ä½¿ç”¨ç›¸å…³åŠŸèƒ½ã€‚";
      },
      /**
       * @description è·³è½¬åˆ°ç³»ç»Ÿè®¾ç½®
       * @param {String} permissionType - æƒé™ç±»å‹
       */
      goToSystemSettings(permissionType) {
        formatAppLog("log", "at pages/settings/system-permissions.vue:197", "å‰å¾€ç³»ç»Ÿè®¾ç½®:", permissionType);
        uni.showModal({
          title: "è·³è½¬ç³»ç»Ÿè®¾ç½®",
          content: `å³å°†è·³è½¬åˆ°ç³»ç»Ÿè®¾ç½®é¡µé¢ï¼Œè¯·åœ¨"${permissionType}"ä¸­å¼€å¯ç›¸åº”æƒé™ã€‚`,
          showCancel: false,
          success: () => {
            uni.showToast({
              title: "ç³»ç»Ÿè®¾ç½®åŠŸèƒ½å¼€å‘ä¸­",
              icon: "none"
            });
          }
        });
      }
    }
  };
  function _sfc_render$B(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock(
      vue.Fragment,
      null,
      [
        vue.createCommentVNode(" å¤–å±‚å®¹å™¨ï¼Œç¡®ä¿æ•´ä¸ªé¡µé¢æ˜¯ç™½åº•é»‘å­— "),
        vue.createElementVNode("view", { class: "system-permissions-page" }, [
          vue.createCommentVNode(" é¡¶éƒ¨å¯¼èˆªæ åŒºåŸŸ "),
          vue.createCommentVNode(' <view class="header"> '),
          vue.createCommentVNode(" è¿”å›ç®­å¤´ï¼Œä½¿ç”¨ SVG å›¾æ ‡ "),
          vue.createCommentVNode(' <view @click="goBack" class="back-button">\n        <svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="back-icon">\n          <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path>\n        </svg>\n      </view> '),
          vue.createCommentVNode(" é¡µé¢æ ‡é¢˜ "),
          vue.createCommentVNode(' <text class="page-title">ç³»ç»Ÿæƒé™</text> '),
          vue.createCommentVNode(" </view> "),
          vue.createCommentVNode(" æƒé™åˆ—è¡¨åŒºåŸŸ "),
          vue.createElementVNode("view", { class: "permissions-list" }, [
            vue.createCommentVNode(" é€šè®¯å½•æƒé™ "),
            vue.createElementVNode("view", {
              class: "permission-item",
              onClick: _cache[0] || (_cache[0] = ($event) => $options.goToSystemSettings("é€šè®¯å½•æƒé™"))
            }, [
              vue.createElementVNode("text", { class: "permission-text" }, "é€šè®¯å½•æƒé™"),
              vue.createElementVNode("text", { class: "permission-arrow" }, ">")
            ]),
            vue.createCommentVNode(" ç›¸å†Œæƒé™ "),
            vue.createElementVNode("view", {
              class: "permission-item",
              onClick: _cache[1] || (_cache[1] = (...args) => $options.goToAlbumPermissions && $options.goToAlbumPermissions(...args))
            }, [
              vue.createElementVNode("text", { class: "permission-text" }, "ç›¸å†Œæƒé™"),
              vue.createElementVNode("view", { class: "permission-action" }, [
                vue.createElementVNode("text", { class: "action-text" }, "å»è®¾ç½®"),
                vue.createElementVNode("text", { class: "permission-arrow" }, ">")
              ])
            ]),
            vue.createCommentVNode(" ä½ç½®æƒé™ "),
            vue.createElementVNode("view", {
              class: "permission-item",
              onClick: _cache[2] || (_cache[2] = ($event) => $options.showPermissionDialog("ä½ç½®æƒé™", "location"))
            }, [
              vue.createElementVNode("text", { class: "permission-text" }, "ä½ç½®æƒé™"),
              vue.createElementVNode("view", { class: "permission-action" }, [
                vue.createElementVNode("text", { class: "action-text" }, "å»è®¾ç½®"),
                vue.createElementVNode("text", { class: "permission-arrow" }, ">")
              ])
            ]),
            vue.createCommentVNode(" ç›¸æœºæƒé™ "),
            vue.createElementVNode("view", {
              class: "permission-item",
              onClick: _cache[3] || (_cache[3] = ($event) => $options.showPermissionDialog("ç›¸æœºæƒé™", "camera"))
            }, [
              vue.createElementVNode("text", { class: "permission-text" }, "ç›¸æœºæƒé™"),
              vue.createElementVNode("view", { class: "permission-action" }, [
                vue.createElementVNode("text", { class: "action-text" }, "å»è®¾ç½®"),
                vue.createElementVNode("text", { class: "permission-arrow" }, ">")
              ])
            ]),
            vue.createCommentVNode(" éº¦å…‹é£æƒé™ "),
            vue.createElementVNode("view", {
              class: "permission-item",
              onClick: _cache[4] || (_cache[4] = ($event) => $options.showPermissionDialog("éº¦å…‹é£æƒé™", "microphone"))
            }, [
              vue.createElementVNode("text", { class: "permission-text" }, "éº¦å…‹é£æƒé™"),
              vue.createElementVNode("view", { class: "permission-action" }, [
                vue.createElementVNode("text", { class: "action-text" }, "å»è®¾ç½®"),
                vue.createElementVNode("text", { class: "permission-arrow" }, ">")
              ])
            ]),
            vue.createCommentVNode(" å…¶ä»–æƒé™ "),
            vue.createElementVNode("view", {
              class: "permission-item",
              onClick: _cache[5] || (_cache[5] = ($event) => $options.goToSystemSettings("å…¶ä»–æƒé™"))
            }, [
              vue.createElementVNode("text", { class: "permission-text" }, "å…¶ä»–æƒé™"),
              vue.createElementVNode("view", { class: "permission-action" }, [
                vue.createElementVNode("text", { class: "action-text" }, "å»è®¾ç½®"),
                vue.createElementVNode("text", { class: "permission-arrow" }, ">")
              ])
            ]),
            vue.createCommentVNode(" å‰ªåˆ‡æ¿è¯»å–æƒé™åŒºåŸŸ "),
            vue.createElementVNode("view", { class: "clipboard-section" }, [
              vue.createElementVNode("view", { class: "clipboard-header" }, [
                vue.createElementVNode("text", { class: "clipboard-title" }, "å‰ªåˆ‡æ¿è¯»å–æƒé™"),
                vue.createCommentVNode(" uni-appçš„switchç»„ä»¶ "),
                vue.createElementVNode("switch", {
                  checked: $data.clipboardEnabled,
                  onChange: _cache[6] || (_cache[6] = (...args) => $options.toggleClipboard && $options.toggleClipboard(...args)),
                  color: "#007aff",
                  class: "clipboard-switch"
                }, null, 40, ["checked"])
              ]),
              vue.createElementVNode("text", { class: "clipboard-description" }, " å…³é—­åï¼Œå°†æ— æ³•è‡ªåŠ¨è¯†åˆ«ä½ å¤åˆ¶çš„å£ä»¤ä»¥å±•ç¤ºç›¸åº”å†…å®¹ ")
            ])
          ]),
          vue.createCommentVNode(" æƒé™å¼¹çª— "),
          $data.showDialog ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "permission-overlay",
            onClick: _cache[11] || (_cache[11] = (...args) => $options.hidePermissionDialog && $options.hidePermissionDialog(...args))
          }, [
            vue.createElementVNode("view", {
              class: "permission-dialog",
              onClick: _cache[10] || (_cache[10] = vue.withModifiers(() => {
              }, ["stop"]))
            }, [
              vue.createCommentVNode(" å…³é—­æŒ‰é’® "),
              vue.createElementVNode("view", {
                class: "close-button",
                onClick: _cache[7] || (_cache[7] = (...args) => $options.hidePermissionDialog && $options.hidePermissionDialog(...args))
              }, [
                vue.createElementVNode("text", { class: "close-icon" }, "Ã—")
              ]),
              vue.createCommentVNode(" æƒé™å›¾æ ‡ "),
              vue.createElementVNode("view", { class: "permission-icon" }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["icon-container", $data.currentPermissionType])
                  },
                  [
                    vue.createElementVNode(
                      "text",
                      { class: "icon-text" },
                      vue.toDisplayString($options.getPermissionIcon($data.currentPermissionType)),
                      1
                      /* TEXT */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ]),
              vue.createCommentVNode(" æƒé™æ ‡é¢˜ "),
              vue.createElementVNode(
                "text",
                { class: "dialog-title" },
                vue.toDisplayString($data.currentPermissionTitle),
                1
                /* TEXT */
              ),
              vue.createCommentVNode(" æƒé™æè¿° "),
              vue.createElementVNode(
                "text",
                { class: "dialog-description" },
                vue.toDisplayString($options.getPermissionDescription($data.currentPermissionType)),
                1
                /* TEXT */
              ),
              vue.createCommentVNode(" æ“ä½œæŒ‰é’® "),
              vue.createElementVNode("view", { class: "dialog-buttons" }, [
                vue.createElementVNode("view", {
                  class: "button button-secondary",
                  onClick: _cache[8] || (_cache[8] = (...args) => $options.hidePermissionDialog && $options.hidePermissionDialog(...args))
                }, [
                  vue.createElementVNode("text", { class: "button-text" }, "å†æƒ³æƒ³")
                ]),
                vue.createElementVNode("view", {
                  class: "button button-primary",
                  onClick: _cache[9] || (_cache[9] = ($event) => $options.goToSystemSettings($data.currentPermissionTitle))
                }, [
                  vue.createElementVNode("text", { class: "button-text" }, "å»è®¾ç½®")
                ])
              ])
            ])
          ])) : vue.createCommentVNode("v-if", true)
        ])
      ],
      2112
      /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
    );
  }
  const PagesSettingsSystemPermissions = /* @__PURE__ */ _export_sfc(_sfc_main$C, [["render", _sfc_render$B], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/system-permissions.vue"]]);
  const _sfc_main$B = {
    name: "PermissionsPage",
    data() {
      return {
        showDialog: false,
        currentPermissionTitle: "",
        currentPermissionType: ""
      };
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      showPermissionDialog(permissionTitle) {
        this.currentPermissionTitle = permissionTitle;
        this.currentPermissionType = permissionTitle;
        this.showDialog = true;
      },
      hidePermissionDialog() {
        this.showDialog = false;
      },
      confirmPermission() {
        uni.showToast({
          title: "æƒé™è®¾ç½®å·²æ›´æ–°",
          icon: "success"
        });
        this.hidePermissionDialog();
      },
      goToSystemSettings() {
        uni.showModal({
          title: "ç³»ç»Ÿè®¾ç½®",
          content: "å³å°†è·³è½¬åˆ°ç³»ç»Ÿè®¾ç½®é¡µé¢",
          showCancel: true,
          confirmText: "ç¡®å®š",
          cancelText: "å–æ¶ˆ",
          success: (res) => {
            if (res.confirm) {
              uni.showToast({
                title: "è·³è½¬ç³»ç»Ÿè®¾ç½®",
                icon: "none"
              });
            }
          }
        });
      },
      getPermissionDescription(permissionType) {
        const descriptions = {
          "ä½ç½®æƒé™": "ä½ç½®æƒé™å…è®¸åº”ç”¨è·å–æ‚¨çš„åœ°ç†ä½ç½®ä¿¡æ¯ï¼Œç”¨äºæä¾›åŸºäºä½ç½®çš„æœåŠ¡å’ŒåŠŸèƒ½ã€‚",
          "ç›¸æœºæƒé™": "ç›¸æœºæƒé™å…è®¸åº”ç”¨ä½¿ç”¨æ‚¨çš„è®¾å¤‡æ‘„åƒå¤´è¿›è¡Œæ‹ç…§ã€å½•åˆ¶è§†é¢‘å’Œè§†é¢‘é€šè¯ã€‚",
          "éº¦å…‹é£æƒé™": "éº¦å…‹é£æƒé™å…è®¸åº”ç”¨ä½¿ç”¨æ‚¨çš„è®¾å¤‡éº¦å…‹é£è¿›è¡Œè¯­éŸ³é€šè¯ã€å½•éŸ³å’Œè¯­éŸ³è¯†åˆ«ã€‚"
        };
        return descriptions[permissionType] || "è¯¥æƒé™ç”¨äºæä¾›ç›¸å…³åŠŸèƒ½å’ŒæœåŠ¡ã€‚";
      }
    }
  };
  function _sfc_render$A(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "permissions-container" }, [
      vue.createCommentVNode(" Header "),
      vue.createCommentVNode('<view class="header">\n			<view class="header-left">\n				<text class="back-icon" @click="goBack">â€¹</text>\n			</view>\n			<view class="header-title">\n				<text>æƒé™ç®¡ç†</text>\n			</view>\n			<view class="header-right">\n				<text class="more-icon">â‹¯</text>\n			</view>\n		</view> '),
      vue.createCommentVNode(" Content "),
      vue.createElementVNode("view", { class: "content" }, [
        vue.createCommentVNode(" Permission Categories "),
        vue.createElementVNode("view", { class: "permission-section" }, [
          vue.createElementVNode("view", { class: "section-title" }, [
            vue.createElementVNode("text", null, "åº”ç”¨æƒé™")
          ]),
          vue.createElementVNode("view", {
            class: "permission-item",
            onClick: _cache[0] || (_cache[0] = ($event) => $options.showPermissionDialog("ä½ç½®æƒé™"))
          }, [
            vue.createElementVNode("view", { class: "permission-info" }, [
              vue.createElementVNode("view", { class: "permission-icon" }, "ğŸ“"),
              vue.createElementVNode("view", { class: "permission-details" }, [
                vue.createElementVNode("text", { class: "permission-name" }, "ä½ç½®æƒé™"),
                vue.createElementVNode("text", { class: "permission-desc" }, "ç”¨äºè·å–æ‚¨çš„ä½ç½®ä¿¡æ¯")
              ])
            ]),
            vue.createElementVNode("view", { class: "permission-status" }, [
              vue.createElementVNode("text", { class: "status-text" }, "å·²æˆæƒ"),
              vue.createElementVNode("text", { class: "arrow" }, "â€º")
            ])
          ]),
          vue.createElementVNode("view", {
            class: "permission-item",
            onClick: _cache[1] || (_cache[1] = ($event) => $options.showPermissionDialog("ç›¸æœºæƒé™"))
          }, [
            vue.createElementVNode("view", { class: "permission-info" }, [
              vue.createElementVNode("view", { class: "permission-icon" }, "ğŸ“·"),
              vue.createElementVNode("view", { class: "permission-details" }, [
                vue.createElementVNode("text", { class: "permission-name" }, "ç›¸æœºæƒé™"),
                vue.createElementVNode("text", { class: "permission-desc" }, "ç”¨äºæ‹ç…§å’Œè§†é¢‘é€šè¯")
              ])
            ]),
            vue.createElementVNode("view", { class: "permission-status" }, [
              vue.createElementVNode("text", { class: "status-text" }, "å·²æˆæƒ"),
              vue.createElementVNode("text", { class: "arrow" }, "â€º")
            ])
          ]),
          vue.createElementVNode("view", {
            class: "permission-item",
            onClick: _cache[2] || (_cache[2] = ($event) => $options.showPermissionDialog("éº¦å…‹é£æƒé™"))
          }, [
            vue.createElementVNode("view", { class: "permission-info" }, [
              vue.createElementVNode("view", { class: "permission-icon" }, "ğŸ¤"),
              vue.createElementVNode("view", { class: "permission-details" }, [
                vue.createElementVNode("text", { class: "permission-name" }, "éº¦å…‹é£æƒé™"),
                vue.createElementVNode("text", { class: "permission-desc" }, "ç”¨äºè¯­éŸ³é€šè¯å’Œå½•éŸ³")
              ])
            ]),
            vue.createElementVNode("view", { class: "permission-status" }, [
              vue.createElementVNode("text", { class: "status-text" }, "å·²æˆæƒ"),
              vue.createElementVNode("text", { class: "arrow" }, "â€º")
            ])
          ]),
          vue.createElementVNode("view", {
            class: "permission-item",
            onClick: _cache[3] || (_cache[3] = (...args) => $options.goToSystemSettings && $options.goToSystemSettings(...args))
          }, [
            vue.createElementVNode("view", { class: "permission-info" }, [
              vue.createElementVNode("view", { class: "permission-icon" }, "ğŸ“±"),
              vue.createElementVNode("view", { class: "permission-details" }, [
                vue.createElementVNode("text", { class: "permission-name" }, "é€šè®¯å½•æƒé™"),
                vue.createElementVNode("text", { class: "permission-desc" }, "ç”¨äºåŒæ­¥è”ç³»äººä¿¡æ¯")
              ])
            ]),
            vue.createElementVNode("view", { class: "permission-status" }, [
              vue.createElementVNode("text", { class: "status-text" }, "æœªæˆæƒ"),
              vue.createElementVNode("text", { class: "arrow" }, "â€º")
            ])
          ]),
          vue.createElementVNode("view", {
            class: "permission-item",
            onClick: _cache[4] || (_cache[4] = (...args) => $options.goToSystemSettings && $options.goToSystemSettings(...args))
          }, [
            vue.createElementVNode("view", { class: "permission-info" }, [
              vue.createElementVNode("view", { class: "permission-icon" }, "âš™ï¸"),
              vue.createElementVNode("view", { class: "permission-details" }, [
                vue.createElementVNode("text", { class: "permission-name" }, "å…¶ä»–æƒé™"),
                vue.createElementVNode("text", { class: "permission-desc" }, "ç³»ç»Ÿç›¸å…³æƒé™è®¾ç½®")
              ])
            ]),
            vue.createElementVNode("view", { class: "permission-status" }, [
              vue.createElementVNode("text", { class: "status-text" }, "ç³»ç»Ÿç®¡ç†"),
              vue.createElementVNode("text", { class: "arrow" }, "â€º")
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" Permission Dialog Overlay "),
      $data.showDialog ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "permission-overlay",
        onClick: _cache[9] || (_cache[9] = (...args) => $options.hidePermissionDialog && $options.hidePermissionDialog(...args))
      }, [
        vue.createElementVNode("view", {
          class: "permission-dialog",
          onClick: _cache[8] || (_cache[8] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", { class: "dialog-header" }, [
            vue.createElementVNode(
              "text",
              { class: "dialog-title" },
              vue.toDisplayString($data.currentPermissionTitle),
              1
              /* TEXT */
            ),
            vue.createElementVNode("text", {
              class: "close-btn",
              onClick: _cache[5] || (_cache[5] = (...args) => $options.hidePermissionDialog && $options.hidePermissionDialog(...args))
            }, "Ã—")
          ]),
          vue.createElementVNode("view", { class: "dialog-content" }, [
            vue.createElementVNode(
              "text",
              { class: "dialog-desc" },
              vue.toDisplayString($options.getPermissionDescription($data.currentPermissionType)),
              1
              /* TEXT */
            )
          ]),
          vue.createElementVNode("view", { class: "dialog-actions" }, [
            vue.createElementVNode("button", {
              class: "action-btn cancel-btn",
              onClick: _cache[6] || (_cache[6] = (...args) => $options.hidePermissionDialog && $options.hidePermissionDialog(...args))
            }, "å–æ¶ˆ"),
            vue.createElementVNode("button", {
              class: "action-btn confirm-btn",
              onClick: _cache[7] || (_cache[7] = (...args) => $options.confirmPermission && $options.confirmPermission(...args))
            }, "ç¡®è®¤")
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const PagesSettingsPermissions = /* @__PURE__ */ _export_sfc(_sfc_main$B, [["render", _sfc_render$A], ["__scopeId", "data-v-99e09832"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/permissions.vue"]]);
  const _sfc_main$A = {
    name: "AlbumPermissionsPage",
    data() {
      return {
        locationPermission: true,
        sharePermission: true,
        analysisPermission: true
      };
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      goToSettings() {
        uni.showToast({
          title: "è·³è½¬åˆ°ç³»ç»Ÿè®¾ç½®",
          icon: "none"
        });
      },
      toggleLocationPermission() {
        this.locationPermission = !this.locationPermission;
      },
      toggleSharePermission() {
        this.sharePermission = !this.sharePermission;
      },
      toggleAnalysisPermission() {
        this.analysisPermission = !this.analysisPermission;
      }
    }
  };
  function _sfc_render$z(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "album-permissions-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">12:00</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="title">ç›¸å†Œæƒé™</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" ç›¸å†Œæƒé™è®¾ç½® "),
      vue.createElementVNode("view", { class: "permission-section" }, [
        vue.createElementVNode("view", { class: "permission-header" }, [
          vue.createElementVNode("text", { class: "permission-title" }, "ç›¸å†Œæƒé™"),
          vue.createElementVNode("view", {
            class: "go-to-settings",
            onClick: _cache[0] || (_cache[0] = (...args) => $options.goToSettings && $options.goToSettings(...args))
          }, [
            vue.createElementVNode("text", { class: "settings-text" }, "å»è®¾ç½®"),
            vue.createElementVNode("view", { class: "arrow-right" })
          ])
        ])
      ]),
      vue.createCommentVNode(" æƒé™é€‰é¡¹åˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "permissions-list" }, [
        vue.createCommentVNode(" ä½ç½®ä¿¡æ¯æƒé™ "),
        vue.createElementVNode("view", { class: "permission-item" }, [
          vue.createElementVNode("view", { class: "permission-content" }, [
            vue.createElementVNode("text", { class: "permission-name" }, "å…è®¸ä½¿ç”¨ç›¸å†Œå†…å®¹çš„ä½ç½®ä¿¡æ¯"),
            vue.createElementVNode("text", { class: "permission-description" }, "å…³é—­å,å°†ä¸ä½¿ç”¨æœ¬åœ°ç›¸å†Œå’Œå·²ç»ä¸Šä¼ çš„ç›¸å†Œå†…å®¹ä¸­çš„ä½ç½®ä¿¡æ¯,å¦‚å‘å¸ƒæ—¶æ— æ³•ä¸ºä½ æ¨èç›¸å†Œä¸­ç…§ç‰‡å’Œè§†é¢‘çš„æ‹æ‘„åœ°ç‚¹ç­‰")
          ]),
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["toggle-switch", { active: $data.locationPermission }]),
              onClick: _cache[1] || (_cache[1] = (...args) => $options.toggleLocationPermission && $options.toggleLocationPermission(...args))
            },
            [
              vue.createElementVNode("view", { class: "toggle-circle" })
            ],
            2
            /* CLASS */
          )
        ]),
        vue.createCommentVNode(" å¿«æ·åˆ†äº«æƒé™ "),
        vue.createElementVNode("view", { class: "permission-item" }, [
          vue.createElementVNode("view", { class: "permission-content" }, [
            vue.createElementVNode("text", { class: "permission-name" }, "å…è®¸å¿«æ·åˆ†äº«ç›¸å†Œå†…å®¹åˆ°Afriends"),
            vue.createElementVNode("text", { class: "permission-description" }, "å…³é—­å,ä½ æ— æ³•å°†ç³»ç»Ÿç›¸å†Œä¸­çš„å›¾ç‰‡å’Œè§†é¢‘å¿«æ·åˆ†äº«ç»™Afriendsæœ‹å‹")
          ]),
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["toggle-switch", { active: $data.sharePermission }]),
              onClick: _cache[2] || (_cache[2] = (...args) => $options.toggleSharePermission && $options.toggleSharePermission(...args))
            },
            [
              vue.createElementVNode("view", { class: "toggle-circle" })
            ],
            2
            /* CLASS */
          )
        ]),
        vue.createCommentVNode(" è¯†åˆ«åˆ†ææƒé™ "),
        vue.createElementVNode("view", { class: "permission-item" }, [
          vue.createElementVNode("view", { class: "permission-content" }, [
            vue.createElementVNode("text", { class: "permission-name" }, "å…è®¸è¯†åˆ«å¹¶åˆ†æç›¸å†Œå†…å®¹"),
            vue.createElementVNode("text", { class: "permission-description" }, "åœ¨ä½ è¿›å…¥ç›¸å†Œå,æˆ‘ä»¬ä»…ä¼šåœ¨æˆæƒè®¿é—®çš„ç›¸å†ŒèŒƒå›´å†…è¯†åˆ«åˆ†æ,åœ¨è®¾å¤‡æœ¬åœ°è¿è¡Œ,å…³é—­å,å°†ä¸å†å¯¹æ‚¨æ‰‹æœºç›¸å†Œä¸­çš„å†…å®¹è¿›è¡Œè¯†åˆ«,å¦‚ä¸å†æä¾›ç›¸å†Œæœç´¢ã€äººåƒç­›é€‰ã€æ¨èå½±é›†ç­‰åŠŸèƒ½")
          ]),
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["toggle-switch", { active: $data.analysisPermission }]),
              onClick: _cache[3] || (_cache[3] = (...args) => $options.toggleAnalysisPermission && $options.toggleAnalysisPermission(...args))
            },
            [
              vue.createElementVNode("view", { class: "toggle-circle" })
            ],
            2
            /* CLASS */
          )
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesSettingsAlbumPermissions = /* @__PURE__ */ _export_sfc(_sfc_main$A, [["render", _sfc_render$z], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/album-permissions.vue"]]);
  const _sfc_main$z = {
    name: "BlockedUsersPage",
    data() {
      return {
        searchKeyword: "",
        blockedUsers: [
          {
            id: "001",
            name: "å¼ ä¸‰",
            avatar: "",
            blockDate: "2024-12-20",
            reason: "éªšæ‰°è¡Œä¸º"
          },
          {
            id: "002",
            name: "æå››",
            avatar: "",
            blockDate: "2024-12-18",
            reason: "ä¸å½“è¨€è®º"
          },
          {
            id: "003",
            name: "ç‹äº”",
            avatar: "",
            blockDate: "2024-12-15",
            reason: "æ¶æ„ä¸¾æŠ¥"
          },
          {
            id: "004",
            name: "èµµå…­",
            avatar: "",
            blockDate: "2024-12-10",
            reason: "è™šå‡ä¿¡æ¯"
          }
        ]
      };
    },
    computed: {
      totalBlockedUsers() {
        return this.blockedUsers.length;
      },
      searchResults() {
        if (!this.searchKeyword.trim()) {
          return this.blockedUsers;
        }
        return this.blockedUsers.filter(
          (user) => user.name.toLowerCase().includes(this.searchKeyword.toLowerCase()) || user.id.includes(this.searchKeyword)
        );
      },
      filteredUsers() {
        return this.searchResults;
      }
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      onSearchInput() {
      },
      clearSearch() {
        this.searchKeyword = "";
      },
      unblockUser(user) {
        uni.showModal({
          title: "ç¡®è®¤è§£é™¤æ‹‰é»‘",
          content: `ç¡®å®šè¦è§£é™¤å¯¹ ${user.name} çš„æ‹‰é»‘å—ï¼Ÿ`,
          success: (res) => {
            if (res.confirm) {
              const index = this.blockedUsers.findIndex((u) => u.id === user.id);
              if (index > -1) {
                this.blockedUsers.splice(index, 1);
                uni.showToast({
                  title: "å·²è§£é™¤æ‹‰é»‘",
                  icon: "success"
                });
              }
            }
          }
        });
      },
      formatDate(dateString) {
        const date = new Date(dateString);
        return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, "0")}-${date.getDate().toString().padStart(2, "0")}`;
      }
    }
  };
  function _sfc_render$y(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "blocked-users-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">12:00</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="title">é»‘åå•ç®¡ç†</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" æœç´¢æ  "),
      vue.createElementVNode("view", { class: "search-section" }, [
        vue.createElementVNode("view", { class: "search-input" }, [
          vue.createElementVNode("view", { class: "search-icon" }, [
            vue.createElementVNode("view", { class: "search-magnifier" })
          ]),
          vue.withDirectives(vue.createElementVNode(
            "input",
            {
              class: "search-field",
              placeholder: "æœç´¢é»‘åå•ç”¨æˆ·",
              "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.searchKeyword = $event),
              onInput: _cache[1] || (_cache[1] = (...args) => $options.onSearchInput && $options.onSearchInput(...args))
            },
            null,
            544
            /* NEED_HYDRATION, NEED_PATCH */
          ), [
            [vue.vModelText, $data.searchKeyword]
          ]),
          $data.searchKeyword ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "clear-button",
            onClick: _cache[2] || (_cache[2] = (...args) => $options.clearSearch && $options.clearSearch(...args))
          }, [
            vue.createElementVNode("view", { class: "clear-icon" })
          ])) : vue.createCommentVNode("v-if", true)
        ])
      ]),
      vue.createCommentVNode(" ç»Ÿè®¡ä¿¡æ¯ "),
      vue.createElementVNode("view", { class: "stats-section" }, [
        vue.createElementVNode("view", { class: "stats-item" }, [
          vue.createElementVNode(
            "text",
            { class: "stats-number" },
            vue.toDisplayString($options.totalBlockedUsers),
            1
            /* TEXT */
          ),
          vue.createElementVNode("text", { class: "stats-label" }, "å·²æ‹‰é»‘ç”¨æˆ·")
        ]),
        vue.createElementVNode("view", { class: "stats-item" }, [
          vue.createElementVNode(
            "text",
            { class: "stats-number" },
            vue.toDisplayString($options.searchResults.length),
            1
            /* TEXT */
          ),
          vue.createElementVNode("text", { class: "stats-label" }, "æœç´¢ç»“æœ")
        ])
      ]),
      vue.createCommentVNode(" é»‘åå•ç”¨æˆ·åˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "users-list" }, [
        $options.filteredUsers.length === 0 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "empty-state"
        }, [
          vue.createElementVNode("view", { class: "empty-icon" }, [
            vue.createElementVNode("view", { class: "empty-face" })
          ]),
          vue.createElementVNode("text", { class: "empty-title" }, "æš‚æ— é»‘åå•ç”¨æˆ·"),
          vue.createElementVNode("text", { class: "empty-description" }, "ä½ è¿˜æ²¡æœ‰æ‹‰é»‘ä»»ä½•ç”¨æˆ·")
        ])) : vue.createCommentVNode("v-if", true),
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($options.filteredUsers, (user) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              key: user.id,
              class: "user-item"
            }, [
              vue.createElementVNode("view", { class: "user-info" }, [
                vue.createElementVNode("view", { class: "user-avatar" }, [
                  user.avatar ? (vue.openBlock(), vue.createElementBlock("image", {
                    key: 0,
                    src: user.avatar,
                    class: "avatar-image"
                  }, null, 8, ["src"])) : (vue.openBlock(), vue.createElementBlock("view", {
                    key: 1,
                    class: "avatar-placeholder"
                  }, [
                    vue.createElementVNode(
                      "text",
                      { class: "avatar-text" },
                      vue.toDisplayString(user.name.charAt(0)),
                      1
                      /* TEXT */
                    )
                  ]))
                ]),
                vue.createElementVNode("view", { class: "user-details" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "user-name" },
                    vue.toDisplayString(user.name),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "text",
                    { class: "user-id" },
                    "ID: " + vue.toDisplayString(user.id),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "text",
                    { class: "block-date" },
                    "æ‹‰é»‘æ—¶é—´: " + vue.toDisplayString($options.formatDate(user.blockDate)),
                    1
                    /* TEXT */
                  )
                ])
              ]),
              vue.createElementVNode("view", { class: "user-actions" }, [
                vue.createElementVNode("view", {
                  class: "action-button unblock-btn",
                  onClick: ($event) => $options.unblockUser(user)
                }, [
                  vue.createElementVNode("text", { class: "action-text" }, "è§£é™¤æ‹‰é»‘")
                ], 8, ["onClick"])
              ])
            ]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ]),
      vue.createCommentVNode(" åº•éƒ¨æç¤º "),
      vue.createElementVNode("view", { class: "bottom-tip" }, [
        vue.createElementVNode("text", { class: "tip-text" }, "æ‹‰é»‘çš„ç”¨æˆ·å°†æ— æ³•ä¸ä½ è”ç³»ï¼Œä¹Ÿæ— æ³•çœ‹åˆ°ä½ çš„åŠ¨æ€")
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesSettingsBlockedUsers = /* @__PURE__ */ _export_sfc(_sfc_main$z, [["render", _sfc_render$y], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/blocked-users.vue"]]);
  const _sfc_main$y = {
    name: "CustomerServicePage",
    data() {
      return {
        activeTab: "orders",
        questions: [
          "è´¦å·å¤„ç½šå¸¸è§é—®é¢˜",
          "ä¸ºä»€ä¹ˆå°ç¦è´¦å·ä¸èƒ½æ³¨é”€",
          "ä¸¾æŠ¥ç›¸å…³å¸¸è§é—®é¢˜",
          "è´¦å·è¢«å¤„ç½šäº†æˆ‘è¯¥æ€ä¹ˆåŠ?",
          "è´¦å·å®åç›¸å…³é—®é¢˜"
        ]
      };
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      switchTab(tab) {
        this.activeTab = tab;
      },
      goToService(serviceType) {
        uni.showToast({
          title: `è¿›å…¥${serviceType}æœåŠ¡`,
          icon: "none"
        });
      },
      goToQuestion(question) {
        uni.showToast({
          title: `æŸ¥çœ‹é—®é¢˜ï¼š${question}`,
          icon: "none"
        });
      },
      callCustomerService() {
        uni.showModal({
          title: "å®¢æœç”µè¯",
          content: "400-123-4567",
          confirmText: "æ‹¨æ‰“",
          success: (res) => {
            if (res.confirm) {
              uni.showToast({
                title: "æ­£åœ¨æ‹¨æ‰“å®¢æœç”µè¯",
                icon: "none"
              });
            }
          }
        });
      },
      initiateNewService() {
        uni.showToast({
          title: "å‘èµ·æ–°æœåŠ¡",
          icon: "none"
        });
      }
    }
  };
  function _sfc_render$x(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "customer-service-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">12:00</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createElementVNode("view", { class: "header" }, [
        vue.createElementVNode("view", {
          class: "back-button",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
        }, [
          vue.createElementVNode("view", { class: "back-arrow" })
        ]),
        vue.createElementVNode("view", { class: "header-content" }, [
          vue.createElementVNode("text", { class: "title" }, "Afriendså®¢æœä¸­å¿ƒ"),
          vue.createElementVNode("text", { class: "subtitle" }, "7x24 å®ˆæŠ¤æ‚¨çš„Afriendsä½“éªŒ")
        ]),
        vue.createElementVNode("view", { class: "mascot" }, [
          vue.createElementVNode("view", { class: "cat-character" }, [
            vue.createElementVNode("view", { class: "cat-face" }, [
              vue.createElementVNode("view", { class: "cat-eye left-eye" }),
              vue.createElementVNode("view", { class: "cat-eye right-eye" }),
              vue.createElementVNode("view", { class: "cat-mouth" })
            ]),
            vue.createElementVNode("view", { class: "cat-body" }, [
              vue.createElementVNode("view", { class: "logo-symbol" }, "A")
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" ä¸»è¦å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" æœåŠ¡åˆ†ç±»ç½‘æ ¼ "),
        vue.createElementVNode("view", { class: "service-grid" }, [
          vue.createElementVNode("view", { class: "grid-row" }, [
            vue.createElementVNode("view", {
              class: "service-item",
              onClick: _cache[1] || (_cache[1] = ($event) => $options.goToService("appeal"))
            }, [
              vue.createElementVNode("view", { class: "service-icon appeal-icon" }, [
                vue.createElementVNode("view", { class: "wave-line" }),
                vue.createElementVNode("view", { class: "arrow-up" })
              ]),
              vue.createElementVNode("text", { class: "service-label" }, "å¤„ç½šç”³è¯‰")
            ]),
            vue.createElementVNode("view", {
              class: "service-item",
              onClick: _cache[2] || (_cache[2] = ($event) => $options.goToService("report"))
            }, [
              vue.createElementVNode("view", { class: "service-icon report-icon" }, [
                vue.createElementVNode("view", { class: "exclamation-mark" }),
                vue.createElementVNode("view", { class: "person-silhouette" })
              ]),
              vue.createElementVNode("text", { class: "service-label" }, "ä¸¾æŠ¥ä¸­å¿ƒ")
            ]),
            vue.createElementVNode("view", {
              class: "service-item",
              onClick: _cache[3] || (_cache[3] = ($event) => $options.goToService("security"))
            }, [
              vue.createElementVNode("view", { class: "service-icon security-icon" }, [
                vue.createElementVNode("view", { class: "shield" }),
                vue.createElementVNode("view", { class: "checkmark" })
              ]),
              vue.createElementVNode("text", { class: "service-label" }, "å®‰å…¨ä¸­å¿ƒ")
            ])
          ]),
          vue.createElementVNode("view", { class: "grid-row" }, [
            vue.createElementVNode("view", {
              class: "service-item",
              onClick: _cache[4] || (_cache[4] = ($event) => $options.goToService("verification"))
            }, [
              vue.createElementVNode("view", { class: "service-icon verification-icon" }, [
                vue.createElementVNode("view", { class: "lightning" }),
                vue.createElementVNode("view", { class: "speech-bubble" })
              ]),
              vue.createElementVNode("text", { class: "service-label" }, "éªŒè¯åŠ©æ‰‹")
            ]),
            vue.createElementVNode("view", {
              class: "service-item",
              onClick: _cache[5] || (_cache[5] = ($event) => $options.goToService("shop"))
            }, [
              vue.createElementVNode("view", { class: "service-icon shop-icon" }, [
                vue.createElementVNode("view", { class: "storefront" })
              ]),
              vue.createElementVNode("text", { class: "service-label" }, "æŠ–åº—å…¥é©»")
            ]),
            vue.createElementVNode("view", {
              class: "service-item",
              onClick: _cache[6] || (_cache[6] = ($event) => $options.goToService("selling"))
            }, [
              vue.createElementVNode("view", { class: "service-icon selling-icon" }, [
                vue.createElementVNode("view", { class: "people-group" }),
                vue.createElementVNode("view", { class: "shopping-bag" })
              ]),
              vue.createElementVNode("text", { class: "service-label" }, "æˆ‘è¦å¸¦è´§")
            ])
          ]),
          vue.createElementVNode("view", { class: "grid-row" }, [
            vue.createElementVNode("view", {
              class: "service-item",
              onClick: _cache[7] || (_cache[7] = ($event) => $options.goToService("account-recovery"))
            }, [
              vue.createElementVNode("view", { class: "service-icon recovery-icon" }, [
                vue.createElementVNode("view", { class: "star" }),
                vue.createElementVNode("view", { class: "person-silhouette" })
              ]),
              vue.createElementVNode("text", { class: "service-label" }, "è´¦å·æ‰¾å›")
            ]),
            vue.createElementVNode("view", {
              class: "service-item",
              onClick: _cache[8] || (_cache[8] = ($event) => $options.goToService("account-security"))
            }, [
              vue.createElementVNode("view", { class: "service-icon account-security-icon" }, [
                vue.createElementVNode("view", { class: "shield-100" }),
                vue.createElementVNode("text", { class: "hundred" }, "100")
              ]),
              vue.createElementVNode("text", { class: "service-label" }, "è´¦å·å®‰å…¨")
            ]),
            vue.createElementVNode("view", {
              class: "service-item",
              onClick: _cache[9] || (_cache[9] = ($event) => $options.goToService("enterprise"))
            }, [
              vue.createElementVNode("view", { class: "service-icon enterprise-icon" }, [
                vue.createElementVNode("view", { class: "hexagon" })
              ]),
              vue.createElementVNode("text", { class: "service-label" }, "ä¼ä¸šè®¤è¯")
            ])
          ]),
          vue.createElementVNode("view", { class: "grid-row" }, [
            vue.createElementVNode("view", {
              class: "service-item",
              onClick: _cache[10] || (_cache[10] = ($event) => $options.goToService("billing"))
            }, [
              vue.createElementVNode("view", { class: "service-icon billing-icon" }, [
                vue.createElementVNode("view", { class: "currency-symbol" }, "Â¥"),
                vue.createElementVNode("view", { class: "document" })
              ]),
              vue.createElementVNode("text", { class: "service-label" }, "æœˆä»˜æŸ¥è´¦")
            ]),
            vue.createElementVNode("view", { class: "service-item" }),
            vue.createElementVNode("view", { class: "service-item" })
          ])
        ]),
        vue.createCommentVNode(" åˆ†é¡µæŒ‡ç¤ºå™¨ "),
        vue.createElementVNode("view", { class: "pagination-dots" }, [
          vue.createElementVNode("view", { class: "dot active" }),
          vue.createElementVNode("view", { class: "dot" })
        ]),
        vue.createCommentVNode(" è®¢å•/æŠ•ç¨¿æ ‡ç­¾é¡µ "),
        vue.createElementVNode("view", { class: "tabs-section" }, [
          vue.createElementVNode("view", { class: "tabs-header" }, [
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["tab", { active: $data.activeTab === "orders" }]),
                onClick: _cache[11] || (_cache[11] = ($event) => $options.switchTab("orders"))
              },
              [
                vue.createElementVNode("text", { class: "tab-text" }, "è®¢å•")
              ],
              2
              /* CLASS */
            ),
            vue.createElementVNode(
              "view",
              {
                class: vue.normalizeClass(["tab", { active: $data.activeTab === "submissions" }]),
                onClick: _cache[12] || (_cache[12] = ($event) => $options.switchTab("submissions"))
              },
              [
                vue.createElementVNode("text", { class: "tab-text" }, "æŠ•ç¨¿")
              ],
              2
              /* CLASS */
            ),
            vue.createElementVNode("view", { class: "view-all" }, [
              vue.createElementVNode("text", { class: "view-all-text" }, "æŸ¥çœ‹å…¨éƒ¨ >")
            ])
          ]),
          vue.createElementVNode("view", { class: "tab-content" }, [
            vue.createElementVNode("view", { class: "content-scroll" }, [
              vue.createElementVNode("view", { class: "content-item" }, [
                vue.createElementVNode("view", { class: "item-image" }, [
                  vue.createElementVNode("view", { class: "food-image" }, [
                    vue.createElementVNode("view", { class: "soup-bowl" }),
                    vue.createElementVNode("view", { class: "ingredients" })
                  ])
                ]),
                vue.createElementVNode("view", { class: "item-info" }, [
                  vue.createElementVNode("text", { class: "item-title" }, "ã€é€ƒç¦»å·¥ä½ã€‘å•äººå¿«..."),
                  vue.createElementVNode("text", { class: "item-description" }, "å«é”…åº•å°ç‰¹è‰²ç“¶å­é¥­"),
                  vue.createElementVNode("text", { class: "item-price" }, "Â¥34.9")
                ]),
                vue.createElementVNode("view", { class: "consult-button" }, [
                  vue.createElementVNode("text", { class: "consult-text" }, "å’¨è¯¢")
                ])
              ]),
              vue.createElementVNode("view", { class: "content-item" }, [
                vue.createElementVNode("view", { class: "item-image" }, [
                  vue.createElementVNode("view", { class: "choice-image" }, [
                    vue.createElementVNode("view", { class: "cylinder-1" }),
                    vue.createElementVNode("view", { class: "cylinder-2" })
                  ])
                ]),
                vue.createElementVNode("view", { class: "item-info" }, [
                  vue.createElementVNode("text", { class: "item-title" }, "2é€‰1"),
                  vue.createElementVNode("text", { class: "item-description" }, "é€‰æ‹©æ‚¨å–œæ¬¢çš„å•†å“"),
                  vue.createElementVNode("text", { class: "item-price" }, "Â¥29.9")
                ]),
                vue.createElementVNode("view", { class: "consult-button" }, [
                  vue.createElementVNode("text", { class: "consult-text" }, "å’¨è¯¢")
                ])
              ])
            ])
          ])
        ]),
        vue.createCommentVNode(" æˆ‘çš„æœåŠ¡ "),
        vue.createElementVNode("view", { class: "my-services-section" }, [
          vue.createElementVNode("view", { class: "section-header" }, [
            vue.createElementVNode("text", { class: "section-title" }, "æˆ‘çš„æœåŠ¡"),
            vue.createElementVNode("view", { class: "arrow-icon" }, [
              vue.createElementVNode("view", { class: "arrow-right-large" })
            ])
          ])
        ]),
        vue.createCommentVNode(" å¸¸è§é—®é¢˜ "),
        vue.createElementVNode("view", { class: "common-questions-section" }, [
          vue.createElementVNode("view", { class: "section-header" }, [
            vue.createElementVNode("text", { class: "section-title" }, "å¸¸è§é—®é¢˜"),
            vue.createElementVNode("view", { class: "view-more" }, [
              vue.createElementVNode("text", { class: "view-more-text" }, "æŸ¥çœ‹æ›´å¤š >")
            ])
          ]),
          vue.createElementVNode("view", { class: "questions-list" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.questions, (question, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "question-item",
                  key: index,
                  onClick: ($event) => $options.goToQuestion(question)
                }, [
                  vue.createElementVNode(
                    "text",
                    {
                      class: vue.normalizeClass(["question-number", { active: index < 3 }])
                    },
                    vue.toDisplayString(index + 1),
                    3
                    /* TEXT, CLASS */
                  ),
                  vue.createElementVNode(
                    "text",
                    { class: "question-text" },
                    vue.toDisplayString(question),
                    1
                    /* TEXT */
                  )
                ], 8, ["onClick"]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ“ä½œæ  "),
      vue.createElementVNode("view", { class: "bottom-action-bar" }, [
        vue.createElementVNode("view", {
          class: "phone-button",
          onClick: _cache[13] || (_cache[13] = (...args) => $options.callCustomerService && $options.callCustomerService(...args))
        }, [
          vue.createElementVNode("view", { class: "phone-icon" }),
          vue.createElementVNode("text", { class: "button-text" }, "å®¢æœç”µè¯")
        ]),
        vue.createElementVNode("view", {
          class: "new-service-button",
          onClick: _cache[14] || (_cache[14] = (...args) => $options.initiateNewService && $options.initiateNewService(...args))
        }, [
          vue.createElementVNode("view", { class: "speech-bubble-icon" }, [
            vue.createElementVNode("view", { class: "three-dots" })
          ]),
          vue.createElementVNode("text", { class: "button-text" }, "å‘èµ·æ–°æœåŠ¡")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesSettingsCustomerService = /* @__PURE__ */ _export_sfc(_sfc_main$y, [["render", _sfc_render$x], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/customer-service.vue"]]);
  const _sfc_main$x = {
    name: "TermsOfServicePage",
    methods: {
      goBack() {
        uni.navigateBack();
      }
    }
  };
  function _sfc_render$w(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "terms-of-service-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">12:00</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="title">æœåŠ¡æ¡æ¬¾</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" ä¸»è¦å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" ä»‹ç»éƒ¨åˆ† "),
        vue.createElementVNode("view", { class: "intro-section" }, [
          vue.createElementVNode("text", { class: "intro-title" }, "äº¤å‹è½¯ä»¶æœåŠ¡æ¡æ¬¾"),
          vue.createElementVNode("text", { class: "intro-text" }, "æ¬¢è¿ä½¿ç”¨æœ¬è½¯ä»¶ï¼æœ¬æ¡æ¬¾æ˜¯æ‚¨ä¸æˆ‘ä»¬ä¹‹é—´å°±æœ¬è½¯ä»¶çš„ä½¿ç”¨æ‰€è¾¾æˆçš„åè®®ã€‚è¯·æ‚¨åœ¨æ³¨å†Œã€ç™»å½•æˆ–ä½¿ç”¨æœ¬è½¯ä»¶å‰ï¼Œä»”ç»†é˜…è¯»å¹¶å……åˆ†ç†è§£æœ¬æ¡æ¬¾çš„å…¨éƒ¨å†…å®¹ã€‚å¦‚æœæ‚¨ä¸åŒæ„æœ¬æ¡æ¬¾çš„ä»»ä½•å†…å®¹ï¼Œè¯·ä¸è¦æ³¨å†Œã€ç™»å½•æˆ–ä½¿ç”¨æœ¬è½¯ä»¶ã€‚æ‚¨æ³¨å†Œã€ç™»å½•æˆ–ä½¿ç”¨æœ¬è½¯ä»¶çš„è¡Œä¸ºï¼Œå³è§†ä¸ºæ‚¨å·²åŒæ„å—æœ¬æ¡æ¬¾çº¦æŸã€‚")
        ]),
        vue.createCommentVNode(" æ¡æ¬¾å†…å®¹ "),
        vue.createElementVNode("view", { class: "terms-content" }, [
          vue.createCommentVNode(" ç¬¬ä¸€æ¡ "),
          vue.createElementVNode("view", { class: "term-section" }, [
            vue.createElementVNode("text", { class: "term-number" }, "I."),
            vue.createElementVNode("text", { class: "term-title" }, "è´¦å·æ³¨å†Œä¸ç®¡ç†"),
            vue.createElementVNode("view", { class: "term-items" }, [
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "1."),
                vue.createElementVNode("text", { class: "item-title" }, "æ³¨å†Œèµ„æ ¼"),
                vue.createElementVNode("text", { class: "item-content" }, "ç”¨æˆ·å¿…é¡»å¹´æ»¡18å‘¨å²ï¼Œå…·æœ‰å®Œå…¨æ°‘äº‹è¡Œä¸ºèƒ½åŠ›ã€‚æˆ‘ä»¬ä¿ç•™æ ¹æ®æ³•å¾‹æ³•è§„å’Œå®é™…æƒ…å†µè°ƒæ•´æ³¨å†Œèµ„æ ¼çš„æƒåˆ©ã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "2."),
                vue.createElementVNode("text", { class: "item-title" }, "æ³¨å†Œä¿¡æ¯"),
                vue.createElementVNode("text", { class: "item-content" }, "ç”¨æˆ·å¿…é¡»æä¾›çœŸå®ã€å‡†ç¡®ã€å®Œæ•´çš„ä¸ªäººä¿¡æ¯ï¼ˆå¦‚æ‰‹æœºå·ã€æ˜µç§°ã€æ€§åˆ«ã€å¹´é¾„ã€å¤´åƒç­‰ï¼‰ï¼Œå¹¶ä¿æŒä¿¡æ¯æ›´æ–°ã€‚ç”¨æˆ·å¯¹æä¾›è™šå‡ã€ä¸å‡†ç¡®ã€ä¸å®Œæ•´æˆ–è¿‡æ—¶ä¿¡æ¯é€ æˆçš„åæœæ‰¿æ‹…è´£ä»»ã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "3."),
                vue.createElementVNode("text", { class: "item-title" }, "è´¦å·å®‰å…¨"),
                vue.createElementVNode("text", { class: "item-content" }, "ç”¨æˆ·å¿…é¡»å¦¥å–„ä¿ç®¡è‡ªå·±çš„è´¦å·å’Œå¯†ç ï¼Œä¸å¾—è½¬è®©ã€å‡ºç§Ÿã€å‡ºå”®æˆ–åˆ†äº«è´¦å·ã€‚å¦‚å‘ç°è´¦å·è¢«éæ³•ä½¿ç”¨æˆ–å­˜åœ¨å®‰å…¨é£é™©ï¼Œåº”ç«‹å³é€šçŸ¥æˆ‘ä»¬ã€‚å› ç”¨æˆ·ä¿ç®¡ä¸å½“é€ æˆçš„æŸå¤±ï¼Œæˆ‘ä»¬ä¸æ‰¿æ‹…è´£ä»»ã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "4."),
                vue.createElementVNode("text", { class: "item-title" }, "è´¦å·æ³¨é”€"),
                vue.createElementVNode("text", { class: "item-content" }, "ç”¨æˆ·æœ‰æƒéšæ—¶ç”³è¯·æ³¨é”€è´¦å·ã€‚æ³¨é”€åï¼Œä¸ªäººä¿¡æ¯å°†æŒ‰ç…§éšç§æ”¿ç­–è¿›è¡Œå¤„ç†ï¼Œç”¨æˆ·å°†æ— æ³•ä½¿ç”¨ç›¸å…³æœåŠ¡ã€‚")
              ])
            ])
          ]),
          vue.createCommentVNode(" ç¬¬äºŒæ¡ "),
          vue.createElementVNode("view", { class: "term-section" }, [
            vue.createElementVNode("text", { class: "term-number" }, "II."),
            vue.createElementVNode("text", { class: "term-title" }, "æœåŠ¡å†…å®¹ä¸ä½¿ç”¨è§„åˆ™"),
            vue.createElementVNode("view", { class: "term-items" }, [
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "1."),
                vue.createElementVNode("text", { class: "item-title" }, "æœåŠ¡å†…å®¹"),
                vue.createElementVNode("text", { class: "item-content" }, "æœ¬è½¯ä»¶æä¾›äº¤å‹ç›¸å…³æœåŠ¡ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç”¨æˆ·åŒ¹é…ã€èŠå¤©æ²Ÿé€šã€åŠ¨æ€åˆ†äº«ã€æ´»åŠ¨ç»„ç»‡ç­‰ã€‚å…·ä½“å†…å®¹ä»¥æœ¬è½¯ä»¶å®é™…æä¾›ä¸ºå‡†ã€‚æˆ‘ä»¬ä¿ç•™æ ¹æ®ä¸šåŠ¡å‘å±•å’Œç”¨æˆ·éœ€æ±‚è°ƒæ•´ã€æ›´æ–°æˆ–ç»ˆæ­¢æœåŠ¡å†…å®¹çš„æƒåˆ©ï¼Œå¹¶ä¼šé€‚å½“é€šçŸ¥ã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "2."),
                vue.createElementVNode("text", { class: "item-title" }, "ä½¿ç”¨è§„åˆ™"),
                vue.createElementVNode("text", { class: "item-content" }, "ç”¨æˆ·åœ¨ä½¿ç”¨æœ¬è½¯ä»¶æ—¶ï¼Œå¿…é¡»éµå®ˆå›½å®¶æ³•å¾‹æ³•è§„ã€ç¤¾ä¼šé“å¾·å’Œå…¬å…±ç§©åºã€‚ç¦æ­¢è¡Œä¸ºåŒ…æ‹¬ï¼šå‘å¸ƒè¿æ³•ã€è¿è§„ã€è™šå‡ã€æ¬ºè¯ˆã€æ·«ç§½ã€è‰²æƒ…ã€æš´åŠ›ã€ææ€–ã€æ­§è§†ã€ä¾®è¾±æˆ–è¯½è°¤ç­‰æœ‰å®³ä¿¡æ¯ï¼›ä¾µçŠ¯ä»–äººçŸ¥è¯†äº§æƒã€éšç§æƒã€åèª‰æƒæˆ–å…¶ä»–åˆæ³•æƒç›Šï¼›åˆ©ç”¨æœ¬è½¯ä»¶è¿›è¡Œè¯ˆéª—ã€ä¼ é”€ã€èµŒåšæˆ–å…¶ä»–è¿æ³•çŠ¯ç½ªæ´»åŠ¨ï¼›å¹²æ‰°æˆ–ç ´åæœ¬è½¯ä»¶æ­£å¸¸è¿è¡Œï¼Œæˆ–æ¶æ„æ”»å‡»ã€ä¿®æ”¹ã€ç ´è§£æœ¬è½¯ä»¶ï¼›è¿åæœ¬è½¯ä»¶å‘å¸ƒçš„å…¶ä»–è§„åˆ™å’Œè§„å®šã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "3."),
                vue.createElementVNode("text", { class: "item-title" }, "ä¿¡æ¯å‘å¸ƒä¸ä¼ æ’­"),
                vue.createElementVNode("text", { class: "item-content" }, "ç”¨æˆ·å¯¹æœ¬è½¯ä»¶ä¸Šå‘å¸ƒçš„å†…å®¹ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºæ–‡å­—ã€å›¾ç‰‡ã€è§†é¢‘ï¼‰æ‰¿æ‹…è´£ä»»ï¼Œç¡®ä¿å†…å®¹åˆæ³•ã€çœŸå®ã€å‡†ç¡®ï¼Œä¸ä¾µçŠ¯ä»–äººæƒåˆ©ã€‚æˆ‘ä»¬æœ‰æƒå¯¹å‘å¸ƒçš„å†…å®¹è¿›è¡Œå®¡æ ¸ã€‚å¦‚å†…å®¹è¿è§„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ é™¤ã€å±è”½æˆ–é™åˆ¶ä¼ æ’­ï¼Œæ— éœ€é€šçŸ¥ï¼Œå¹¶å¯èƒ½æ ¹æ®æƒ…èŠ‚è½»é‡å¯¹è´¦å·è¿›è¡Œè­¦å‘Šã€æš‚åœæˆ–æ°¸ä¹…å°ç¦ã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "4."),
                vue.createElementVNode("text", { class: "item-title" }, "ä»˜è´¹æœåŠ¡"),
                vue.createElementVNode("text", { class: "item-content" }, "éƒ¨åˆ†æœåŠ¡ä¸ºä»˜è´¹æœåŠ¡ã€‚ç”¨æˆ·å¯æ ¹æ®éœ€è¦é€‰æ‹©è´­ä¹°ã€‚è´­ä¹°å‰ï¼Œç”¨æˆ·å¿…é¡»ä»”ç»†é˜…è¯»æœåŠ¡è¯´æ˜å’Œä»·æ ¼ä¿¡æ¯ã€‚ä»˜è´¹æœåŠ¡çš„å…·ä½“å†…å®¹ã€ä»·æ ¼å’Œæœ‰æ•ˆæœŸä»¥æœ¬è½¯ä»¶ç›¸å…³é¡µé¢ä¸ºå‡†ã€‚è´­ä¹°åï¼Œä»˜è´¹æœåŠ¡ä¸€èˆ¬ä¸äºˆé€€æ¬¾ï¼Œé™¤éæ³•å¾‹æ³•è§„å¦æœ‰è§„å®šæˆ–åŒæ–¹å¦æœ‰çº¦å®šã€‚")
              ])
            ])
          ]),
          vue.createCommentVNode(" ç¬¬ä¸‰æ¡ "),
          vue.createElementVNode("view", { class: "term-section" }, [
            vue.createElementVNode("text", { class: "term-number" }, "III."),
            vue.createElementVNode("text", { class: "term-title" }, "éšç§ä¿æŠ¤"),
            vue.createElementVNode("view", { class: "term-items" }, [
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "1."),
                vue.createElementVNode("text", { class: "item-title" }, "ä¿¡æ¯æ”¶é›†"),
                vue.createElementVNode("text", { class: "item-content" }, "æˆ‘ä»¬æŒ‰ç…§éšç§æ”¿ç­–æ”¶é›†ã€ä½¿ç”¨ã€å­˜å‚¨å’Œä¿æŠ¤ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ã€‚åœ¨æ³¨å†Œå’Œä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½æ”¶é›†åŸºæœ¬ä¿¡æ¯ï¼ˆå¦‚å§“åã€æ€§åˆ«ã€å¹´é¾„ï¼‰ã€è”ç³»ä¿¡æ¯ã€ä½ç½®ä¿¡æ¯å’Œè¡Œä¸ºæ•°æ®ï¼Œä»¥æä¾›æ›´å¥½çš„æœåŠ¡å’Œä¸ªæ€§åŒ–ä½“éªŒã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "2."),
                vue.createElementVNode("text", { class: "item-title" }, "ä¿¡æ¯ä½¿ç”¨ä¸å…±äº«"),
                vue.createElementVNode("text", { class: "item-content" }, "æˆ‘ä»¬ä»…åœ¨æœ¬æ¡æ¬¾å’Œéšç§æ”¿ç­–è§„å®šçš„èŒƒå›´å†…ä½¿ç”¨ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼Œä¸ä¼šå‘æ— å…³ç¬¬ä¸‰æ–¹åˆ†äº«ã€è½¬è®©æˆ–æŠ«éœ²ä¸ªäººä¿¡æ¯ï¼Œé™¤éåœ¨ä»¥ä¸‹æƒ…å†µä¸‹ï¼šè·å¾—ç”¨æˆ·æ˜ç¡®åŒæ„ï¼›æ³•å¾‹æ³•è§„è¦æ±‚æˆ–ä¸»ç®¡æœºå…³æŒ‡ç¤ºï¼›ä¿æŠ¤æˆ‘ä»¬æˆ–å…¶ä»–ç”¨æˆ·çš„åˆæ³•æƒç›Šï¼›ä¸å…³è”å…¬å¸ã€åˆä½œä¼™ä¼´ç­‰å…±äº«ä»¥æä¾›è½¯ä»¶æœåŠ¡æ‰€å¿…éœ€ã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "3."),
                vue.createElementVNode("text", { class: "item-title" }, "ä¿¡æ¯å®‰å…¨"),
                vue.createElementVNode("text", { class: "item-content" }, "æˆ‘ä»¬å°†é‡‡å–åˆç†çš„æŠ€æœ¯å’Œç®¡ç†æªæ–½ä¿æŠ¤ç”¨æˆ·ä¸ªäººä¿¡æ¯å®‰å…¨ï¼Œé˜²æ­¢ä¿¡æ¯æ³„éœ²ã€æŸåæˆ–ä¸¢å¤±ã€‚å¦‚å‘ç”Ÿä¸ªäººä¿¡æ¯å®‰å…¨äº‹ä»¶ï¼Œæˆ‘ä»¬å°†åŠæ—¶é€šçŸ¥ç”¨æˆ·å¹¶æŒ‰ç…§ç›¸å…³æ³•å¾‹æ³•è§„å¤„ç†ã€‚")
              ])
            ])
          ]),
          vue.createCommentVNode(" ç¬¬å››æ¡ "),
          vue.createElementVNode("view", { class: "term-section" }, [
            vue.createElementVNode("text", { class: "term-number" }, "IV."),
            vue.createElementVNode("text", { class: "term-title" }, "çŸ¥è¯†äº§æƒ"),
            vue.createElementVNode("view", { class: "term-items" }, [
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "1."),
                vue.createElementVNode("text", { class: "item-title" }, "è½¯ä»¶ä¸å†…å®¹"),
                vue.createElementVNode("text", { class: "item-content" }, "æœ¬è½¯ä»¶åŠå…¶å†…å®¹ï¼ˆå¦‚æ–‡å­—ã€å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€å›¾æ ‡ï¼‰çš„æ‰€æœ‰çŸ¥è¯†äº§æƒå‡å±äºæˆ‘ä»¬æˆ–ç›¸å…³æƒåˆ©äººã€‚ç”¨æˆ·ä»…æœ‰æƒåœ¨æœ¬æ¡æ¬¾å…è®¸çš„èŒƒå›´å†…ä½¿ç”¨æœ¬è½¯ä»¶å’Œç›¸å…³å†…å®¹ã€‚æœªç»æˆ‘ä»¬æˆ–ç›¸å…³æƒåˆ©äººä¹¦é¢åŒæ„ï¼Œç”¨æˆ·ä¸å¾—å¤åˆ¶ã€ä¼ æ’­ã€ä¿®æ”¹ã€æ”¹ç¼–ã€å‡ºç§Ÿã€å‡ºå”®æˆ–ä»¥å…¶ä»–æ–¹å¼ä½¿ç”¨æœ¬è½¯ä»¶å’Œç›¸å…³å†…å®¹ã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "2."),
                vue.createElementVNode("text", { class: "item-title" }, "ç”¨æˆ·å†…å®¹æˆæƒ"),
                vue.createElementVNode("text", { class: "item-content" }, "å¯¹äºç”¨æˆ·åœ¨æœ¬è½¯ä»¶ä¸Šå‘å¸ƒçš„å†…å®¹ï¼Œç”¨æˆ·æˆäºˆæˆ‘ä»¬å…¨çƒæ€§ã€ä¸å¯æ’¤é”€ã€æ°¸ä¹…æ€§ã€å…è´¹ä¸”å¯å†è®¸å¯çš„æƒåˆ©ï¼ŒåŒ…æ‹¬ä½¿ç”¨ã€å¤åˆ¶ã€ä¿®æ”¹ã€æ”¹ç¼–ã€å‘å¸ƒã€ç¿»è¯‘ã€ä¼ æ’­ã€å±•ç¤ºã€è¡¨æ¼”å’Œåˆ›ä½œè¡ç”Ÿä½œå“ç­‰ï¼Œç”¨äºæœ¬è½¯ä»¶çš„è¿è¥ã€æ¨å¹¿å’Œå…¶ä»–åˆæ³•ç›®çš„ã€‚")
              ])
            ])
          ]),
          vue.createCommentVNode(" ç¬¬äº”æ¡ "),
          vue.createElementVNode("view", { class: "term-section" }, [
            vue.createElementVNode("text", { class: "term-number" }, "V."),
            vue.createElementVNode("text", { class: "term-title" }, "è´£ä»»é™åˆ¶ä¸å…è´£å£°æ˜"),
            vue.createElementVNode("view", { class: "term-items" }, [
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "1."),
                vue.createElementVNode("text", { class: "item-title" }, "è´£ä»»é™åˆ¶"),
                vue.createElementVNode("text", { class: "item-content" }, "åœ¨æ³•å¾‹æ³•è§„å…è®¸çš„èŒƒå›´å†…ï¼Œæˆ‘ä»¬å¯¹æœ¬è½¯ä»¶æœåŠ¡æˆ–ç›¸å…³äº‹é¡¹ç»™ç”¨æˆ·é€ æˆçš„ä»»ä½•ç›´æ¥ã€é—´æ¥ã€å¶ç„¶ã€ç‰¹æ®Šã€æƒ©ç½šæ€§æˆ–åæœæ€§æŸå¤±ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºåˆ©æ¶¦æŸå¤±ã€æ•°æ®ä¸¢å¤±ã€ä¸šåŠ¡ä¸­æ–­ï¼‰ä¸æ‰¿æ‹…è´£ä»»ï¼Œæ— è®ºåŸå› å¦‚ä½•ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºåˆåŒã€ä¾µæƒã€è¿‡å¤±ï¼‰ï¼Œé™¤éæŸå¤±ç”±æˆ‘ä»¬çš„æ•…æ„è¡Œä¸ºæˆ–é‡å¤§è¿‡å¤±é€ æˆã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "2."),
                vue.createElementVNode("text", { class: "item-title" }, "å…è´£å£°æ˜"),
                vue.createElementVNode("text", { class: "item-content" }, "æœ¬è½¯ä»¶æœåŠ¡å¯èƒ½å—åˆ°å„ç§å› ç´ å½±å“ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç½‘ç»œæ•…éšœã€æœåŠ¡å™¨æ•…éšœã€é€šä¿¡æ•…éšœã€é»‘å®¢æ”»å‡»ã€è®¡ç®—æœºç—…æ¯’ã€æ³•å¾‹æ³•è§„å˜åŒ–ï¼Œå¯¼è‡´æœåŠ¡ä¸­æ–­ã€å»¶è¿Ÿã€é”™è¯¯æˆ–ä¸å¯ç”¨ã€‚æˆ‘ä»¬å¯¹æ­¤ä¸æ‰¿æ‹…è´£ä»»ï¼Œä½†ä¼šåŠªåŠ›å‡å°‘æ­¤ç±»æƒ…å†µçš„å‘ç”Ÿå¹¶åŠæ—¶é€šçŸ¥ã€‚")
              ])
            ])
          ]),
          vue.createCommentVNode(" ç¬¬å…­æ¡ "),
          vue.createElementVNode("view", { class: "term-section" }, [
            vue.createElementVNode("text", { class: "term-number" }, "VI."),
            vue.createElementVNode("text", { class: "term-title" }, "åè®®å˜æ›´ä¸ç»ˆæ­¢"),
            vue.createElementVNode("view", { class: "term-items" }, [
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "1."),
                vue.createElementVNode("text", { class: "item-title" }, "åè®®å˜æ›´"),
                vue.createElementVNode("text", { class: "item-content" }, "æˆ‘ä»¬æœ‰æƒæ ¹æ®ä¸šåŠ¡å‘å±•ã€æ³•å¾‹æ³•è§„å˜åŒ–ç­‰ä¿®æ”¹æˆ–æ›´æ–°æœ¬æ¡æ¬¾ã€‚ä¿®æ”¹åçš„æ¡æ¬¾å°†åœ¨æœ¬è½¯ä»¶ä¸Šå‘å¸ƒï¼Œè‡ªå‘å¸ƒä¹‹æ—¥èµ·ç”Ÿæ•ˆã€‚å¦‚ç”¨æˆ·ç»§ç»­ä½¿ç”¨æœ¬è½¯ä»¶æœåŠ¡ï¼Œå³è§†ä¸ºç”¨æˆ·å·²æ¥å—å˜æ›´åçš„æ¡æ¬¾ã€‚å¦‚ç”¨æˆ·ä¸åŒæ„å˜æ›´åçš„æ¡æ¬¾ï¼Œåº”åœæ­¢ä½¿ç”¨æœ¬è½¯ä»¶æœåŠ¡ã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "2."),
                vue.createElementVNode("text", { class: "item-title" }, "åè®®ç»ˆæ­¢"),
                vue.createElementVNode("text", { class: "item-content" }, "åœ¨ä»¥ä¸‹æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æœ‰æƒç›´æ¥ç»ˆæ­¢æœ¬æ¡æ¬¾å’Œç”¨æˆ·å¯¹æœ¬è½¯ä»¶æœåŠ¡çš„ä½¿ç”¨ï¼Œæ— éœ€é€šçŸ¥ï¼šç”¨æˆ·è¿åæœ¬æ¡æ¬¾ä»»ä½•è§„å®šï¼›æ³•å¾‹æ³•è§„è¦æ±‚æˆ–ä¸»ç®¡æœºå…³æŒ‡ç¤ºï¼›æœ¬è½¯ä»¶å› ä¸šåŠ¡è°ƒæ•´ã€æŠ€æœ¯å‡çº§æˆ–å…¶ä»–åŸå› éœ€è¦åœæ­¢è¿è¥ã€‚åè®®ç»ˆæ­¢åï¼Œæˆ‘ä»¬å°†æŒ‰ç…§ç›¸å…³è§„å®šå¤„ç†ç”¨æˆ·ä¸ªäººä¿¡æ¯ï¼Œç”¨æˆ·åº”ç«‹å³åœæ­¢ä½¿ç”¨æœ¬è½¯ä»¶æœåŠ¡ã€‚å¦‚ç”¨æˆ·è¿åæœ¬æ¡æ¬¾ç»™é€ æˆæŸå¤±ï¼Œç”¨æˆ·åº”æ‰¿æ‹…èµ”å¿è´£ä»»ã€‚")
              ])
            ])
          ]),
          vue.createCommentVNode(" ç¬¬ä¸ƒæ¡ "),
          vue.createElementVNode("view", { class: "term-section" }, [
            vue.createElementVNode("text", { class: "term-number" }, "VII."),
            vue.createElementVNode("text", { class: "term-title" }, "äº‰è®®è§£å†³"),
            vue.createElementVNode("view", { class: "term-items" }, [
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "1."),
                vue.createElementVNode("text", { class: "item-title" }, "é€‚ç”¨æ³•å¾‹"),
                vue.createElementVNode("text", { class: "item-content" }, "æœ¬æ¡æ¬¾çš„ç­¾ç½²ã€å±¥è¡Œã€è§£é‡Šå’Œäº‰è®®è§£å†³å‡é€‚ç”¨ä¸­åäººæ°‘å…±å’Œå›½æ³•å¾‹ï¼ˆä¸ºæœ¬æ¡æ¬¾ä¹‹ç›®çš„ï¼Œä¸åŒ…æ‹¬é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒºã€æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒºå’Œå°æ¹¾åœ°åŒºçš„æ³•å¾‹ï¼‰ã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "2."),
                vue.createElementVNode("text", { class: "item-title" }, "äº‰è®®è§£å†³æ–¹å¼"),
                vue.createElementVNode("text", { class: "item-content" }, "å¦‚ç”¨æˆ·ä¸æˆ‘ä»¬ä¹‹é—´å°±æœ¬æ¡æ¬¾æˆ–æœ¬è½¯ä»¶æœåŠ¡å‘ç”Ÿäº‰è®®ï¼ŒåŒæ–¹åº”é¦–å…ˆé€šè¿‡å‹å¥½åå•†è§£å†³ã€‚å¦‚åå•†ä¸æˆï¼Œä»»ä½•ä¸€æ–¹å‡æœ‰æƒå‘æœ‰ç®¡è¾–æƒçš„äººæ°‘æ³•é™¢æèµ·è¯‰è®¼ã€‚")
              ])
            ])
          ]),
          vue.createCommentVNode(" ç¬¬å…«æ¡ "),
          vue.createElementVNode("view", { class: "term-section" }, [
            vue.createElementVNode("text", { class: "term-number" }, "VIII."),
            vue.createElementVNode("text", { class: "term-title" }, "å…¶ä»–æ¡æ¬¾"),
            vue.createElementVNode("view", { class: "term-items" }, [
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "1."),
                vue.createElementVNode("text", { class: "item-title" }, "æ¡æ¬¾å®Œæ•´æ€§"),
                vue.createElementVNode("text", { class: "item-content" }, "æœ¬æ¡æ¬¾æ„æˆç”¨æˆ·ä¸æˆ‘ä»¬ä¹‹é—´å…³äºä½¿ç”¨æœ¬è½¯ä»¶æœåŠ¡çš„å®Œæ•´åè®®ï¼Œå–ä»£ä¹‹å‰å…³äºæœ¬è½¯ä»¶æœåŠ¡çš„æ‰€æœ‰å£å¤´æˆ–ä¹¦é¢åè®®ã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "2."),
                vue.createElementVNode("text", { class: "item-title" }, "æ¡æ¬¾å¯åˆ†å‰²æ€§"),
                vue.createElementVNode("text", { class: "item-content" }, "å¦‚æœ¬æ¡æ¬¾ä»»ä½•è§„å®šè¢«è§†ä¸ºæ— æ•ˆæˆ–ä¸å¯æ‰§è¡Œï¼Œä¸å½±å“å…¶ä»–è§„å®šçš„æœ‰æ•ˆæ€§å’Œå¯æ‰§è¡Œæ€§ï¼Œæ­¤ç±»æ— æ•ˆæˆ–ä¸å¯æ‰§è¡Œçš„è§„å®šåº”è¢«è§†ä¸ºå¯åˆ†å‰²çš„ï¼Œä¸å½±å“æœ¬æ¡æ¬¾å…¶ä»–éƒ¨åˆ†çš„æ•ˆåŠ›ã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "3."),
                vue.createElementVNode("text", { class: "item-title" }, "å¼ƒæƒ"),
                vue.createElementVNode("text", { class: "item-content" }, "æˆ‘ä»¬æœªè¡Œä½¿æˆ–å»¶è¿Ÿè¡Œä½¿æœ¬æ¡æ¬¾ä¸‹çš„ä»»ä½•æƒåˆ©æˆ–æ•‘æµï¼Œä¸åº”è¢«è§†ä¸ºæ”¾å¼ƒè¯¥æƒåˆ©æˆ–æ•‘æµï¼›ä»»ä½•å•ä¸€è¡Œä½¿æƒåˆ©æˆ–æ•‘æµçš„è¡Œä¸ºä¸å½±å“æˆ‘ä»¬è¡Œä½¿å…¶ä»–æƒåˆ©æˆ–æ•‘æµã€‚")
              ]),
              vue.createElementVNode("view", { class: "term-item" }, [
                vue.createElementVNode("text", { class: "item-number" }, "4."),
                vue.createElementVNode("text", { class: "item-title" }, "é€šçŸ¥"),
                vue.createElementVNode("text", { class: "item-content" }, "æˆ‘ä»¬å‘ç”¨æˆ·å‘å‡ºçš„é€šçŸ¥å¯é€šè¿‡åº”ç”¨å†…æ¶ˆæ¯ã€çŸ­ä¿¡ã€é‚®ä»¶æˆ–å…¶ä»–åˆç†æ–¹å¼è¿›è¡Œã€‚é€šçŸ¥è‡ªå‘é€ä¹‹æ—¥èµ·è§†ä¸ºé€è¾¾ã€‚å¦‚ç”¨æˆ·å› è‡ªèº«åŸå› æ— æ³•æ¥æ”¶é€šçŸ¥ï¼Œä¸å½±å“é€šçŸ¥çš„æ•ˆåŠ›ã€‚")
              ])
            ])
          ])
        ]),
        vue.createCommentVNode(" ç»“å°¾è¯´æ˜ "),
        vue.createElementVNode("view", { class: "closing-section" }, [
          vue.createElementVNode("text", { class: "closing-text" }, "è¯·æ‚¨å†æ¬¡ä»”ç»†é˜…è¯»æœ¬æ¡æ¬¾ï¼Œç¡®ä¿æ‚¨å·²å……åˆ†ç†è§£å¹¶åŒæ„å…¶å…¨éƒ¨å†…å®¹ã€‚å¦‚æœ‰ä»»ä½•ç–‘é—®æˆ–å»ºè®®ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬çš„å®¢æœäººå‘˜ã€‚")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesSettingsTermsOfService = /* @__PURE__ */ _export_sfc(_sfc_main$x, [["render", _sfc_render$w], ["__scopeId", "data-v-241546b2"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/terms-of-service.vue"]]);
  const _sfc_main$w = {
    data() {
      return {};
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      switchToAccount(accountId) {
        uni.showModal({
          title: "åˆ‡æ¢è´¦å·",
          content: "ç¡®å®šè¦åˆ‡æ¢åˆ°è¯¥è´¦å·å—ï¼Ÿ",
          success: (res) => {
            if (res.confirm) {
              uni.showToast({
                title: "è´¦å·åˆ‡æ¢æˆåŠŸ",
                icon: "success"
              });
              setTimeout(() => {
                uni.redirectTo({
                  url: "/pages/feed/content-feed"
                });
              }, 1500);
            }
          }
        });
      },
      addNewAccount() {
        uni.navigateTo({
          url: "/pages/login/login-replica"
        });
      },
      logoutCurrent() {
        uni.showModal({
          title: "ç¡®è®¤é€€å‡º",
          content: "ç¡®å®šè¦é€€å‡ºå½“å‰è´¦å·å—ï¼Ÿ",
          success: (res) => {
            if (res.confirm) {
              uni.showToast({
                title: "å·²é€€å‡ºå½“å‰è´¦å·",
                icon: "success"
              });
              setTimeout(() => {
                uni.redirectTo({
                  url: "/pages/login/login-replica"
                });
              }, 1500);
            }
          }
        });
      }
    }
  };
  function _sfc_render$v(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal">\n					<view class="bar bar-1"></view>\n					<view class="bar bar-2"></view>\n					<view class="bar bar-3"></view>\n					<view class="bar bar-4"></view>\n				</view>\n				<view class="wifi">ğŸ“¶</view>\n				<view class="battery">\n					<view class="battery-body">\n						<view class="battery-level"></view>\n					</view>\n					<view class="battery-tip"></view>\n				</view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n			<view class="back-button" @click="goBack">\n				<text class="back-arrow">â€¹</text>\n			</view>\n			<text class="nav-title">æ›´æ¢è´¦å·</text>\n		</view> '),
      vue.createCommentVNode(" å½“å‰è´¦å· "),
      vue.createElementVNode("view", { class: "current-account" }, [
        vue.createElementVNode("view", { class: "account-header" }, [
          vue.createElementVNode("text", { class: "header-text" }, "å½“å‰è´¦å·")
        ]),
        vue.createElementVNode("view", { class: "account-item current" }, [
          vue.createElementVNode("view", { class: "account-left" }, [
            vue.createElementVNode("view", { class: "account-avatar" }, "ğŸ‘©"),
            vue.createElementVNode("view", { class: "account-info" }, [
              vue.createElementVNode("text", { class: "account-name" }, "å½“å‰ç”¨æˆ·"),
              vue.createElementVNode("text", { class: "account-phone" }, "138****8888")
            ])
          ]),
          vue.createElementVNode("view", { class: "current-badge" }, "å½“å‰")
        ])
      ]),
      vue.createCommentVNode(" å…¶ä»–è´¦å· "),
      vue.createElementVNode("view", { class: "other-accounts" }, [
        vue.createElementVNode("view", { class: "account-header" }, [
          vue.createElementVNode("text", { class: "header-text" }, "å…¶ä»–è´¦å·")
        ]),
        vue.createElementVNode("view", {
          class: "account-item",
          onClick: _cache[0] || (_cache[0] = ($event) => $options.switchToAccount("account1"))
        }, [
          vue.createElementVNode("view", { class: "account-left" }, [
            vue.createElementVNode("view", { class: "account-avatar" }, "ğŸ‘¨"),
            vue.createElementVNode("view", { class: "account-info" }, [
              vue.createElementVNode("text", { class: "account-name" }, "å¼ ä¸‰"),
              vue.createElementVNode("text", { class: "account-phone" }, "139****9999")
            ])
          ]),
          vue.createElementVNode("text", { class: "arrow" }, "â€º")
        ]),
        vue.createElementVNode("view", {
          class: "account-item",
          onClick: _cache[1] || (_cache[1] = ($event) => $options.switchToAccount("account2"))
        }, [
          vue.createElementVNode("view", { class: "account-left" }, [
            vue.createElementVNode("view", { class: "account-avatar" }, "ğŸ‘§"),
            vue.createElementVNode("view", { class: "account-info" }, [
              vue.createElementVNode("text", { class: "account-name" }, "æå››"),
              vue.createElementVNode("text", { class: "account-phone" }, "137****7777")
            ])
          ]),
          vue.createElementVNode("text", { class: "arrow" }, "â€º")
        ])
      ]),
      vue.createCommentVNode(" æ·»åŠ è´¦å· "),
      vue.createElementVNode("view", { class: "add-account" }, [
        vue.createElementVNode("view", {
          class: "account-item",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.addNewAccount && $options.addNewAccount(...args))
        }, [
          vue.createElementVNode("view", { class: "account-left" }, [
            vue.createElementVNode("view", { class: "account-avatar add-icon" }, "+"),
            vue.createElementVNode("view", { class: "account-info" }, [
              vue.createElementVNode("text", { class: "account-name" }, "æ·»åŠ è´¦å·"),
              vue.createElementVNode("text", { class: "account-phone" }, "ä½¿ç”¨å…¶ä»–è´¦å·ç™»å½•")
            ])
          ]),
          vue.createElementVNode("text", { class: "arrow" }, "â€º")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ“ä½œæŒ‰é’® "),
      vue.createElementVNode("view", { class: "bottom-actions" }, [
        vue.createElementVNode("view", {
          class: "action-button logout",
          onClick: _cache[3] || (_cache[3] = (...args) => $options.logoutCurrent && $options.logoutCurrent(...args))
        }, [
          vue.createElementVNode("text", { class: "action-text" }, "é€€å‡ºå½“å‰è´¦å·")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ‰‹åŠ¿æ¡ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesSettingsSwitchAccount = /* @__PURE__ */ _export_sfc(_sfc_main$w, [["render", _sfc_render$v], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/switch-account.vue"]]);
  const _sfc_main$v = {
    data() {
      return {
        selectedMode: "normal"
      };
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      selectMode(mode) {
        this.selectedMode = mode;
        uni.showToast({
          title: `å·²é€‰æ‹©${this.getModeName(mode)}`,
          icon: "success"
        });
        setTimeout(() => {
          uni.navigateBack();
        }, 1500);
      },
      getModeName(mode) {
        const modeNames = {
          "normal": "æ™®é€šæ¨¡å¼",
          "concise": "ç®€æ´æ¨¡å¼",
          "minor": "æœªæˆå¹´äººæ¨¡å¼",
          "care": "å…³æ€€æ¨¡å¼"
        };
        return modeNames[mode] || "æœªçŸ¥æ¨¡å¼";
      }
    }
  };
  function _sfc_render$u(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal">\n					<view class="bar bar-1"></view>\n					<view class="bar bar-2"></view>\n					<view class="bar bar-3"></view>\n					<view class="bar bar-4"></view>\n				</view>\n				<view class="wifi">ğŸ“¶</view>\n				<view class="battery">\n					<view class="battery-body">\n						<view class="battery-level"></view>\n					</view>\n					<view class="battery-tip"></view>\n				</view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createElementVNode("view", { class: "nav-bar" }, [
        vue.createCommentVNode(' <view class="back-button" @click="goBack">\n				<text class="back-arrow">â€¹</text>\n			</view>\n			<text class="nav-title">æ¨¡å¼é€‰æ‹©</text> ')
      ]),
      vue.createCommentVNode(" æ¨¡å¼é€‰æ‹©å†…å®¹ "),
      vue.createElementVNode("view", { class: "content-area" }, [
        vue.createCommentVNode(" åˆ†ç»„æ ‡é¢˜ "),
        vue.createElementVNode("view", { class: "section-header" }, "æ¨¡å¼åˆ‡æ¢"),
        vue.createCommentVNode(" æ¨¡å¼é€‰é¡¹åˆ—è¡¨ "),
        vue.createElementVNode("view", { class: "mode-list" }, [
          vue.createElementVNode("view", {
            class: "mode-item",
            onClick: _cache[0] || (_cache[0] = ($event) => $options.selectMode("normal"))
          }, [
            vue.createElementVNode("text", { class: "mode-text" }, "æ™®é€šæ¨¡å¼")
          ]),
          vue.createElementVNode("view", {
            class: "mode-item",
            onClick: _cache[1] || (_cache[1] = ($event) => $options.selectMode("concise"))
          }, [
            vue.createElementVNode("text", { class: "mode-text" }, "ç®€æ´æ¨¡å¼")
          ]),
          vue.createElementVNode("view", {
            class: "mode-item",
            onClick: _cache[2] || (_cache[2] = ($event) => $options.selectMode("minor"))
          }, [
            vue.createElementVNode("text", { class: "mode-text" }, "æœªæˆå¹´äººæ¨¡å¼")
          ]),
          vue.createElementVNode("view", {
            class: "mode-item",
            onClick: _cache[3] || (_cache[3] = ($event) => $options.selectMode("care"))
          }, [
            vue.createElementVNode("text", { class: "mode-text" }, "å…³æ€€æ¨¡å¼")
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ‰‹åŠ¿æ¡ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesSettingsModeSelection = /* @__PURE__ */ _export_sfc(_sfc_main$v, [["render", _sfc_render$u], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/mode-selection.vue"]]);
  const _sfc_main$u = {
    name: "NotificationSettings",
    data() {
      return {
        notificationSettings: {
          chatNotification: true,
          likeAndFavorite: false,
          comment: false,
          mention: false,
          contentRecommend: false,
          userRecommend: false
        }
      };
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      goToNotificationDisplay() {
        uni.navigateTo({
          url: "/pages/settings/notification-display"
        });
      },
      toggleSetting(key, event) {
        this.notificationSettings[key] = event.detail.value;
        let settingName = "";
        switch (key) {
          case "chatNotification":
            settingName = "èŠå¤©æ¶ˆæ¯";
            break;
          case "likeAndFavorite":
            settingName = "èµå’Œæ”¶è—";
            break;
          case "comment":
            settingName = "è¯„è®º";
            break;
          case "mention":
            settingName = "@";
            break;
          case "contentRecommend":
            settingName = "å†…å®¹æ¨è";
            break;
          case "userRecommend":
            settingName = "ç”¨æˆ·æ¨è";
            break;
        }
        uni.showToast({
          title: `${settingName}é€šçŸ¥å·²${event.detail.value ? "å¼€å¯" : "å…³é—­"}`,
          icon: "none"
        });
      }
    }
  };
  function _sfc_render$t(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "notification-settings-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="status-time">9:41</text>\n			<view class="status-right">\n				<text class="status-signal">ğŸ“¶</text>\n				<text class="status-wifi">ğŸ“¶</text>\n				<text class="status-battery">ğŸ”‹</text>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n			<view class="nav-left" @click="goBack">\n				<text class="back-arrow">â†</text>\n			</view>\n			<view class="nav-center">\n				<text class="nav-title">é€šçŸ¥è®¾ç½®</text>\n			</view>\n			<view class="nav-right"></view>\n		</view> '),
      vue.createCommentVNode(" å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "content-area" }, [
        vue.createCommentVNode(" èŠå¤©æ¶ˆæ¯é€šçŸ¥åˆ†ç»„ "),
        vue.createElementVNode("view", { class: "section-group" }, [
          vue.createElementVNode("view", { class: "section-header" }, [
            vue.createElementVNode("text", { class: "section-title" }, "èŠå¤©æ¶ˆæ¯")
          ]),
          vue.createElementVNode("view", { class: "settings-list" }, [
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-left" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "èŠå¤©æ¶ˆæ¯é€šçŸ¥")
              ]),
              vue.createElementVNode("view", { class: "setting-right" }, [
                vue.createElementVNode("switch", {
                  class: "setting-switch",
                  checked: $data.notificationSettings.chatNotification,
                  onChange: _cache[0] || (_cache[0] = ($event) => $options.toggleSetting("chatNotification", $event))
                }, null, 40, ["checked"])
              ])
            ]),
            vue.createElementVNode("view", {
              class: "setting-item",
              onClick: _cache[1] || (_cache[1] = (...args) => $options.goToNotificationDisplay && $options.goToNotificationDisplay(...args))
            }, [
              vue.createElementVNode("text", { class: "setting-label" }, "é€šçŸ¥æ˜¾ç¤ºå†…å®¹"),
              vue.createElementVNode("text", { class: "setting-arrow" }, "â€º")
            ])
          ])
        ]),
        vue.createCommentVNode(" äº’åŠ¨é€šçŸ¥åˆ†ç»„ "),
        vue.createElementVNode("view", { class: "section-group" }, [
          vue.createElementVNode("view", { class: "section-header" }, [
            vue.createElementVNode("text", { class: "section-title" }, "äº’åŠ¨é€šçŸ¥")
          ]),
          vue.createElementVNode("view", { class: "settings-list" }, [
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-left" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "èµå’Œæ”¶è—")
              ]),
              vue.createElementVNode("view", { class: "setting-right" }, [
                vue.createElementVNode("switch", {
                  class: "setting-switch",
                  checked: $data.notificationSettings.likeAndFavorite,
                  onChange: _cache[2] || (_cache[2] = ($event) => $options.toggleSetting("likeAndFavorite", $event))
                }, null, 40, ["checked"])
              ])
            ]),
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-left" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "è¯„è®º")
              ]),
              vue.createElementVNode("view", { class: "setting-right" }, [
                vue.createElementVNode("switch", {
                  class: "setting-switch",
                  checked: $data.notificationSettings.comment,
                  onChange: _cache[3] || (_cache[3] = ($event) => $options.toggleSetting("comment", $event))
                }, null, 40, ["checked"])
              ])
            ]),
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-left" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "@")
              ]),
              vue.createElementVNode("view", { class: "setting-right" }, [
                vue.createElementVNode("switch", {
                  class: "setting-switch",
                  checked: $data.notificationSettings.mention,
                  onChange: _cache[4] || (_cache[4] = ($event) => $options.toggleSetting("mention", $event))
                }, null, 40, ["checked"])
              ])
            ])
          ])
        ]),
        vue.createCommentVNode(" æ¨èé€šçŸ¥åˆ†ç»„ "),
        vue.createElementVNode("view", { class: "section-group" }, [
          vue.createElementVNode("view", { class: "section-header" }, [
            vue.createElementVNode("text", { class: "section-title" }, "æ¨èé€šçŸ¥")
          ]),
          vue.createElementVNode("view", { class: "settings-list" }, [
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-left" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "å†…å®¹æ¨è")
              ]),
              vue.createElementVNode("view", { class: "setting-right" }, [
                vue.createElementVNode("switch", {
                  class: "setting-switch",
                  checked: $data.notificationSettings.contentRecommend,
                  onChange: _cache[5] || (_cache[5] = ($event) => $options.toggleSetting("contentRecommend", $event))
                }, null, 40, ["checked"])
              ])
            ]),
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-left" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "ç”¨æˆ·æ¨è")
              ]),
              vue.createElementVNode("view", { class: "setting-right" }, [
                vue.createElementVNode("switch", {
                  class: "setting-switch",
                  checked: $data.notificationSettings.userRecommend,
                  onChange: _cache[6] || (_cache[6] = ($event) => $options.toggleSetting("userRecommend", $event))
                }, null, 40, ["checked"])
              ])
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ‰‹åŠ¿æ¡ "),
      vue.createCommentVNode(' <view class="home-indicator"></view> ')
    ]);
  }
  const PagesSettingsNotificationSettings = /* @__PURE__ */ _export_sfc(_sfc_main$u, [["render", _sfc_render$t], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/notification-settings.vue"]]);
  const _sfc_main$t = {
    name: "PrivacySettings",
    data() {
      return {
        settings: {
          oneClickProtection: false,
          showMyStatus: false,
          allowFriendsComment: false,
          allowFriendsAt: false,
          publicCollections: false,
          friendVerification: false,
          recommendFriends: false
        }
      };
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      toggleSetting(key) {
        this.settings[key] = !this.settings[key];
        uni.showToast({
          title: "è®¾ç½®å·²ä¿å­˜",
          icon: "success"
        });
      },
      goToSystemPermissions() {
        uni.navigateTo({
          url: "/pages/settings/system-permissions"
        });
      },
      goToAddWays() {
        uni.navigateTo({
          url: "/pages/settings/add-ways"
        });
      },
      goToBlacklist() {
        uni.navigateTo({
          url: "/pages/settings/blocked-users"
        });
      }
    }
  };
  function _sfc_render$s(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "privacy-settings" }, [
      vue.createCommentVNode(" é¡¶éƒ¨å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n      <view class="nav-left" @click="goBack">\n        <text class="back-arrow">â€¹</text>\n      </view>\n      <view class="nav-title">éšç§è®¾ç½®</view>\n      <view class="nav-right"></view>\n    </view> '),
      vue.createCommentVNode(" ä¸»è¦å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("scroll-view", {
        class: "content",
        "scroll-y": ""
      }, [
        vue.createCommentVNode(" äº’åŠ¨è®¾ç½®æ¨¡å— "),
        vue.createElementVNode("view", { class: "section" }, [
          vue.createElementVNode("view", { class: "section-header" }, [
            vue.createElementVNode("text", { class: "section-title" }, "äº’åŠ¨")
          ]),
          vue.createElementVNode("view", { class: "section-content" }, [
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-info" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "ä¸€é”®é˜²æŠ¤"),
                vue.createElementVNode("text", { class: "setting-desc" }, "å¼€å¯å,7å¤©å†…å°†ä¸æ¥æ”¶é™Œç”Ÿäººçš„å¥½å‹ç”³è¯·/è¯„è®º/åˆ†äº«")
              ]),
              vue.createElementVNode("view", {
                class: "toggle-switch",
                onClick: _cache[0] || (_cache[0] = ($event) => $options.toggleSetting("oneClickProtection"))
              }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["toggle-track", { active: $data.settings.oneClickProtection }])
                  },
                  [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["toggle-thumb", { active: $data.settings.oneClickProtection }])
                      },
                      null,
                      2
                      /* CLASS */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ])
            ]),
            vue.createCommentVNode(` <view class="setting-item">
            <view class="setting-info">
              <text class="setting-label">å±•ç¤ºæˆ‘çš„çŠ¶æ€</text>
            </view>
            <view class="toggle-switch" @click="toggleSetting('showMyStatus')">
              <view class="toggle-track" :class="{ active: settings.showMyStatus }">
                <view class="toggle-thumb" :class="{ active: settings.showMyStatus }"></view>
              </view>
            </view>
          </view> `),
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-info" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "åªå…è®¸æˆ‘çš„å¥½å‹è¯„è®ºæˆ‘")
              ]),
              vue.createElementVNode("view", {
                class: "toggle-switch",
                onClick: _cache[1] || (_cache[1] = ($event) => $options.toggleSetting("allowFriendsComment"))
              }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["toggle-track", { active: $data.settings.allowFriendsComment }])
                  },
                  [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["toggle-thumb", { active: $data.settings.allowFriendsComment }])
                      },
                      null,
                      2
                      /* CLASS */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ])
            ]),
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-info" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "åªå…è®¸æˆ‘çš„å¥½å‹@æˆ‘")
              ]),
              vue.createElementVNode("view", {
                class: "toggle-switch",
                onClick: _cache[2] || (_cache[2] = ($event) => $options.toggleSetting("allowFriendsAt"))
              }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["toggle-track", { active: $data.settings.allowFriendsAt }])
                  },
                  [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["toggle-thumb", { active: $data.settings.allowFriendsAt }])
                      },
                      null,
                      2
                      /* CLASS */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ])
            ]),
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-info" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "å…¬å¼€æˆ‘çš„æ”¶è—")
              ]),
              vue.createElementVNode("view", {
                class: "toggle-switch",
                onClick: _cache[3] || (_cache[3] = ($event) => $options.toggleSetting("publicCollections"))
              }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["toggle-track", { active: $data.settings.publicCollections }])
                  },
                  [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["toggle-thumb", { active: $data.settings.publicCollections }])
                      },
                      null,
                      2
                      /* CLASS */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ])
            ])
          ])
        ]),
        vue.createCommentVNode(" æœ‹å‹è®¾ç½®æ¨¡å— "),
        vue.createElementVNode("view", { class: "section" }, [
          vue.createElementVNode("view", { class: "section-header" }, [
            vue.createElementVNode("text", { class: "section-title" }, "æœ‹å‹")
          ]),
          vue.createElementVNode("view", { class: "section-content" }, [
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-info" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "åŠ æˆ‘ä¸ºå¥½å‹æ—¶éœ€è¦éªŒè¯")
              ]),
              vue.createElementVNode("view", {
                class: "toggle-switch",
                onClick: _cache[4] || (_cache[4] = ($event) => $options.toggleSetting("friendVerification"))
              }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["toggle-track", { active: $data.settings.friendVerification }])
                  },
                  [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["toggle-thumb", { active: $data.settings.friendVerification }])
                      },
                      null,
                      2
                      /* CLASS */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ])
            ]),
            vue.createElementVNode("view", {
              class: "setting-item",
              onClick: _cache[5] || (_cache[5] = (...args) => $options.goToAddWays && $options.goToAddWays(...args))
            }, [
              vue.createElementVNode("view", { class: "setting-info" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "æ·»åŠ æˆ‘çš„æ–¹å¼")
              ]),
              vue.createElementVNode("view", { class: "arrow-right" }, [
                vue.createElementVNode("text", { class: "arrow-icon" }, "â€º")
              ])
            ]),
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-info" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "ç»™æˆ‘æ¨èå¯èƒ½è®¤è¯†çš„äºº")
              ]),
              vue.createElementVNode("view", {
                class: "toggle-switch",
                onClick: _cache[6] || (_cache[6] = ($event) => $options.toggleSetting("recommendFriends"))
              }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["toggle-track", { active: $data.settings.recommendFriends }])
                  },
                  [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["toggle-thumb", { active: $data.settings.recommendFriends }])
                      },
                      null,
                      2
                      /* CLASS */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ])
            ]),
            vue.createElementVNode("view", {
              class: "setting-item",
              onClick: _cache[7] || (_cache[7] = (...args) => $options.goToBlacklist && $options.goToBlacklist(...args))
            }, [
              vue.createElementVNode("view", { class: "setting-info" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "é»‘åå•ç”¨æˆ·")
              ]),
              vue.createElementVNode("view", { class: "arrow-right" }, [
                vue.createElementVNode("text", { class: "arrow-icon" }, "â€º")
              ])
            ])
          ])
        ]),
        vue.createCommentVNode(" æƒé™è®¾ç½®æ¨¡å— "),
        vue.createElementVNode("view", { class: "section" }, [
          vue.createElementVNode("view", { class: "section-header" }, [
            vue.createElementVNode("text", { class: "section-title" }, "æƒé™")
          ]),
          vue.createElementVNode("view", { class: "section-content" }, [
            vue.createElementVNode("view", {
              class: "setting-item",
              onClick: _cache[8] || (_cache[8] = (...args) => $options.goToSystemPermissions && $options.goToSystemPermissions(...args))
            }, [
              vue.createElementVNode("view", { class: "setting-info" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "ç³»ç»Ÿæƒé™ç®¡ç†"),
                vue.createElementVNode("text", { class: "setting-desc" }, "APPå†…ä½¿ç”¨çš„æ‰€æœ‰ç³»ç»Ÿæƒé™")
              ]),
              vue.createElementVNode("view", { class: "arrow-right" }, [
                vue.createElementVNode("text", { class: "arrow-icon" }, "â€º")
              ])
            ])
          ])
        ])
      ])
    ]);
  }
  const PagesSettingsPrivacySettings = /* @__PURE__ */ _export_sfc(_sfc_main$t, [["render", _sfc_render$s], ["__scopeId", "data-v-344a8419"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/privacy-settings.vue"]]);
  const _sfc_main$s = {
    name: "AccountSecurityPage",
    data() {
      return {};
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      goToHome() {
        uni.navigateTo({
          url: "/pages/feed/content-feed"
        });
      },
      goToChatList() {
        uni.navigateTo({
          url: "/pages/chat/chat-list"
        });
      },
      goToAIChat() {
        uni.navigateTo({
          url: "/pages/chat/chat"
        });
      },
      goToFriendList() {
        uni.navigateTo({
          url: "/pages/chat/friend-list"
        });
      },
      goToProfile() {
        uni.navigateTo({
          url: "/pages/feed/user-profile"
        });
      },
      goToPhoneNumber() {
        uni.showToast({
          title: "æ‰‹æœºå·è®¾ç½®",
          icon: "none"
        });
      },
      goToPassword() {
        uni.showToast({
          title: "å¯†ç è®¾ç½®",
          icon: "none"
        });
      },
      goToThirdPartyBinding() {
        uni.navigateTo({
          url: "/pages/settings/third-party-binding"
        });
      },
      goToRealNameVerification() {
        uni.navigateTo({
          url: "/pages/verification/real-name-verification"
        });
      },
      goToOfficialCertification() {
        uni.navigateTo({
          url: "/pages/verification/official-certification"
        });
      },
      goToDeviceManagement() {
        uni.navigateTo({
          url: "/pages/settings/device-management"
        });
      },
      goToAccountManagement() {
        uni.navigateTo({
          url: "/pages/settings/switch-account"
        });
      },
      goToAccountDeletion() {
        uni.showToast({
          title: "æ³¨é”€è´¦å·",
          icon: "none"
        });
      }
    }
  };
  function _sfc_render$r(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "account-security-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="page-title">è´¦å·ä¸å®‰å…¨</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" å®‰å…¨è®¾ç½®åˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "security-list" }, [
        vue.createCommentVNode(" ç¬¬ä¸€ç»„ï¼šåŸºç¡€ä¿¡æ¯ "),
        vue.createElementVNode("view", { class: "list-group" }, [
          vue.createElementVNode("view", {
            class: "list-item",
            onClick: _cache[0] || (_cache[0] = (...args) => $options.goToPhoneNumber && $options.goToPhoneNumber(...args))
          }, [
            vue.createElementVNode("text", { class: "item-label" }, "æ‰‹æœºå·"),
            vue.createElementVNode("view", { class: "item-content" }, [
              vue.createElementVNode("text", { class: "item-value" }, "+86133****8358"),
              vue.createElementVNode("view", { class: "arrow-icon" }, ">")
            ])
          ]),
          vue.createElementVNode("view", { class: "divider" }),
          vue.createElementVNode("view", {
            class: "list-item",
            onClick: _cache[1] || (_cache[1] = (...args) => $options.goToPassword && $options.goToPassword(...args))
          }, [
            vue.createElementVNode("text", { class: "item-label" }, "ç™»å½•å¯†ç "),
            vue.createElementVNode("view", { class: "item-content" }, [
              vue.createElementVNode("text", { class: "item-value" }, "æœªè®¾ç½®"),
              vue.createElementVNode("view", { class: "arrow-icon" }, ">")
            ])
          ])
        ]),
        vue.createCommentVNode(" ç¬¬äºŒç»„ï¼šç¬¬ä¸‰æ–¹è´¦å·ç»‘å®š "),
        vue.createElementVNode("view", { class: "list-group" }, [
          vue.createElementVNode("view", {
            class: "list-item",
            onClick: _cache[2] || (_cache[2] = (...args) => $options.goToThirdPartyBinding && $options.goToThirdPartyBinding(...args))
          }, [
            vue.createElementVNode("text", { class: "item-label" }, "ç¬¬ä¸‰æ–¹è´¦å·ç»‘å®š"),
            vue.createElementVNode("view", { class: "item-content" }, [
              vue.createElementVNode("view", { class: "arrow-icon" }, ">")
            ])
          ])
        ]),
        vue.createCommentVNode(" ç¬¬ä¸‰ç»„ï¼šè®¤è¯ä¿¡æ¯ "),
        vue.createElementVNode("view", { class: "list-group" }, [
          vue.createElementVNode("view", {
            class: "list-item",
            onClick: _cache[3] || (_cache[3] = (...args) => $options.goToRealNameVerification && $options.goToRealNameVerification(...args))
          }, [
            vue.createElementVNode("text", { class: "item-label" }, "å®åè®¤è¯"),
            vue.createElementVNode("view", { class: "item-content" }, [
              vue.createElementVNode("view", { class: "arrow-icon" }, ">")
            ])
          ]),
          vue.createElementVNode("view", { class: "divider" }),
          vue.createElementVNode("view", {
            class: "list-item",
            onClick: _cache[4] || (_cache[4] = (...args) => $options.goToOfficialCertification && $options.goToOfficialCertification(...args))
          }, [
            vue.createElementVNode("text", { class: "item-label" }, "å®˜æ–¹è®¤è¯"),
            vue.createElementVNode("view", { class: "item-content" }, [
              vue.createElementVNode("view", { class: "arrow-icon" }, ">")
            ])
          ])
        ]),
        vue.createCommentVNode(" ç¬¬å››ç»„ï¼šè´¦æˆ·ç®¡ç† "),
        vue.createElementVNode("view", { class: "list-group" }, [
          vue.createElementVNode("view", {
            class: "list-item",
            onClick: _cache[5] || (_cache[5] = (...args) => $options.goToDeviceManagement && $options.goToDeviceManagement(...args))
          }, [
            vue.createElementVNode("text", { class: "item-label" }, "ç™»å½•è®¾å¤‡ç®¡ç†"),
            vue.createElementVNode("view", { class: "item-content" }, [
              vue.createElementVNode("view", { class: "arrow-icon" }, ">")
            ])
          ]),
          vue.createElementVNode("view", { class: "divider" }),
          vue.createCommentVNode(' <view class="list-item" @click="goToAccountManagement">\n					<text class="item-label">è´¦å·ç®¡ç†</text>\n					<view class="item-content">\n						<view class="arrow-icon">></view>\n					</view>\n				</view> '),
          vue.createElementVNode("view", { class: "divider" }),
          vue.createElementVNode("view", {
            class: "list-item",
            onClick: _cache[6] || (_cache[6] = (...args) => $options.goToAccountDeletion && $options.goToAccountDeletion(...args))
          }, [
            vue.createElementVNode("text", { class: "item-label" }, "æ³¨é”€è´¦å·"),
            vue.createElementVNode("view", { class: "item-content" }, [
              vue.createElementVNode("view", { class: "arrow-icon" }, ">")
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="bottom-navigation">\n			<view class="nav-item" @click="goToHome">\n				<text class="nav-text">é¦–é¡µ</text>\n			</view>\n			<view class="nav-item" @click="goToChatList">\n				<text class="nav-text">æ¶ˆæ¯</text>\n			</view>\n			<view class="nav-item" @click="goToAIChat">\n				<view class="ai-tab">\n					<text class="ai-text">AI</text>\n				</view>\n			</view>\n			<view class="nav-item" @click="goToFriendList">\n				<text class="nav-text">å¥½å‹</text>\n			</view>\n			<view class="nav-avatar" @click="goToProfile">\n				<image class="avatar-small" src="" mode="aspectFill"></image>\n			</view>\n		</view> '),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createCommentVNode(' <view class="home-indicator"></view> ')
    ]);
  }
  const PagesSettingsAccountSecurity = /* @__PURE__ */ _export_sfc(_sfc_main$s, [["render", _sfc_render$r], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/account-security.vue"]]);
  const _sfc_main$r = {
    name: "DeviceManagementPage",
    data() {
      return {
        devices: [
          {
            id: 0,
            name: "qwe",
            type: "iPhone 13",
            lastLogin: "2025-08-18 15:23",
            location: "ä¸­å›½æµ™æ±Ÿæ­å·",
            isCurrent: true
          },
          {
            id: 1,
            name: "PEQM00",
            type: "PEQM00",
            lastLogin: "2025-08-21 08:34",
            location: "ä¸­å›½å¤©æ´¥å¤©æ´¥",
            isCurrent: false
          },
          {
            id: 2,
            name: "ç‹æŸ³æ¸…",
            type: "Windows",
            lastLogin: "2024-11-19 08:03",
            location: "ä¸­å›½å±±è¥¿å¤ªåŸ",
            isCurrent: false
          },
          {
            id: 3,
            name: "iPad7,5",
            type: "iPad",
            lastLogin: "2025-05-09 22:53",
            location: "ä¸­å›½å‰æ—é•¿æ˜¥",
            isCurrent: false
          },
          {
            id: 4,
            name: "ç‹æŸ³æ¸…",
            type: "Windows",
            lastLogin: "2025-07-13 17:23",
            location: "ä¸­å›½æµ™æ±Ÿ",
            isCurrent: false
          }
        ]
      };
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      showManageOptions() {
        uni.showActionSheet({
          itemList: ["æ‰¹é‡ç§»é™¤è®¾å¤‡", "å¯¼å‡ºè®¾å¤‡åˆ—è¡¨", "è®¾å¤‡å®‰å…¨è®¾ç½®"],
          success: (res) => {
            switch (res.tapIndex) {
              case 0:
                this.batchRemoveDevices();
                break;
              case 1:
                this.exportDeviceList();
                break;
              case 2:
                this.deviceSecuritySettings();
                break;
            }
          }
        });
      },
      showHelp() {
        uni.showModal({
          title: "å¸®åŠ©è¯´æ˜",
          content: "è®¾å¤‡åˆ é™¤åï¼Œè¯¥è®¾å¤‡å†æ¬¡ç™»å½•æ—¶éœ€è¦é‡æ–°è¿›è¡Œèº«ä»½éªŒè¯ï¼ŒåŒ…æ‹¬æ‰‹æœºéªŒè¯ç ã€å¯†ç ç­‰ã€‚è¿™æ˜¯ä¸ºäº†ä¿æŠ¤æ‚¨çš„è´¦æˆ·å®‰å…¨ã€‚",
          showCancel: false,
          confirmText: "æˆ‘çŸ¥é“äº†"
        });
      },
      removeDevice(deviceId) {
        uni.showModal({
          title: "ç¡®è®¤ç§»é™¤",
          content: "ç¡®å®šè¦ç§»é™¤è¿™ä¸ªè®¾å¤‡å—ï¼Ÿç§»é™¤åè¯¥è®¾å¤‡éœ€è¦é‡æ–°ç™»å½•ã€‚",
          success: (res) => {
            if (res.confirm) {
              this.devices = this.devices.filter((device) => device.id !== deviceId);
              uni.showToast({
                title: "è®¾å¤‡å·²ç§»é™¤",
                icon: "success"
              });
            }
          }
        });
      },
      batchRemoveDevices() {
        uni.showModal({
          title: "æ‰¹é‡ç§»é™¤",
          content: "ç¡®å®šè¦ç§»é™¤æ‰€æœ‰éæœ¬æœºè®¾å¤‡å—ï¼Ÿ",
          success: (res) => {
            if (res.confirm) {
              this.devices = this.devices.filter((device) => device.isCurrent);
              uni.showToast({
                title: "æ‰¹é‡ç§»é™¤å®Œæˆ",
                icon: "success"
              });
            }
          }
        });
      },
      exportDeviceList() {
        uni.showToast({
          title: "å¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      deviceSecuritySettings() {
        uni.showToast({
          title: "å®‰å…¨è®¾ç½®åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      }
    }
  };
  function _sfc_render$q(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "device-management-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="page-title">ç™»å½•è®¾å¤‡ç®¡ç†</text>\n			<view class="manage-button" @click="showManageOptions">\n				<text class="manage-text">ç®¡ç†</text>\n			</view>\n		</view> '),
      vue.createCommentVNode(" ä¿¡æ¯æç¤ºæ  "),
      vue.createElementVNode("view", { class: "info-bar" }, [
        vue.createElementVNode("text", { class: "info-text" }, "è®¾å¤‡åˆ é™¤åå†æ¬¡ç™»å½•éœ€èº«ä»½éªŒè¯ã€‚"),
        vue.createElementVNode("text", {
          class: "help-link",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.showHelp && $options.showHelp(...args))
        }, "å­˜åœ¨ç–‘é—®?")
      ]),
      vue.createCommentVNode(" è®¾å¤‡åˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "device-list" }, [
        vue.createCommentVNode(" è®¾å¤‡é¡¹ç›®1 - æœ¬æœº "),
        vue.createElementVNode("view", { class: "device-item" }, [
          vue.createElementVNode("view", { class: "device-icon" }, [
            vue.createElementVNode("view", { class: "icon-phone" })
          ]),
          vue.createElementVNode("view", { class: "device-info" }, [
            vue.createElementVNode("text", { class: "device-name" }, "qwe"),
            vue.createElementVNode("text", { class: "device-type" }, "iPhone 13"),
            vue.createElementVNode("text", { class: "device-login" }, "2025-08-18 15:23 | ä¸­å›½æµ™æ±Ÿæ­å·")
          ]),
          vue.createElementVNode("view", { class: "device-status" }, [
            vue.createElementVNode("text", { class: "status-text" }, "æœ¬æœº")
          ])
        ]),
        vue.createCommentVNode(" è®¾å¤‡é¡¹ç›®2 "),
        vue.createElementVNode("view", { class: "device-item" }, [
          vue.createElementVNode("view", { class: "device-icon" }, [
            vue.createElementVNode("view", { class: "icon-phone" })
          ]),
          vue.createElementVNode("view", { class: "device-info" }, [
            vue.createElementVNode("text", { class: "device-name" }, "PEQM00"),
            vue.createElementVNode("text", { class: "device-type" }, "PEQM00"),
            vue.createElementVNode("text", { class: "device-login" }, "2025-08-21 08:34 | ä¸­å›½å¤©æ´¥å¤©æ´¥")
          ]),
          vue.createElementVNode("view", { class: "device-actions" }, [
            vue.createElementVNode("view", {
              class: "action-btn",
              onClick: _cache[1] || (_cache[1] = ($event) => $options.removeDevice(1))
            }, [
              vue.createElementVNode("text", { class: "action-text" }, "ç§»é™¤")
            ])
          ])
        ]),
        vue.createCommentVNode(" è®¾å¤‡é¡¹ç›®3 "),
        vue.createElementVNode("view", { class: "device-item" }, [
          vue.createElementVNode("view", { class: "device-icon" }, [
            vue.createElementVNode("view", { class: "icon-desktop" })
          ]),
          vue.createElementVNode("view", { class: "device-info" }, [
            vue.createElementVNode("text", { class: "device-name" }, "ç‹æŸ³æ¸…"),
            vue.createElementVNode("text", { class: "device-type" }, "Windows"),
            vue.createElementVNode("text", { class: "device-login" }, "2024-11-19 08:03 | ä¸­å›½å±±è¥¿å¤ªåŸ")
          ]),
          vue.createElementVNode("view", { class: "device-actions" }, [
            vue.createElementVNode("view", {
              class: "action-btn",
              onClick: _cache[2] || (_cache[2] = ($event) => $options.removeDevice(2))
            }, [
              vue.createElementVNode("text", { class: "action-text" }, "ç§»é™¤")
            ])
          ])
        ]),
        vue.createCommentVNode(" è®¾å¤‡é¡¹ç›®4 "),
        vue.createElementVNode("view", { class: "device-item" }, [
          vue.createElementVNode("view", { class: "device-icon" }, [
            vue.createElementVNode("view", { class: "icon-phone" })
          ]),
          vue.createElementVNode("view", { class: "device-info" }, [
            vue.createElementVNode("text", { class: "device-name" }, "iPad7,5"),
            vue.createElementVNode("text", { class: "device-type" }, "iPad"),
            vue.createElementVNode("text", { class: "device-login" }, "2025-05-09 22:53 | ä¸­å›½å‰æ—é•¿æ˜¥")
          ]),
          vue.createElementVNode("view", { class: "device-actions" }, [
            vue.createElementVNode("view", {
              class: "action-btn",
              onClick: _cache[3] || (_cache[3] = ($event) => $options.removeDevice(3))
            }, [
              vue.createElementVNode("text", { class: "action-text" }, "ç§»é™¤")
            ])
          ])
        ]),
        vue.createCommentVNode(" è®¾å¤‡é¡¹ç›®5 "),
        vue.createElementVNode("view", { class: "device-item" }, [
          vue.createElementVNode("view", { class: "device-icon" }, [
            vue.createElementVNode("view", { class: "icon-desktop" })
          ]),
          vue.createElementVNode("view", { class: "device-info" }, [
            vue.createElementVNode("text", { class: "device-name" }, "ç‹æŸ³æ¸…"),
            vue.createElementVNode("text", { class: "device-type" }, "Windows"),
            vue.createElementVNode("text", { class: "device-login" }, "2025-07-13 17:23 | ä¸­å›½æµ™æ±Ÿ")
          ]),
          vue.createElementVNode("view", { class: "device-actions" }, [
            vue.createElementVNode("view", {
              class: "action-btn",
              onClick: _cache[4] || (_cache[4] = ($event) => $options.removeDevice(4))
            }, [
              vue.createElementVNode("text", { class: "action-text" }, "ç§»é™¤")
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesSettingsDeviceManagement = /* @__PURE__ */ _export_sfc(_sfc_main$r, [["render", _sfc_render$q], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/device-management.vue"]]);
  const _sfc_main$q = {
    name: "ThirdPartyBindingPage",
    data() {
      return {
        syncFollowers: false,
        syncProfile: false
      };
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      bindWechat() {
        uni.showModal({
          title: "ç»‘å®šå¾®ä¿¡",
          content: "ç¡®å®šè¦ç»‘å®šå¾®ä¿¡è´¦å·å—ï¼Ÿ",
          success: (res) => {
            if (res.confirm) {
              uni.showToast({
                title: "å¾®ä¿¡ç»‘å®šåŠŸèƒ½å¼€å‘ä¸­",
                icon: "none"
              });
            }
          }
        });
      },
      bindQQ() {
        uni.showModal({
          title: "ç»‘å®šQQ",
          content: "ç¡®å®šè¦ç»‘å®šQQè´¦å·å—ï¼Ÿ",
          success: (res) => {
            if (res.confirm) {
              uni.showToast({
                title: "QQç»‘å®šåŠŸèƒ½å¼€å‘ä¸­",
                icon: "none"
              });
            }
          }
        });
      },
      bindWeibo() {
        uni.showModal({
          title: "ç»‘å®šå¾®åš",
          content: "ç¡®å®šè¦ç»‘å®šå¾®åšè´¦å·å—ï¼Ÿ",
          success: (res) => {
            if (res.confirm) {
              uni.showToast({
                title: "å¾®åšç»‘å®šåŠŸèƒ½å¼€å‘ä¸­",
                icon: "none"
              });
            }
          }
        });
      },
      bindApple() {
        uni.showModal({
          title: "ç»‘å®šApple",
          content: "ç¡®å®šè¦ç»‘å®šAppleè´¦å·å—ï¼Ÿ",
          success: (res) => {
            if (res.confirm) {
              uni.showToast({
                title: "Appleç»‘å®šåŠŸèƒ½å¼€å‘ä¸­",
                icon: "none"
              });
            }
          }
        });
      },
      viewSyncDetails() {
        uni.showToast({
          title: "åŒæ­¥è¯¦æƒ…åŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      toggleSyncFollowers(e) {
        this.syncFollowers = e.detail.value;
        uni.showToast({
          title: this.syncFollowers ? "å·²å¼€å¯ç²‰ä¸åŒæ­¥" : "å·²å…³é—­ç²‰ä¸åŒæ­¥",
          icon: "none"
        });
      },
      toggleSyncProfile(e) {
        this.syncProfile = e.detail.value;
        uni.showToast({
          title: this.syncProfile ? "å·²å¼€å¯èµ„æ–™åŒæ­¥" : "å·²å…³é—­èµ„æ–™åŒæ­¥",
          icon: "none"
        });
      }
    }
  };
  function _sfc_render$p(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "third-party-binding-page" }, [
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="page-title">ç¬¬ä¸‰æ–¹è´¦å·ç»‘å®š</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" ä¸»è¦å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" ç¬¬ä¸‰æ–¹ç™»å½•æ–¹å¼ "),
        vue.createElementVNode("view", { class: "section" }, [
          vue.createElementVNode("text", { class: "section-title" }, "ç¬¬ä¸‰æ–¹ç™»å½•æ–¹å¼"),
          vue.createElementVNode("view", { class: "binding-list" }, [
            vue.createElementVNode("view", {
              class: "binding-item",
              onClick: _cache[0] || (_cache[0] = (...args) => $options.bindWechat && $options.bindWechat(...args))
            }, [
              vue.createElementVNode("text", { class: "platform-name" }, "å¾®ä¿¡"),
              vue.createElementVNode("view", { class: "binding-status" }, [
                vue.createElementVNode("text", { class: "status-text" }, "æœªç»‘å®š"),
                vue.createElementVNode("view", { class: "arrow-icon" }, ">")
              ])
            ]),
            vue.createElementVNode("view", {
              class: "binding-item",
              onClick: _cache[1] || (_cache[1] = (...args) => $options.bindQQ && $options.bindQQ(...args))
            }, [
              vue.createElementVNode("text", { class: "platform-name" }, "QQ"),
              vue.createElementVNode("view", { class: "binding-status" }, [
                vue.createElementVNode("view", { class: "qq-status" }, [
                  vue.createElementVNode("text", { class: "wave-icon" }, "ã€°ï¸"),
                  vue.createElementVNode("text", { class: "qq-username" }, "ç³–ç³–æ²¡æœ‰")
                ]),
                vue.createElementVNode("view", { class: "arrow-icon" }, ">")
              ])
            ]),
            vue.createElementVNode("view", {
              class: "binding-item",
              onClick: _cache[2] || (_cache[2] = (...args) => $options.bindWeibo && $options.bindWeibo(...args))
            }, [
              vue.createElementVNode("text", { class: "platform-name" }, "å¾®åš"),
              vue.createElementVNode("view", { class: "binding-status" }, [
                vue.createElementVNode("text", { class: "status-text" }, "æœªç»‘å®š"),
                vue.createElementVNode("view", { class: "arrow-icon" }, ">")
              ])
            ]),
            vue.createElementVNode("view", {
              class: "binding-item",
              onClick: _cache[3] || (_cache[3] = (...args) => $options.bindApple && $options.bindApple(...args))
            }, [
              vue.createElementVNode("text", { class: "platform-name" }, "Apple"),
              vue.createElementVNode("view", { class: "binding-status" }, [
                vue.createElementVNode("text", { class: "status-text" }, "æœªç»‘å®š"),
                vue.createElementVNode("view", { class: "arrow-icon" }, ">")
              ])
            ])
          ])
        ]),
        vue.createCommentVNode(" ç¬¬ä¸‰æ–¹å†…å®¹åŒæ­¥å¹³å° "),
        vue.createElementVNode("view", { class: "section" }, [
          vue.createElementVNode("text", { class: "section-title" }, "ç¬¬ä¸‰æ–¹å†…å®¹åŒæ­¥å¹³å°"),
          vue.createElementVNode("view", { class: "binding-list" }, [
            vue.createElementVNode("view", {
              class: "binding-item",
              onClick: _cache[4] || (_cache[4] = (...args) => $options.viewSyncDetails && $options.viewSyncDetails(...args))
            }, [
              vue.createElementVNode("text", { class: "platform-name" }, "ä»Šæ—¥å¤´æ¡ / è¥¿ç“œè§†é¢‘ / æ‡‚è½¦å¸"),
              vue.createElementVNode("view", { class: "binding-status" }, [
                vue.createElementVNode("text", { class: "status-text" }, "æŸ¥çœ‹è¯¦æƒ…"),
                vue.createElementVNode("view", { class: "arrow-icon" }, ">")
              ])
            ])
          ])
        ]),
        vue.createCommentVNode(" åŒæ­¥é€‰é¡¹ "),
        vue.createElementVNode("view", { class: "section" }, [
          vue.createElementVNode("view", { class: "sync-option" }, [
            vue.createElementVNode("view", { class: "option-info" }, [
              vue.createElementVNode("text", { class: "option-title" }, "åŒæ­¥ç²‰ä¸æ•°é‡"),
              vue.createElementVNode("text", { class: "option-description" }, "å¼€å¯å,æŠ–éŸ³ç²‰ä¸æ•°é‡å°†å¢åŠ (å…³é—­ç²‰ä¸æ•°é‡å‡å°‘)")
            ]),
            vue.createElementVNode("switch", {
              checked: $data.syncFollowers,
              onChange: _cache[5] || (_cache[5] = (...args) => $options.toggleSyncFollowers && $options.toggleSyncFollowers(...args)),
              color: "#007aff",
              class: "sync-switch"
            }, null, 40, ["checked"])
          ]),
          vue.createElementVNode("view", { class: "sync-option" }, [
            vue.createElementVNode("view", { class: "option-info" }, [
              vue.createElementVNode("text", { class: "option-title" }, "åŒæ­¥æŠ–éŸ³å¤´åƒå’Œæ˜µç§°ä¿¡æ¯")
            ]),
            vue.createElementVNode("switch", {
              checked: $data.syncProfile,
              onChange: _cache[6] || (_cache[6] = (...args) => $options.toggleSyncProfile && $options.toggleSyncProfile(...args)),
              color: "#007aff",
              class: "sync-switch"
            }, null, 40, ["checked"])
          ])
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createCommentVNode(' <view class="home-indicator"></view> ')
    ]);
  }
  const PagesSettingsThirdPartyBinding = /* @__PURE__ */ _export_sfc(_sfc_main$q, [["render", _sfc_render$p], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/third-party-binding.vue"]]);
  const _sfc_main$p = {
    name: "AddWays",
    data() {
      return {
        settings: {
          wechatSearch: true,
          phoneSearch: true,
          qqSearch: true,
          groupAdd: true,
          cardShare: true
        }
      };
    },
    onLoad() {
      this.loadSettings();
    },
    methods: {
      loadSettings() {
        try {
          const savedSettings = uni.getStorageSync("addWaysSettings");
          if (savedSettings) {
            this.settings = JSON.parse(savedSettings);
          }
        } catch (e) {
          formatAppLog("error", "at pages/settings/add-ways.vue:107", "åŠ è½½è®¾ç½®å¤±è´¥:", e);
        }
      },
      toggleSetting(key) {
        this.settings[key] = !this.settings[key];
        this.saveSettings();
        uni.showToast({
          title: "è®¾ç½®å·²ä¿å­˜",
          icon: "success"
        });
      },
      saveSettings() {
        try {
          uni.setStorageSync("addWaysSettings", JSON.stringify(this.settings));
        } catch (e) {
          formatAppLog("error", "at pages/settings/add-ways.vue:125", "ä¿å­˜è®¾ç½®å¤±è´¥:", e);
        }
      }
    }
  };
  function _sfc_render$o(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "add-ways-page" }, [
      vue.createCommentVNode(" ä¸»è¦å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("scroll-view", {
        class: "content",
        "scroll-y": ""
      }, [
        vue.createCommentVNode(" æ·»åŠ æ–¹å¼è®¾ç½®æ¨¡å— "),
        vue.createElementVNode("view", { class: "section" }, [
          vue.createElementVNode("view", { class: "section-header" }, [
            vue.createElementVNode("text", { class: "section-title" }, "æ·»åŠ æ–¹å¼")
          ]),
          vue.createElementVNode("view", { class: "section-content" }, [
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-info" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "å¾®ä¿¡å·æœç´¢"),
                vue.createElementVNode("text", { class: "setting-desc" }, "å…è®¸ä»–äººé€šè¿‡å¾®ä¿¡å·æœç´¢åˆ°æˆ‘")
              ]),
              vue.createElementVNode("view", {
                class: "toggle-switch",
                onClick: _cache[0] || (_cache[0] = ($event) => $options.toggleSetting("wechatSearch"))
              }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["toggle-track", { active: $data.settings.wechatSearch }])
                  },
                  [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["toggle-thumb", { active: $data.settings.wechatSearch }])
                      },
                      null,
                      2
                      /* CLASS */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ])
            ]),
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-info" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "æ‰‹æœºå·æœç´¢"),
                vue.createElementVNode("text", { class: "setting-desc" }, "å…è®¸ä»–äººé€šè¿‡æ‰‹æœºå·æœç´¢åˆ°æˆ‘")
              ]),
              vue.createElementVNode("view", {
                class: "toggle-switch",
                onClick: _cache[1] || (_cache[1] = ($event) => $options.toggleSetting("phoneSearch"))
              }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["toggle-track", { active: $data.settings.phoneSearch }])
                  },
                  [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["toggle-thumb", { active: $data.settings.phoneSearch }])
                      },
                      null,
                      2
                      /* CLASS */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ])
            ]),
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-info" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "QQå·æœç´¢"),
                vue.createElementVNode("text", { class: "setting-desc" }, "å…è®¸ä»–äººé€šè¿‡QQå·æœç´¢åˆ°æˆ‘")
              ]),
              vue.createElementVNode("view", {
                class: "toggle-switch",
                onClick: _cache[2] || (_cache[2] = ($event) => $options.toggleSetting("qqSearch"))
              }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["toggle-track", { active: $data.settings.qqSearch }])
                  },
                  [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["toggle-thumb", { active: $data.settings.qqSearch }])
                      },
                      null,
                      2
                      /* CLASS */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ])
            ]),
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-info" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "ç¾¤èŠæ·»åŠ "),
                vue.createElementVNode("text", { class: "setting-desc" }, "å…è®¸ä»–äººé€šè¿‡ç¾¤èŠæ·»åŠ æˆ‘ä¸ºå¥½å‹")
              ]),
              vue.createElementVNode("view", {
                class: "toggle-switch",
                onClick: _cache[3] || (_cache[3] = ($event) => $options.toggleSetting("groupAdd"))
              }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["toggle-track", { active: $data.settings.groupAdd }])
                  },
                  [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["toggle-thumb", { active: $data.settings.groupAdd }])
                      },
                      null,
                      2
                      /* CLASS */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ])
            ]),
            vue.createElementVNode("view", { class: "setting-item" }, [
              vue.createElementVNode("view", { class: "setting-info" }, [
                vue.createElementVNode("text", { class: "setting-label" }, "åç‰‡åˆ†äº«"),
                vue.createElementVNode("text", { class: "setting-desc" }, "å…è®¸ä»–äººé€šè¿‡åç‰‡åˆ†äº«æ·»åŠ æˆ‘ä¸ºå¥½å‹")
              ]),
              vue.createElementVNode("view", {
                class: "toggle-switch",
                onClick: _cache[4] || (_cache[4] = ($event) => $options.toggleSetting("cardShare"))
              }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["toggle-track", { active: $data.settings.cardShare }])
                  },
                  [
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["toggle-thumb", { active: $data.settings.cardShare }])
                      },
                      null,
                      2
                      /* CLASS */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ])
            ])
          ])
        ]),
        vue.createCommentVNode(" éšç§è¯´æ˜ "),
        vue.createElementVNode("view", { class: "privacy-note" }, [
          vue.createElementVNode("text", { class: "note-text" }, "å…³é—­æŸäº›æ·»åŠ æ–¹å¼å¯èƒ½ä¼šå½±å“ä»–äººæ‰¾åˆ°æ‚¨ï¼Œå»ºè®®æ ¹æ®å®é™…éœ€è¦åˆç†è®¾ç½®")
        ])
      ])
    ]);
  }
  const PagesSettingsAddWays = /* @__PURE__ */ _export_sfc(_sfc_main$p, [["render", _sfc_render$o], ["__scopeId", "data-v-a42a8120"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/add-ways.vue"]]);
  const _sfc_main$o = {
    name: "LanguageSettings",
    data() {
      return {
        currentLanguage: "zh-CN",
        languages: [
          {
            code: "zh-CN",
            name: "ç®€ä½“ä¸­æ–‡",
            nativeName: "ç®€ä½“ä¸­æ–‡"
          },
          {
            code: "zh-HK",
            name: "ç¹ä½“ä¸­æ–‡ï¼ˆé¦™æ¸¯ï¼‰",
            nativeName: "ç¹é«”ä¸­æ–‡ï¼ˆé¦™æ¸¯ï¼‰"
          },
          {
            code: "zh-TW",
            name: "ç¹ä½“ä¸­æ–‡ï¼ˆå°æ¹¾ï¼‰",
            nativeName: "ç¹é«”ä¸­æ–‡ï¼ˆå°ç£ï¼‰"
          },
          {
            code: "en",
            name: "English",
            nativeName: "English"
          }
        ]
      };
    },
    onLoad() {
      this.loadCurrentLanguage();
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      loadCurrentLanguage() {
        try {
          const savedLanguage = uni.getStorageSync("appLanguage");
          if (savedLanguage) {
            this.currentLanguage = savedLanguage;
          }
        } catch (e) {
          formatAppLog("error", "at pages/settings/language.vue:91", "åŠ è½½è¯­è¨€è®¾ç½®å¤±è´¥:", e);
        }
      },
      selectLanguage(languageCode) {
        if (this.currentLanguage === languageCode) {
          return;
        }
        uni.showModal({
          title: "ç¡®è®¤æ›´æ”¹è¯­è¨€",
          content: "æ›´æ”¹è¯­è¨€ååº”ç”¨å°†é‡æ–°å¯åŠ¨ï¼Œç¡®å®šè¦ç»§ç»­å—ï¼Ÿ",
          success: (res) => {
            if (res.confirm) {
              this.currentLanguage = languageCode;
              this.saveLanguage(languageCode);
              uni.showToast({
                title: "è¯­è¨€è®¾ç½®å·²ä¿å­˜",
                icon: "success"
              });
              setTimeout(() => {
                this.restartApp();
              }, 1500);
            }
          }
        });
      },
      saveLanguage(languageCode) {
        try {
          uni.setStorageSync("appLanguage", languageCode);
        } catch (e) {
          formatAppLog("error", "at pages/settings/language.vue:126", "ä¿å­˜è¯­è¨€è®¾ç½®å¤±è´¥:", e);
        }
      },
      restartApp() {
        uni.showModal({
          title: "è¯­è¨€è®¾ç½®å®Œæˆ",
          content: "è¯·æ‰‹åŠ¨é‡å¯åº”ç”¨ä»¥åº”ç”¨æ–°çš„è¯­è¨€è®¾ç½®",
          showCancel: false,
          success: () => {
            uni.navigateBack();
          }
        });
      }
    }
  };
  function _sfc_render$n(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "language-page" }, [
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n			<view class="nav-left" @click="goBack">\n				<text class="back-arrow">â†</text>\n			</view>\n			<view class="nav-center">\n				<text class="nav-title">è¯­è¨€</text>\n			</view>\n			<view class="nav-right"></view>\n		</view> '),
      vue.createCommentVNode(" å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "content-area" }, [
        vue.createCommentVNode(" è¯­è¨€é€‰é¡¹åˆ—è¡¨ "),
        vue.createElementVNode("view", { class: "language-list" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.languages, (language, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: vue.normalizeClass(["language-item", { active: $data.currentLanguage === language.code }]),
                key: index,
                onClick: ($event) => $options.selectLanguage(language.code)
              }, [
                vue.createElementVNode("view", { class: "language-info" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "language-name" },
                    vue.toDisplayString(language.name),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "text",
                    { class: "language-native" },
                    vue.toDisplayString(language.nativeName),
                    1
                    /* TEXT */
                  )
                ]),
                $data.currentLanguage === language.code ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "language-check"
                }, [
                  vue.createElementVNode("text", { class: "check-icon" }, "âœ“")
                ])) : vue.createCommentVNode("v-if", true)
              ], 10, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ]),
        vue.createCommentVNode(" è¯´æ˜æ–‡å­— "),
        vue.createElementVNode("view", { class: "language-note" }, [
          vue.createElementVNode("text", { class: "note-text" }, "æ›´æ”¹è¯­è¨€åï¼Œåº”ç”¨å°†é‡æ–°å¯åŠ¨ä»¥åº”ç”¨æ–°è¯­è¨€è®¾ç½®")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ‰‹åŠ¿æ¡ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesSettingsLanguage = /* @__PURE__ */ _export_sfc(_sfc_main$o, [["render", _sfc_render$n], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/language.vue"]]);
  const _sfc_main$n = {
    name: "NotificationDisplay",
    data() {
      return {
        currentDisplayMode: "full",
        displayOptions: [
          {
            value: "minimal",
            title: "ä»…æ˜¾ç¤ºã€ä½ æ”¶åˆ°äº†ä¸€æ¡æ¶ˆæ¯ã€‘",
            description: "æœ€ç®€æ´çš„é€šçŸ¥æ–¹å¼ï¼Œä¿æŠ¤éšç§"
          },
          {
            value: "medium",
            title: "æ˜¾ç¤ºæœ‹å‹åç§°ã€ç¾¤èŠå",
            description: "æ˜¾ç¤ºå‘é€è€…ä¿¡æ¯ï¼Œä½†ä¸æ˜¾ç¤ºå…·ä½“å†…å®¹"
          },
          {
            value: "full",
            title: "æ˜¾ç¤ºæœ‹å‹åç§°ã€ç¾¤èŠååŠæ¶ˆæ¯å†…å®¹",
            description: "æ˜¾ç¤ºå®Œæ•´çš„æ¶ˆæ¯ä¿¡æ¯"
          }
        ]
      };
    },
    onLoad() {
      this.loadCurrentDisplayMode();
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      loadCurrentDisplayMode() {
        try {
          const savedMode = uni.getStorageSync("notificationDisplayMode");
          if (savedMode) {
            this.currentDisplayMode = savedMode;
          }
        } catch (e) {
          formatAppLog("error", "at pages/settings/notification-display.vue:86", "åŠ è½½é€šçŸ¥æ˜¾ç¤ºè®¾ç½®å¤±è´¥:", e);
        }
      },
      selectDisplayMode(mode) {
        if (this.currentDisplayMode === mode) {
          return;
        }
        this.currentDisplayMode = mode;
        this.saveDisplayMode(mode);
        uni.showToast({
          title: "è®¾ç½®å·²ä¿å­˜",
          icon: "success"
        });
      },
      saveDisplayMode(mode) {
        try {
          uni.setStorageSync("notificationDisplayMode", mode);
        } catch (e) {
          formatAppLog("error", "at pages/settings/notification-display.vue:108", "ä¿å­˜é€šçŸ¥æ˜¾ç¤ºè®¾ç½®å¤±è´¥:", e);
        }
      }
    }
  };
  function _sfc_render$m(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "notification-display-page" }, [
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n			<view class="nav-left" @click="goBack">\n				<text class="back-arrow">â†</text>\n			</view>\n			<view class="nav-center">\n				<text class="nav-title">é€šçŸ¥æ˜¾ç¤ºå†…å®¹</text>\n			</view>\n			<view class="nav-right"></view>\n		</view> '),
      vue.createCommentVNode(" å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "content-area" }, [
        vue.createCommentVNode(" é€šçŸ¥æ˜¾ç¤ºæ–¹å¼é€‰é¡¹ "),
        vue.createElementVNode("view", { class: "display-options" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.displayOptions, (option, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: vue.normalizeClass(["option-item", { active: $data.currentDisplayMode === option.value }]),
                key: index,
                onClick: ($event) => $options.selectDisplayMode(option.value)
              }, [
                vue.createElementVNode("view", { class: "option-info" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "option-title" },
                    vue.toDisplayString(option.title),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "text",
                    { class: "option-desc" },
                    vue.toDisplayString(option.description),
                    1
                    /* TEXT */
                  )
                ]),
                $data.currentDisplayMode === option.value ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "option-check"
                }, [
                  vue.createElementVNode("text", { class: "check-icon" }, "âœ“")
                ])) : vue.createCommentVNode("v-if", true)
              ], 10, ["onClick"]);
            }),
            128
            /* KEYED_FRAGMENT */
          ))
        ]),
        vue.createCommentVNode(" è¯´æ˜æ–‡å­— "),
        vue.createElementVNode("view", { class: "display-note" }, [
          vue.createElementVNode("text", { class: "note-text" }, "é€‰æ‹©é€šçŸ¥åœ¨é”å±å’Œé€šçŸ¥æ ä¸­çš„æ˜¾ç¤ºæ–¹å¼")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ‰‹åŠ¿æ¡ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesSettingsNotificationDisplay = /* @__PURE__ */ _export_sfc(_sfc_main$n, [["render", _sfc_render$m], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/settings/notification-display.vue"]]);
  const _sfc_main$m = {
    name: "OfficialCertificationPage",
    data() {
      return {
        loading: false,
        realnameInfo: null,
        schoolCount: 0,
        jobCount: 0
      };
    },
    onLoad() {
      this.loadCertificationData();
    },
    methods: {
      // åŠ è½½è®¤è¯æ•°æ®
      async loadCertificationData() {
        this.loading = true;
        try {
          await Promise.all([
            this.loadRealnameData(),
            this.loadSchoolData(),
            this.loadJobData()
          ]);
        } catch (error) {
          formatAppLog("error", "at pages/verification/official-certification.vue:96", "åŠ è½½è®¤è¯æ•°æ®å¤±è´¥:", error);
          uni.showToast({
            title: "åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•",
            icon: "none"
          });
        } finally {
          this.loading = false;
        }
      },
      // è·å–å®åè®¤è¯æ•°æ®
      async loadRealnameData() {
        try {
          const response = await uni.request({
            url: "http://localhost:8888/api/bc-entities/cert-realname-base/all",
            method: "GET",
            timeout: 1e4
          });
          if (response.data && response.data.length > 0) {
            this.realnameInfo = response.data[0];
          }
        } catch (error) {
          formatAppLog("error", "at pages/verification/official-certification.vue:119", "è·å–å®åè®¤è¯æ•°æ®å¤±è´¥:", error);
        }
      },
      // è·å–å­¦æ ¡è®¤è¯æ•°æ®
      async loadSchoolData() {
        try {
          const response = await uni.request({
            url: "http://localhost:8888/api/bc-entities/cert-student-base/all",
            method: "GET",
            timeout: 1e4
          });
          if (response.data) {
            this.schoolCount = response.data.length;
          }
        } catch (error) {
          formatAppLog("error", "at pages/verification/official-certification.vue:136", "è·å–å­¦æ ¡è®¤è¯æ•°æ®å¤±è´¥:", error);
        }
      },
      // è·å–èŒä¸šè®¤è¯æ•°æ®
      async loadJobData() {
        try {
          const response = await uni.request({
            url: "http://localhost:8888/api/bc-entities/cert-job-base/all",
            method: "GET",
            timeout: 1e4
          });
          if (response.data) {
            this.jobCount = response.data.length;
          }
        } catch (error) {
          formatAppLog("error", "at pages/verification/official-certification.vue:153", "è·å–èŒä¸šè®¤è¯æ•°æ®å¤±è´¥:", error);
        }
      },
      goBack() {
        uni.navigateBack();
      },
      goToRealNameCertification() {
        uni.navigateTo({
          url: "/pages/verification/real-name-verification"
        });
      },
      goToSchoolCertification() {
        uni.navigateTo({
          url: "/pages/verification/school-certification"
        });
      },
      goToProfessionalCertification() {
        uni.navigateTo({
          url: "/pages/verification/professional-certification"
        });
      },
      goToTermsOfService() {
        uni.navigateTo({
          url: "/pages/settings/terms-of-service"
        });
      }
    }
  };
  function _sfc_render$l(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "official-certification-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="page-title">å®˜æ–¹è®¤è¯</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" è®¤è¯é€‰é¡¹åˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "certification-list" }, [
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-section"
        }, [
          vue.createElementVNode("view", { class: "loading-spinner" }),
          vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½è®¤è¯ä¿¡æ¯...")
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" å®åè®¤è¯ "),
        !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "list-item",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goToRealNameCertification && $options.goToRealNameCertification(...args))
        }, [
          vue.createElementVNode("view", { class: "item-content" }, [
            vue.createElementVNode("text", { class: "item-text" }, "å®åè®¤è¯"),
            $data.realnameInfo ? (vue.openBlock(), vue.createElementBlock(
              "text",
              {
                key: 0,
                class: "item-desc"
              },
              vue.toDisplayString($data.realnameInfo.ruleDesc || "èº«ä»½éªŒè¯"),
              1
              /* TEXT */
            )) : vue.createCommentVNode("v-if", true)
          ]),
          vue.createElementVNode("view", { class: "arrow-icon" }, ">")
        ])) : vue.createCommentVNode("v-if", true),
        !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 2,
          class: "divider"
        })) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" å­¦æ ¡è®¤è¯ "),
        !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 3,
          class: "list-item",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.goToSchoolCertification && $options.goToSchoolCertification(...args))
        }, [
          vue.createElementVNode("view", { class: "item-content" }, [
            vue.createElementVNode("text", { class: "item-text" }, "å­¦æ ¡è®¤è¯"),
            $data.schoolCount > 0 ? (vue.openBlock(), vue.createElementBlock(
              "text",
              {
                key: 0,
                class: "item-desc"
              },
              "æ”¯æŒ " + vue.toDisplayString($data.schoolCount) + " æ‰€å­¦æ ¡",
              1
              /* TEXT */
            )) : vue.createCommentVNode("v-if", true)
          ]),
          vue.createElementVNode("view", { class: "arrow-icon" }, ">")
        ])) : vue.createCommentVNode("v-if", true),
        !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 4,
          class: "divider"
        })) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" èŒä¸šè®¤è¯ "),
        !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 5,
          class: "list-item",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.goToProfessionalCertification && $options.goToProfessionalCertification(...args))
        }, [
          vue.createElementVNode("view", { class: "item-content" }, [
            vue.createElementVNode("text", { class: "item-text" }, "èŒä¸šè®¤è¯"),
            $data.jobCount > 0 ? (vue.openBlock(), vue.createElementBlock(
              "text",
              {
                key: 0,
                class: "item-desc"
              },
              "æ”¯æŒ " + vue.toDisplayString($data.jobCount) + " ç§èŒä¸š",
              1
              /* TEXT */
            )) : vue.createCommentVNode("v-if", true)
          ]),
          vue.createElementVNode("view", { class: "arrow-icon" }, ">")
        ])) : vue.createCommentVNode("v-if", true)
      ]),
      vue.createCommentVNode(" æœåŠ¡æ¡æ¬¾é“¾æ¥ "),
      vue.createElementVNode("view", {
        class: "terms-link",
        onClick: _cache[3] || (_cache[3] = (...args) => $options.goToTermsOfService && $options.goToTermsOfService(...args))
      }, [
        vue.createElementVNode("text", { class: "terms-text" }, "æœåŠ¡æ¡æ¬¾")
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesVerificationOfficialCertification = /* @__PURE__ */ _export_sfc(_sfc_main$m, [["render", _sfc_render$l], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/verification/official-certification.vue"]]);
  const _sfc_main$l = {
    name: "SchoolCertificationPage",
    data() {
      return {
        isAgreed: false,
        showPicker: false,
        provinces: [],
        schools: [],
        selectedProvince: "",
        selectedSchool: "",
        loading: false,
        loadError: false,
        errorMessage: ""
      };
    },
    onLoad() {
      this.loadSchoolData();
    },
    methods: {
      // åŠ è½½å­¦æ ¡æ•°æ®
      async loadSchoolData() {
        this.loading = true;
        this.loadError = false;
        this.errorMessage = "";
        try {
          const response = await uni.request({
            url: "http://localhost:8888/api/bc-entities/cert-student-base/all",
            method: "GET",
            timeout: 1e4
          });
          if (response.data && response.data.length > 0) {
            this.schools = response.data;
            const provinceSet = /* @__PURE__ */ new Set();
            response.data.forEach((school) => {
              if (school.region) {
                provinceSet.add(school.region);
              }
            });
            this.provinces = Array.from(provinceSet).sort();
            formatAppLog("log", "at pages/verification/school-certification.vue:135", "æˆåŠŸåŠ è½½å­¦æ ¡æ•°æ®:", this.schools.length, "æ‰€å­¦æ ¡");
          } else {
            this.loadError = true;
            this.errorMessage = "æ•°æ®åº“ä¸­æ²¡æœ‰å­¦æ ¡æ•°æ®ï¼Œè¯·è”ç³»ç®¡ç†å‘˜";
            this.provinces = [];
            this.schools = [];
          }
        } catch (error) {
          formatAppLog("error", "at pages/verification/school-certification.vue:144", "è·å–å­¦æ ¡æ•°æ®å¤±è´¥:", error);
          this.loadError = true;
          this.errorMessage = "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œåé‡è¯•";
          this.provinces = [];
          this.schools = [];
          uni.showToast({
            title: "æ•°æ®åŠ è½½å¤±è´¥",
            icon: "none",
            duration: 3e3
          });
        } finally {
          this.loading = false;
        }
      },
      // æ ¹æ®çœä»½è·å–å­¦æ ¡åˆ—è¡¨
      getSchoolsByProvince(province) {
        return this.schools.filter((school) => school.region === province);
      },
      goBack() {
        uni.navigateBack();
      },
      toggleAgreement() {
        this.isAgreed = !this.isAgreed;
      },
      showSchoolPicker() {
        this.showPicker = true;
      },
      hideSchoolPicker() {
        this.showPicker = false;
      },
      selectProvince(province) {
        formatAppLog("log", "at pages/verification/school-certification.vue:178", "é€‰æ‹©çœä»½:", province);
        this.selectedProvince = province;
        uni.navigateTo({
          url: `/pages/verification/school-list?province=${encodeURIComponent(province)}`
        });
        this.hideSchoolPicker();
      },
      async goToNextStep() {
        if (!this.isAgreed) {
          uni.showToast({
            title: "è¯·å…ˆåŒæ„æœåŠ¡æ¡æ¬¾",
            icon: "none"
          });
          return;
        }
        if (!this.selectedSchool) {
          uni.showToast({
            title: "è¯·é€‰æ‹©å­¦æ ¡",
            icon: "none"
          });
          return;
        }
        try {
          uni.showLoading({
            title: "æ­£åœ¨æäº¤è®¤è¯ä¿¡æ¯..."
          });
          const userId = uni.getStorageSync("userId");
          if (!userId) {
            uni.hideLoading();
            uni.showToast({
              title: "è¯·å…ˆç™»å½•",
              icon: "none"
            });
            return;
          }
          const certInfo = {
            name: "",
            // è¿™é‡Œå¯ä»¥æ·»åŠ å§“åè¾“å…¥æ¡†
            degree: "",
            // è¿™é‡Œå¯ä»¥æ·»åŠ å­¦å†é€‰æ‹©
            school: this.selectedSchool,
            province: this.selectedProvince,
            studentId: "",
            // è¿™é‡Œå¯ä»¥æ·»åŠ å­¦å·è¾“å…¥æ¡†
            submitTime: (/* @__PURE__ */ new Date()).toISOString()
          };
          const response = await this.saveCertRecord(userId, "STUDENT", certInfo);
          uni.hideLoading();
          if (response.success) {
            uni.showToast({
              title: "è®¤è¯ä¿¡æ¯æäº¤æˆåŠŸ",
              icon: "success"
            });
            setTimeout(() => {
              uni.navigateTo({
                url: `/pages/verification/certification-feedback?type=school&school=${encodeURIComponent(this.selectedSchool)}&province=${encodeURIComponent(this.selectedProvince)}`
              });
            }, 1500);
          } else {
            uni.showToast({
              title: response.message || "æäº¤å¤±è´¥",
              icon: "none"
            });
          }
        } catch (error) {
          uni.hideLoading();
          formatAppLog("error", "at pages/verification/school-certification.vue:258", "æäº¤è®¤è¯ä¿¡æ¯å¤±è´¥:", error);
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•",
            icon: "none"
          });
        }
      },
      goToTermsOfService() {
        uni.navigateTo({
          url: "/pages/settings/terms-of-service"
        });
      },
      // ä¿å­˜è®¤è¯è®°å½•åˆ°åç«¯
      async saveCertRecord(userId, certType, certInfo) {
        try {
          const response = await uni.request({
            url: "http://localhost:8888/api/u-entities/user-cert-record/save",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            },
            data: {
              userId,
              certType,
              certInfo: JSON.stringify(certInfo)
            },
            timeout: 1e4
          });
          if (response.statusCode === 200) {
            return response.data;
          } else {
            throw new Error(`HTTP ${response.statusCode}`);
          }
        } catch (error) {
          formatAppLog("error", "at pages/verification/school-certification.vue:294", "ä¿å­˜è®¤è¯è®°å½•å¤±è´¥:", error);
          throw error;
        }
      }
    }
  };
  function _sfc_render$k(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "school-certification-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="page-title">å­¦æ ¡è®¤è¯</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" æç¤ºæ–‡å­— "),
      vue.createElementVNode("view", { class: "prompt-text" }, [
        vue.createElementVNode("text", { class: "prompt" }, "è¯·é€‰æ‹©å­¦æ ¡åç§°")
      ]),
      vue.createCommentVNode(" å­¦æ ¡é€‰æ‹©åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "school-selection" }, [
        !$data.loadError ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "selection-field",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.showSchoolPicker && $options.showSchoolPicker(...args))
        }, [
          vue.createElementVNode("text", { class: "field-label" }, "å­¦æ ¡åç§°"),
          vue.createElementVNode("view", { class: "selection-content" }, [
            $data.selectedSchool ? (vue.openBlock(), vue.createElementBlock(
              "text",
              {
                key: 0,
                class: "selected-text"
              },
              vue.toDisplayString($data.selectedSchool),
              1
              /* TEXT */
            )) : !$data.loading ? (vue.openBlock(), vue.createElementBlock("text", {
              key: 1,
              class: "placeholder-text"
            }, "è¯·é€‰æ‹©>")) : (vue.openBlock(), vue.createElementBlock("text", {
              key: 2,
              class: "loading-text"
            }, "åŠ è½½ä¸­..."))
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" é”™è¯¯æç¤º "),
        $data.loadError ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "error-section"
        }, [
          vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
          vue.createElementVNode(
            "text",
            { class: "error-text" },
            vue.toDisplayString($data.errorMessage),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", {
            class: "retry-button",
            onClick: _cache[1] || (_cache[1] = (...args) => $options.loadSchoolData && $options.loadSchoolData(...args))
          }, [
            vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
          ])
        ])) : vue.createCommentVNode("v-if", true)
      ]),
      vue.createCommentVNode(" åè®®åŒæ„åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "agreement-section" }, [
        vue.createElementVNode("view", { class: "agreement-item" }, [
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["checkbox", { checked: $data.isAgreed }]),
              onClick: _cache[2] || (_cache[2] = (...args) => $options.toggleAgreement && $options.toggleAgreement(...args))
            },
            [
              $data.isAgreed ? (vue.openBlock(), vue.createElementBlock("text", {
                key: 0,
                class: "checkmark"
              }, "âœ“")) : vue.createCommentVNode("v-if", true)
            ],
            2
            /* CLASS */
          ),
          vue.createElementVNode("text", { class: "agreement-text" }, "é˜…è¯»å¹¶åŒæ„"),
          vue.createElementVNode("text", {
            class: "agreement-link",
            onClick: _cache[3] || (_cache[3] = (...args) => $options.goToTermsOfService && $options.goToTermsOfService(...args))
          }, "ã€ŠAFriendså®˜æ–¹è®¤è¯æœåŠ¡åè®®ã€‹")
        ])
      ]),
      vue.createCommentVNode(" ä¸‹ä¸€æ­¥æŒ‰é’® "),
      vue.createElementVNode("view", { class: "next-button-section" }, [
        vue.createElementVNode("view", {
          class: "next-button",
          onClick: _cache[4] || (_cache[4] = (...args) => $options.goToNextStep && $options.goToNextStep(...args))
        }, [
          vue.createElementVNode("text", { class: "next-text" }, "ä¸‹ä¸€æ­¥")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" }),
      vue.createCommentVNode(" å­¦æ ¡é€‰æ‹©å¼¹çª— "),
      $data.showPicker ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "school-picker-modal",
        onClick: _cache[7] || (_cache[7] = (...args) => $options.hideSchoolPicker && $options.hideSchoolPicker(...args))
      }, [
        vue.createElementVNode("view", {
          class: "modal-content",
          onClick: _cache[6] || (_cache[6] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", { class: "modal-header" }, [
            vue.createElementVNode("view", {
              class: "modal-back",
              onClick: _cache[5] || (_cache[5] = (...args) => $options.hideSchoolPicker && $options.hideSchoolPicker(...args))
            }, [
              vue.createElementVNode("view", { class: "back-arrow" })
            ]),
            vue.createElementVNode("text", { class: "modal-title" }, "è¯·é€‰æ‹©æ‚¨çš„å­¦æ ¡"),
            vue.createElementVNode("view", { class: "search-icon" }, [
              vue.createElementVNode("view", { class: "magnifier" })
            ])
          ]),
          vue.createElementVNode("view", { class: "school-list" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.provinces, (province, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "school-item",
                  key: index,
                  onClick: ($event) => $options.selectProvince(province)
                }, [
                  vue.createElementVNode(
                    "text",
                    { class: "province-name" },
                    vue.toDisplayString(province),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode("view", { class: "arrow-icon" }, ">")
                ], 8, ["onClick"]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const PagesVerificationSchoolCertification = /* @__PURE__ */ _export_sfc(_sfc_main$l, [["render", _sfc_render$k], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/verification/school-certification.vue"]]);
  const _sfc_main$k = {
    name: "ProfessionalCertificationPage",
    data() {
      return {
        isAgreed: false,
        showPicker: false,
        showJobPicker: false,
        professions: [],
        jobTypes: [],
        selectedJobType: "",
        selectedProfession: "",
        loading: false,
        loadError: false,
        errorMessage: "",
        currentStep: "type"
        // 'type' æˆ– 'job'
      };
    },
    onLoad() {
      this.loadJobData();
    },
    methods: {
      // åŠ è½½èŒä¸šæ•°æ®
      async loadJobData() {
        this.loading = true;
        this.loadError = false;
        this.errorMessage = "";
        try {
          const response = await uni.request({
            url: "http://localhost:8888/api/bc-entities/cert-job-base/all",
            method: "GET",
            timeout: 1e4
          });
          if (response.data && response.data.length > 0) {
            const jobTypeSet = /* @__PURE__ */ new Set();
            response.data.forEach((job) => {
              if (job.jobType) {
                jobTypeSet.add(job.jobType);
              }
            });
            this.jobTypes = Array.from(jobTypeSet).sort();
            this.professions = response.data;
            formatAppLog("log", "at pages/verification/professional-certification.vue:158", "æˆåŠŸåŠ è½½èŒä¸šæ•°æ®:", this.professions.length, "ä¸ªèŒä¸š");
          } else {
            this.loadError = true;
            this.errorMessage = "æ•°æ®åº“ä¸­æ²¡æœ‰èŒä¸šæ•°æ®ï¼Œè¯·è”ç³»ç®¡ç†å‘˜";
            this.jobTypes = [];
            this.professions = [];
          }
        } catch (error) {
          formatAppLog("error", "at pages/verification/professional-certification.vue:167", "è·å–èŒä¸šæ•°æ®å¤±è´¥:", error);
          this.loadError = true;
          this.errorMessage = "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œåé‡è¯•";
          this.jobTypes = [];
          this.professions = [];
          uni.showToast({
            title: "æ•°æ®åŠ è½½å¤±è´¥",
            icon: "none",
            duration: 3e3
          });
        } finally {
          this.loading = false;
        }
      },
      // æ ¹æ®èŒä¸šç±»å‹è·å–å…·ä½“èŒä¸šåˆ—è¡¨
      getJobsByType(jobType) {
        return this.professions.filter((job) => job.jobType === jobType);
      },
      // æ˜¾ç¤ºå…·ä½“èŒä¸šé€‰æ‹©å¼¹çª—
      showJobPickerModal() {
        this.showJobPicker = true;
      },
      // éšè—å…·ä½“èŒä¸šé€‰æ‹©å¼¹çª—
      hideJobPickerModal() {
        this.showJobPicker = false;
      },
      // é€‰æ‹©å…·ä½“èŒä¸š
      selectJob(job) {
        formatAppLog("log", "at pages/verification/professional-certification.vue:200", "é€‰æ‹©å…·ä½“èŒä¸š:", job);
        formatAppLog("log", "at pages/verification/professional-certification.vue:201", "jobç±»å‹:", typeof job);
        formatAppLog("log", "at pages/verification/professional-certification.vue:202", "job.jobName:", job.jobName);
        if (job && job.jobName) {
          this.selectedProfession = job.jobName;
          this.hideJobPickerModal();
          this.currentStep = "type";
        } else {
          formatAppLog("error", "at pages/verification/professional-certification.vue:209", "èŒä¸šå¯¹è±¡æ ¼å¼é”™è¯¯:", job);
          uni.showToast({
            title: "é€‰æ‹©å¤±è´¥ï¼Œè¯·é‡è¯•",
            icon: "none"
          });
        }
      },
      // è¿”å›èŒä¸šç±»å‹é€‰æ‹©
      backToJobType() {
        this.showJobPicker = false;
        this.showPicker = true;
        this.currentStep = "type";
      },
      goBack() {
        uni.navigateBack();
      },
      toggleAgreement() {
        this.isAgreed = !this.isAgreed;
      },
      showProfessionPicker() {
        this.showPicker = true;
      },
      hideProfessionPicker() {
        this.showPicker = false;
      },
      selectProfession(profession) {
        formatAppLog("log", "at pages/verification/professional-certification.vue:237", "é€‰æ‹©èŒä¸šç±»å‹:", profession);
        this.selectedJobType = profession;
        this.hideProfessionPicker();
        this.showJobPicker = true;
        this.currentStep = "job";
      },
      async goToNextStep() {
        if (!this.isAgreed) {
          uni.showToast({
            title: "è¯·å…ˆåŒæ„æœåŠ¡æ¡æ¬¾",
            icon: "none"
          });
          return;
        }
        if (!this.selectedJobType) {
          uni.showToast({
            title: "è¯·é€‰æ‹©èŒä¸šç±»å‹",
            icon: "none"
          });
          return;
        }
        if (!this.selectedProfession) {
          uni.showToast({
            title: "è¯·é€‰æ‹©å…·ä½“èŒä¸š",
            icon: "none"
          });
          return;
        }
        try {
          uni.showLoading({
            title: "æ­£åœ¨æäº¤è®¤è¯ä¿¡æ¯..."
          });
          const userId = uni.getStorageSync("userId");
          if (!userId) {
            uni.hideLoading();
            uni.showToast({
              title: "è¯·å…ˆç™»å½•",
              icon: "none"
            });
            return;
          }
          const certInfo = {
            name: "",
            // è¿™é‡Œå¯ä»¥æ·»åŠ å§“åè¾“å…¥æ¡†
            jobType: this.selectedJobType,
            jobName: this.selectedProfession,
            company: "",
            // è¿™é‡Œå¯ä»¥æ·»åŠ å…¬å¸è¾“å…¥æ¡†
            position: this.selectedProfession,
            submitTime: (/* @__PURE__ */ new Date()).toISOString()
          };
          const response = await this.saveCertRecord(userId, "JOB", certInfo);
          uni.hideLoading();
          if (response.success) {
            uni.showToast({
              title: "è®¤è¯ä¿¡æ¯æäº¤æˆåŠŸ",
              icon: "success"
            });
            setTimeout(() => {
              uni.navigateTo({
                url: `/pages/verification/certification-feedback?type=professional&jobType=${encodeURIComponent(this.selectedJobType)}&jobName=${encodeURIComponent(this.selectedProfession)}`
              });
            }, 1500);
          } else {
            uni.showToast({
              title: response.message || "æäº¤å¤±è´¥",
              icon: "none"
            });
          }
        } catch (error) {
          uni.hideLoading();
          formatAppLog("error", "at pages/verification/professional-certification.vue:325", "æäº¤è®¤è¯ä¿¡æ¯å¤±è´¥:", error);
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•",
            icon: "none"
          });
        }
      },
      goToTermsOfService() {
        uni.navigateTo({
          url: "/pages/settings/terms-of-service"
        });
      },
      // ä¿å­˜è®¤è¯è®°å½•åˆ°åç«¯
      async saveCertRecord(userId, certType, certInfo) {
        try {
          const response = await uni.request({
            url: "http://localhost:8888/api/u-entities/user-cert-record/save",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            },
            data: {
              userId,
              certType,
              certInfo: JSON.stringify(certInfo)
            },
            timeout: 1e4
          });
          if (response.statusCode === 200) {
            return response.data;
          } else {
            throw new Error(`HTTP ${response.statusCode}`);
          }
        } catch (error) {
          formatAppLog("error", "at pages/verification/professional-certification.vue:361", "ä¿å­˜è®¤è¯è®°å½•å¤±è´¥:", error);
          throw error;
        }
      }
    }
  };
  function _sfc_render$j(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "professional-certification-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="page-title">ä¸ªäººèŒä¸šè®¤è¯</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" æç¤ºæ–‡å­— "),
      vue.createElementVNode("view", { class: "prompt-text" }, [
        vue.createElementVNode("text", { class: "prompt" }, "è¯·é€‰æ‹©èŒä¸šç±»å‹")
      ]),
      vue.createCommentVNode(" èŒä¸šç±»å‹é€‰æ‹©åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "profession-selection" }, [
        !$data.loadError ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "selection-field",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.showProfessionPicker && $options.showProfessionPicker(...args))
        }, [
          vue.createElementVNode("text", { class: "field-label" }, "èŒä¸šç±»å‹"),
          vue.createElementVNode("view", { class: "selection-content" }, [
            $data.selectedProfession ? (vue.openBlock(), vue.createElementBlock(
              "text",
              {
                key: 0,
                class: "selected-text"
              },
              vue.toDisplayString($data.selectedJobType) + " - " + vue.toDisplayString($data.selectedProfession),
              1
              /* TEXT */
            )) : $data.selectedJobType ? (vue.openBlock(), vue.createElementBlock(
              "text",
              {
                key: 1,
                class: "selected-text"
              },
              vue.toDisplayString($data.selectedJobType) + " - è¯·é€‰æ‹©å…·ä½“èŒä¸š",
              1
              /* TEXT */
            )) : !$data.loading ? (vue.openBlock(), vue.createElementBlock("text", {
              key: 2,
              class: "placeholder-text"
            }, "è¯·é€‰æ‹©>")) : (vue.openBlock(), vue.createElementBlock("text", {
              key: 3,
              class: "loading-text"
            }, "åŠ è½½ä¸­..."))
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" é”™è¯¯æç¤º "),
        $data.loadError ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "error-section"
        }, [
          vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
          vue.createElementVNode(
            "text",
            { class: "error-text" },
            vue.toDisplayString($data.errorMessage),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", {
            class: "retry-button",
            onClick: _cache[1] || (_cache[1] = (...args) => $options.loadJobData && $options.loadJobData(...args))
          }, [
            vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
          ])
        ])) : vue.createCommentVNode("v-if", true)
      ]),
      vue.createCommentVNode(" åè®®åŒæ„åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "agreement-section" }, [
        vue.createElementVNode("view", { class: "agreement-item" }, [
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["checkbox", { checked: $data.isAgreed }]),
              onClick: _cache[2] || (_cache[2] = (...args) => $options.toggleAgreement && $options.toggleAgreement(...args))
            },
            [
              $data.isAgreed ? (vue.openBlock(), vue.createElementBlock("text", {
                key: 0,
                class: "checkmark"
              }, "âœ“")) : vue.createCommentVNode("v-if", true)
            ],
            2
            /* CLASS */
          ),
          vue.createElementVNode("text", { class: "agreement-text" }, "é˜…è¯»å¹¶åŒæ„"),
          vue.createElementVNode("text", {
            class: "agreement-link",
            onClick: _cache[3] || (_cache[3] = (...args) => $options.goToTermsOfService && $options.goToTermsOfService(...args))
          }, "ã€ŠAFriendså®˜æ–¹è®¤è¯æœåŠ¡åè®®ã€‹")
        ])
      ]),
      vue.createCommentVNode(" ä¸‹ä¸€æ­¥æŒ‰é’® "),
      vue.createElementVNode("view", { class: "next-button-section" }, [
        vue.createElementVNode("view", {
          class: "next-button",
          onClick: _cache[4] || (_cache[4] = (...args) => $options.goToNextStep && $options.goToNextStep(...args))
        }, [
          vue.createElementVNode("text", { class: "next-text" }, "ä¸‹ä¸€æ­¥")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" }),
      vue.createCommentVNode(" èŒä¸šç±»å‹é€‰æ‹©å¼¹çª— "),
      $data.showPicker ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "profession-picker-modal",
        onClick: _cache[7] || (_cache[7] = (...args) => $options.hideProfessionPicker && $options.hideProfessionPicker(...args))
      }, [
        vue.createElementVNode("view", {
          class: "modal-content",
          onClick: _cache[6] || (_cache[6] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", { class: "modal-header" }, [
            vue.createElementVNode("view", {
              class: "modal-back",
              onClick: _cache[5] || (_cache[5] = (...args) => $options.hideProfessionPicker && $options.hideProfessionPicker(...args))
            }, [
              vue.createElementVNode("view", { class: "back-arrow" })
            ]),
            vue.createElementVNode("text", { class: "modal-title" }, "è¯·é€‰æ‹©æ‚¨çš„è¡Œä¸šç±»å‹"),
            vue.createElementVNode("view", { class: "search-icon" }, [
              vue.createElementVNode("view", { class: "magnifier" })
            ])
          ]),
          vue.createElementVNode("view", { class: "profession-list" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.jobTypes, (profession, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "profession-item",
                  key: index,
                  onClick: ($event) => $options.selectProfession(profession)
                }, [
                  vue.createElementVNode(
                    "text",
                    { class: "profession-name" },
                    vue.toDisplayString(profession),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode("view", { class: "arrow-icon" }, ">")
                ], 8, ["onClick"]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" å…·ä½“èŒä¸šé€‰æ‹©å¼¹çª— "),
      $data.showJobPicker ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        class: "job-picker-modal",
        onClick: _cache[10] || (_cache[10] = (...args) => $options.hideJobPickerModal && $options.hideJobPickerModal(...args))
      }, [
        vue.createElementVNode("view", {
          class: "modal-content",
          onClick: _cache[9] || (_cache[9] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", { class: "modal-header" }, [
            vue.createElementVNode("view", {
              class: "modal-back",
              onClick: _cache[8] || (_cache[8] = (...args) => $options.backToJobType && $options.backToJobType(...args))
            }, [
              vue.createElementVNode("view", { class: "back-arrow" })
            ]),
            vue.createElementVNode(
              "text",
              { class: "modal-title" },
              vue.toDisplayString($data.selectedJobType) + " - é€‰æ‹©å…·ä½“èŒä¸š",
              1
              /* TEXT */
            ),
            vue.createElementVNode("view", { class: "search-icon" }, [
              vue.createElementVNode("view", { class: "magnifier" })
            ])
          ]),
          vue.createElementVNode("view", { class: "job-list" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($options.getJobsByType($data.selectedJobType), (job, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "job-item",
                  key: index,
                  onClick: ($event) => $options.selectJob(job)
                }, [
                  vue.createElementVNode(
                    "text",
                    { class: "job-name" },
                    vue.toDisplayString(job.jobName),
                    1
                    /* TEXT */
                  )
                ], 8, ["onClick"]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const PagesVerificationProfessionalCertification = /* @__PURE__ */ _export_sfc(_sfc_main$k, [["render", _sfc_render$j], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/verification/professional-certification.vue"]]);
  const _sfc_main$j = {
    name: "RealNameVerificationPage",
    data() {
      return {
        selectedDocumentType: "",
        realName: "",
        documentNumber: "",
        isAgreed: false,
        showDocumentTypePicker: false,
        documentTypes: [],
        loading: false,
        loadError: false,
        errorMessage: ""
      };
    },
    onLoad() {
      this.loadDocumentTypes();
    },
    computed: {
      canProceed() {
        return this.selectedDocumentType && this.realName && this.documentNumber && this.isAgreed;
      }
    },
    methods: {
      // åŠ è½½è¯ä»¶ç±»å‹æ•°æ®
      async loadDocumentTypes() {
        this.loading = true;
        this.loadError = false;
        this.errorMessage = "";
        try {
          const response = await uni.request({
            url: "http://localhost:8888/api/bc-entities/cert-realname-base/all",
            method: "GET",
            timeout: 1e4
          });
          if (response.data && response.data.length > 0) {
            this.documentTypes = response.data.map((item) => item.idType);
            formatAppLog("log", "at pages/verification/real-name-verification.vue:164", "æˆåŠŸåŠ è½½è¯ä»¶ç±»å‹:", this.documentTypes);
          } else {
            this.loadError = true;
            this.errorMessage = "æ•°æ®åº“ä¸­æ²¡æœ‰è¯ä»¶ç±»å‹æ•°æ®ï¼Œè¯·è”ç³»ç®¡ç†å‘˜";
            this.documentTypes = [];
          }
        } catch (error) {
          formatAppLog("error", "at pages/verification/real-name-verification.vue:172", "è·å–è¯ä»¶ç±»å‹å¤±è´¥:", error);
          this.loadError = true;
          this.errorMessage = "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œåé‡è¯•";
          this.documentTypes = [];
          uni.showToast({
            title: "æ•°æ®åŠ è½½å¤±è´¥",
            icon: "none",
            duration: 3e3
          });
        } finally {
          this.loading = false;
        }
      },
      goBack() {
        uni.navigateBack();
      },
      goToTermsOfService() {
        formatAppLog("log", "at pages/verification/real-name-verification.vue:191", "goToTermsOfService è¢«è°ƒç”¨äº†");
        uni.showToast({
          title: "ç‚¹å‡»äº†åè®®é“¾æ¥",
          icon: "success"
        });
        setTimeout(() => {
          uni.navigateTo({
            url: "/pages/settings/terms-of-service",
            success: () => {
              formatAppLog("log", "at pages/verification/real-name-verification.vue:202", "è·³è½¬æˆåŠŸ");
            },
            fail: (err) => {
              formatAppLog("error", "at pages/verification/real-name-verification.vue:205", "è·³è½¬å¤±è´¥:", err);
              uni.showToast({
                title: "è·³è½¬å¤±è´¥",
                icon: "none"
              });
            }
          });
        }, 1e3);
      },
      openDocumentTypePicker() {
        this.showDocumentTypePicker = true;
      },
      hideDocumentTypePicker() {
        this.showDocumentTypePicker = false;
      },
      selectDocumentType(type) {
        this.selectedDocumentType = type;
        this.hideDocumentTypePicker();
      },
      toggleAgreement() {
        this.isAgreed = !this.isAgreed;
      },
      async goToFaceRecognition() {
        if (!this.canProceed) {
          uni.showToast({
            title: "è¯·å®Œå–„æ‰€æœ‰ä¿¡æ¯å¹¶åŒæ„åè®®",
            icon: "none"
          });
          return;
        }
        if (this.realName.length < 2) {
          uni.showToast({
            title: "è¯·è¾“å…¥æ­£ç¡®çš„å§“å",
            icon: "none"
          });
          return;
        }
        if (this.selectedDocumentType === "èº«ä»½è¯" && this.documentNumber.length !== 18) {
          uni.showToast({
            title: "è¯·è¾“å…¥æ­£ç¡®çš„èº«ä»½è¯å·ç ",
            icon: "none"
          });
          return;
        }
        try {
          uni.showLoading({
            title: "æ­£åœ¨æäº¤è®¤è¯ä¿¡æ¯..."
          });
          const userId = uni.getStorageSync("userId");
          if (!userId) {
            uni.hideLoading();
            uni.showToast({
              title: "è¯·å…ˆç™»å½•",
              icon: "none"
            });
            return;
          }
          const certInfo = {
            name: this.realName,
            gender: "",
            // è¿™é‡Œå¯ä»¥æ·»åŠ æ€§åˆ«é€‰æ‹©
            idNumber: this.documentNumber,
            documentType: this.selectedDocumentType,
            submitTime: (/* @__PURE__ */ new Date()).toISOString()
          };
          const response = await this.saveCertRecord(userId, "REALNAME", certInfo);
          uni.hideLoading();
          if (response.success) {
            uni.showToast({
              title: "è®¤è¯ä¿¡æ¯æäº¤æˆåŠŸ",
              icon: "success"
            });
            setTimeout(() => {
              uni.navigateTo({
                url: "/pages/verification/face-recognition?type=realName"
              });
            }, 1500);
          } else {
            uni.showToast({
              title: response.message || "æäº¤å¤±è´¥",
              icon: "none"
            });
          }
        } catch (error) {
          uni.hideLoading();
          formatAppLog("error", "at pages/verification/real-name-verification.vue:306", "æäº¤è®¤è¯ä¿¡æ¯å¤±è´¥:", error);
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•",
            icon: "none"
          });
        }
      },
      // ä¿å­˜è®¤è¯è®°å½•åˆ°åç«¯
      async saveCertRecord(userId, certType, certInfo) {
        try {
          const response = await uni.request({
            url: "http://localhost:8888/api/u-entities/user-cert-record/save",
            method: "POST",
            header: {
              "Content-Type": "application/json"
            },
            data: {
              userId,
              certType,
              certInfo: JSON.stringify(certInfo)
            },
            timeout: 1e4
          });
          if (response.statusCode === 200) {
            return response.data;
          } else {
            throw new Error(`HTTP ${response.statusCode}`);
          }
        } catch (error) {
          formatAppLog("error", "at pages/verification/real-name-verification.vue:337", "ä¿å­˜è®¤è¯è®°å½•å¤±è´¥:", error);
          throw error;
        }
      }
    }
  };
  function _sfc_render$i(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "real-name-verification-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="page-title">å®åè®¤è¯</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" è¯´æ˜æ–‡å­— "),
      vue.createElementVNode("view", { class: "disclaimer" }, [
        vue.createElementVNode("text", { class: "disclaimer-text" }, "è®¤è¯ä¿¡æ¯å°†ç”¨äºAFriendså¹³å°æœåŠ¡,ä¸è´¦å·å”¯ä¸€ç»‘å®š,æ— æ³•è§£é™¤ç»‘å®š,æˆ‘ä»¬ä¼šå¯¹ä¿¡æ¯ä¸¥æ ¼ä¿å¯†")
      ]),
      vue.createCommentVNode(" è®¤è¯è¡¨å• "),
      vue.createElementVNode("view", { class: "verification-form" }, [
        vue.createCommentVNode(" è¯ä»¶ç±»å‹ "),
        !$data.loadError ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "form-item",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.openDocumentTypePicker && $options.openDocumentTypePicker(...args))
        }, [
          vue.createElementVNode("text", { class: "item-label" }, "è¯ä»¶ç±»å‹"),
          vue.createElementVNode("view", { class: "item-content" }, [
            $data.selectedDocumentType ? (vue.openBlock(), vue.createElementBlock(
              "text",
              {
                key: 0,
                class: "item-value"
              },
              vue.toDisplayString($data.selectedDocumentType),
              1
              /* TEXT */
            )) : !$data.loading ? (vue.openBlock(), vue.createElementBlock("text", {
              key: 1,
              class: "placeholder-text"
            }, "è¯·é€‰æ‹©è¯ä»¶ç±»å‹ >")) : (vue.openBlock(), vue.createElementBlock("text", {
              key: 2,
              class: "loading-text"
            }, "åŠ è½½ä¸­..."))
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" é”™è¯¯æç¤º "),
        $data.loadError ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "error-section"
        }, [
          vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
          vue.createElementVNode(
            "text",
            { class: "error-text" },
            vue.toDisplayString($data.errorMessage),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", {
            class: "retry-button",
            onClick: _cache[1] || (_cache[1] = (...args) => $options.loadDocumentTypes && $options.loadDocumentTypes(...args))
          }, [
            vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createElementVNode("view", { class: "divider" }),
        vue.createCommentVNode(" çœŸå®å§“å "),
        vue.createElementVNode("view", { class: "form-item" }, [
          vue.createElementVNode("text", { class: "item-label" }, "çœŸå®å§“å"),
          vue.createElementVNode("view", { class: "item-content" }, [
            vue.withDirectives(vue.createElementVNode(
              "input",
              {
                class: "input-field",
                type: "text",
                placeholder: "è¯·å¡«å†™çœŸå®å§“å",
                "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $data.realName = $event),
                maxlength: "20"
              },
              null,
              512
              /* NEED_PATCH */
            ), [
              [vue.vModelText, $data.realName]
            ])
          ])
        ]),
        vue.createElementVNode("view", { class: "divider" }),
        vue.createCommentVNode(" è¯ä»¶å·ç  "),
        vue.createElementVNode("view", { class: "form-item" }, [
          vue.createElementVNode("text", { class: "item-label" }, "è¯ä»¶å·ç "),
          vue.createElementVNode("view", { class: "item-content" }, [
            vue.withDirectives(vue.createElementVNode(
              "input",
              {
                class: "input-field",
                type: "text",
                placeholder: "è¯·å¡«å†™çœŸå®è¯ä»¶å·ç ",
                "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $data.documentNumber = $event),
                maxlength: "18"
              },
              null,
              512
              /* NEED_PATCH */
            ), [
              [vue.vModelText, $data.documentNumber]
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" åè®®åŒæ„åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "agreement-section" }, [
        vue.createElementVNode("view", { class: "agreement-item" }, [
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["checkbox", { checked: $data.isAgreed }]),
              onClick: _cache[4] || (_cache[4] = (...args) => $options.toggleAgreement && $options.toggleAgreement(...args))
            },
            [
              $data.isAgreed ? (vue.openBlock(), vue.createElementBlock("text", {
                key: 0,
                class: "checkmark"
              }, "âœ“")) : vue.createCommentVNode("v-if", true)
            ],
            2
            /* CLASS */
          ),
          vue.createElementVNode("text", { class: "agreement-text" }, "é˜…è¯»å¹¶åŒæ„"),
          vue.createElementVNode("text", {
            class: "agreement-link",
            onClick: _cache[5] || (_cache[5] = vue.withModifiers((...args) => $options.goToTermsOfService && $options.goToTermsOfService(...args), ["stop"]))
          }, "ã€Šå®åè®¤è¯æœåŠ¡åè®®ã€‹")
        ])
      ]),
      vue.createCommentVNode(" è¿›å…¥äººè„¸è¯†åˆ«æŒ‰é’® "),
      vue.createElementVNode(
        "view",
        {
          class: vue.normalizeClass(["face-recognition-button", { disabled: !$options.canProceed }]),
          onClick: _cache[6] || (_cache[6] = (...args) => $options.goToFaceRecognition && $options.goToFaceRecognition(...args))
        },
        [
          vue.createElementVNode("text", { class: "button-text" }, "è¿›å…¥äººè„¸è¯†åˆ«")
        ],
        2
        /* CLASS */
      ),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" }),
      vue.createCommentVNode(" è¯ä»¶ç±»å‹é€‰æ‹©å¼¹çª— "),
      $data.showDocumentTypePicker ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "document-type-modal",
        onClick: _cache[9] || (_cache[9] = (...args) => $options.hideDocumentTypePicker && $options.hideDocumentTypePicker(...args))
      }, [
        vue.createElementVNode("view", {
          class: "modal-content",
          onClick: _cache[8] || (_cache[8] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode("view", { class: "modal-header" }, [
            vue.createElementVNode("text", { class: "modal-title" }, "é€‰æ‹©è¯ä»¶ç±»å‹"),
            vue.createElementVNode("view", {
              class: "close-button",
              onClick: _cache[7] || (_cache[7] = (...args) => $options.hideDocumentTypePicker && $options.hideDocumentTypePicker(...args))
            }, [
              vue.createElementVNode("text", { class: "close-icon" }, "Ã—")
            ])
          ]),
          vue.createElementVNode("view", { class: "document-type-list" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.documentTypes, (type, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "document-type-item",
                  key: index,
                  onClick: ($event) => $options.selectDocumentType(type)
                }, [
                  vue.createElementVNode(
                    "text",
                    { class: "type-name" },
                    vue.toDisplayString(type),
                    1
                    /* TEXT */
                  )
                ], 8, ["onClick"]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const PagesVerificationRealNameVerification = /* @__PURE__ */ _export_sfc(_sfc_main$j, [["render", _sfc_render$i], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/verification/real-name-verification.vue"]]);
  const _sfc_main$i = {
    name: "FaceRecognitionPage",
    data() {
      return {
        progress: 0,
        showResult: false,
        recognitionResult: "success",
        // 'success' æˆ– 'error'
        resultTitle: "è¯†åˆ«æˆåŠŸ",
        resultDesc: "äººè„¸è¯†åˆ«å·²å®Œæˆï¼Œè¯·ç»§ç»­ä¸‹ä¸€æ­¥",
        certificationType: "realName"
        // è®¤è¯ç±»å‹ï¼šrealName è¡¨ç¤ºå®åè®¤è¯
      };
    },
    onLoad(options) {
      if (options.type) {
        this.certificationType = options.type;
      }
    },
    mounted() {
      this.startRecognition();
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      startRecognition() {
        this.progress = 0;
        const timer = setInterval(() => {
          this.progress += 10;
          if (this.progress >= 100) {
            clearInterval(timer);
            this.recognitionComplete();
          }
        }, 200);
      },
      recognitionComplete() {
        const isSuccess = Math.random() > 0.2;
        this.recognitionResult = isSuccess ? "success" : "error";
        this.resultTitle = isSuccess ? "è¯†åˆ«æˆåŠŸ" : "è¯†åˆ«å¤±è´¥";
        this.resultDesc = isSuccess ? "äººè„¸è¯†åˆ«å·²å®Œæˆï¼Œè¯·ç»§ç»­ä¸‹ä¸€æ­¥" : "è¯·é‡æ–°è¿›è¡Œäººè„¸è¯†åˆ«";
        this.showResult = true;
      },
      retakePhoto() {
        this.progress = 0;
        this.startRecognition();
      },
      confirmRecognition() {
        if (this.progress < 100) {
          uni.showToast({
            title: "è¯†åˆ«å°šæœªå®Œæˆ",
            icon: "none"
          });
          return;
        }
        if (this.recognitionResult === "success") {
          uni.showToast({
            title: "è®¤è¯å®Œæˆ",
            icon: "success"
          });
          setTimeout(() => {
            if (this.certificationType === "realName") {
              uni.redirectTo({
                url: "/pages/verification/certification-feedback?type=realName"
              });
            } else {
              uni.navigateBack();
            }
          }, 1500);
        } else {
          uni.showToast({
            title: "è¯·é‡æ–°è¯†åˆ«",
            icon: "none"
          });
        }
      },
      hideResult() {
        this.showResult = false;
      }
    }
  };
  function _sfc_render$h(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "face-recognition-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="page-title">äººè„¸è¯†åˆ«</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" æ‘„åƒå¤´é¢„è§ˆåŒºåŸŸ "),
      vue.createElementVNode("view", { class: "camera-preview" }, [
        vue.createElementVNode("view", { class: "preview-container" }, [
          vue.createElementVNode("view", { class: "face-frame" }, [
            vue.createElementVNode("view", { class: "frame-corner top-left" }),
            vue.createElementVNode("view", { class: "frame-corner top-right" }),
            vue.createElementVNode("view", { class: "frame-corner bottom-left" }),
            vue.createElementVNode("view", { class: "frame-corner bottom-right" })
          ]),
          vue.createElementVNode("view", { class: "preview-placeholder" }, [
            vue.createElementVNode("view", { class: "camera-icon" }, [
              vue.createElementVNode("view", { class: "camera-lens" })
            ]),
            vue.createElementVNode("text", { class: "preview-text" }, "æ‘„åƒå¤´é¢„è§ˆåŒºåŸŸ")
          ])
        ])
      ]),
      vue.createCommentVNode(" è¯†åˆ«æç¤º "),
      vue.createElementVNode("view", { class: "recognition-tips" }, [
        vue.createElementVNode("text", { class: "tips-title" }, "è¯·å°†è„¸éƒ¨æ”¾å…¥æ¡†å†…"),
        vue.createElementVNode("text", { class: "tips-desc" }, "ä¿æŒå…‰çº¿å……è¶³ï¼Œé¢éƒ¨æ¸…æ™°å¯è§")
      ]),
      vue.createCommentVNode(" æ“ä½œæŒ‰é’®åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "action-buttons" }, [
        vue.createElementVNode("view", {
          class: "retake-button",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.retakePhoto && $options.retakePhoto(...args))
        }, [
          vue.createElementVNode("text", { class: "button-text" }, "é‡æ–°æ‹æ‘„")
        ]),
        vue.createElementVNode("view", {
          class: "confirm-button",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.confirmRecognition && $options.confirmRecognition(...args))
        }, [
          vue.createElementVNode("text", { class: "button-text" }, "ç¡®è®¤è¯†åˆ«")
        ])
      ]),
      vue.createCommentVNode(" è¿›åº¦æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "progress-indicator" }, [
        vue.createElementVNode("view", { class: "progress-bar" }, [
          vue.createElementVNode(
            "view",
            {
              class: "progress-fill",
              style: vue.normalizeStyle({ width: $data.progress + "%" })
            },
            null,
            4
            /* STYLE */
          )
        ]),
        vue.createElementVNode(
          "text",
          { class: "progress-text" },
          vue.toDisplayString($data.progress) + "%",
          1
          /* TEXT */
        )
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" }),
      vue.createCommentVNode(" è¯†åˆ«ç»“æœå¼¹çª— "),
      $data.showResult ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "result-modal",
        onClick: _cache[4] || (_cache[4] = (...args) => $options.hideResult && $options.hideResult(...args))
      }, [
        vue.createElementVNode("view", {
          class: "modal-content",
          onClick: _cache[3] || (_cache[3] = vue.withModifiers(() => {
          }, ["stop"]))
        }, [
          vue.createElementVNode(
            "view",
            {
              class: vue.normalizeClass(["result-icon", $data.recognitionResult])
            },
            [
              $data.recognitionResult === "success" ? (vue.openBlock(), vue.createElementBlock("text", {
                key: 0,
                class: "success-icon"
              }, "âœ“")) : (vue.openBlock(), vue.createElementBlock("text", {
                key: 1,
                class: "error-icon"
              }, "âœ—"))
            ],
            2
            /* CLASS */
          ),
          vue.createElementVNode(
            "text",
            { class: "result-title" },
            vue.toDisplayString($data.resultTitle),
            1
            /* TEXT */
          ),
          vue.createElementVNode(
            "text",
            { class: "result-desc" },
            vue.toDisplayString($data.resultDesc),
            1
            /* TEXT */
          ),
          vue.createElementVNode("view", { class: "result-actions" }, [
            vue.createElementVNode("view", {
              class: "action-button",
              onClick: _cache[2] || (_cache[2] = (...args) => $options.hideResult && $options.hideResult(...args))
            }, [
              vue.createElementVNode("text", { class: "action-text" }, "ç¡®å®š")
            ])
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true)
    ]);
  }
  const PagesVerificationFaceRecognition = /* @__PURE__ */ _export_sfc(_sfc_main$i, [["render", _sfc_render$h], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/verification/face-recognition.vue"]]);
  const _sfc_main$h = {
    name: "VerificationCompletePage",
    data() {
      return {
        verificationType: "å®åè®¤è¯",
        verificationTime: "2024å¹´8æœˆ20æ—¥ 14:30",
        verificationStatus: "å·²è®¤è¯",
        loading: true,
        verificationRecord: null,
        errorMessage: ""
      };
    },
    onLoad(options) {
      if (options.type) {
        this.verificationType = this.getCertTypeText(options.type);
      }
      this.loadVerificationRecord();
    },
    methods: {
      // åŠ è½½è®¤è¯è®°å½•
      async loadVerificationRecord() {
        this.loading = true;
        try {
          const userId = uni.getStorageSync("userId");
          if (!userId) {
            this.errorMessage = "ç”¨æˆ·æœªç™»å½•";
            this.loading = false;
            return;
          }
          const response = await this.getUserCertRecords(userId);
          if (response.data && response.data.length > 0) {
            this.verificationRecord = response.data[response.data.length - 1];
            this.updateVerificationInfo();
          } else {
            this.errorMessage = "æœªæ‰¾åˆ°è®¤è¯è®°å½•";
          }
        } catch (error) {
          formatAppLog("error", "at pages/verification/verification-complete.vue:164", "åŠ è½½è®¤è¯è®°å½•å¤±è´¥:", error);
          this.errorMessage = "åŠ è½½è®¤è¯è®°å½•å¤±è´¥";
        } finally {
          this.loading = false;
        }
      },
      // è·å–ç”¨æˆ·è®¤è¯è®°å½•
      getUserCertRecords(userId) {
        return new Promise((resolve, reject) => {
          uni.request({
            url: "http://localhost:8888/api/u-entities/user-cert-record/user/" + userId,
            method: "GET",
            timeout: 1e4,
            success: (res) => {
              resolve(res);
            },
            fail: (err) => {
              reject(err);
            }
          });
        });
      },
      // æ›´æ–°è®¤è¯ä¿¡æ¯æ˜¾ç¤º
      updateVerificationInfo() {
        if (this.verificationRecord) {
          this.verificationType = this.getCertTypeText(this.verificationRecord.certType);
          const createTime = new Date(this.verificationRecord.createdAt);
          this.verificationTime = this.formatDateTime(createTime);
          this.verificationStatus = this.getStatusText(this.verificationRecord.status);
        }
      },
      // è·å–è®¤è¯ç±»å‹æ–‡æœ¬
      getCertTypeText(certType) {
        const typeMap = {
          "REALNAME": "å®åè®¤è¯",
          "STUDENT": "å­¦æ ¡è®¤è¯",
          "JOB": "èŒä¸šè®¤è¯"
        };
        return typeMap[certType] || "æœªçŸ¥è®¤è¯";
      },
      // è·å–çŠ¶æ€æ–‡æœ¬
      getStatusText(status) {
        const statusMap = {
          0: "å¾…å®¡æ ¸",
          1: "å·²é€šè¿‡",
          2: "æœªé€šè¿‡"
        };
        return statusMap[status] || "æœªçŸ¥çŠ¶æ€";
      },
      // æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´
      formatDateTime(date) {
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, "0");
        const day = String(date.getDate()).padStart(2, "0");
        const hours = String(date.getHours()).padStart(2, "0");
        const minutes = String(date.getMinutes()).padStart(2, "0");
        return `${year}å¹´${month}æœˆ${day}æ—¥ ${hours}:${minutes}`;
      },
      // é‡è¯•åŠ è½½
      retryLoad() {
        this.loadVerificationRecord();
      },
      // è·å–çŠ¶æ€æ ·å¼ç±»
      getStatusClass() {
        if (!this.verificationRecord)
          return "status-pending";
        const status = this.verificationRecord.status;
        if (status === 1)
          return "status-success";
        if (status === 2)
          return "status-error";
        return "status-pending";
      },
      // è·å–çŠ¶æ€å›¾æ ‡
      getStatusIcon() {
        if (!this.verificationRecord)
          return "?";
        const status = this.verificationRecord.status;
        if (status === 1)
          return "âœ“";
        if (status === 2)
          return "âœ—";
        return "â³";
      },
      // è·å–çŠ¶æ€æ ‡é¢˜
      getStatusTitle() {
        if (!this.verificationRecord)
          return "è®¤è¯å¤„ç†ä¸­";
        const status = this.verificationRecord.status;
        if (status === 1)
          return "è®¤è¯æˆåŠŸ";
        if (status === 2)
          return "è®¤è¯å¤±è´¥";
        return "è®¤è¯å¤„ç†ä¸­";
      },
      // è·å–çŠ¶æ€æè¿°
      getStatusDesc() {
        if (!this.verificationRecord)
          return "æ‚¨çš„è®¤è¯ç”³è¯·æ­£åœ¨å¤„ç†ä¸­ï¼Œè¯·è€å¿ƒç­‰å¾…";
        const status = this.verificationRecord.status;
        if (status === 1)
          return `æ­å–œæ‚¨å®Œæˆ${this.verificationType}ï¼Œç°åœ¨å¯ä»¥äº«å—æ›´å¤šå¹³å°æœåŠ¡`;
        if (status === 2)
          return "å¾ˆæŠ±æ­‰ï¼Œæ‚¨çš„è®¤è¯ç”³è¯·æœªé€šè¿‡ï¼Œè¯·æ£€æŸ¥ä¿¡æ¯åé‡æ–°æäº¤";
        return "æ‚¨çš„è®¤è¯ç”³è¯·æ­£åœ¨å®¡æ ¸ä¸­ï¼Œæˆ‘ä»¬ä¼šåœ¨1-3ä¸ªå·¥ä½œæ—¥å†…å®Œæˆå®¡æ ¸";
      },
      // è·å–çŠ¶æ€å¾½ç« æ ·å¼
      getStatusBadgeClass() {
        if (!this.verificationRecord)
          return "badge-pending";
        const status = this.verificationRecord.status;
        if (status === 1)
          return "badge-success";
        if (status === 2)
          return "badge-error";
        return "badge-pending";
      },
      // è·å–è®¤è¯è¯¦æƒ…
      getCertDetails() {
        if (!this.verificationRecord || !this.verificationRecord.certInfo)
          return "";
        try {
          const certInfo = JSON.parse(this.verificationRecord.certInfo);
          const certType = this.verificationRecord.certType;
          if (certType === "REALNAME") {
            return `${certInfo.name || ""} - ${certInfo.documentType || ""}`;
          } else if (certType === "STUDENT") {
            return `${certInfo.school || ""} - ${certInfo.degree || ""}`;
          } else if (certType === "JOB") {
            return `${certInfo.jobType || ""} - ${certInfo.jobName || ""}`;
          }
          return "è®¤è¯è¯¦æƒ…";
        } catch (error) {
          formatAppLog("error", "at pages/verification/verification-complete.vue:300", "è§£æè®¤è¯è¯¦æƒ…å¤±è´¥:", error);
          return "è®¤è¯è¯¦æƒ…";
        }
      },
      goBack() {
        uni.navigateBack();
      },
      goToHome() {
        uni.navigateTo({
          url: "/pages/feed/content-feed"
        });
      },
      goToProfile() {
        uni.navigateTo({
          url: "/pages/feed/user-profile"
        });
      }
    }
  };
  function _sfc_render$g(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "verification-complete-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¤´éƒ¨å¯¼èˆª "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="page-title">è®¤è¯å®Œæˆ</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" ä¸»è¦å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "loading-section"
        }, [
          vue.createElementVNode("view", { class: "loading-spinner" }),
          vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½è®¤è¯ä¿¡æ¯...")
        ])) : $data.errorMessage ? (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 1 },
          [
            vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
            vue.createElementVNode("view", { class: "error-section" }, [
              vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
              vue.createElementVNode(
                "text",
                { class: "error-text" },
                vue.toDisplayString($data.errorMessage),
                1
                /* TEXT */
              ),
              vue.createElementVNode("view", {
                class: "retry-button",
                onClick: _cache[0] || (_cache[0] = (...args) => $options.retryLoad && $options.retryLoad(...args))
              }, [
                vue.createElementVNode("text", { class: "retry-text" }, "é‡è¯•")
              ])
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )) : (vue.openBlock(), vue.createElementBlock(
          vue.Fragment,
          { key: 2 },
          [
            vue.createCommentVNode(" æˆåŠŸçŠ¶æ€ "),
            vue.createElementVNode("view", null, [
              vue.createCommentVNode(" æˆåŠŸå›¾æ ‡ "),
              vue.createElementVNode("view", { class: "success-icon" }, [
                vue.createElementVNode(
                  "view",
                  {
                    class: vue.normalizeClass(["icon-circle", $options.getStatusClass()])
                  },
                  [
                    vue.createElementVNode(
                      "text",
                      { class: "checkmark" },
                      vue.toDisplayString($options.getStatusIcon()),
                      1
                      /* TEXT */
                    )
                  ],
                  2
                  /* CLASS */
                )
              ]),
              vue.createCommentVNode(" çŠ¶æ€æ ‡é¢˜ "),
              vue.createElementVNode("view", { class: "status-title" }, [
                vue.createElementVNode(
                  "text",
                  { class: "title-text" },
                  vue.toDisplayString($options.getStatusTitle()),
                  1
                  /* TEXT */
                )
              ]),
              vue.createCommentVNode(" æˆåŠŸæè¿° "),
              vue.createElementVNode("view", { class: "success-desc" }, [
                vue.createElementVNode(
                  "text",
                  { class: "desc-text" },
                  vue.toDisplayString($options.getStatusDesc()),
                  1
                  /* TEXT */
                )
              ]),
              vue.createCommentVNode(" è®¤è¯ä¿¡æ¯å¡ç‰‡ "),
              vue.createElementVNode("view", { class: "verification-info" }, [
                vue.createElementVNode("view", { class: "info-header" }, [
                  vue.createElementVNode("text", { class: "info-title" }, "è®¤è¯ä¿¡æ¯")
                ]),
                vue.createElementVNode("view", { class: "info-content" }, [
                  vue.createElementVNode("view", { class: "info-item" }, [
                    vue.createElementVNode("text", { class: "item-label" }, "è®¤è¯ç±»å‹"),
                    vue.createElementVNode(
                      "text",
                      { class: "item-value" },
                      vue.toDisplayString($data.verificationType),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode("view", { class: "info-item" }, [
                    vue.createElementVNode("text", { class: "item-label" }, "è®¤è¯æ—¶é—´"),
                    vue.createElementVNode(
                      "text",
                      { class: "item-value" },
                      vue.toDisplayString($data.verificationTime),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode("view", { class: "info-item" }, [
                    vue.createElementVNode("text", { class: "item-label" }, "è®¤è¯çŠ¶æ€"),
                    vue.createElementVNode(
                      "view",
                      {
                        class: vue.normalizeClass(["status-badge", $options.getStatusBadgeClass()])
                      },
                      [
                        vue.createElementVNode(
                          "text",
                          { class: "status-text" },
                          vue.toDisplayString($data.verificationStatus),
                          1
                          /* TEXT */
                        )
                      ],
                      2
                      /* CLASS */
                    )
                  ]),
                  vue.createCommentVNode(" è®¤è¯è¯¦æƒ… "),
                  $data.verificationRecord && $data.verificationRecord.certInfo ? (vue.openBlock(), vue.createElementBlock("view", {
                    key: 0,
                    class: "info-item"
                  }, [
                    vue.createElementVNode("text", { class: "item-label" }, "è®¤è¯è¯¦æƒ…"),
                    vue.createElementVNode(
                      "text",
                      { class: "item-value" },
                      vue.toDisplayString($options.getCertDetails()),
                      1
                      /* TEXT */
                    )
                  ])) : vue.createCommentVNode("v-if", true)
                ])
              ])
            ])
          ],
          2112
          /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */
        )),
        vue.createCommentVNode(" ä¸‹ä¸€æ­¥æç¤º "),
        vue.createElementVNode("view", { class: "next-steps" }, [
          vue.createElementVNode("text", { class: "steps-title" }, "ä¸‹ä¸€æ­¥æ‚¨å¯ä»¥ï¼š"),
          vue.createElementVNode("view", { class: "steps-list" }, [
            vue.createElementVNode("view", { class: "step-item" }, [
              vue.createElementVNode("view", { class: "step-icon" }, "1"),
              vue.createElementVNode("text", { class: "step-text" }, "å®Œå–„ä¸ªäººèµ„æ–™")
            ]),
            vue.createElementVNode("view", { class: "step-item" }, [
              vue.createElementVNode("view", { class: "step-icon" }, "2"),
              vue.createElementVNode("text", { class: "step-text" }, "ç”³è¯·å®˜æ–¹è®¤è¯")
            ]),
            vue.createElementVNode("view", { class: "step-item" }, [
              vue.createElementVNode("view", { class: "step-icon" }, "3"),
              vue.createElementVNode("text", { class: "step-text" }, "å¼€å§‹ä½¿ç”¨å¹³å°æœåŠ¡")
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" æ“ä½œæŒ‰é’® "),
      vue.createElementVNode("view", { class: "action-buttons" }, [
        vue.createElementVNode("view", {
          class: "primary-button",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.goToHome && $options.goToHome(...args))
        }, [
          vue.createElementVNode("text", { class: "button-text" }, "è¿”å›é¦–é¡µ")
        ]),
        vue.createElementVNode("view", {
          class: "secondary-button",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.goToProfile && $options.goToProfile(...args))
        }, [
          vue.createElementVNode("text", { class: "button-text" }, "å®Œå–„èµ„æ–™")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesVerificationVerificationComplete = /* @__PURE__ */ _export_sfc(_sfc_main$h, [["render", _sfc_render$g], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/verification/verification-complete.vue"]]);
  const _sfc_main$g = {
    name: "CertificationFeedbackPage",
    data() {
      return {
        certificationType: "èŒä¸šè®¤è¯",
        // æˆ– 'å­¦æ ¡è®¤è¯'
        submitTime: this.formatDateTime(/* @__PURE__ */ new Date()),
        expectedTime: this.formatExpectedTime(/* @__PURE__ */ new Date()),
        certRecords: [],
        // è®¤è¯è®°å½•åˆ—è¡¨
        loading: false,
        // åŠ è½½çŠ¶æ€
        userId: null
        // ç”¨æˆ·ID
      };
    },
    methods: {
      // åŠ è½½è®¤è¯è®°å½•æ•°æ®
      async loadCertRecords() {
        try {
          this.loading = true;
          const userId = uni.getStorageSync("userId");
          if (!userId) {
            uni.showToast({
              title: "è¯·å…ˆç™»å½•",
              icon: "none"
            });
            return;
          }
          this.userId = userId;
          const response = await this.getUserCertRecords(userId);
          if (response && response.data) {
            this.certRecords = response.data;
          }
        } catch (error) {
          formatAppLog("error", "at pages/verification/certification-feedback.vue:173", "åŠ è½½è®¤è¯è®°å½•å¤±è´¥:", error);
          uni.showToast({
            title: "åŠ è½½è®¤è¯è®°å½•å¤±è´¥",
            icon: "none"
          });
        } finally {
          this.loading = false;
        }
      },
      // è·å–ç”¨æˆ·è®¤è¯è®°å½•
      getUserCertRecords(userId) {
        return new Promise((resolve, reject) => {
          uni.request({
            url: "http://localhost:8888/api/u-entities/user-cert-record/user/" + userId,
            method: "GET",
            timeout: 1e4,
            // 10ç§’è¶…æ—¶
            success: (res) => {
              resolve(res);
            },
            fail: (err) => {
              reject(err);
            }
          });
        });
      },
      // è·å–è®¤è¯çŠ¶æ€æ–‡æœ¬
      getStatusText(status) {
        switch (status) {
          case 0:
            return "å¾…å®¡æ ¸";
          case 1:
            return "å·²é€šè¿‡";
          case 2:
            return "æœªé€šè¿‡";
          default:
            return "æœªçŸ¥çŠ¶æ€";
        }
      },
      // è·å–è®¤è¯ç±»å‹æ–‡æœ¬
      getCertTypeText(certType) {
        switch (certType) {
          case "REALNAME":
            return "å®åè®¤è¯";
          case "STUDENT":
            return "å­¦æ ¡è®¤è¯";
          case "JOB":
            return "èŒä¸šè®¤è¯";
          default:
            return "æœªçŸ¥ç±»å‹";
        }
      },
      // è·å–çŠ¶æ€é¢œè‰²
      getStatusColor(status) {
        switch (status) {
          case 0:
            return "#FF9500";
          case 1:
            return "#34C759";
          case 2:
            return "#FF3B30";
          default:
            return "#8E8E93";
        }
      },
      goBack() {
        uni.redirectTo({
          url: "/pages/verification/official-certification"
        });
      },
      formatDateTime(date) {
        const year = date.getFullYear();
        const month = (date.getMonth() + 1).toString().padStart(2, "0");
        const day = date.getDate().toString().padStart(2, "0");
        const hours = date.getHours().toString().padStart(2, "0");
        const minutes = date.getMinutes().toString().padStart(2, "0");
        return `${year}-${month}-${day} ${hours}:${minutes}`;
      },
      formatExpectedTime(date) {
        const expectedDate = new Date(date);
        let workDays = 0;
        while (workDays < 3) {
          expectedDate.setDate(expectedDate.getDate() + 1);
          if (expectedDate.getDay() !== 0 && expectedDate.getDay() !== 6) {
            workDays++;
          }
        }
        const year = expectedDate.getFullYear();
        const month = (expectedDate.getMonth() + 1).toString().padStart(2, "0");
        const day = expectedDate.getDate().toString().padStart(2, "0");
        return `${year}-${month}-${day}`;
      }
    },
    onLoad(options) {
      if (options.type) {
        if (options.type === "school") {
          this.certificationType = "å­¦æ ¡è®¤è¯";
        } else if (options.type === "realName") {
          this.certificationType = "å®åè®¤è¯";
        } else {
          this.certificationType = "èŒä¸šè®¤è¯";
        }
      }
      this.loadCertRecords();
    }
  };
  function _sfc_render$f(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "certification-feedback-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">12:00</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="title">ç¡®è®¤è®¤è¯</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" ä¸»è¦å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" æˆåŠŸå›¾æ ‡ - åªåœ¨æœ‰çœŸå®è®°å½•æ—¶æ˜¾ç¤º "),
        $data.certRecords.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "success-icon-container"
        }, [
          vue.createElementVNode("view", { class: "success-icon" }, [
            vue.createElementVNode("view", { class: "checkmark" })
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" æˆåŠŸæ¶ˆæ¯ "),
        vue.createElementVNode("view", { class: "success-message" }, [
          $data.certRecords.length > 0 ? (vue.openBlock(), vue.createElementBlock("text", {
            key: 0,
            class: "message-text"
          }, " ä»¥ä¸‹æ˜¯æ‚¨çš„è®¤è¯è®°å½• ")) : !$data.loading ? (vue.openBlock(), vue.createElementBlock("text", {
            key: 1,
            class: "message-text"
          }, " æš‚æ— è®¤è¯è®°å½• ")) : vue.createCommentVNode("v-if", true)
        ]),
        vue.createCommentVNode(" è®¤è¯è®°å½•åˆ—è¡¨ "),
        $data.certRecords.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "cert-records-section"
        }, [
          vue.createElementVNode("view", { class: "records-header" }, [
            vue.createElementVNode("view", { class: "records-icon" }, [
              vue.createElementVNode("view", { class: "list-icon" })
            ]),
            vue.createElementVNode("text", { class: "records-title" }, "æˆ‘çš„è®¤è¯è®°å½•")
          ]),
          vue.createElementVNode("view", { class: "records-list" }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.certRecords, (record) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  key: record.recordId,
                  class: "record-item"
                }, [
                  vue.createElementVNode("view", { class: "record-header" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "record-type" },
                      vue.toDisplayString($options.getCertTypeText(record.certType)),
                      1
                      /* TEXT */
                    ),
                    vue.createElementVNode(
                      "view",
                      {
                        class: "status-badge",
                        style: vue.normalizeStyle({ backgroundColor: $options.getStatusColor(record.status) })
                      },
                      [
                        vue.createElementVNode(
                          "text",
                          { class: "status-text" },
                          vue.toDisplayString($options.getStatusText(record.status)),
                          1
                          /* TEXT */
                        )
                      ],
                      4
                      /* STYLE */
                    )
                  ]),
                  vue.createElementVNode("view", { class: "record-info" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "record-desc" },
                      vue.toDisplayString(record.certInfo || "æš‚æ— è¯¦ç»†ä¿¡æ¯"),
                      1
                      /* TEXT */
                    )
                  ]),
                  vue.createElementVNode("view", { class: "record-time" }, [
                    vue.createElementVNode(
                      "text",
                      { class: "time-text" },
                      "æäº¤æ—¶é—´ï¼š" + vue.toDisplayString($options.formatDateTime(record.createdAt)),
                      1
                      /* TEXT */
                    )
                  ])
                ]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" æ— è®¤è¯è®°å½•æç¤º - åªåœ¨åŠ è½½å®Œæˆä¸”æ²¡æœ‰è®°å½•æ—¶æ˜¾ç¤º "),
        !$data.loading && $data.certRecords.length === 0 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 2,
          class: "no-records-section"
        }, [
          vue.createElementVNode("view", { class: "no-records-icon" }, [
            vue.createElementVNode("view", { class: "empty-icon" })
          ]),
          vue.createElementVNode("text", { class: "no-records-text" }, "æš‚æ— è®¤è¯è®°å½•")
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
        $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 3,
          class: "loading-section"
        }, [
          vue.createElementVNode("view", { class: "loading-spinner" }),
          vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½è®¤è¯è®°å½•...")
        ])) : vue.createCommentVNode("v-if", true),
        vue.createCommentVNode(" æ¸©é¦¨æç¤º "),
        vue.createElementVNode("view", { class: "tips-section" }, [
          vue.createElementVNode("view", { class: "tips-header" }, [
            vue.createElementVNode("view", { class: "tips-icon" }, [
              vue.createElementVNode("view", { class: "lightbulb" })
            ]),
            vue.createElementVNode("text", { class: "tips-title" }, "æ¸©é¦¨æç¤º")
          ]),
          vue.createElementVNode("view", { class: "tips-content" }, [
            vue.createElementVNode("text", { class: "tip-item" }, "â€¢ è®¤è¯æœŸé—´è¯·ä¿æŒæ‰‹æœºç•…é€šï¼Œæˆ‘ä»¬ä¼šåŠæ—¶é€šçŸ¥æ‚¨å®¡æ ¸ç»“æœ"),
            vue.createElementVNode("text", { class: "tip-item" }, "â€¢ å¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»å®¢æœè·å–å¸®åŠ©"),
            vue.createElementVNode("text", { class: "tip-item" }, "â€¢ è®¤è¯é€šè¿‡åï¼Œæ‚¨çš„è´¦å·å°†è·å¾—ç›¸åº”æ ‡è¯†")
          ])
        ])
      ]),
      vue.createCommentVNode(" è¿”å›æŒ‰é’® "),
      vue.createElementVNode("view", { class: "return-button-section" }, [
        vue.createElementVNode("view", {
          class: "return-button",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
        }, [
          vue.createElementVNode("text", { class: "return-text" }, "ç‚¹å‡»è¿”å›")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesVerificationCertificationFeedback = /* @__PURE__ */ _export_sfc(_sfc_main$g, [["render", _sfc_render$f], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/verification/certification-feedback.vue"]]);
  const _sfc_main$f = {
    data() {
      return {
        userId: 1000100,
        // é»˜è®¤ç”¨æˆ·ID
        balance: 1e7,
        // é’±åŒ…ä½™é¢
        loading: false,
        errorMessage: "",
        hasError: false
      };
    },
    onLoad(options) {
      if (options.userId) {
        this.userId = parseInt(options.userId);
        formatAppLog("log", "at pages/wallet/wallet.vue:93", "é’±åŒ…é¡µé¢æ¥æ”¶åˆ°ç”¨æˆ·ID:", this.userId);
      }
      this.loadWalletData();
    },
    methods: {
      // åŠ è½½é’±åŒ…æ•°æ®
      async loadWalletData() {
        try {
          formatAppLog("log", "at pages/wallet/wallet.vue:102", "=== å¼€å§‹åŠ è½½é’±åŒ…æ•°æ® ===");
          formatAppLog("log", "at pages/wallet/wallet.vue:103", "ç”¨æˆ·ID:", this.userId);
          this.loading = true;
          this.hasError = false;
          this.errorMessage = "";
          const response = await uni.request({
            url: `http://localhost:8888/api/wallet/balance?userId=${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/wallet/wallet.vue:116", "=== é’±åŒ…ä½™é¢APIå“åº” ===");
          formatAppLog("log", "at pages/wallet/wallet.vue:117", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/wallet/wallet.vue:118", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            const balanceData = response.data.data;
            this.balance = balanceData.currentBalance;
            formatAppLog("log", "at pages/wallet/wallet.vue:123", "æˆåŠŸåŠ è½½é’±åŒ…ä½™é¢:", this.balance);
            uni.showToast({
              title: "é’±åŒ…æ•°æ®åŠ è½½æˆåŠŸ",
              icon: "success",
              duration: 1500
            });
          } else {
            formatAppLog("error", "at pages/wallet/wallet.vue:131", "åŠ è½½é’±åŒ…ä½™é¢å¤±è´¥:", response.data.message);
            this.hasError = true;
            this.errorMessage = response.data.message || "åŠ è½½é’±åŒ…æ•°æ®å¤±è´¥";
            uni.showToast({
              title: "åŠ è½½é’±åŒ…æ•°æ®å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/wallet/wallet.vue:140", "åŠ è½½é’±åŒ…æ•°æ®å¼‚å¸¸:", error);
          this.hasError = true;
          this.errorMessage = "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®";
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        } finally {
          this.loading = false;
        }
      },
      goBack() {
        uni.navigateBack();
      },
      goToRecharge() {
        uni.navigateTo({
          url: `/pages/wallet/recharge?userId=${this.userId}`
        });
      },
      goToBill() {
        uni.navigateTo({
          url: `/pages/wallet/purchase-record?userId=${this.userId}`
        });
      },
      goToCustomerService() {
        uni.navigateTo({
          url: "/pages/chat/chat?friendName=å®¢æœ"
        });
      },
      goToServiceTerms() {
        uni.navigateTo({
          url: "/pages/settings/terms-of-service"
        });
      },
      // æ ¼å¼åŒ–ä½™é¢æ˜¾ç¤º
      formatBalance(balance) {
        if (balance >= 1e4) {
          return (balance / 1e4).toFixed(1) + "wC";
        } else if (balance >= 1e3) {
          return (balance / 1e3).toFixed(1) + "kC";
        } else {
          return balance + "C";
        }
      }
    }
  };
  function _sfc_render$e(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal">\n					<view class="bar bar-1"></view>\n					<view class="bar bar-2"></view>\n					<view class="bar bar-3"></view>\n					<view class="bar bar-4"></view>\n				</view>\n				<view class="wifi">ğŸ“¶</view>\n				<view class="battery">\n					<view class="battery-body">\n						<view class="battery-level"></view>\n					</view>\n					<view class="battery-tip"></view>\n				</view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n			<view class="back-button" @click="goBack">\n				<text class="back-arrow">â€¹</text>\n			</view>\n			<text class="nav-title">é’±åŒ…</text>\n		</view> '),
      vue.createCommentVNode(" é’±åŒ…é€‰é¡¹åˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "wallet-options" }, [
        vue.createCommentVNode(" ä½™é¢ "),
        vue.createElementVNode("view", { class: "option-item" }, [
          vue.createElementVNode("view", { class: "option-left" }, [
            vue.createElementVNode("view", { class: "option-icon balance-icon" }, "$"),
            vue.createElementVNode("text", { class: "option-text" }, "ä½™é¢")
          ]),
          vue.createElementVNode(
            "text",
            { class: "balance-amount" },
            vue.toDisplayString($options.formatBalance($data.balance)),
            1
            /* TEXT */
          )
        ]),
        vue.createCommentVNode(" å……å€¼ "),
        vue.createElementVNode("view", {
          class: "option-item",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goToRecharge && $options.goToRecharge(...args))
        }, [
          vue.createElementVNode("view", { class: "option-left" }, [
            vue.createElementVNode("view", { class: "option-icon recharge-icon" }, "ğŸ’³"),
            vue.createElementVNode("text", { class: "option-text" }, "å……å€¼")
          ]),
          vue.createElementVNode("text", { class: "arrow" }, "â€º")
        ]),
        vue.createCommentVNode(" è´¦å• "),
        vue.createElementVNode("view", {
          class: "option-item",
          onClick: _cache[1] || (_cache[1] = (...args) => $options.goToBill && $options.goToBill(...args))
        }, [
          vue.createElementVNode("view", { class: "option-left" }, [
            vue.createElementVNode("view", { class: "option-icon bill-icon" }, "ğŸ“„"),
            vue.createElementVNode("text", { class: "option-text" }, "è´¦å•")
          ]),
          vue.createElementVNode("text", { class: "arrow" }, "â€º")
        ]),
        vue.createCommentVNode(" å®¢æœä¸æ”¯æŒ "),
        vue.createElementVNode("view", {
          class: "option-item",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.goToCustomerService && $options.goToCustomerService(...args))
        }, [
          vue.createElementVNode("view", { class: "option-left" }, [
            vue.createElementVNode("view", { class: "option-icon service-icon" }, "ğŸ§"),
            vue.createElementVNode("text", { class: "option-text" }, "å®¢æœä¸æ”¯æŒ")
          ]),
          vue.createElementVNode("text", { class: "arrow" }, "â€º")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æœåŠ¡æ¡æ¬¾ "),
      vue.createElementVNode("view", { class: "bottom-section" }, [
        vue.createElementVNode("text", {
          class: "service-terms",
          onClick: _cache[3] || (_cache[3] = (...args) => $options.goToServiceTerms && $options.goToServiceTerms(...args))
        }, "æœåŠ¡æ¡æ¬¾")
      ])
    ]);
  }
  const PagesWalletWallet = /* @__PURE__ */ _export_sfc(_sfc_main$f, [["render", _sfc_render$e], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/wallet/wallet.vue"]]);
  const _sfc_main$e = {
    data() {
      return {
        userId: 1000100,
        // é»˜è®¤ç”¨æˆ·ID
        rechargeAmount: "10086",
        ccoinAmount: "1008600",
        balance: 1e7,
        // å½“å‰ä½™é¢
        loading: false,
        errorMessage: "",
        hasError: false,
        // å……å€¼è®°å½•æ•°æ®
        rechargeRecords: [],
        // æ”¯ä»˜æ–¹å¼åˆ—è¡¨
        paymentMethods: [
          { id: "wechat", name: "å¾®ä¿¡æ”¯ä»˜", icon: "ğŸ’š" },
          { id: "alipay", name: "æ”¯ä»˜å®", icon: "ğŸ’™" },
          { id: "unionpay", name: "é“¶è”æ”¯ä»˜", icon: "ğŸ’›" }
        ]
      };
    },
    onLoad(options) {
      if (options.userId) {
        this.userId = parseInt(options.userId);
        formatAppLog("log", "at pages/wallet/recharge.vue:137", "å……å€¼é¡µé¢æ¥æ”¶åˆ°ç”¨æˆ·ID:", this.userId);
      }
      this.loadWalletData();
      this.loadRechargeRecords();
    },
    methods: {
      // åŠ è½½é’±åŒ…æ•°æ®
      async loadWalletData() {
        try {
          formatAppLog("log", "at pages/wallet/recharge.vue:147", "=== å¼€å§‹åŠ è½½é’±åŒ…æ•°æ® ===");
          formatAppLog("log", "at pages/wallet/recharge.vue:148", "ç”¨æˆ·ID:", this.userId);
          const response = await uni.request({
            url: `http://localhost:8888/api/wallet/balance?userId=${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/wallet/recharge.vue:158", "=== é’±åŒ…ä½™é¢APIå“åº” ===");
          formatAppLog("log", "at pages/wallet/recharge.vue:159", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/wallet/recharge.vue:160", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            const balanceData = response.data.data;
            this.balance = balanceData.currentBalance;
            formatAppLog("log", "at pages/wallet/recharge.vue:165", "æˆåŠŸåŠ è½½é’±åŒ…ä½™é¢:", this.balance);
          } else {
            formatAppLog("error", "at pages/wallet/recharge.vue:167", "åŠ è½½é’±åŒ…ä½™é¢å¤±è´¥:", response.data.message);
          }
        } catch (error) {
          formatAppLog("error", "at pages/wallet/recharge.vue:170", "åŠ è½½é’±åŒ…æ•°æ®å¼‚å¸¸:", error);
        }
      },
      // åŠ è½½å……å€¼è®°å½•
      async loadRechargeRecords() {
        try {
          formatAppLog("log", "at pages/wallet/recharge.vue:177", "=== å¼€å§‹åŠ è½½å……å€¼è®°å½• ===");
          formatAppLog("log", "at pages/wallet/recharge.vue:178", "ç”¨æˆ·ID:", this.userId);
          const response = await uni.request({
            url: `http://localhost:8888/api/wallet/recharge-records?userId=${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/wallet/recharge.vue:188", "=== å……å€¼è®°å½•APIå“åº” ===");
          formatAppLog("log", "at pages/wallet/recharge.vue:189", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/wallet/recharge.vue:190", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            this.rechargeRecords = response.data.data;
            formatAppLog("log", "at pages/wallet/recharge.vue:194", "æˆåŠŸåŠ è½½å……å€¼è®°å½•ï¼Œå…±", this.rechargeRecords.length, "æ¡");
          } else {
            formatAppLog("error", "at pages/wallet/recharge.vue:196", "åŠ è½½å……å€¼è®°å½•å¤±è´¥:", response.data.message);
          }
        } catch (error) {
          formatAppLog("error", "at pages/wallet/recharge.vue:199", "åŠ è½½å……å€¼è®°å½•å¼‚å¸¸:", error);
        }
      },
      goBack() {
        uni.navigateBack();
      },
      calculateCCoins() {
        if (this.rechargeAmount && !isNaN(this.rechargeAmount)) {
          this.ccoinAmount = (parseInt(this.rechargeAmount) * 100).toString();
        } else {
          this.ccoinAmount = "0";
        }
      },
      // å……å€¼æ–¹æ³•
      doRecharge() {
        if (!this.rechargeAmount || isNaN(this.rechargeAmount) || parseInt(this.rechargeAmount) <= 0) {
          uni.showToast({
            title: "è¯·è¾“å…¥æœ‰æ•ˆçš„å……å€¼é‡‘é¢",
            icon: "none"
          });
          return;
        }
        this.showPaymentMethodDialog();
      },
      // æ˜¾ç¤ºæ”¯ä»˜æ–¹å¼é€‰æ‹©å¼¹çª—
      showPaymentMethodDialog() {
        uni.showActionSheet({
          itemList: this.paymentMethods.map((item) => `${item.icon} ${item.name}`),
          success: (res) => {
            const selectedMethod = this.paymentMethods[res.tapIndex];
            this.processPayment(selectedMethod);
          },
          fail: () => {
            formatAppLog("log", "at pages/wallet/recharge.vue:237", "ç”¨æˆ·å–æ¶ˆé€‰æ‹©æ”¯ä»˜æ–¹å¼");
          }
        });
      },
      // å¤„ç†æ”¯ä»˜
      async processPayment(paymentMethod) {
        try {
          uni.showLoading({
            title: "æ­£åœ¨è·³è½¬æ”¯ä»˜..."
          });
          await new Promise((resolve) => setTimeout(resolve, 1500));
          uni.hideLoading();
          this.handlePaymentSuccess(paymentMethod);
        } catch (error) {
          uni.hideLoading();
          uni.showToast({
            title: "æ”¯ä»˜è·³è½¬å¤±è´¥",
            icon: "none"
          });
        }
      },
      // å¤„ç†æ”¯ä»˜æˆåŠŸ
      async handlePaymentSuccess(paymentMethod) {
        try {
          uni.showModal({
            title: "å……å€¼æˆåŠŸ",
            content: `å·²æˆåŠŸå……å€¼${this.rechargeAmount}å…ƒï¼Œè·å¾—${this.ccoinAmount}C`,
            showCancel: false,
            confirmText: "ç¡®å®š",
            success: async () => {
              await this.submitRechargeInfo(paymentMethod);
              this.updateRechargeRecord();
              this.rechargeAmount = "";
              this.ccoinAmount = "0";
            }
          });
        } catch (error) {
          formatAppLog("error", "at pages/wallet/recharge.vue:291", "å¤„ç†æ”¯ä»˜æˆåŠŸå¤±è´¥:", error);
        }
      },
      // æäº¤å……å€¼ä¿¡æ¯åˆ°åç«¯
      async submitRechargeInfo(paymentMethod) {
        try {
          formatAppLog("log", "at pages/wallet/recharge.vue:298", "=== å¼€å§‹æäº¤å……å€¼ä¿¡æ¯åˆ°åç«¯ ===");
          formatAppLog("log", "at pages/wallet/recharge.vue:299", "ç”¨æˆ·ID:", this.userId);
          formatAppLog("log", "at pages/wallet/recharge.vue:300", "å……å€¼é‡‘é¢:", this.rechargeAmount);
          formatAppLog("log", "at pages/wallet/recharge.vue:301", "æ”¯ä»˜æ–¹å¼:", paymentMethod);
          const response = await uni.request({
            url: "http://localhost:8888/api/wallet/recharge",
            method: "POST",
            data: {
              userId: this.userId,
              amount: parseFloat(this.rechargeAmount),
              paymentMethod: paymentMethod.id
            },
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/wallet/recharge.vue:316", "=== å……å€¼APIå“åº” ===");
          formatAppLog("log", "at pages/wallet/recharge.vue:317", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/wallet/recharge.vue:318", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            formatAppLog("log", "at pages/wallet/recharge.vue:321", "å……å€¼ä¿¡æ¯æäº¤æˆåŠŸ:", response.data);
            this.balance = response.data.newBalance;
            await this.loadRechargeRecords();
            uni.showToast({
              title: "å……å€¼æˆåŠŸ",
              icon: "success",
              duration: 2e3
            });
          } else {
            throw new Error(response.data.message || "å……å€¼å¤±è´¥");
          }
        } catch (error) {
          formatAppLog("error", "at pages/wallet/recharge.vue:339", "æäº¤å……å€¼ä¿¡æ¯å¤±è´¥:", error);
          uni.showToast({
            title: "å……å€¼ä¿¡æ¯æäº¤å¤±è´¥: " + error.message,
            icon: "none"
          });
        }
      },
      // æ›´æ–°å……å€¼è®°å½•
      updateRechargeRecord() {
        const newRecord = {
          id: this.rechargeRecords.length + 1,
          amount: `+${this.ccoinAmount}C`,
          time: this.formatDateTime(/* @__PURE__ */ new Date()),
          orderNumber: this.generateOrderNumber()
        };
        this.rechargeRecords.unshift(newRecord);
        formatAppLog("log", "at pages/wallet/recharge.vue:361", "å……å€¼è®°å½•å·²æ›´æ–°:", newRecord);
      },
      // ç”Ÿæˆè®¢å•å·
      generateOrderNumber() {
        const timestamp = Date.now();
        const random = Math.random().toString(36).substr(2, 9);
        return `ORDER${timestamp}${random}`.toUpperCase();
      },
      // æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´
      formatDateTime(date) {
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, "0");
        const day = String(date.getDate()).padStart(2, "0");
        const hours = String(date.getHours()).padStart(2, "0");
        const minutes = String(date.getMinutes()).padStart(2, "0");
        return `${year}/${month}/${day} ${hours}:${minutes}`;
      },
      goToServiceAgreement() {
        uni.navigateTo({
          url: "/pages/settings/terms-of-service"
        });
      },
      goToMinorRefund() {
        uni.navigateTo({
          url: "/pages/settings/terms-of-service"
        });
      },
      goToServiceTerms() {
        uni.navigateTo({
          url: "/pages/settings/terms-of-service"
        });
      },
      // æ ¼å¼åŒ–ä½™é¢æ˜¾ç¤º
      formatBalance(balance) {
        if (balance >= 1e4) {
          return (balance / 1e4).toFixed(1) + "wC";
        } else if (balance >= 1e3) {
          return (balance / 1e3).toFixed(1) + "kC";
        } else {
          return balance + "C";
        }
      }
    },
    mounted() {
      this.calculateCCoins();
    }
  };
  function _sfc_render$d(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal">\n					<view class="bar bar-1"></view>\n					<view class="bar bar-2"></view>\n					<view class="bar bar-3"></view>\n					<view class="bar bar-4"></view>\n				</view>\n				<view class="wifi">ğŸ“¶</view>\n				<view class="battery">\n					<view class="battery-body">\n						<view class="battery-level"></view>\n					</view>\n					<view class="battery-tip"></view>\n				</view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n			<view class="back-button" @click="goBack">\n				<text class="back-arrow">â€¹</text>\n			</view>\n			<text class="nav-title">å……å€¼</text>\n		</view> '),
      vue.createCommentVNode(" è´¦æˆ·ä½™é¢ "),
      vue.createElementVNode("view", { class: "balance-section" }, [
        vue.createElementVNode("view", { class: "balance-item" }, [
          vue.createElementVNode("view", { class: "balance-left" }, [
            vue.createElementVNode("view", { class: "balance-icon" }, "$"),
            vue.createElementVNode("text", { class: "balance-text" }, "ä½™é¢")
          ]),
          vue.createElementVNode(
            "text",
            { class: "balance-amount" },
            vue.toDisplayString($options.formatBalance($data.balance)),
            1
            /* TEXT */
          )
        ])
      ]),
      vue.createCommentVNode(" å……å€¼é€‰é¡¹ "),
      vue.createElementVNode("view", { class: "recharge-section" }, [
        vue.createElementVNode("view", { class: "recharge-item" }, [
          vue.createElementVNode("view", { class: "recharge-left" }, [
            vue.createElementVNode("view", { class: "recharge-icon" }, "ğŸ’³"),
            vue.createElementVNode("text", { class: "recharge-text" }, "å……å€¼")
          ])
        ])
      ]),
      vue.createCommentVNode(" å……å€¼è¾“å…¥åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "input-section" }, [
        vue.createCommentVNode(" æ±‡ç‡ "),
        vue.createElementVNode("view", { class: "exchange-rate" }, "100C=1å…ƒ"),
        vue.createCommentVNode(" è‡ªå®šä¹‰å……å€¼é‡‘é¢ "),
        vue.createElementVNode("view", { class: "custom-amount" }, [
          vue.createElementVNode("text", { class: "custom-label" }, "è‡ªå®šä¹‰å……å€¼é‡‘é¢:"),
          vue.createElementVNode("view", { class: "amount-input-container" }, [
            vue.withDirectives(vue.createElementVNode(
              "input",
              {
                class: "amount-input",
                "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.rechargeAmount = $event),
                type: "number",
                placeholder: "10086",
                onInput: _cache[1] || (_cache[1] = (...args) => $options.calculateCCoins && $options.calculateCCoins(...args))
              },
              null,
              544
              /* NEED_HYDRATION, NEED_PATCH */
            ), [
              [vue.vModelText, $data.rechargeAmount]
            ])
          ]),
          vue.createElementVNode(
            "view",
            { class: "ccoin-equivalent" },
            "= " + vue.toDisplayString($data.ccoinAmount) + "C",
            1
            /* TEXT */
          )
        ]),
        vue.createCommentVNode(" å……å€¼æŒ‰é’® "),
        vue.createElementVNode("view", {
          class: "recharge-button",
          onClick: _cache[2] || (_cache[2] = (...args) => $options.doRecharge && $options.doRecharge(...args))
        }, [
          vue.createElementVNode(
            "text",
            { class: "recharge-button-text" },
            "ç«‹å³å……å€¼" + vue.toDisplayString($data.rechargeAmount) + "å…ƒ",
            1
            /* TEXT */
          )
        ]),
        vue.createCommentVNode(" åè®®æ–‡æœ¬ "),
        vue.createElementVNode("view", { class: "agreement-text" }, [
          vue.createTextVNode(" â—å……å€¼åˆ™è¡¨ç¤ºæ‚¨åŒæ„ "),
          vue.createElementVNode("text", {
            class: "agreement-link",
            onClick: _cache[3] || (_cache[3] = (...args) => $options.goToServiceAgreement && $options.goToServiceAgreement(...args))
          }, "ã€ŠAFriendså……å€¼æœåŠ¡åè®®ã€‹"),
          vue.createElementVNode("text", {
            class: "agreement-link",
            onClick: _cache[4] || (_cache[4] = (...args) => $options.goToMinorRefund && $options.goToMinorRefund(...args))
          }, "ã€Šæœªæˆå¹´äººé€€æ¬¾ç”³è¯·ã€‹")
        ])
      ]),
      vue.createCommentVNode(" å……å€¼è®°å½• "),
      vue.createElementVNode("view", { class: "record-section" }, [
        vue.createElementVNode("view", { class: "record-header" }, [
          vue.createElementVNode("view", { class: "record-left" }, [
            vue.createElementVNode("view", { class: "record-icon" }, "ğŸ“„"),
            vue.createElementVNode("text", { class: "record-text" }, "å……å€¼è®°å½•")
          ])
        ]),
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($data.rechargeRecords, (record) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              class: "record-item",
              key: record.id
            }, [
              vue.createElementVNode(
                "view",
                { class: "record-amount" },
                vue.toDisplayString(record.amountFormatted),
                1
                /* TEXT */
              ),
              vue.createElementVNode(
                "view",
                { class: "record-time" },
                vue.toDisplayString(record.timeAgo),
                1
                /* TEXT */
              ),
              vue.createElementVNode(
                "view",
                { class: "order-number" },
                "è®¢å•å·: " + vue.toDisplayString(record.orderNumber),
                1
                /* TEXT */
              )
            ]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ]),
      vue.createCommentVNode(" åº•éƒ¨æœåŠ¡æ¡æ¬¾ "),
      vue.createElementVNode("view", { class: "bottom-section" }, [
        vue.createElementVNode("text", {
          class: "service-terms",
          onClick: _cache[5] || (_cache[5] = (...args) => $options.goToServiceTerms && $options.goToServiceTerms(...args))
        }, "æœåŠ¡æ¡æ¬¾")
      ]),
      vue.createCommentVNode(" åº•éƒ¨æ‰‹åŠ¿æ¡ "),
      vue.createCommentVNode(' <view class="home-indicator"></view> ')
    ]);
  }
  const PagesWalletRecharge = /* @__PURE__ */ _export_sfc(_sfc_main$e, [["render", _sfc_render$d], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/wallet/recharge.vue"]]);
  const _sfc_main$d = {
    data() {
      return {
        userId: 1000100,
        // é»˜è®¤ç”¨æˆ·ID
        purchaseRecords: [],
        // è´­ä¹°è®°å½•æ•°æ®
        loading: false,
        errorMessage: "",
        hasError: false
      };
    },
    onLoad(options) {
      if (options.userId) {
        this.userId = parseInt(options.userId);
        formatAppLog("log", "at pages/wallet/purchase-record.vue:92", "è´­ä¹°è®°å½•é¡µé¢æ¥æ”¶åˆ°ç”¨æˆ·ID:", this.userId);
      }
      this.loadPurchaseRecords();
    },
    methods: {
      // åŠ è½½è´­ä¹°è®°å½•æ•°æ®
      async loadPurchaseRecords() {
        try {
          formatAppLog("log", "at pages/wallet/purchase-record.vue:101", "=== å¼€å§‹åŠ è½½è´­ä¹°è®°å½•æ•°æ® ===");
          formatAppLog("log", "at pages/wallet/purchase-record.vue:102", "ç”¨æˆ·ID:", this.userId);
          this.loading = true;
          this.hasError = false;
          this.errorMessage = "";
          const response = await uni.request({
            url: `http://localhost:8888/api/wallet/purchase-records?userId=${this.userId}`,
            method: "GET",
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/wallet/purchase-record.vue:115", "=== è´­ä¹°è®°å½•APIå“åº” ===");
          formatAppLog("log", "at pages/wallet/purchase-record.vue:116", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/wallet/purchase-record.vue:117", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            this.purchaseRecords = response.data.data;
            formatAppLog("log", "at pages/wallet/purchase-record.vue:121", "æˆåŠŸåŠ è½½è´­ä¹°è®°å½•ï¼Œå…±", this.purchaseRecords.length, "æ¡");
            if (this.purchaseRecords.length === 0) {
              this.hasError = true;
              this.errorMessage = "æš‚æ— è´­ä¹°è®°å½•";
              formatAppLog("log", "at pages/wallet/purchase-record.vue:126", "æ²¡æœ‰è·å–åˆ°ä»»ä½•è´­ä¹°è®°å½•");
            } else {
              uni.showToast({
                title: `åŠ è½½äº†${this.purchaseRecords.length}æ¡è´­ä¹°è®°å½•`,
                icon: "success",
                duration: 2e3
              });
            }
          } else {
            formatAppLog("error", "at pages/wallet/purchase-record.vue:135", "åŠ è½½è´­ä¹°è®°å½•å¤±è´¥:", response.data.message);
            this.hasError = true;
            this.errorMessage = response.data.message || "åŠ è½½è´­ä¹°è®°å½•å¤±è´¥";
            uni.showToast({
              title: "åŠ è½½è´­ä¹°è®°å½•å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/wallet/purchase-record.vue:144", "åŠ è½½è´­ä¹°è®°å½•å¼‚å¸¸:", error);
          this.hasError = true;
          this.errorMessage = "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®";
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        } finally {
          this.loading = false;
        }
      }
    }
  };
  function _sfc_render$c(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal">\n					<view class="bar bar-1"></view>\n					<view class="bar bar-2"></view>\n					<view class="bar bar-3"></view>\n				</view>\n				<view class="wifi">ğŸ“¶</view>\n				<view class="battery">\n					<view class="battery-body">\n						<view class="battery-level"></view>\n					</view>\n					<view class="battery-tip"></view>\n				</view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n			<view class="back-button">\n				<text class="back-arrow">â€¹</text>\n			</view>\n			<view class="title">è´­ä¹°è®°å½•</view>\n			<view class="search-button">\n				<text class="search-icon">ğŸ”</text>\n			</view>\n		</view> '),
      vue.createCommentVNode(" åŠ è½½çŠ¶æ€ "),
      $data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "loading-container"
      }, [
        vue.createElementVNode("text", { class: "loading-text" }, "æ­£åœ¨åŠ è½½è´­ä¹°è®°å½•...")
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" é”™è¯¯çŠ¶æ€ "),
      $data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        class: "error-container"
      }, [
        vue.createElementVNode("view", { class: "error-icon" }, "âš ï¸"),
        vue.createElementVNode(
          "text",
          { class: "error-text" },
          vue.toDisplayString($data.errorMessage),
          1
          /* TEXT */
        ),
        vue.createElementVNode("view", { class: "error-actions" }, [
          vue.createElementVNode("button", {
            class: "retry-button",
            onClick: _cache[0] || (_cache[0] = (...args) => $options.loadPurchaseRecords && $options.loadPurchaseRecords(...args))
          }, "é‡æ–°åŠ è½½")
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" äº¤æ˜“è®°å½•åˆ—è¡¨ "),
      !$data.hasError && !$data.loading ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 2,
        class: "transaction-list"
      }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($data.purchaseRecords, (record) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              class: "transaction-item",
              key: record.id
            }, [
              vue.createElementVNode("view", { class: "left-section" }, [
                vue.createElementVNode("view", { class: "avatar" }, [
                  vue.createElementVNode("view", { class: "cartoon-creature" }, [
                    vue.createElementVNode("view", { class: "eyes" }, [
                      vue.createElementVNode("view", { class: "eye eye-left" }),
                      vue.createElementVNode("view", { class: "eye eye-right" })
                    ]),
                    vue.createElementVNode("view", { class: "mouth" })
                  ])
                ]),
                vue.createElementVNode("view", { class: "transaction-info" }, [
                  vue.createElementVNode(
                    "text",
                    { class: "item-name" },
                    vue.toDisplayString(record.itemName),
                    1
                    /* TEXT */
                  ),
                  vue.createElementVNode(
                    "text",
                    { class: "transaction-time" },
                    vue.toDisplayString(record.timeAgo),
                    1
                    /* TEXT */
                  )
                ])
              ]),
              vue.createElementVNode("view", { class: "right-section" }, [
                vue.createElementVNode(
                  "text",
                  { class: "amount" },
                  vue.toDisplayString(record.amountFormatted),
                  1
                  /* TEXT */
                ),
                vue.createElementVNode(
                  "text",
                  { class: "balance" },
                  vue.toDisplayString(record.balanceFormatted),
                  1
                  /* TEXT */
                )
              ])
            ]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" åº•éƒ¨æ‰‹åŠ¿æ¡ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesWalletPurchaseRecord = /* @__PURE__ */ _export_sfc(_sfc_main$d, [["render", _sfc_render$c], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/wallet/purchase-record.vue"]]);
  const _sfc_main$c = {
    data() {
      return {
        reportReasons: [
          "è‰²æƒ…ä½ä¿—",
          "æ”¿æ²»æ•æ„Ÿ",
          "è¯ˆéª—ä¿¡æ¯",
          "ç§æ—æ­§è§†",
          "æ”»å‡»è°©éª‚",
          "ç½‘ç»œæš´åŠ›",
          "ç«™å¤–å¼•æµ",
          "è¿æ³•è¿è§„",
          "æ¶‰æœªæˆå¹´äºº",
          "å…¶ä»–è¿è§„"
        ],
        selectedReason: -1,
        userId: 1000100,
        reportedUserId: null,
        contentId: null,
        contentType: null
      };
    },
    onLoad(options) {
      if (options.userId) {
        this.userId = parseInt(options.userId);
      }
      if (options.reportedUserId) {
        this.reportedUserId = parseInt(options.reportedUserId);
      }
      if (options.contentId) {
        this.contentId = parseInt(options.contentId);
      }
      if (options.contentType) {
        this.contentType = options.contentType;
      }
    },
    methods: {
      selectReason(index) {
        this.selectedReason = index;
      },
      goToNext() {
        if (this.selectedReason === -1) {
          uni.showToast({
            title: "è¯·é€‰æ‹©ä¸¾æŠ¥åŸå› ",
            icon: "none"
          });
          return;
        }
        const params = {
          reason: encodeURIComponent(this.reportReasons[this.selectedReason]),
          userId: this.userId
        };
        if (this.reportedUserId) {
          params.reportedUserId = this.reportedUserId;
        }
        if (this.contentId) {
          params.contentId = this.contentId;
        }
        if (this.contentType) {
          params.contentType = this.contentType;
        }
        const queryString = Object.keys(params).map((key) => `${key}=${params[key]}`).join("&");
        formatAppLog("log", "at pages/report/report.vue:130", "è·³è½¬åˆ°ä¸¾æŠ¥è¯æ®é¡µé¢ï¼Œå‚æ•°:", params);
        uni.navigateTo({
          url: `/pages/report/report-evidence?${queryString}`
        });
      },
      goBack() {
        uni.navigateBack();
      }
    }
  };
  function _sfc_render$b(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal">\n					<view class="bar bar-1"></view>\n					<view class="bar bar-2"></view>\n					<view class="bar bar-3"></view>\n					<view class="bar bar-4"></view>\n				</view>\n				<view class="wifi">ğŸ“¶</view>\n				<view class="battery">\n					<view class="battery-body">\n						<view class="battery-level"></view>\n					</view>\n					<view class="battery-tip"></view>\n				</view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n			<view class="back-button" @click="goBack">\n				<text class="back-arrow"></text>\n			</view>\n			<text class="nav-title">ä¸¾æŠ¥</text>\n		</view> '),
      vue.createCommentVNode(" è¯´æ˜æ¨ªå¹… "),
      vue.createElementVNode("view", { class: "instruction-banner" }, [
        vue.createElementVNode("text", { class: "instruction-text" }, "è¯·é€‰æ‹©æœ€ç¬¦åˆçš„ä¸¾æŠ¥åŸå› ,å¸®åŠ©æˆ‘ä»¬å‡†ç¡®å¤„ç†")
      ]),
      vue.createCommentVNode(" ä¸¾æŠ¥åŸå› åˆ—è¡¨ "),
      vue.createElementVNode("view", { class: "report-reasons" }, [
        (vue.openBlock(true), vue.createElementBlock(
          vue.Fragment,
          null,
          vue.renderList($data.reportReasons, (reason, index) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              class: vue.normalizeClass(["reason-item", { "selected": $data.selectedReason === index }]),
              key: index,
              onClick: ($event) => $options.selectReason(index)
            }, [
              vue.createElementVNode(
                "text",
                { class: "reason-text" },
                vue.toDisplayString(reason),
                1
                /* TEXT */
              ),
              $data.selectedReason === index ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "check-icon"
              }, "âœ“")) : vue.createCommentVNode("v-if", true)
            ], 10, ["onClick"]);
          }),
          128
          /* KEYED_FRAGMENT */
        ))
      ]),
      vue.createCommentVNode(" ä¸‹ä¸€æ­¥æŒ‰é’® "),
      vue.createElementVNode("view", {
        class: "next-button",
        onClick: _cache[0] || (_cache[0] = (...args) => $options.goToNext && $options.goToNext(...args))
      }, [
        vue.createElementVNode("text", { class: "next-text" }, "ä¸‹ä¸€æ­¥")
      ])
    ]);
  }
  const PagesReportReport = /* @__PURE__ */ _export_sfc(_sfc_main$c, [["render", _sfc_render$b], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/report/report.vue"]]);
  const _sfc_main$b = {
    data() {
      return {
        selectedReason: "è‰²æƒ…ä½ä¿—",
        descriptionText: "",
        charCount: 0,
        uploadedImages: [],
        userId: 1000100,
        reportedUserId: null,
        contentId: null,
        contentType: null,
        categoryId: 1,
        loading: false,
        hasError: false,
        errorMessage: ""
      };
    },
    onLoad(options) {
      if (options.reason) {
        this.selectedReason = options.reason;
      }
      if (options.userId) {
        this.userId = parseInt(options.userId);
      }
      if (options.reportedUserId) {
        this.reportedUserId = parseInt(options.reportedUserId);
      }
      if (options.contentId) {
        this.contentId = parseInt(options.contentId);
      }
      if (options.contentType) {
        this.contentType = options.contentType;
      }
      this.categoryId = this.getCategoryIdByReason(this.selectedReason);
    },
    methods: {
      goBack() {
        uni.navigateBack();
      },
      updateCharCount(event) {
        this.charCount = event.detail.value.length;
      },
      uploadImage() {
        uni.chooseImage({
          count: 9 - this.uploadedImages.length,
          success: (res) => {
            this.uploadedImages = this.uploadedImages.concat(res.tempFilePaths);
          }
        });
      },
      deleteImage(index) {
        this.uploadedImages.splice(index, 1);
      },
      async submitReport() {
        if (!this.descriptionText.trim()) {
          uni.showToast({
            title: "è¯·å¡«å†™ä¸¾æŠ¥æè¿°",
            icon: "none"
          });
          return;
        }
        try {
          formatAppLog("log", "at pages/report/report-evidence.vue:161", "=== å¼€å§‹æäº¤ä¸¾æŠ¥ ===");
          formatAppLog("log", "at pages/report/report-evidence.vue:162", "ç”¨æˆ·ID:", this.userId);
          formatAppLog("log", "at pages/report/report-evidence.vue:163", "è¢«ä¸¾æŠ¥ç”¨æˆ·ID:", this.reportedUserId);
          formatAppLog("log", "at pages/report/report-evidence.vue:164", "å†…å®¹ID:", this.contentId);
          formatAppLog("log", "at pages/report/report-evidence.vue:165", "å†…å®¹ç±»å‹:", this.contentType);
          formatAppLog("log", "at pages/report/report-evidence.vue:166", "ä¸¾æŠ¥ç±»åˆ«ID:", this.categoryId);
          formatAppLog("log", "at pages/report/report-evidence.vue:167", "ä¸¾æŠ¥æè¿°:", this.descriptionText);
          formatAppLog("log", "at pages/report/report-evidence.vue:168", "è¯æ®å›¾ç‰‡:", this.uploadedImages);
          this.loading = true;
          this.hasError = false;
          this.errorMessage = "";
          const response = await uni.request({
            url: "http://localhost:8888/api/report/submit",
            method: "POST",
            data: {
              userId: this.userId,
              reportedUserId: this.reportedUserId,
              contentId: this.contentId,
              contentType: this.contentType,
              categoryId: this.categoryId,
              description: this.descriptionText,
              evidenceImg: JSON.stringify(this.uploadedImages)
            },
            header: {
              "Content-Type": "application/json"
            }
          });
          formatAppLog("log", "at pages/report/report-evidence.vue:191", "=== ä¸¾æŠ¥APIå“åº”è¯¦æƒ… ===");
          formatAppLog("log", "at pages/report/report-evidence.vue:192", "çŠ¶æ€ç :", response.statusCode);
          formatAppLog("log", "at pages/report/report-evidence.vue:193", "å“åº”æ•°æ®:", response.data);
          if (response.statusCode === 200 && response.data.success) {
            formatAppLog("log", "at pages/report/report-evidence.vue:196", "ä¸¾æŠ¥æäº¤æˆåŠŸ");
            uni.showToast({
              title: "ä¸¾æŠ¥æäº¤æˆåŠŸ",
              icon: "success"
            });
            setTimeout(() => {
              uni.navigateTo({
                url: `/pages/report/report-feedback?type=${encodeURIComponent(this.selectedReason)}&reportId=${response.data.reportId}`
              });
            }, 1500);
          } else {
            formatAppLog("error", "at pages/report/report-evidence.vue:210", "ä¸¾æŠ¥æäº¤å¤±è´¥:", response.data.message);
            this.hasError = true;
            this.errorMessage = response.data.message || "ä¸¾æŠ¥æäº¤å¤±è´¥";
            uni.showToast({
              title: response.data.message || "ä¸¾æŠ¥æäº¤å¤±è´¥",
              icon: "error"
            });
          }
        } catch (error) {
          formatAppLog("error", "at pages/report/report-evidence.vue:219", "ä¸¾æŠ¥æäº¤å¼‚å¸¸:", error);
          this.hasError = true;
          this.errorMessage = "ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®";
          uni.showToast({
            title: "ç½‘ç»œé”™è¯¯",
            icon: "error"
          });
        } finally {
          this.loading = false;
        }
      },
      // æ ¹æ®ä¸¾æŠ¥åŸå› è·å–ç±»åˆ«ID
      getCategoryIdByReason(reason) {
        const reasonMap = {
          "è‰²æƒ…ä½ä¿—": 1,
          "æ”¿æ²»æ•æ„Ÿ": 2,
          "è¯ˆéª—ä¿¡æ¯": 3,
          "ç§æ—æ­§è§†": 4,
          "æ”»å‡»è°©éª‚": 5,
          "ç½‘ç»œæš´åŠ›": 6,
          "ç«™å¤–å¼•æµ": 7,
          "è¿æ³•è¿è§„": 8,
          "æ¶‰æœªæˆå¹´äºº": 9,
          "å…¶ä»–è¿è§„": 10
        };
        return reasonMap[reason] || 10;
      }
    }
  };
  function _sfc_render$a(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "container" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">9:41</text>\n			<view class="status-icons">\n				<view class="signal">\n					<view class="bar bar-1"></view>\n					<view class="bar bar-2"></view>\n					<view class="bar bar-3"></view>\n					<view class="bar bar-4"></view>\n				</view>\n				<view class="wifi">ğŸ“¶</view>\n				<view class="battery">\n					<view class="battery-body">\n						<view class="battery-level"></view>\n					</view>\n					<view class="battery-tip"></view>\n				</view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="nav-bar">\n			<view class="back-button" @click="goBack">\n				<text class="back-arrow">â€¹</text>\n			</view>\n			<text class="nav-title">ä¸¾æŠ¥è¯æ®</text>\n		</view> '),
      vue.createCommentVNode(" è¯´æ˜æ¨ªå¹… "),
      vue.createElementVNode("view", { class: "instruction-banner" }, [
        vue.createElementVNode("text", { class: "instruction-text" }, "è¯·è¯¦ç»†å¡«å†™ä¸¾æŠ¥æè¿°åŠå›¾ç‰‡è¯æ®")
      ]),
      vue.createCommentVNode(" ä¸¾æŠ¥ç†ç”± "),
      vue.createElementVNode("view", { class: "content-section" }, [
        vue.createElementVNode("view", { class: "section-header" }, [
          vue.createElementVNode("text", { class: "section-label" }, "ä¸¾æŠ¥ç†ç”±"),
          vue.createElementVNode(
            "text",
            { class: "selected-reason" },
            vue.toDisplayString($data.selectedReason),
            1
            /* TEXT */
          )
        ])
      ]),
      vue.createCommentVNode(" ä¸¾æŠ¥æè¿° "),
      vue.createElementVNode("view", { class: "content-section" }, [
        vue.createElementVNode("view", { class: "section-header" }, [
          vue.createElementVNode("text", { class: "section-label" }, "ä¸¾æŠ¥æè¿°")
        ]),
        vue.createElementVNode("view", { class: "description-container" }, [
          vue.withDirectives(vue.createElementVNode(
            "textarea",
            {
              class: "description-input",
              "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.descriptionText = $event),
              maxlength: 400,
              placeholder: "è¯·è¯¦ç»†å¡«å†™,ä»¥æé«˜ä¸¾æŠ¥é€šè¿‡ç‡",
              onInput: _cache[1] || (_cache[1] = (...args) => $options.updateCharCount && $options.updateCharCount(...args))
            },
            null,
            544
            /* NEED_HYDRATION, NEED_PATCH */
          ), [
            [vue.vModelText, $data.descriptionText]
          ]),
          vue.createElementVNode(
            "view",
            { class: "char-count" },
            vue.toDisplayString($data.charCount) + "/400",
            1
            /* TEXT */
          )
        ])
      ]),
      vue.createCommentVNode(" å›¾ç‰‡è¯æ® "),
      vue.createElementVNode("view", { class: "content-section" }, [
        vue.createElementVNode("view", { class: "section-header" }, [
          vue.createElementVNode("text", { class: "section-label" }, "å›¾ç‰‡è¯æ®"),
          vue.createElementVNode("text", { class: "upload-limit" }, "æœ€å¤šä¸Šä¼ 9å¼ ")
        ]),
        vue.createElementVNode("view", { class: "image-upload-container" }, [
          vue.createElementVNode("view", {
            class: "upload-button",
            onClick: _cache[2] || (_cache[2] = (...args) => $options.uploadImage && $options.uploadImage(...args))
          }, [
            vue.createElementVNode("text", { class: "plus-icon" }, "+")
          ]),
          $data.uploadedImages.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "uploaded-images"
          }, [
            (vue.openBlock(true), vue.createElementBlock(
              vue.Fragment,
              null,
              vue.renderList($data.uploadedImages, (image, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "image-item",
                  key: index
                }, [
                  vue.createElementVNode("image", {
                    src: image,
                    class: "uploaded-image"
                  }, null, 8, ["src"]),
                  vue.createElementVNode("view", {
                    class: "delete-button",
                    onClick: ($event) => $options.deleteImage(index)
                  }, "Ã—", 8, ["onClick"])
                ]);
              }),
              128
              /* KEYED_FRAGMENT */
            ))
          ])) : vue.createCommentVNode("v-if", true)
        ])
      ]),
      vue.createCommentVNode(" æäº¤è¯´æ˜ "),
      vue.createElementVNode("view", { class: "submit-info" }, [
        vue.createElementVNode("text", { class: "info-text" }, "æäº¤åä¿¡æ¯å°†å‘é€ç»™å¹³å°å®¡æ ¸,ç»“æœå°†åœ¨ä¸‰ä¸ªå·¥ä½œæ—¥å†…å‘é€è‡³ç³»ç»Ÿæ¶ˆæ¯")
      ]),
      vue.createCommentVNode(" æäº¤æŒ‰é’® "),
      vue.createElementVNode("view", {
        class: "submit-button",
        onClick: _cache[3] || (_cache[3] = (...args) => $options.submitReport && $options.submitReport(...args))
      }, [
        vue.createElementVNode("text", { class: "submit-text" }, "æäº¤")
      ])
    ]);
  }
  const PagesReportReportEvidence = /* @__PURE__ */ _export_sfc(_sfc_main$b, [["render", _sfc_render$a], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/report/report-evidence.vue"]]);
  const _sfc_main$a = {
    name: "ReportFeedbackPage",
    data() {
      return {
        reportType: "è‰²æƒ…ä½ä¿—",
        // ä»ä¸Šä¸€é¡µä¼ é€’è¿‡æ¥çš„ä¸¾æŠ¥ç±»å‹
        reportId: null,
        // ä¸¾æŠ¥è®°å½•ID
        submitTime: this.formatDateTime(/* @__PURE__ */ new Date()),
        expectedTime: this.formatExpectedTime(/* @__PURE__ */ new Date())
      };
    },
    methods: {
      goBack() {
        uni.navigateBack({
          delta: 2
        });
      },
      formatDateTime(date) {
        const year = date.getFullYear();
        const month = (date.getMonth() + 1).toString().padStart(2, "0");
        const day = date.getDate().toString().padStart(2, "0");
        const hours = date.getHours().toString().padStart(2, "0");
        const minutes = date.getMinutes().toString().padStart(2, "0");
        return `${year}-${month}-${day} ${hours}:${minutes}`;
      },
      formatExpectedTime(date) {
        const expectedDate = new Date(date);
        let workDays = 0;
        while (workDays < 3) {
          expectedDate.setDate(expectedDate.getDate() + 1);
          if (expectedDate.getDay() !== 0 && expectedDate.getDay() !== 6) {
            workDays++;
          }
        }
        const year = expectedDate.getFullYear();
        const month = (expectedDate.getMonth() + 1).toString().padStart(2, "0");
        const day = expectedDate.getDate().toString().padStart(2, "0");
        return `${year}-${month}-${day}`;
      }
    },
    onLoad(options) {
      if (options.type) {
        this.reportType = decodeURIComponent(options.type);
      }
      if (options.reportId) {
        this.reportId = parseInt(options.reportId);
      }
    }
  };
  function _sfc_render$9(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "report-feedback-page" }, [
      vue.createCommentVNode(" çŠ¶æ€æ  "),
      vue.createCommentVNode(' <view class="status-bar">\n			<text class="time">12:00</text>\n			<view class="status-icons">\n				<view class="signal"></view>\n				<view class="wifi"></view>\n				<view class="battery"></view>\n			</view>\n		</view> '),
      vue.createCommentVNode(" å¯¼èˆªæ  "),
      vue.createCommentVNode(' <view class="header">\n			<view class="back-button" @click="goBack">\n				<view class="back-arrow"></view>\n			</view>\n			<text class="title">ä¸¾æŠ¥åé¦ˆ</text>\n			<view class="placeholder"></view>\n		</view> '),
      vue.createCommentVNode(" ä¸»è¦å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" æˆåŠŸå›¾æ ‡ "),
        vue.createElementVNode("view", { class: "success-icon-container" }, [
          vue.createElementVNode("view", { class: "success-icon" }, [
            vue.createElementVNode("view", { class: "checkmark" })
          ])
        ]),
        vue.createCommentVNode(" æˆåŠŸæ¶ˆæ¯ "),
        vue.createElementVNode("view", { class: "success-message" }, [
          vue.createElementVNode("text", { class: "message-text" }, "ä¸¾æŠ¥å·²æäº¤æˆåŠŸï¼Œæˆ‘ä»¬å°†åœ¨3ä¸ªå·¥ä½œæ—¥å†…å¤„ç†")
        ]),
        vue.createCommentVNode(" ä¸¾æŠ¥ä¿¡æ¯å¡ç‰‡ "),
        vue.createElementVNode("view", { class: "report-card" }, [
          vue.createElementVNode("view", { class: "card-header" }, [
            vue.createElementVNode("view", { class: "card-icon" }, [
              vue.createElementVNode("view", { class: "report-icon" })
            ]),
            vue.createElementVNode("text", { class: "card-title" }, "ä¸¾æŠ¥ä¿¡æ¯")
          ]),
          vue.createElementVNode("view", { class: "card-content" }, [
            vue.createElementVNode("view", { class: "info-row" }, [
              vue.createElementVNode("text", { class: "info-label" }, "ä¸¾æŠ¥ç±»å‹"),
              vue.createElementVNode(
                "text",
                { class: "info-value" },
                vue.toDisplayString($data.reportType),
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode("view", { class: "info-row" }, [
              vue.createElementVNode("text", { class: "info-label" }, "æäº¤æ—¶é—´"),
              vue.createElementVNode(
                "text",
                { class: "info-value" },
                vue.toDisplayString($data.submitTime),
                1
                /* TEXT */
              )
            ]),
            vue.createElementVNode("view", { class: "info-row" }, [
              vue.createElementVNode("text", { class: "info-label" }, "å¤„ç†çŠ¶æ€"),
              vue.createElementVNode("text", { class: "info-value status-pending" }, "å¾…å®¡æ ¸")
            ]),
            vue.createElementVNode("view", { class: "info-row" }, [
              vue.createElementVNode("text", { class: "info-label" }, "é¢„è®¡å®Œæˆ"),
              vue.createElementVNode(
                "text",
                { class: "info-value" },
                vue.toDisplayString($data.expectedTime),
                1
                /* TEXT */
              )
            ])
          ])
        ]),
        vue.createCommentVNode(" æ¸©é¦¨æç¤º "),
        vue.createElementVNode("view", { class: "tips-section" }, [
          vue.createElementVNode("view", { class: "tips-header" }, [
            vue.createElementVNode("view", { class: "tips-icon" }, [
              vue.createElementVNode("view", { class: "lightbulb" })
            ]),
            vue.createElementVNode("text", { class: "tips-title" }, "æ¸©é¦¨æç¤º")
          ]),
          vue.createElementVNode("view", { class: "tips-content" }, [
            vue.createElementVNode("text", { class: "tip-item" }, "â€¢ ä¸¾æŠ¥å¤„ç†ç»“æœå°†é€šè¿‡ç³»ç»Ÿæ¶ˆæ¯é€šçŸ¥æ‚¨"),
            vue.createElementVNode("text", { class: "tip-item" }, "â€¢ å¦‚å‘ç°ç´§æ€¥è¿è§„å†…å®¹ï¼Œè¯·åŠæ—¶è”ç³»å®¢æœ"),
            vue.createElementVNode("text", { class: "tip-item" }, "â€¢ æ„Ÿè°¢æ‚¨ä¸ºç»´æŠ¤å¹³å°ç¯å¢ƒåšå‡ºçš„è´¡çŒ®")
          ])
        ])
      ]),
      vue.createCommentVNode(" è¿”å›æŒ‰é’® "),
      vue.createElementVNode("view", { class: "return-button-section" }, [
        vue.createElementVNode("view", {
          class: "return-button",
          onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))
        }, [
          vue.createElementVNode("text", { class: "return-text" }, "ç‚¹å‡»è¿”å›")
        ])
      ]),
      vue.createCommentVNode(" åº•éƒ¨æŒ‡ç¤ºå™¨ "),
      vue.createElementVNode("view", { class: "home-indicator" })
    ]);
  }
  const PagesReportReportFeedback = /* @__PURE__ */ _export_sfc(_sfc_main$a, [["render", _sfc_render$9], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/report/report-feedback.vue"]]);
  const _sfc_main$9 = {
    data() {
      return {
        phone: ""
      };
    },
    methods: {
      handleLogin() {
        if (!this.phone) {
          uni.showToast({
            title: "è¯·è¾“å…¥æ‰‹æœºå·",
            icon: "none"
          });
          return;
        }
        if (!/^1[3-9]\d{9}$/.test(this.phone)) {
          uni.showToast({
            title: "è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·",
            icon: "none"
          });
          return;
        }
        uni.showToast({
          title: "éªŒè¯ç å·²å‘é€",
          icon: "success",
          duration: 1500
        });
        setTimeout(() => {
          uni.navigateTo({
            url: "/pages/login/verification-code-login"
          });
        }, 1500);
      },
      goToPasswordLogin() {
        uni.navigateTo({
          url: "/pages/login/login-replica"
        });
      },
      goToRegister() {
        uni.navigateTo({
          url: "/pages/login/phone-register"
        });
      },
      goToWechatBind() {
        uni.navigateTo({
          url: "/pages/login/login-unbound"
        });
      },
      goToMainPage() {
        uni.navigateTo({
          url: "/pages/index/index"
        });
      },
      goToTermsOfService() {
        uni.navigateTo({
          url: "/pages/settings/terms-of-service"
        });
      },
      goToWechatLogin() {
        uni.showToast({
          title: "å³å°†è·³è½¬è‡³å¾®ä¿¡",
          icon: "none",
          duration: 2e3
        });
      },
      goToQQLogin() {
        uni.showToast({
          title: "å³å°†è·³è½¬è‡³QQ",
          icon: "none",
          duration: 2e3
        });
      },
      goToDouyinLogin() {
        uni.showToast({
          title: "å³å°†è·³è½¬è‡³æŠ–éŸ³",
          icon: "none",
          duration: 2e3
        });
      }
    }
  };
  function _sfc_render$8(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "login-container" }, [
      vue.createCommentVNode(" ä¸»å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" åº”ç”¨Logo "),
        vue.createElementVNode("view", { class: "app-header" }, [
          vue.createElementVNode("image", {
            class: "app-logo",
            src: _imports_0$1,
            mode: "aspectFit"
          })
        ]),
        vue.createCommentVNode(" é—®å€™è¯­å’Œæ¬¢è¿æ–‡å­— "),
        vue.createElementVNode("view", { class: "greeting-section" }, [
          vue.createElementVNode("text", { class: "greeting-text" }, "ä½ å¥½å‘€"),
          vue.createElementVNode("text", { class: "welcome-text" }, "æ¬¢è¿æ¥åˆ°Afriends, è¯·ç™»å½•å¹¶å¼€å§‹ä½ çš„äº¤å‹ä¹‹æ—…")
        ]),
        vue.createCommentVNode(" ç™»å½•è¡¨å• "),
        vue.createElementVNode("view", { class: "login-form" }, [
          vue.createCommentVNode(" æ‰‹æœºå·è¾“å…¥æ¡† "),
          vue.createElementVNode("view", { class: "input-group" }, [
            vue.createElementVNode("text", { class: "input-label" }, "æ‰‹æœºå·"),
            vue.createElementVNode("view", { class: "input-wrapper" }, [
              vue.withDirectives(vue.createElementVNode(
                "input",
                {
                  class: "form-input",
                  type: "text",
                  "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.phone = $event),
                  maxlength: "11"
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $data.phone]
              ]),
              vue.createElementVNode("view", { class: "input-underline" })
            ])
          ]),
          vue.createCommentVNode(" ç™»å½•é€‰é¡¹ "),
          vue.createElementVNode("view", { class: "login-options" }, [
            vue.createElementVNode("text", {
              class: "option-text",
              onClick: _cache[1] || (_cache[1] = (...args) => $options.goToPasswordLogin && $options.goToPasswordLogin(...args))
            }, "ä½¿ç”¨è´¦å·å¯†ç ç™»å½•")
          ]),
          vue.createCommentVNode(" ç¬¬ä¸‰æ–¹ç™»å½• "),
          vue.createElementVNode("view", { class: "third-party-login" }, [
            vue.createElementVNode("text", { class: "section-title" }, "æˆ–è€…ä½ å¯ä»¥é€šè¿‡è¿™äº›æ¥ç™»å½•"),
            vue.createElementVNode("view", { class: "social-icons" }, [
              vue.createElementVNode("view", {
                class: "social-icon",
                onClick: _cache[2] || (_cache[2] = (...args) => $options.goToWechatLogin && $options.goToWechatLogin(...args))
              }, [
                vue.createElementVNode("image", {
                  class: "social-icon-img",
                  src: _imports_1,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("view", {
                class: "social-icon",
                onClick: _cache[3] || (_cache[3] = (...args) => $options.goToQQLogin && $options.goToQQLogin(...args))
              }, [
                vue.createElementVNode("image", {
                  class: "social-icon-img",
                  src: _imports_2,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("view", {
                class: "social-icon",
                onClick: _cache[4] || (_cache[4] = (...args) => $options.goToDouyinLogin && $options.goToDouyinLogin(...args))
              }, [
                vue.createElementVNode("image", {
                  class: "social-icon-img",
                  src: _imports_3,
                  mode: "aspectFit"
                })
              ])
            ])
          ]),
          vue.createCommentVNode(" ç”¨æˆ·åè®® "),
          vue.createElementVNode("view", { class: "terms-section" }, [
            vue.createElementVNode("text", {
              class: "terms-link",
              onClick: _cache[5] || (_cache[5] = (...args) => $options.goToTermsOfService && $options.goToTermsOfService(...args))
            }, "æœåŠ¡æ¡æ¬¾")
          ]),
          vue.createCommentVNode(" ç™»å½•æŒ‰é’® "),
          vue.createElementVNode("button", {
            class: "login-btn",
            onClick: _cache[6] || (_cache[6] = (...args) => $options.handleLogin && $options.handleLogin(...args))
          }, [
            vue.createElementVNode("text", { class: "btn-text" }, "è·å–éªŒè¯ç ")
          ]),
          vue.createCommentVNode(" æ³¨å†Œé“¾æ¥ "),
          vue.createElementVNode("view", { class: "register-section" }, [
            vue.createElementVNode("text", { class: "register-text" }, "æ²¡æœ‰è´¦å·?"),
            vue.createElementVNode("text", {
              class: "register-link",
              onClick: _cache[7] || (_cache[7] = (...args) => $options.goToRegister && $options.goToRegister(...args))
            }, "æ³¨å†Œè´¦å·")
          ]),
          vue.createCommentVNode(" ä¸»ç•Œé¢è·³è½¬æŒ‰é’® "),
          vue.createCommentVNode(' <view class="main-page-section">\n          <button class="main-page-btn" @click="goToMainPage">è¿›å…¥ä¸»ç•Œé¢</button>\n        </view> ')
        ])
      ])
    ]);
  }
  const PagesLoginPhoneLogin = /* @__PURE__ */ _export_sfc(_sfc_main$9, [["render", _sfc_render$8], ["__scopeId", "data-v-9c741f08"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/login/phone-login.vue"]]);
  const _sfc_main$8 = {
    data() {
      return {
        username: "",
        password: "",
        userId: null
        // å­˜å‚¨ç”¨æˆ·ID
      };
    },
    methods: {
      handleLogin() {
        if (!this.username || !this.password) {
          uni.showToast({
            title: "è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ",
            icon: "none"
          });
          return;
        }
        this.userId = 1000001;
        uni.setStorageSync("userId", this.userId);
        uni.setStorageSync("username", this.username);
        formatAppLog("log", "at pages/login/login-replica.vue:117", "ç™»å½•ä¿¡æ¯:", {
          username: this.username,
          password: this.password,
          userId: this.userId
        });
        uni.showToast({
          title: "ç™»å½•æˆåŠŸ",
          icon: "success",
          duration: 1500
        });
        setTimeout(() => {
          uni.redirectTo({
            url: "/pages/feed/content-feed"
          });
        }, 1500);
      },
      goToRegister() {
        uni.navigateTo({
          url: "/pages/login/phone-register"
        });
      },
      goToPhoneLogin() {
        uni.navigateTo({
          url: "/pages/login/phone-login"
        });
      },
      goToWechatBind() {
        uni.navigateTo({
          url: "/pages/login/login-unbound"
        });
      },
      goToResetPassword() {
        uni.navigateTo({
          url: "/pages/login/reset-password"
        });
      },
      goToTermsOfService() {
        uni.navigateTo({
          url: "/pages/settings/terms-of-service"
        });
      },
      goToWechatLogin() {
        uni.showToast({
          title: "å³å°†è·³è½¬è‡³å¾®ä¿¡",
          icon: "none",
          duration: 2e3
        });
      },
      goToQQLogin() {
        uni.showToast({
          title: "å³å°†è·³è½¬è‡³QQ",
          icon: "none",
          duration: 2e3
        });
      },
      goToDouyinLogin() {
        uni.showToast({
          title: "å³å°†è·³è½¬è‡³æŠ–éŸ³",
          icon: "none",
          duration: 2e3
        });
      }
    }
  };
  function _sfc_render$7(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "login-container" }, [
      vue.createCommentVNode(" ä¸»å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" åº”ç”¨Logo "),
        vue.createElementVNode("view", { class: "app-header" }, [
          vue.createElementVNode("image", {
            class: "app-logo",
            src: _imports_0$1,
            mode: "aspectFit"
          })
        ]),
        vue.createCommentVNode(" é—®å€™è¯­å’Œæ¬¢è¿æ–‡å­— "),
        vue.createElementVNode("view", { class: "greeting-section" }, [
          vue.createElementVNode("text", { class: "greeting-text" }, "ä½ å¥½å‘€"),
          vue.createElementVNode("text", { class: "welcome-text" }, "æ¬¢è¿æ¥åˆ°Afriends, è¯·ç™»å½•å¹¶å¼€å§‹ä½ çš„äº¤å‹ä¹‹æ—…")
        ]),
        vue.createCommentVNode(" ç™»å½•è¡¨å• "),
        vue.createElementVNode("view", { class: "login-form" }, [
          vue.createCommentVNode(" ç”¨æˆ·å/æ‰‹æœºå·è¾“å…¥æ¡† "),
          vue.createElementVNode("view", { class: "input-group" }, [
            vue.createElementVNode("text", { class: "input-label" }, "æ‰‹æœºå·/ç”¨æˆ·å"),
            vue.createElementVNode("view", { class: "input-wrapper" }, [
              vue.withDirectives(vue.createElementVNode(
                "input",
                {
                  class: "form-input",
                  type: "text",
                  "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.username = $event)
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $data.username]
              ]),
              vue.createElementVNode("view", { class: "input-underline" })
            ])
          ]),
          vue.createCommentVNode(" å¯†ç è¾“å…¥æ¡† "),
          vue.createElementVNode("view", { class: "input-group" }, [
            vue.createElementVNode("text", { class: "input-label" }, "å¯†ç "),
            vue.createElementVNode("view", { class: "input-wrapper" }, [
              vue.withDirectives(vue.createElementVNode(
                "input",
                {
                  class: "form-input",
                  type: "password",
                  "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $data.password = $event)
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $data.password]
              ]),
              vue.createElementVNode("view", { class: "input-underline" })
            ])
          ]),
          vue.createCommentVNode(" å¿˜è®°å¯†ç  "),
          vue.createElementVNode("view", { class: "forgot-password" }, [
            vue.createElementVNode("text", {
              class: "option-text",
              onClick: _cache[2] || (_cache[2] = (...args) => $options.goToResetPassword && $options.goToResetPassword(...args))
            }, "å¿˜è®°å¯†ç ?")
          ]),
          vue.createCommentVNode(" ä½¿ç”¨æ‰‹æœºéªŒè¯ç ç™»å½• "),
          vue.createElementVNode("view", { class: "phone-login-option" }, [
            vue.createElementVNode("text", {
              class: "option-text",
              onClick: _cache[3] || (_cache[3] = (...args) => $options.goToPhoneLogin && $options.goToPhoneLogin(...args))
            }, "ä½¿ç”¨æ‰‹æœºéªŒè¯ç ç™»å½•")
          ]),
          vue.createCommentVNode(" ç¬¬ä¸‰æ–¹ç™»å½• "),
          vue.createElementVNode("view", { class: "third-party-login" }, [
            vue.createElementVNode("text", { class: "section-title" }, "æˆ–è€…ä½ å¯ä»¥é€šè¿‡è¿™äº›æ¥ç™»å½•"),
            vue.createElementVNode("view", { class: "social-icons" }, [
              vue.createElementVNode("view", {
                class: "social-icon",
                onClick: _cache[4] || (_cache[4] = (...args) => $options.goToWechatLogin && $options.goToWechatLogin(...args))
              }, [
                vue.createElementVNode("image", {
                  class: "social-icon-img",
                  src: _imports_1,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("view", {
                class: "social-icon",
                onClick: _cache[5] || (_cache[5] = (...args) => $options.goToQQLogin && $options.goToQQLogin(...args))
              }, [
                vue.createElementVNode("image", {
                  class: "social-icon-img",
                  src: _imports_2,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("view", {
                class: "social-icon",
                onClick: _cache[6] || (_cache[6] = (...args) => $options.goToDouyinLogin && $options.goToDouyinLogin(...args))
              }, [
                vue.createElementVNode("image", {
                  class: "social-icon-img",
                  src: _imports_3,
                  mode: "aspectFit"
                })
              ])
            ])
          ]),
          vue.createCommentVNode(" ç”¨æˆ·åè®® "),
          vue.createElementVNode("view", { class: "terms-section" }, [
            vue.createElementVNode("text", {
              class: "terms-link",
              onClick: _cache[7] || (_cache[7] = (...args) => $options.goToTermsOfService && $options.goToTermsOfService(...args))
            }, "æœåŠ¡æ¡æ¬¾")
          ]),
          vue.createCommentVNode(" ç™»å½•æŒ‰é’® "),
          vue.createElementVNode("button", {
            class: "login-btn",
            onClick: _cache[8] || (_cache[8] = (...args) => $options.handleLogin && $options.handleLogin(...args))
          }, [
            vue.createElementVNode("text", { class: "btn-text" }, "ç™»å½•")
          ]),
          vue.createCommentVNode(" æ³¨å†Œé“¾æ¥ "),
          vue.createElementVNode("view", { class: "register-section" }, [
            vue.createElementVNode("text", { class: "register-text" }, "æ²¡æœ‰è´¦å·?"),
            vue.createElementVNode("text", {
              class: "register-link",
              onClick: _cache[9] || (_cache[9] = (...args) => $options.goToRegister && $options.goToRegister(...args))
            }, "æ³¨å†Œè´¦å·")
          ])
        ])
      ])
    ]);
  }
  const PagesLoginLoginReplica = /* @__PURE__ */ _export_sfc(_sfc_main$8, [["render", _sfc_render$7], ["__scopeId", "data-v-5af65697"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/login/login-replica.vue"]]);
  const _sfc_main$7 = {
    data() {
      return {
        username: "",
        password: ""
      };
    },
    methods: {
      handleBind() {
        if (!this.username || !this.password) {
          uni.showToast({
            title: "è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ",
            icon: "none"
          });
          return;
        }
        formatAppLog("log", "at pages/login/login-unbound.vue:110", "ç»‘å®šä¿¡æ¯:", {
          username: this.username,
          password: this.password
        });
        uni.showToast({
          title: "ç»‘å®šæˆåŠŸ",
          icon: "success"
        });
      },
      goToRegister() {
        uni.navigateTo({
          url: "/pages/login/phone-register"
        });
      },
      goToPhoneLogin() {
        uni.navigateTo({
          url: "/pages/login/phone-login"
        });
      },
      handleWechatBind() {
        formatAppLog("log", "at pages/login/login-unbound.vue:135", "è§¦å‘å¾®ä¿¡ç»‘å®š");
        uni.showToast({
          title: "å¾®ä¿¡ç»‘å®šåŠŸèƒ½å¼€å‘ä¸­",
          icon: "none"
        });
      },
      goToWechatBind() {
        formatAppLog("log", "at pages/login/login-unbound.vue:144", "å·²åœ¨å¾®ä¿¡ç»‘å®šé¡µé¢");
      },
      goToResetPassword() {
        uni.navigateTo({
          url: "/pages/login/reset-password"
        });
      },
      goToTermsOfService() {
        uni.navigateTo({
          url: "/pages/settings/terms-of-service"
        });
      },
      goToWechatLogin() {
        uni.showToast({
          title: "å³å°†è·³è½¬è‡³å¾®ä¿¡",
          icon: "none",
          duration: 2e3
        });
      },
      goToQQLogin() {
        uni.showToast({
          title: "å³å°†è·³è½¬è‡³QQ",
          icon: "none",
          duration: 2e3
        });
      },
      goToDouyinLogin() {
        uni.showToast({
          title: "å³å°†è·³è½¬è‡³æŠ–éŸ³",
          icon: "none",
          duration: 2e3
        });
      }
    }
  };
  function _sfc_render$6(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "login-container" }, [
      vue.createCommentVNode(" ä¸»å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" åº”ç”¨Logo "),
        vue.createElementVNode("view", { class: "app-header" }, [
          vue.createElementVNode("image", {
            class: "app-logo",
            src: _imports_0$1,
            mode: "aspectFit"
          })
        ]),
        vue.createCommentVNode(" é—®å€™è¯­å’Œæ¬¢è¿æ–‡å­— "),
        vue.createElementVNode("view", { class: "greeting-section" }, [
          vue.createElementVNode("text", { class: "greeting-text" }, "éœ€è¦ç»‘å®š"),
          vue.createElementVNode("text", { class: "welcome-text" }, "æ‚¨çš„ç¤¾äº¤è´¦å·ä¼¼ä¹å¹¶æ²¡æœ‰ç»‘å®šæˆ‘ä»¬çš„è´¦å·"),
          vue.createElementVNode("text", { class: "welcome-text" }, "è¯·å…ˆç”¨å…¶ä»–æ–¹å¼ç™»å½•")
        ]),
        vue.createCommentVNode(" ç»‘å®šè¡¨å• "),
        vue.createElementVNode("view", { class: "login-form" }, [
          vue.createCommentVNode(" ç”¨æˆ·å/æ‰‹æœºå·è¾“å…¥æ¡† "),
          vue.createElementVNode("view", { class: "input-group" }, [
            vue.createElementVNode("text", { class: "input-label" }, "æ‰‹æœºå·/ç”¨æˆ·å"),
            vue.createElementVNode("view", { class: "input-wrapper" }, [
              vue.withDirectives(vue.createElementVNode(
                "input",
                {
                  class: "form-input",
                  type: "text",
                  "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.username = $event)
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $data.username]
              ]),
              vue.createElementVNode("view", { class: "input-underline" })
            ])
          ]),
          vue.createCommentVNode(" å¯†ç è¾“å…¥æ¡† "),
          vue.createElementVNode("view", { class: "input-group" }, [
            vue.createElementVNode("text", { class: "input-label" }, "å¯†ç "),
            vue.createElementVNode("view", { class: "input-wrapper" }, [
              vue.withDirectives(vue.createElementVNode(
                "input",
                {
                  class: "form-input",
                  type: "password",
                  "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $data.password = $event)
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $data.password]
              ]),
              vue.createElementVNode("view", { class: "input-underline" })
            ])
          ]),
          vue.createCommentVNode(" å¿˜è®°å¯†ç  "),
          vue.createElementVNode("view", { class: "forgot-password" }, [
            vue.createElementVNode("text", {
              class: "option-text",
              onClick: _cache[2] || (_cache[2] = (...args) => $options.goToResetPassword && $options.goToResetPassword(...args))
            }, "å¿˜è®°å¯†ç ?")
          ]),
          vue.createCommentVNode(" ä½¿ç”¨æ‰‹æœºéªŒè¯ç ç™»å½• "),
          vue.createElementVNode("view", { class: "phone-login-option" }, [
            vue.createElementVNode("text", {
              class: "option-text",
              onClick: _cache[3] || (_cache[3] = (...args) => $options.goToPhoneLogin && $options.goToPhoneLogin(...args))
            }, "ä½¿ç”¨æ‰‹æœºéªŒè¯ç ç™»å½•")
          ]),
          vue.createCommentVNode(" ç¬¬ä¸‰æ–¹ç™»å½• "),
          vue.createElementVNode("view", { class: "third-party-login" }, [
            vue.createElementVNode("text", { class: "section-title" }, "æˆ–è€…ä½ å¯ä»¥é€šè¿‡è¿™äº›æ¥ç»‘å®š"),
            vue.createElementVNode("view", { class: "social-icons" }, [
              vue.createElementVNode("view", {
                class: "social-icon",
                onClick: _cache[4] || (_cache[4] = (...args) => $options.goToWechatLogin && $options.goToWechatLogin(...args))
              }, [
                vue.createElementVNode("image", {
                  class: "social-icon-img",
                  src: _imports_1,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("view", {
                class: "social-icon",
                onClick: _cache[5] || (_cache[5] = (...args) => $options.goToQQLogin && $options.goToQQLogin(...args))
              }, [
                vue.createElementVNode("image", {
                  class: "social-icon-img",
                  src: _imports_2,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("view", {
                class: "social-icon",
                onClick: _cache[6] || (_cache[6] = (...args) => $options.goToDouyinLogin && $options.goToDouyinLogin(...args))
              }, [
                vue.createElementVNode("image", {
                  class: "social-icon-img",
                  src: _imports_3,
                  mode: "aspectFit"
                })
              ])
            ])
          ]),
          vue.createCommentVNode(" ç”¨æˆ·åè®® "),
          vue.createElementVNode("view", { class: "terms-section" }, [
            vue.createElementVNode("text", {
              class: "terms-link",
              onClick: _cache[7] || (_cache[7] = (...args) => $options.goToTermsOfService && $options.goToTermsOfService(...args))
            }, "æœåŠ¡æ¡æ¬¾")
          ]),
          vue.createCommentVNode(" ç»‘å®šæŒ‰é’® "),
          vue.createElementVNode("button", {
            class: "login-btn",
            onClick: _cache[8] || (_cache[8] = (...args) => $options.handleBind && $options.handleBind(...args))
          }, [
            vue.createElementVNode("text", { class: "btn-text" }, "ç»‘å®š")
          ]),
          vue.createCommentVNode(" æ³¨å†Œé“¾æ¥ "),
          vue.createElementVNode("view", { class: "register-section" }, [
            vue.createElementVNode("text", { class: "register-text" }, "æ²¡æœ‰è´¦å·?"),
            vue.createElementVNode("text", {
              class: "register-link",
              onClick: _cache[9] || (_cache[9] = (...args) => $options.goToRegister && $options.goToRegister(...args))
            }, "æ³¨å†Œè´¦å·")
          ])
        ])
      ])
    ]);
  }
  const PagesLoginLoginUnbound = /* @__PURE__ */ _export_sfc(_sfc_main$7, [["render", _sfc_render$6], ["__scopeId", "data-v-38ba827d"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/login/login-unbound.vue"]]);
  const _sfc_main$6 = {
    data() {
      return {
        phone: ""
      };
    },
    methods: {
      handleRegister() {
        if (!this.phone) {
          uni.showToast({
            title: "è¯·è¾“å…¥æ‰‹æœºå·",
            icon: "none"
          });
          return;
        }
        if (!/^1[3-9]\d{9}$/.test(this.phone)) {
          uni.showToast({
            title: "è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·",
            icon: "none"
          });
          return;
        }
        formatAppLog("log", "at pages/login/phone-register.vue:101", "å‘é€éªŒè¯ç åˆ°æ‰‹æœºå·:", this.phone);
        uni.showToast({
          title: "éªŒè¯ç å·²å‘é€",
          icon: "success"
        });
        setTimeout(() => {
          uni.navigateTo({
            url: "/pages/login/verification-code-register"
          });
        }, 1500);
      },
      goToPhoneLogin() {
        uni.navigateTo({
          url: "/pages/login/phone-login"
        });
      },
      goToWechatBind() {
        uni.navigateTo({
          url: "/pages/login/login-unbound"
        });
      },
      goToTermsOfService() {
        uni.navigateTo({
          url: "/pages/settings/terms-of-service"
        });
      },
      goToWechatLogin() {
        uni.showToast({
          title: "å³å°†è·³è½¬è‡³å¾®ä¿¡",
          icon: "none",
          duration: 2e3
        });
      },
      goToQQLogin() {
        uni.showToast({
          title: "å³å°†è·³è½¬è‡³QQ",
          icon: "none",
          duration: 2e3
        });
      },
      goToDouyinLogin() {
        uni.showToast({
          title: "å³å°†è·³è½¬è‡³æŠ–éŸ³",
          icon: "none",
          duration: 2e3
        });
      }
    }
  };
  function _sfc_render$5(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "login-container" }, [
      vue.createCommentVNode(" ä¸»å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" åº”ç”¨Logo "),
        vue.createElementVNode("view", { class: "app-header" }, [
          vue.createElementVNode("image", {
            class: "app-logo",
            src: _imports_0$1,
            mode: "aspectFit"
          })
        ]),
        vue.createCommentVNode(" é—®å€™è¯­å’Œæ¬¢è¿æ–‡å­— "),
        vue.createElementVNode("view", { class: "greeting-section" }, [
          vue.createElementVNode("text", { class: "greeting-text" }, "ä½ å¥½å‘€"),
          vue.createElementVNode("text", { class: "welcome-text" }, "æ¬¢è¿æ¥åˆ°Afriends, è¯·æ³¨å†Œå¹¶å¼€å§‹ä½ çš„äº¤å‹ä¹‹æ—…")
        ]),
        vue.createCommentVNode(" æ³¨å†Œè¡¨å• "),
        vue.createElementVNode("view", { class: "login-form" }, [
          vue.createCommentVNode(" æ‰‹æœºå·è¾“å…¥æ¡† "),
          vue.createElementVNode("view", { class: "input-group" }, [
            vue.createElementVNode("text", { class: "input-label" }, "æ‰‹æœºå·"),
            vue.createElementVNode("view", { class: "input-wrapper" }, [
              vue.withDirectives(vue.createElementVNode(
                "input",
                {
                  class: "form-input",
                  type: "text",
                  "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.phone = $event),
                  maxlength: "11"
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $data.phone]
              ]),
              vue.createElementVNode("view", { class: "input-underline" })
            ])
          ]),
          vue.createCommentVNode(" æ³¨å†Œé€‰é¡¹ "),
          vue.createElementVNode("view", { class: "login-options" }, [
            vue.createElementVNode("text", {
              class: "option-text",
              onClick: _cache[1] || (_cache[1] = (...args) => $options.goToPhoneLogin && $options.goToPhoneLogin(...args))
            }, "ä½¿ç”¨æ‰‹æœºéªŒè¯ç ç™»å½•")
          ]),
          vue.createCommentVNode(" ç¬¬ä¸‰æ–¹ç™»å½• "),
          vue.createElementVNode("view", { class: "third-party-login" }, [
            vue.createElementVNode("text", { class: "section-title" }, "æˆ–è€…ä½ å¯ä»¥é€šè¿‡è¿™äº›æ¥ç™»å½•"),
            vue.createElementVNode("view", { class: "social-icons" }, [
              vue.createElementVNode("view", {
                class: "social-icon",
                onClick: _cache[2] || (_cache[2] = (...args) => $options.goToWechatLogin && $options.goToWechatLogin(...args))
              }, [
                vue.createElementVNode("image", {
                  class: "social-icon-img",
                  src: _imports_1,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("view", {
                class: "social-icon",
                onClick: _cache[3] || (_cache[3] = (...args) => $options.goToQQLogin && $options.goToQQLogin(...args))
              }, [
                vue.createElementVNode("image", {
                  class: "social-icon-img",
                  src: _imports_2,
                  mode: "aspectFit"
                })
              ]),
              vue.createElementVNode("view", {
                class: "social-icon",
                onClick: _cache[4] || (_cache[4] = (...args) => $options.goToDouyinLogin && $options.goToDouyinLogin(...args))
              }, [
                vue.createElementVNode("image", {
                  class: "social-icon-img",
                  src: _imports_3,
                  mode: "aspectFit"
                })
              ])
            ])
          ]),
          vue.createCommentVNode(" ç”¨æˆ·åè®® "),
          vue.createElementVNode("view", { class: "terms-section" }, [
            vue.createElementVNode("text", {
              class: "terms-link",
              onClick: _cache[5] || (_cache[5] = (...args) => $options.goToTermsOfService && $options.goToTermsOfService(...args))
            }, "æœåŠ¡æ¡æ¬¾")
          ]),
          vue.createCommentVNode(" æ³¨å†ŒæŒ‰é’® "),
          vue.createElementVNode("button", {
            class: "login-btn",
            onClick: _cache[6] || (_cache[6] = (...args) => $options.handleRegister && $options.handleRegister(...args))
          }, [
            vue.createElementVNode("text", { class: "btn-text" }, "æ³¨å†Œ")
          ]),
          vue.createCommentVNode(" ç™»å½•é“¾æ¥ "),
          vue.createElementVNode("view", { class: "register-section" }, [
            vue.createElementVNode("text", { class: "register-text" }, "å·²æœ‰è´¦å·?"),
            vue.createElementVNode("text", {
              class: "register-link",
              onClick: _cache[7] || (_cache[7] = (...args) => $options.goToPhoneLogin && $options.goToPhoneLogin(...args))
            }, "ç™»å½•è´¦å·")
          ])
        ])
      ])
    ]);
  }
  const PagesLoginPhoneRegister = /* @__PURE__ */ _export_sfc(_sfc_main$6, [["render", _sfc_render$5], ["__scopeId", "data-v-0701aea4"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/login/phone-register.vue"]]);
  const _sfc_main$5 = {
    data() {
      return {
        verificationCode: ["", "", "", ""],
        mainInputValue: "",
        activeIndex: 0
      };
    },
    computed: {
      isCodeComplete() {
        return this.verificationCode.every((digit) => digit !== "");
      }
    },
    mounted() {
      this.$nextTick(() => {
        setTimeout(() => {
          this.focusMainInput();
        }, 300);
      });
    },
    methods: {
      handleMainInput(event) {
        const value = event.detail.value.replace(/\D/g, "").slice(0, 4);
        this.mainInputValue = value;
        for (let i = 0; i < 4; i++) {
          this.verificationCode[i] = value[i] || "";
        }
        if (value.length > 0) {
          this.activeIndex = Math.min(value.length - 1, 3);
        } else {
          this.activeIndex = 0;
        }
      },
      handleMainFocus() {
        if (this.mainInputValue.length > 0) {
          this.activeIndex = Math.min(this.mainInputValue.length - 1, 3);
        } else {
          this.activeIndex = 0;
        }
      },
      handleMainBlur() {
        this.activeIndex = -1;
      },
      focusMainInput() {
        this.$nextTick(() => {
          if (this.$refs.mainInput) {
            const input = this.$refs.mainInput;
            if (input && input.focus) {
              input.focus();
            }
          }
        });
      },
      resendCode() {
        formatAppLog("log", "at pages/login/verification-code-login.vue:126", "é‡æ–°å‘é€éªŒè¯ç ");
        uni.showToast({
          title: "éªŒè¯ç å·²é‡æ–°å‘é€",
          icon: "success"
        });
      },
      handleLogin() {
        if (!this.isCodeComplete) {
          uni.showToast({
            title: "è¯·è¾“å…¥å®Œæ•´çš„éªŒè¯ç ",
            icon: "none"
          });
          return;
        }
        const code = this.verificationCode.join("");
        formatAppLog("log", "at pages/login/verification-code-login.vue:145", "éªŒè¯ç :", code);
        uni.showToast({
          title: "ç™»å½•æˆåŠŸ",
          icon: "success",
          duration: 1500
        });
        setTimeout(() => {
          uni.redirectTo({
            url: "/pages/feed/content-feed"
          });
        }, 1500);
      },
      goBack() {
        uni.navigateBack();
      },
      changePhone() {
        uni.redirectTo({
          url: "/pages/login/phone-login"
        });
      }
    }
  };
  function _sfc_render$4(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "verification-container" }, [
      vue.createCommentVNode(" ä¸»å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" æ ‡é¢˜ "),
        vue.createElementVNode("text", { class: "title" }, "è¯·è¾“å…¥éªŒè¯ç "),
        vue.createCommentVNode(" è¯´æ˜æ–‡å­— "),
        vue.createElementVNode("text", { class: "instruction" }, "æˆ‘ä»¬åˆšåˆšå‘æ‚¨å‘é€äº†ä¸€æ¡éªŒè¯ç ,è¯·æŸ¥çœ‹æ‚¨çš„ä¿¡ç®±"),
        vue.createCommentVNode(" éªŒè¯ç è¾“å…¥æ¡† "),
        vue.createElementVNode("view", { class: "code-input-section" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.verificationCode, (digit, index) => {
              return vue.openBlock(), vue.createElementBlock(
                "view",
                {
                  key: index,
                  class: vue.normalizeClass(["code-input-field", { "active": $data.activeIndex === index }]),
                  onClick: _cache[0] || (_cache[0] = (...args) => $options.focusMainInput && $options.focusMainInput(...args))
                },
                [
                  digit ? (vue.openBlock(), vue.createElementBlock(
                    "text",
                    {
                      key: 0,
                      class: "code-digit"
                    },
                    vue.toDisplayString(digit),
                    1
                    /* TEXT */
                  )) : vue.createCommentVNode("v-if", true)
                ],
                2
                /* CLASS */
              );
            }),
            128
            /* KEYED_FRAGMENT */
          )),
          vue.createCommentVNode(" éšè—çš„ä¸»è¾“å…¥æ¡† "),
          vue.withDirectives(vue.createElementVNode(
            "input",
            {
              class: "main-input",
              type: "number",
              "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $data.mainInputValue = $event),
              maxlength: "4",
              placeholder: "",
              onInput: _cache[2] || (_cache[2] = (...args) => $options.handleMainInput && $options.handleMainInput(...args)),
              onFocus: _cache[3] || (_cache[3] = (...args) => $options.handleMainFocus && $options.handleMainFocus(...args)),
              onBlur: _cache[4] || (_cache[4] = (...args) => $options.handleMainBlur && $options.handleMainBlur(...args)),
              ref: "mainInput"
            },
            null,
            544
            /* NEED_HYDRATION, NEED_PATCH */
          ), [
            [vue.vModelText, $data.mainInputValue]
          ])
        ]),
        vue.createCommentVNode(" é‡æ–°è¾“å…¥æ‰‹æœºå· "),
        vue.createElementVNode("view", { class: "change-phone-section" }, [
          vue.createElementVNode("text", {
            class: "change-phone-link",
            onClick: _cache[5] || (_cache[5] = (...args) => $options.changePhone && $options.changePhone(...args))
          }, "é‡æ–°è¾“å…¥æ‰‹æœºå·")
        ]),
        vue.createCommentVNode(" é‡æ–°å‘é€é€‰é¡¹ "),
        vue.createElementVNode("view", { class: "resend-section" }, [
          vue.createElementVNode("text", { class: "resend-text" }, "æ²¡æœ‰æ”¶åˆ°éªŒè¯ç ?"),
          vue.createElementVNode("text", {
            class: "resend-link",
            onClick: _cache[6] || (_cache[6] = (...args) => $options.resendCode && $options.resendCode(...args))
          }, "é‡æ–°å‘é€")
        ]),
        vue.createCommentVNode(" ç™»å½•æŒ‰é’® "),
        vue.createElementVNode("button", {
          class: "login-btn",
          onClick: _cache[7] || (_cache[7] = (...args) => $options.handleLogin && $options.handleLogin(...args)),
          disabled: !$options.isCodeComplete
        }, [
          vue.createElementVNode("text", { class: "btn-text" }, "ç™»å½•")
        ], 8, ["disabled"])
      ])
    ]);
  }
  const PagesLoginVerificationCodeLogin = /* @__PURE__ */ _export_sfc(_sfc_main$5, [["render", _sfc_render$4], ["__scopeId", "data-v-ad3101bf"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/login/verification-code-login.vue"]]);
  const _sfc_main$4 = {
    data() {
      return {
        verificationCode: ["", "", "", ""],
        mainInputValue: "",
        activeIndex: 0
      };
    },
    computed: {
      isCodeComplete() {
        return this.verificationCode.every((digit) => digit !== "");
      }
    },
    mounted() {
      this.$nextTick(() => {
        setTimeout(() => {
          this.focusMainInput();
        }, 300);
      });
    },
    methods: {
      handleMainInput(event) {
        const value = event.detail.value.replace(/\D/g, "").slice(0, 4);
        this.mainInputValue = value;
        for (let i = 0; i < 4; i++) {
          this.verificationCode[i] = value[i] || "";
        }
        if (value.length > 0) {
          this.activeIndex = Math.min(value.length - 1, 3);
        } else {
          this.activeIndex = 0;
        }
      },
      handleMainFocus() {
        if (this.mainInputValue.length > 0) {
          this.activeIndex = Math.min(this.mainInputValue.length - 1, 3);
        } else {
          this.activeIndex = 0;
        }
      },
      handleMainBlur() {
        this.activeIndex = -1;
      },
      focusMainInput() {
        this.$nextTick(() => {
          if (this.$refs.mainInput) {
            const input = this.$refs.mainInput;
            if (input && input.focus) {
              input.focus();
            }
          }
        });
      },
      resendCode() {
        formatAppLog("log", "at pages/login/verification-code-register.vue:126", "é‡æ–°å‘é€éªŒè¯ç ");
        uni.showToast({
          title: "éªŒè¯ç å·²é‡æ–°å‘é€",
          icon: "success"
        });
      },
      handleRegister() {
        if (!this.isCodeComplete) {
          uni.showToast({
            title: "è¯·è¾“å…¥å®Œæ•´çš„éªŒè¯ç ",
            icon: "none"
          });
          return;
        }
        const code = this.verificationCode.join("");
        formatAppLog("log", "at pages/login/verification-code-register.vue:145", "éªŒè¯ç :", code);
        uni.showToast({
          title: "æ³¨å†ŒæˆåŠŸ",
          icon: "success",
          duration: 1500
        });
        setTimeout(() => {
          uni.redirectTo({
            url: "/pages/login/login-replica"
          });
        }, 1500);
      },
      goBack() {
        uni.navigateBack();
      },
      changePhone() {
        uni.redirectTo({
          url: "/pages/login/phone-register"
        });
      }
    }
  };
  function _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "verification-container" }, [
      vue.createCommentVNode(" ä¸»å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" æ ‡é¢˜ "),
        vue.createElementVNode("text", { class: "title" }, "è¯·è¾“å…¥éªŒè¯ç "),
        vue.createCommentVNode(" è¯´æ˜æ–‡å­— "),
        vue.createElementVNode("text", { class: "instruction" }, "æˆ‘ä»¬åˆšåˆšå‘æ‚¨å‘é€äº†ä¸€æ¡éªŒè¯ç ,è¯·æŸ¥çœ‹æ‚¨çš„ä¿¡ç®±"),
        vue.createCommentVNode(" éªŒè¯ç è¾“å…¥æ¡† "),
        vue.createElementVNode("view", { class: "code-input-section" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.verificationCode, (digit, index) => {
              return vue.openBlock(), vue.createElementBlock(
                "view",
                {
                  key: index,
                  class: vue.normalizeClass(["code-input-field", { "active": $data.activeIndex === index }]),
                  onClick: _cache[0] || (_cache[0] = (...args) => $options.focusMainInput && $options.focusMainInput(...args))
                },
                [
                  digit ? (vue.openBlock(), vue.createElementBlock(
                    "text",
                    {
                      key: 0,
                      class: "code-digit"
                    },
                    vue.toDisplayString(digit),
                    1
                    /* TEXT */
                  )) : vue.createCommentVNode("v-if", true)
                ],
                2
                /* CLASS */
              );
            }),
            128
            /* KEYED_FRAGMENT */
          )),
          vue.createCommentVNode(" éšè—çš„ä¸»è¾“å…¥æ¡† "),
          vue.withDirectives(vue.createElementVNode(
            "input",
            {
              class: "main-input",
              type: "number",
              "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $data.mainInputValue = $event),
              maxlength: "4",
              placeholder: "",
              onInput: _cache[2] || (_cache[2] = (...args) => $options.handleMainInput && $options.handleMainInput(...args)),
              onFocus: _cache[3] || (_cache[3] = (...args) => $options.handleMainFocus && $options.handleMainFocus(...args)),
              onBlur: _cache[4] || (_cache[4] = (...args) => $options.handleMainBlur && $options.handleMainBlur(...args)),
              ref: "mainInput"
            },
            null,
            544
            /* NEED_HYDRATION, NEED_PATCH */
          ), [
            [vue.vModelText, $data.mainInputValue]
          ])
        ]),
        vue.createCommentVNode(" é‡æ–°è¾“å…¥æ‰‹æœºå· "),
        vue.createElementVNode("view", { class: "change-phone-section" }, [
          vue.createElementVNode("text", {
            class: "change-phone-link",
            onClick: _cache[5] || (_cache[5] = (...args) => $options.changePhone && $options.changePhone(...args))
          }, "é‡æ–°è¾“å…¥æ‰‹æœºå·")
        ]),
        vue.createCommentVNode(" é‡æ–°å‘é€é€‰é¡¹ "),
        vue.createElementVNode("view", { class: "resend-section" }, [
          vue.createElementVNode("text", { class: "resend-text" }, "æ²¡æœ‰æ”¶åˆ°éªŒè¯ç ?"),
          vue.createElementVNode("text", {
            class: "resend-link",
            onClick: _cache[6] || (_cache[6] = (...args) => $options.resendCode && $options.resendCode(...args))
          }, "é‡æ–°å‘é€")
        ]),
        vue.createCommentVNode(" æ³¨å†ŒæŒ‰é’® "),
        vue.createElementVNode("button", {
          class: "login-btn",
          onClick: _cache[7] || (_cache[7] = (...args) => $options.handleRegister && $options.handleRegister(...args)),
          disabled: !$options.isCodeComplete
        }, [
          vue.createElementVNode("text", { class: "btn-text" }, "æ³¨å†Œ")
        ], 8, ["disabled"])
      ])
    ]);
  }
  const PagesLoginVerificationCodeRegister = /* @__PURE__ */ _export_sfc(_sfc_main$4, [["render", _sfc_render$3], ["__scopeId", "data-v-8bc8ce00"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/login/verification-code-register.vue"]]);
  const _sfc_main$3 = {
    data() {
      return {
        verificationCode: ["", "", "", ""],
        mainInputValue: "",
        activeIndex: 0
      };
    },
    computed: {
      isCodeComplete() {
        return this.verificationCode.every((digit) => digit !== "");
      }
    },
    mounted() {
      this.$nextTick(() => {
        setTimeout(() => {
          this.focusMainInput();
        }, 300);
      });
    },
    methods: {
      handleMainInput(event) {
        const value = event.detail.value.replace(/\D/g, "").slice(0, 4);
        this.mainInputValue = value;
        for (let i = 0; i < 4; i++) {
          this.verificationCode[i] = value[i] || "";
        }
        if (value.length > 0) {
          this.activeIndex = Math.min(value.length - 1, 3);
        } else {
          this.activeIndex = 0;
        }
      },
      handleMainFocus() {
        if (this.mainInputValue.length > 0) {
          this.activeIndex = Math.min(this.mainInputValue.length - 1, 3);
        } else {
          this.activeIndex = 0;
        }
      },
      handleMainBlur() {
        this.activeIndex = -1;
      },
      focusMainInput() {
        this.$nextTick(() => {
          if (this.$refs.mainInput) {
            const input = this.$refs.mainInput;
            if (input && input.focus) {
              input.focus();
            }
          }
        });
      },
      resendCode() {
        formatAppLog("log", "at pages/login/verification-code-resetPassword.vue:126", "é‡æ–°å‘é€éªŒè¯ç ");
        uni.showToast({
          title: "éªŒè¯ç å·²é‡æ–°å‘é€",
          icon: "success"
        });
      },
      handleNext() {
        if (!this.isCodeComplete) {
          uni.showToast({
            title: "è¯·è¾“å…¥å®Œæ•´çš„éªŒè¯ç ",
            icon: "none"
          });
          return;
        }
        const code = this.verificationCode.join("");
        formatAppLog("log", "at pages/login/verification-code-resetPassword.vue:145", "éªŒè¯ç :", code);
        uni.showToast({
          title: "éªŒè¯æˆåŠŸ",
          icon: "success"
        });
        setTimeout(() => {
          uni.navigateTo({
            url: "/pages/login/rest-verify-password"
          });
        }, 1e3);
      },
      goBack() {
        uni.navigateBack();
      },
      changePhone() {
        uni.redirectTo({
          url: "/pages/login/reset-password"
        });
      }
    }
  };
  function _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "verification-container" }, [
      vue.createCommentVNode(" ä¸»å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" æ ‡é¢˜ "),
        vue.createElementVNode("text", { class: "title" }, "è¯·è¾“å…¥éªŒè¯ç "),
        vue.createCommentVNode(" è¯´æ˜æ–‡å­— "),
        vue.createElementVNode("text", { class: "instruction" }, "æˆ‘ä»¬åˆšåˆšå‘æ‚¨å‘é€äº†ä¸€æ¡éªŒè¯ç ,è¯·æŸ¥çœ‹æ‚¨çš„ä¿¡ç®±"),
        vue.createCommentVNode(" éªŒè¯ç è¾“å…¥æ¡† "),
        vue.createElementVNode("view", { class: "code-input-section" }, [
          (vue.openBlock(true), vue.createElementBlock(
            vue.Fragment,
            null,
            vue.renderList($data.verificationCode, (digit, index) => {
              return vue.openBlock(), vue.createElementBlock(
                "view",
                {
                  key: index,
                  class: vue.normalizeClass(["code-input-field", { "active": $data.activeIndex === index }]),
                  onClick: _cache[0] || (_cache[0] = (...args) => $options.focusMainInput && $options.focusMainInput(...args))
                },
                [
                  digit ? (vue.openBlock(), vue.createElementBlock(
                    "text",
                    {
                      key: 0,
                      class: "code-digit"
                    },
                    vue.toDisplayString(digit),
                    1
                    /* TEXT */
                  )) : vue.createCommentVNode("v-if", true)
                ],
                2
                /* CLASS */
              );
            }),
            128
            /* KEYED_FRAGMENT */
          )),
          vue.createCommentVNode(" éšè—çš„ä¸»è¾“å…¥æ¡† "),
          vue.withDirectives(vue.createElementVNode(
            "input",
            {
              class: "main-input",
              type: "number",
              "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $data.mainInputValue = $event),
              maxlength: "4",
              placeholder: "",
              onInput: _cache[2] || (_cache[2] = (...args) => $options.handleMainInput && $options.handleMainInput(...args)),
              onFocus: _cache[3] || (_cache[3] = (...args) => $options.handleMainFocus && $options.handleMainFocus(...args)),
              onBlur: _cache[4] || (_cache[4] = (...args) => $options.handleMainBlur && $options.handleMainBlur(...args)),
              ref: "mainInput"
            },
            null,
            544
            /* NEED_HYDRATION, NEED_PATCH */
          ), [
            [vue.vModelText, $data.mainInputValue]
          ])
        ]),
        vue.createCommentVNode(" é‡æ–°è¾“å…¥æ‰‹æœºå· "),
        vue.createElementVNode("view", { class: "change-phone-section" }, [
          vue.createElementVNode("text", {
            class: "change-phone-link",
            onClick: _cache[5] || (_cache[5] = (...args) => $options.changePhone && $options.changePhone(...args))
          }, "é‡æ–°è¾“å…¥æ‰‹æœºå·")
        ]),
        vue.createCommentVNode(" é‡æ–°å‘é€é€‰é¡¹ "),
        vue.createElementVNode("view", { class: "resend-section" }, [
          vue.createElementVNode("text", { class: "resend-text" }, "æ²¡æœ‰æ”¶åˆ°éªŒè¯ç ?"),
          vue.createElementVNode("text", {
            class: "resend-link",
            onClick: _cache[6] || (_cache[6] = (...args) => $options.resendCode && $options.resendCode(...args))
          }, "é‡æ–°å‘é€")
        ]),
        vue.createCommentVNode(" ä¸‹ä¸€æ­¥æŒ‰é’® "),
        vue.createElementVNode("button", {
          class: "login-btn",
          onClick: _cache[7] || (_cache[7] = (...args) => $options.handleNext && $options.handleNext(...args)),
          disabled: !$options.isCodeComplete
        }, [
          vue.createElementVNode("text", { class: "btn-text" }, "ä¸‹ä¸€æ­¥")
        ], 8, ["disabled"])
      ])
    ]);
  }
  const PagesLoginVerificationCodeResetPassword = /* @__PURE__ */ _export_sfc(_sfc_main$3, [["render", _sfc_render$2], ["__scopeId", "data-v-d45d87a1"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/login/verification-code-resetPassword.vue"]]);
  const _sfc_main$2 = {
    data() {
      return {
        phone: ""
      };
    },
    methods: {
      handleLogin() {
        if (!this.phone) {
          uni.showToast({
            title: "è¯·è¾“å…¥æ‰‹æœºå·",
            icon: "none"
          });
          return;
        }
        uni.navigateTo({
          url: "/pages/login/verification-code-resetPassword"
        });
      },
      goToPasswordLogin() {
        uni.navigateTo({
          url: "/pages/login/login-replica"
        });
      },
      goToRegister() {
        uni.navigateTo({
          url: "/pages/login/phone-register"
        });
      },
      goToTermsOfService() {
        uni.navigateTo({
          url: "/pages/settings/terms-of-service"
        });
      }
    }
  };
  function _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "login-container" }, [
      vue.createCommentVNode(" ä¸»å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" åº”ç”¨Logo "),
        vue.createElementVNode("view", { class: "app-header" }, [
          vue.createElementVNode("image", {
            class: "app-logo",
            src: _imports_0$1,
            mode: "aspectFit"
          })
        ]),
        vue.createCommentVNode(" é—®å€™è¯­å’Œæ¬¢è¿æ–‡å­— "),
        vue.createElementVNode("view", { class: "greeting-section" }, [
          vue.createElementVNode("text", { class: "greeting-text" }, "ä¿®æ”¹å¯†ç "),
          vue.createElementVNode("text", { class: "welcome-text" }, "è¯·è¾“å…¥ç»‘å®šçš„æ‰‹æœºå·ç ")
        ]),
        vue.createCommentVNode(" ç™»å½•è¡¨å• "),
        vue.createElementVNode("view", { class: "login-form" }, [
          vue.createCommentVNode(" æ‰‹æœºå·è¾“å…¥æ¡† "),
          vue.createElementVNode("view", { class: "input-group" }, [
            vue.createElementVNode("text", { class: "input-label" }, "æ‰‹æœºå·"),
            vue.createElementVNode("view", { class: "input-wrapper" }, [
              vue.withDirectives(vue.createElementVNode(
                "input",
                {
                  class: "form-input",
                  type: "text",
                  "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.phone = $event),
                  maxlength: "11"
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $data.phone]
              ]),
              vue.createElementVNode("view", { class: "input-underline" })
            ])
          ]),
          vue.createCommentVNode(" è¿”å›ç™»å½•é“¾æ¥ "),
          vue.createElementVNode("view", { class: "back-login-section" }, [
            vue.createElementVNode("text", {
              class: "back-login-text",
              onClick: _cache[1] || (_cache[1] = (...args) => $options.goToPasswordLogin && $options.goToPasswordLogin(...args))
            }, "è¿”å›ç™»å½•")
          ]),
          vue.createCommentVNode(" ç”¨æˆ·åè®® "),
          vue.createElementVNode("view", { class: "terms-section" }, [
            vue.createElementVNode("text", {
              class: "terms-link",
              onClick: _cache[2] || (_cache[2] = (...args) => $options.goToTermsOfService && $options.goToTermsOfService(...args))
            }, "æœåŠ¡æ¡æ¬¾")
          ]),
          vue.createCommentVNode(" ç™»å½•æŒ‰é’® "),
          vue.createElementVNode("button", {
            class: "login-btn",
            onClick: _cache[3] || (_cache[3] = (...args) => $options.handleLogin && $options.handleLogin(...args))
          }, [
            vue.createElementVNode("text", { class: "btn-text" }, "è·å–éªŒè¯ç ")
          ]),
          vue.createCommentVNode(" æ³¨å†Œé“¾æ¥ "),
          vue.createElementVNode("view", { class: "register-section" }, [
            vue.createElementVNode("text", { class: "register-text" }, "æ²¡æœ‰è´¦å·?"),
            vue.createElementVNode("text", {
              class: "register-link",
              onClick: _cache[4] || (_cache[4] = (...args) => $options.goToRegister && $options.goToRegister(...args))
            }, "æ³¨å†Œè´¦å·")
          ])
        ])
      ])
    ]);
  }
  const PagesLoginResetPassword = /* @__PURE__ */ _export_sfc(_sfc_main$2, [["render", _sfc_render$1], ["__scopeId", "data-v-a620d4da"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/login/reset-password.vue"]]);
  const _sfc_main$1 = {
    data() {
      return {
        username: "",
        password: ""
      };
    },
    computed: {
      isFormValid() {
        return this.username && this.password && this.username === this.password;
      }
    },
    methods: {
      handleConfirm() {
        if (!this.username || !this.password) {
          uni.showToast({
            title: "è¯·è¾“å…¥æ–°å¯†ç å’Œç¡®è®¤å¯†ç ",
            icon: "none"
          });
          return;
        }
        if (this.username !== this.password) {
          uni.showToast({
            title: "ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´",
            icon: "none"
          });
          return;
        }
        formatAppLog("log", "at pages/login/rest-verify-password.vue:99", "å¯†ç ä¿®æ”¹ä¿¡æ¯:", {
          newPassword: this.username
        });
        uni.showToast({
          title: "å¯†ç ä¿®æ”¹æˆåŠŸ",
          icon: "success"
        });
        setTimeout(() => {
          uni.navigateTo({
            url: "/pages/login/login-replica"
          });
        }, 1500);
      },
      goToTermsOfService() {
        uni.navigateTo({
          url: "/pages/settings/terms-of-service"
        });
      }
    }
  };
  function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "login-container" }, [
      vue.createCommentVNode(" ä¸»å†…å®¹åŒºåŸŸ "),
      vue.createElementVNode("view", { class: "main-content" }, [
        vue.createCommentVNode(" åº”ç”¨Logo "),
        vue.createElementVNode("view", { class: "app-header" }, [
          vue.createElementVNode("image", {
            class: "app-logo",
            src: _imports_0$1,
            mode: "aspectFit"
          })
        ]),
        vue.createCommentVNode(" é—®å€™è¯­å’Œæ¬¢è¿æ–‡å­— "),
        vue.createElementVNode("view", { class: "greeting-section" }, [
          vue.createElementVNode("text", { class: "greeting-text" }, "ä¿®æ”¹å¯†ç "),
          vue.createElementVNode("text", { class: "welcome-text" }, "è¯·æ‚¨ä¿®æ”¹å½“å‰è´¦å·å¯†ç ï¼Œåœ¨ä¿®æ”¹åéœ€è¦é‡æ–°ç™»å½•")
        ]),
        vue.createCommentVNode(" ç™»å½•è¡¨å• "),
        vue.createElementVNode("view", { class: "login-form" }, [
          vue.createCommentVNode(" æ–°å¯†ç è¾“å…¥æ¡† "),
          vue.createElementVNode("view", { class: "input-group" }, [
            vue.createElementVNode("text", { class: "input-label" }, "æ–°å¯†ç "),
            vue.createElementVNode("view", { class: "input-wrapper" }, [
              vue.withDirectives(vue.createElementVNode(
                "input",
                {
                  class: "form-input",
                  type: "password",
                  "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.username = $event)
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $data.username]
              ]),
              vue.createElementVNode("view", { class: "input-underline" })
            ])
          ]),
          vue.createCommentVNode(" ç¡®è®¤å¯†ç è¾“å…¥æ¡† "),
          vue.createElementVNode("view", { class: "input-group" }, [
            vue.createElementVNode("text", { class: "input-label" }, "è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç "),
            vue.createElementVNode("view", { class: "input-wrapper" }, [
              vue.withDirectives(vue.createElementVNode(
                "input",
                {
                  class: "form-input",
                  type: "password",
                  "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $data.password = $event)
                },
                null,
                512
                /* NEED_PATCH */
              ), [
                [vue.vModelText, $data.password]
              ]),
              vue.createElementVNode("view", { class: "input-underline" })
            ])
          ]),
          vue.createCommentVNode(" ç”¨æˆ·åè®® "),
          vue.createElementVNode("view", { class: "terms-section" }, [
            vue.createElementVNode("text", {
              class: "terms-link",
              onClick: _cache[2] || (_cache[2] = (...args) => $options.goToTermsOfService && $options.goToTermsOfService(...args))
            }, "æœåŠ¡æ¡æ¬¾")
          ]),
          vue.createCommentVNode(" ç¡®è®¤æŒ‰é’® "),
          vue.createElementVNode("button", {
            class: "login-btn",
            onClick: _cache[3] || (_cache[3] = (...args) => $options.handleConfirm && $options.handleConfirm(...args)),
            disabled: !$options.isFormValid
          }, [
            vue.createElementVNode("text", { class: "btn-text" }, "ä¿®æ”¹å¯†ç ")
          ], 8, ["disabled"]),
          vue.createCommentVNode(" è¿”å›ç™»å½•é“¾æ¥ "),
          vue.createElementVNode("view", { class: "register-section" }, [
            vue.createElementVNode("text", { class: "register-text" }, "æ²¡æœ‰è´¦å·ï¼Ÿ"),
            vue.createElementVNode("text", {
              class: "register-link",
              onClick: _cache[4] || (_cache[4] = (...args) => _ctx.goToLogin && _ctx.goToLogin(...args))
            }, "æ³¨å†Œè´¦å·")
          ])
        ])
      ])
    ]);
  }
  const PagesLoginRestVerifyPassword = /* @__PURE__ */ _export_sfc(_sfc_main$1, [["render", _sfc_render], ["__scopeId", "data-v-05144a59"], ["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/pages/login/rest-verify-password.vue"]]);
  __definePage("pages/index/index", PagesIndexIndex);
  __definePage("pages/ai/ai", PagesAiAi);
  __definePage("pages/ai/customize-ai", PagesAiCustomizeAi);
  __definePage("pages/ai/gift", PagesAiGift);
  __definePage("pages/ai/level-up", PagesAiLevelUp);
  __definePage("pages/ai/permissions", PagesAiPermissions);
  __definePage("pages/ai/ai-list", PagesAiAiList);
  __definePage("pages/ai/pet-ai-detail", PagesAiPetAiDetail);
  __definePage("pages/ai/ai-chat", PagesAiAiChat);
  __definePage("pages/ai/ai-store", PagesAiAiStore);
  __definePage("pages/ai/tasks", PagesAiTasks);
  __definePage("pages/ai/task-detail", PagesAiTaskDetail);
  __definePage("pages/chat/chat", PagesChatChat);
  __definePage("pages/chat/search", PagesChatSearch);
  __definePage("pages/chat/date-search", PagesChatDateSearch);
  __definePage("pages/chat/search-results", PagesChatSearchResults);
  __definePage("pages/chat/chat-info", PagesChatChatInfo);
  __definePage("pages/chat/friend-card", PagesChatFriendCard);
  __definePage("pages/chat/friend-list", PagesChatFriendList);
  __definePage("pages/chat/chat-list", PagesChatChatList);
  __definePage("pages/feed/content-feed", PagesFeedContentFeed);
  __definePage("pages/feed/chat-feed", PagesFeedChatFeed);
  __definePage("pages/feed/post-detail", PagesFeedPostDetail);
  __definePage("pages/feed/user-profile", PagesFeedUserProfile);
  __definePage("pages/feed/my-comments", PagesFeedMyComments);
  __definePage("pages/feed/novel-detail", PagesFeedNovelDetail);
  __definePage("pages/feed/novel-more-reviews", PagesFeedNovelMoreReviews);
  __definePage("pages/feed/review-detail", PagesFeedReviewDetail);
  __definePage("pages/feed/achievements", PagesFeedAchievements);
  __definePage("pages/feed/search", PagesFeedSearch);
  __definePage("pages/feed/likes-dislikes", PagesFeedLikesDislikes);
  __definePage("pages/feed/interaction-messages", PagesFeedInteractionMessages);
  __definePage("pages/publish/publish", PagesPublishPublish);
  __definePage("pages/settings/settings", PagesSettingsSettings);
  __definePage("pages/settings/system-permissions", PagesSettingsSystemPermissions);
  __definePage("pages/settings/permissions", PagesSettingsPermissions);
  __definePage("pages/settings/album-permissions", PagesSettingsAlbumPermissions);
  __definePage("pages/settings/blocked-users", PagesSettingsBlockedUsers);
  __definePage("pages/settings/customer-service", PagesSettingsCustomerService);
  __definePage("pages/settings/terms-of-service", PagesSettingsTermsOfService);
  __definePage("pages/settings/switch-account", PagesSettingsSwitchAccount);
  __definePage("pages/settings/mode-selection", PagesSettingsModeSelection);
  __definePage("pages/settings/notification-settings", PagesSettingsNotificationSettings);
  __definePage("pages/settings/privacy-settings", PagesSettingsPrivacySettings);
  __definePage("pages/settings/account-security", PagesSettingsAccountSecurity);
  __definePage("pages/settings/device-management", PagesSettingsDeviceManagement);
  __definePage("pages/settings/third-party-binding", PagesSettingsThirdPartyBinding);
  __definePage("pages/settings/add-ways", PagesSettingsAddWays);
  __definePage("pages/settings/language", PagesSettingsLanguage);
  __definePage("pages/settings/notification-display", PagesSettingsNotificationDisplay);
  __definePage("pages/verification/official-certification", PagesVerificationOfficialCertification);
  __definePage("pages/verification/school-certification", PagesVerificationSchoolCertification);
  __definePage("pages/verification/professional-certification", PagesVerificationProfessionalCertification);
  __definePage("pages/verification/real-name-verification", PagesVerificationRealNameVerification);
  __definePage("pages/verification/face-recognition", PagesVerificationFaceRecognition);
  __definePage("pages/verification/verification-complete", PagesVerificationVerificationComplete);
  __definePage("pages/verification/certification-feedback", PagesVerificationCertificationFeedback);
  __definePage("pages/wallet/wallet", PagesWalletWallet);
  __definePage("pages/wallet/recharge", PagesWalletRecharge);
  __definePage("pages/wallet/purchase-record", PagesWalletPurchaseRecord);
  __definePage("pages/report/report", PagesReportReport);
  __definePage("pages/report/report-evidence", PagesReportReportEvidence);
  __definePage("pages/report/report-feedback", PagesReportReportFeedback);
  __definePage("pages/login/phone-login", PagesLoginPhoneLogin);
  __definePage("pages/login/login-replica", PagesLoginLoginReplica);
  __definePage("pages/login/login-unbound", PagesLoginLoginUnbound);
  __definePage("pages/login/phone-register", PagesLoginPhoneRegister);
  __definePage("pages/login/verification-code-login", PagesLoginVerificationCodeLogin);
  __definePage("pages/login/verification-code-register", PagesLoginVerificationCodeRegister);
  __definePage("pages/login/verification-code-resetPassword", PagesLoginVerificationCodeResetPassword);
  __definePage("pages/login/reset-password", PagesLoginResetPassword);
  __definePage("pages/login/rest-verify-password", PagesLoginRestVerifyPassword);
  const _sfc_main = {
    onLaunch: function() {
      formatAppLog("log", "at App.vue:4", "App Launch");
    },
    onShow: function() {
      formatAppLog("log", "at App.vue:7", "App Show");
    },
    onHide: function() {
      formatAppLog("log", "at App.vue:10", "App Hide");
    }
  };
  const App = /* @__PURE__ */ _export_sfc(_sfc_main, [["__file", "D:/ä¸­æ–‡/Desktop/Afriends/Afriends_v3-master/Afriends_v3-master/AFriendsVue_v3.0.0/App.vue"]]);
  function createApp() {
    const app = vue.createVueApp(App);
    return {
      app
    };
  }
  const { app: __app__, Vuex: __Vuex__, Pinia: __Pinia__ } = createApp();
  uni.Vuex = __Vuex__;
  uni.Pinia = __Pinia__;
  __app__.provide("__globalStyles", __uniConfig.styles);
  __app__._component.mpType = "app";
  __app__._component.render = () => {
  };
  __app__.mount("#app");
})(Vue);
