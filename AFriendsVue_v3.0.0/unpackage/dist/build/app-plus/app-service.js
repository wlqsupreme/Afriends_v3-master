if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((a=>t.resolve(e()).then((()=>a))),(a=>t.resolve(e()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";const t="/static/afriends-logo.png",a=(e,t)=>{const a=e.__vccOpts||e;for(const[s,o]of t)a[s]=o;return a};const s=a({name:"IndexPage",data:()=>({}),methods:{goToLogin(){uni.navigateTo({url:"/pages/login/login-replica"})},goToHome(){uni.navigateTo({url:"/pages/feed/content-feed"})},goToChatList(){uni.navigateTo({url:"/pages/chat/chat-list"})},goToAIChat(){uni.navigateTo({url:"/pages/ai/ai-chat"})},goToFriendList(){uni.navigateTo({url:"/pages/chat/friend-list"})},goToProfile(){uni.navigateTo({url:"/pages/feed/user-profile"})},goToSettings(){uni.navigateTo({url:"/pages/settings/settings"})},goToWallet(){uni.navigateTo({url:"/pages/wallet/wallet"})},goToHelp(){uni.showToast({title:"Â∏ÆÂä©ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})}}},[["render",function(a,s,o,i,n,l){return e.openBlock(),e.createElementBlock("view",{class:"index-page"},[e.createElementVNode("view",{class:"app-header"},[e.createElementVNode("image",{class:"app-logo",src:t,mode:"aspectFit"}),e.createElementVNode("text",{class:"app-title"},"Afriends"),e.createElementVNode("text",{class:"app-subtitle"},"Êô∫ËÉΩ‰∫§ÂèãÂπ≥Âè∞")]),e.createElementVNode("view",{class:"navigation-grid"},[e.createElementVNode("view",{class:"nav-item login-item",onClick:s[0]||(s[0]=(...e)=>l.goToLogin&&l.goToLogin(...e))},[e.createElementVNode("view",{class:"nav-icon login-icon"},[e.createElementVNode("text",{class:"icon-text"},"üîê")]),e.createElementVNode("text",{class:"nav-text"},"ÁôªÂΩï/Ê≥®ÂÜå"),e.createElementVNode("text",{class:"nav-desc"},"ÂºÄÂßã‰Ω†ÁöÑ‰∫§Âèã‰πãÊóÖ")]),e.createElementVNode("view",{class:"nav-item",onClick:s[1]||(s[1]=(...e)=>l.goToHome&&l.goToHome(...e))},[e.createElementVNode("view",{class:"nav-icon home-icon"},[e.createElementVNode("text",{class:"icon-text"},"üè†")]),e.createElementVNode("text",{class:"nav-text"},"È¶ñÈ°µ"),e.createElementVNode("text",{class:"nav-desc"},"ÂèëÁé∞Á≤æÂΩ©ÂÜÖÂÆπ")]),e.createElementVNode("view",{class:"nav-item",onClick:s[2]||(s[2]=(...e)=>l.goToChatList&&l.goToChatList(...e))},[e.createElementVNode("view",{class:"nav-icon chat-icon"},[e.createElementVNode("text",{class:"icon-text"},"üí¨")]),e.createElementVNode("text",{class:"nav-text"},"Ê∂àÊÅØ"),e.createElementVNode("text",{class:"nav-desc"},"Êü•ÁúãËÅäÂ§©ËÆ∞ÂΩï")]),e.createElementVNode("view",{class:"nav-item",onClick:s[3]||(s[3]=(...e)=>l.goToAIChat&&l.goToAIChat(...e))},[e.createElementVNode("view",{class:"nav-icon ai-icon"},[e.createElementVNode("text",{class:"icon-text"},"ü§ñ")]),e.createElementVNode("text",{class:"nav-text"},"AIÂä©Êâã"),e.createElementVNode("text",{class:"nav-desc"},"Êô∫ËÉΩÂØπËØù‰ΩìÈ™å")]),e.createElementVNode("view",{class:"nav-item",onClick:s[4]||(s[4]=(...e)=>l.goToFriendList&&l.goToFriendList(...e))},[e.createElementVNode("view",{class:"nav-icon friend-icon"},[e.createElementVNode("text",{class:"icon-text"},"üë•")]),e.createElementVNode("text",{class:"nav-text"},"Â•ΩÂèã"),e.createElementVNode("text",{class:"nav-desc"},"ÁÆ°ÁêÜÂ•ΩÂèãÂÖ≥Á≥ª")]),e.createElementVNode("view",{class:"nav-item",onClick:s[5]||(s[5]=(...e)=>l.goToProfile&&l.goToProfile(...e))},[e.createElementVNode("view",{class:"nav-icon profile-icon"},[e.createElementVNode("text",{class:"icon-text"},"üë§")]),e.createElementVNode("text",{class:"nav-text"},"ÊàëÁöÑ"),e.createElementVNode("text",{class:"nav-desc"},"‰∏™‰∫∫ËµÑÊñôÁÆ°ÁêÜ")])]),e.createElementVNode("view",{class:"quick-actions"},[e.createElementVNode("text",{class:"section-title"},"Âø´ÈÄüÂäüËÉΩ"),e.createElementVNode("view",{class:"action-buttons"},[e.createElementVNode("view",{class:"action-btn",onClick:s[6]||(s[6]=(...e)=>l.goToSettings&&l.goToSettings(...e))},[e.createElementVNode("text",{class:"action-icon"},"‚öôÔ∏è"),e.createElementVNode("text",{class:"action-text"},"ËÆæÁΩÆ")]),e.createElementVNode("view",{class:"action-btn",onClick:s[7]||(s[7]=(...e)=>l.goToWallet&&l.goToWallet(...e))},[e.createElementVNode("text",{class:"action-icon"},"üí∞"),e.createElementVNode("text",{class:"action-text"},"Èí±ÂåÖ")]),e.createElementVNode("view",{class:"action-btn",onClick:s[8]||(s[8]=(...e)=>l.goToHelp&&l.goToHelp(...e))},[e.createElementVNode("text",{class:"action-icon"},"‚ùì"),e.createElementVNode("text",{class:"action-text"},"Â∏ÆÂä©")])])]),e.createElementVNode("view",{class:"footer-info"},[e.createElementVNode("text",{class:"version-text"},"ÁâàÊú¨ 3.0.0"),e.createElementVNode("text",{class:"copyright-text"},"¬© 2024 Afriends. All rights reserved.")])])}]]);function o(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}const i=a({name:"AiPage",data:()=>({showSideMenu:!1}),methods:{openMenu(){this.showSideMenu=!0},closeSideMenu(){this.showSideMenu=!1},goToMyAI(){uni.navigateTo({url:"/pages/ai/ai"})},goToMyCertification(){uni.navigateTo({url:"/pages/verification/official-certification"})},goToMyPreferences(){uni.navigateTo({url:"/pages/feed/likes-dislikes"})},goToMyAchievements(){uni.navigateTo({url:"/pages/feed/achievements"})},goToAlbum(){uni.showToast({title:"Áõ∏ÂÜåÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},goToHistoryComments(){uni.navigateTo({url:"/pages/feed/interaction-messages"})},goToBrowsingHistory(){uni.showToast({title:"ÊµèËßàËÆ∞ÂΩïÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},goToDraftBox(){uni.showToast({title:"ËçâÁ®øÁÆ±ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},goToPurchaseRecord(){uni.navigateTo({url:"/pages/wallet/purchase-record"})},goToShoppingCart(){uni.showToast({title:"Ë¥≠Áâ©ËΩ¶ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},goToWallet(){uni.navigateTo({url:"/pages/wallet/wallet"})},goToEditProfile(){uni.showToast({title:"ÁºñËæëËµÑÊñôÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},goToAIImage(){o("log","at pages/ai/ai.vue:177","ÁÇπÂáªAIÂΩ¢Ë±°ÔºåÂáÜÂ§áË∑≥ËΩ¨"),uni.navigateTo({url:"/pages/ai/gift"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"ai-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"btn back",onClick:a[0]||(a[0]=(...e)=>n.openMenu&&n.openMenu(...e))}),e.createElementVNode("view",{class:"btn settings"})]),e.createElementVNode("view",{class:"profile"},[e.createElementVNode("view",{class:"avatar-wrap"},[e.createElementVNode("image",{class:"avatar",src:"",mode:"aspectFill"})]),e.createElementVNode("text",{class:"name"},"Áõ∏‰∫≤AI"),e.createElementVNode("text",{class:"level"},"lv10 ÁªèÈ™å2000/4000")]),e.createElementVNode("view",{class:"sections"},[e.createElementVNode("view",{class:"cell",onClick:a[1]||(a[1]=(...e)=>n.goToAIImage&&n.goToAIImage(...e))},[e.createElementVNode("view",{class:"cell-icon"}),e.createElementVNode("text",{class:"cell-title"},"AIÂΩ¢Ë±°")]),e.createElementVNode("view",{class:"cell"},[e.createElementVNode("view",{class:"cell-icon"}),e.createElementVNode("text",{class:"cell-title"},"‰ªªÂä°")])]),e.createElementVNode("view",{class:e.normalizeClass(["side-menu",{active:i.showSideMenu}]),onClick:a[15]||(a[15]=(...e)=>n.closeSideMenu&&n.closeSideMenu(...e))},[e.createElementVNode("view",{class:"menu-content",onClick:a[14]||(a[14]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"menu-header"},[e.createElementVNode("view",{class:"menu-close",onClick:a[2]||(a[2]=(...e)=>n.closeSideMenu&&n.closeSideMenu(...e))},[e.createElementVNode("text",{class:"close-icon"},"√ó")])]),e.createElementVNode("view",{class:"menu-list"},[e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[3]||(a[3]=(...e)=>n.goToMyAI&&n.goToMyAI(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑAI")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[4]||(a[4]=(...e)=>n.goToMyCertification&&n.goToMyCertification(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑËÆ§ËØÅ")]),e.createElementVNode("view",{class:"menu-item",onClick:a[5]||(a[5]=(...e)=>n.goToMyPreferences&&n.goToMyPreferences(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑÂñúÊÅ∂")]),e.createElementVNode("view",{class:"menu-item",onClick:a[6]||(a[6]=(...e)=>n.goToMyAchievements&&n.goToMyAchievements(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑÊàêÂ∞±")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[7]||(a[7]=(...e)=>n.goToAlbum&&n.goToAlbum(...e))},[e.createElementVNode("text",{class:"menu-text"},"Áõ∏ÂÜå")]),e.createElementVNode("view",{class:"menu-item",onClick:a[8]||(a[8]=(...e)=>n.goToHistoryComments&&n.goToHistoryComments(...e))},[e.createElementVNode("text",{class:"menu-text"},"‰∫íÂä®Ê∂àÊÅØ")]),e.createElementVNode("view",{class:"menu-item",onClick:a[9]||(a[9]=(...e)=>n.goToBrowsingHistory&&n.goToBrowsingHistory(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊµèËßàËÆ∞ÂΩï")]),e.createElementVNode("view",{class:"menu-item",onClick:a[10]||(a[10]=(...e)=>n.goToDraftBox&&n.goToDraftBox(...e))},[e.createElementVNode("text",{class:"menu-text"},"ËçâÁ®øÁÆ±")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[11]||(a[11]=(...e)=>n.goToPurchaseRecord&&n.goToPurchaseRecord(...e))},[e.createElementVNode("text",{class:"menu-text"},"Ë¥≠‰π∞ËÆ∞ÂΩï")]),e.createElementVNode("view",{class:"menu-item",onClick:a[12]||(a[12]=(...e)=>n.goToWallet&&n.goToWallet(...e))},[e.createElementVNode("text",{class:"menu-text"},"Èí±ÂåÖ")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[13]||(a[13]=(...e)=>n.goToEditProfile&&n.goToEditProfile(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÁºñËæëËµÑÊñô")])])])])],2)])}]]);const n=a({name:"CustomizeAiPage",data:()=>({}),methods:{goToLevelUp(){uni.navigateTo({url:"/pages/ai/level-up"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"customize-ai-page"},[e.createElementVNode("view",{class:"ai-profile"},[e.createElementVNode("view",{class:"ai-avatar-wrap"},[e.createElementVNode("image",{class:"ai-avatar",src:"",mode:"aspectFill"})]),e.createElementVNode("view",{class:"ai-info"},[e.createElementVNode("text",{class:"ai-name"},"Áõ∏‰∫≤AI"),e.createElementVNode("view",{class:"ai-level-row"},[e.createElementVNode("text",{class:"ai-level"},"Lv10"),e.createElementVNode("text",{class:"level-up-link",onClick:a[0]||(a[0]=(...e)=>n.goToLevelUp&&n.goToLevelUp(...e))},"Á≠âÁ∫ßÊèêÂçá")])])]),e.createElementVNode("view",{class:"divider"}),e.createElementVNode("view",{class:"divider"}),e.createElementVNode("view",{class:"gift-section"},[e.createElementVNode("text",{class:"section-title"},"Á§ºÁâ©ÈôêÈ¢ù"),e.createElementVNode("text",{class:"section-desc"},"ËÆæÁΩÆË¶ÅÁªôAIÁöÑÈ¢ùÂ∫¶"),e.createElementVNode("view",{class:"gift-input"},[e.createElementVNode("view",{class:"input-field"},[e.createElementVNode("text",{class:"placeholder"},"ËØ∑ËæìÂÖ•")]),e.createElementVNode("text",{class:"currency"},"ÈáëÂ∏Å")])]),e.createElementVNode("view",{class:"save-section"},[e.createElementVNode("view",{class:"save-btn"},[e.createElementVNode("text",{class:"save-text"},"‰øùÂ≠ò")])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const l=a({name:"GiftPage",data:()=>({userAiId:null,userId:null,aiName:"",aiAvatar:"/static/logo.png",level:1,currentExp:0,nextExp:1e3,power:0,activeTaskCount:0,gifts:[],showGiftsList:!0,levelRules:[],currentLevelRule:null,nextLevelRule:null,loading:!1,errorMessage:""}),onLoad(e){o("log","at pages/ai/gift.vue:163","giftÈ°µÈù¢Âä†ËΩΩÔºåÊé•Êî∂Âà∞ÁöÑÂèÇÊï∞:",e),e.userAiId&&(this.userAiId=parseInt(e.userAiId)),e.aiName&&(this.aiName=decodeURIComponent(e.aiName)),!this.aiName&&this.userAiId&&(this.aiName=this.userAiId.toString()),this.userId=uni.getStorageSync("userId")||1,this.loadAiModelData(),this.loadLevelRules(),this.loadGiftData(),this.loadActiveTaskCount()},onShow(){o("log","at pages/ai/gift.vue:190","giftÈ°µÈù¢ÊòæÁ§∫ÔºåÂà∑Êñ∞AIÊ®°ÂûãÊï∞ÊçÆ"),this.loadAiModelData(),this.loadLevelRules(),this.loadActiveTaskCount()},computed:{progressPercent(){const e=Math.min(100,Math.max(0,this.currentExp/this.nextExp*100));return Number(e.toFixed(2))},selectedGiftsCount(){return this.gifts.reduce(((e,t)=>e+t.count),0)}},methods:{async loadAiModelData(){if(this.userAiId)try{this.loading=!0,o("log","at pages/ai/gift.vue:215","ÂºÄÂßãÂä†ËΩΩAIÊ®°ÂûãÊï∞ÊçÆÔºåuserAiId:",this.userAiId);let e=await uni.request({url:`http://localhost:8888/api/user-ai-model/${this.userAiId}`,method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/ai/gift.vue:226","Áî®Êà∑AIÊ®°ÂûãÊï∞ÊçÆÂìçÂ∫î:",e),200===e.statusCode&&e.data||(o("log","at pages/ai/gift.vue:230","Áî®Êà∑AIÊ®°Âûã‰∏çÂ≠òÂú®ÔºåÂ∞ùËØï‰ªéÂü∫Á°ÄÊ®°ÂûãËé∑Âèñ"),e=await uni.request({url:`http://localhost:8888/api/a-entities/aimodel-base-info/${this.userAiId}`,method:"GET",header:{"Content-Type":"application/json"}}),o("log","at pages/ai/gift.vue:238","Âü∫Á°ÄAIÊ®°ÂûãÊï∞ÊçÆÂìçÂ∫î:",e)),200===e.statusCode&&e.data){const t=e.data;(t.modelName||t.name)&&(this.aiName=t.modelName||t.name);const a=t.modelImageUrl||t.imageUrl;a&&this.isValidImageUrl(a)?this.aiAvatar=a:(this.aiAvatar="",o("log","at pages/ai/gift.vue:255","AIÊ®°ÂûãÂõæÁâáURLÊó†ÊïàÔºå‰ΩøÁî®ÈªòËÆ§Â§¥ÂÉè:",a)),this.level=t.level||1,this.currentExp=t.totalExp||t.exp||0,this.power=t.power||0,this.updateLevelRules(),o("log","at pages/ai/gift.vue:265","AIÊ®°ÂûãÊï∞ÊçÆÂä†ËΩΩÊàêÂäü:",{aiName:this.aiName,level:this.level,currentExp:this.currentExp,nextExp:this.nextExp})}else o("error","at pages/ai/gift.vue:272","Âä†ËΩΩAIÊ®°ÂûãÊï∞ÊçÆÂ§±Ë¥•:",e),o("log","at pages/ai/gift.vue:274","‰øùÊåÅ‰º†ÂÖ•ÁöÑAIÂêçÁß∞:",this.aiName)}catch(e){o("error","at pages/ai/gift.vue:277","Âä†ËΩΩAIÊ®°ÂûãÊï∞ÊçÆÂºÇÂ∏∏:",e),this.errorMessage="ÁΩëÁªúÈîôËØØÔºåËØ∑Ê£ÄÊü•ËøûÊé•"}finally{this.loading=!1}else o("log","at pages/ai/gift.vue:209","Ê≤°ÊúâuserAiIdÔºåÊó†Ê≥ïÂä†ËΩΩAIÊ®°ÂûãÊï∞ÊçÆ")},async loadLevelRules(){try{o("log","at pages/ai/gift.vue:287","=== ÂºÄÂßãÂä†ËΩΩÁ≠âÁ∫ßËßÑÂàôÊï∞ÊçÆ ===");const e=await uni.request({url:"http://localhost:8888/api/aimodel-level-rule/all-ordered",method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/ai/gift.vue:297","Á≠âÁ∫ßËßÑÂàôÊï∞ÊçÆÂìçÂ∫î:",e),o("log","at pages/ai/gift.vue:298","ÂìçÂ∫îÁä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/ai/gift.vue:299","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data.success?(this.levelRules=e.data.data,o("log","at pages/ai/gift.vue:303","Á≠âÁ∫ßËßÑÂàôÊï∞ÊçÆÂä†ËΩΩÊàêÂäüÔºåÊï∞Èáè:",this.levelRules.length),o("log","at pages/ai/gift.vue:304","Ââç3Êù°Á≠âÁ∫ßËßÑÂàôÊï∞ÊçÆ:",this.levelRules.slice(0,3)),this.updateLevelRules()):(o("error","at pages/ai/gift.vue:309","Âä†ËΩΩÁ≠âÁ∫ßËßÑÂàôÊï∞ÊçÆÂ§±Ë¥•:",e),o("error","at pages/ai/gift.vue:310","Â§±Ë¥•ÂéüÂõ†:",e.data?e.data.message:"Êú™Áü•ÈîôËØØ"),this.setDefaultLevelRules())}catch(e){o("error","at pages/ai/gift.vue:315","Âä†ËΩΩÁ≠âÁ∫ßËßÑÂàôÊï∞ÊçÆÂºÇÂ∏∏:",e),o("error","at pages/ai/gift.vue:316","ÂºÇÂ∏∏ËØ¶ÊÉÖ:",e.message),this.setDefaultLevelRules()}},updateLevelRules(){if(o("log","at pages/ai/gift.vue:324","=== ÂºÄÂßãÊõ¥Êñ∞Á≠âÁ∫ßËßÑÂàô ==="),o("log","at pages/ai/gift.vue:325","ÂΩìÂâçÁä∂ÊÄÅ:",{levelRulesLength:this.levelRules.length,currentLevel:this.level,currentExp:this.currentExp}),0===this.levelRules.length)return o("warn","at pages/ai/gift.vue:332","Á≠âÁ∫ßËßÑÂàôÊï∞ÊçÆ‰∏∫Á©∫Ôºå‰ΩøÁî®ÈªòËÆ§ËßÑÂàô"),void this.setDefaultLevelRules();this.currentLevelRule=this.levelRules.find((e=>e.level===this.level)),o("log","at pages/ai/gift.vue:339","ÂΩìÂâçÁ≠âÁ∫ßËßÑÂàôÊü•ÊâæÁªìÊûú:",this.currentLevelRule),this.currentLevelRule?(this.nextExp=this.currentLevelRule.expRequirement,o("log","at pages/ai/gift.vue:344","ËÆæÁΩÆnextExp‰∏∫ÂΩìÂâçÁ≠âÁ∫ßÊâÄÈúÄÁªèÈ™å:",this.nextExp),o("log","at pages/ai/gift.vue:345","Á≠âÁ∫ßËßÑÂàôËØ¥Êòé: Á≠âÁ∫ß",this.level,"ÈúÄË¶Å",this.nextExp,"ÁªèÈ™åÊâçËÉΩÂçáÁ∫ß")):(this.nextExp=0,o("error","at pages/ai/gift.vue:349","Êâæ‰∏çÂà∞ÂΩìÂâçÁ≠âÁ∫ß",this.level,"ÁöÑËßÑÂàôÔºåËÆæÁΩÆnextExp‰∏∫0")),o("log","at pages/ai/gift.vue:352","Á≠âÁ∫ßËßÑÂàôÊõ¥Êñ∞ÂÆåÊàê:",{currentLevel:this.level,currentExp:this.currentExp,nextExp:this.nextExp,currentLevelRule:this.currentLevelRule,nextLevelRule:this.nextLevelRule})},setDefaultLevelRules(){o("log","at pages/ai/gift.vue:363","‰ΩøÁî®ÈªòËÆ§Á≠âÁ∫ßËßÑÂàô - Êï∞ÊçÆÊú™Ê≠£Á°ÆÂä†ËΩΩ"),this.levelRules=[],this.currentLevelRule=null,this.nextLevelRule=null,this.nextExp=0,o("warn","at pages/ai/gift.vue:369","Á≠âÁ∫ßËßÑÂàôÊï∞ÊçÆÊú™Âä†ËΩΩÔºånextExpËÆæÁΩÆ‰∏∫0ÔºåËØ∑Ê£ÄÊü•Êï∞ÊçÆÂä†ËΩΩÈÄªËæë")},async loadGiftData(){try{o("log","at pages/ai/gift.vue:375","ÂºÄÂßãÂä†ËΩΩÁ§ºÁâ©Êï∞ÊçÆ");const e=await uni.request({url:"http://localhost:8888/api/efmprt-entities-wlq/gift-base/all",method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/ai/gift.vue:385","Á§ºÁâ©Êï∞ÊçÆÂìçÂ∫î:",e),200===e.statusCode&&e.data?(this.gifts=this.convertGiftDataToDisplayFormat(e.data),o("log","at pages/ai/gift.vue:389","Á§ºÁâ©Êï∞ÊçÆÂä†ËΩΩÊàêÂäüÔºåÊï∞Èáè:",this.gifts.length)):(o("error","at pages/ai/gift.vue:391","Âä†ËΩΩÁ§ºÁâ©Êï∞ÊçÆÂ§±Ë¥•:",e),this.errorMessage="Âä†ËΩΩÁ§ºÁâ©Êï∞ÊçÆÂ§±Ë¥•")}catch(e){o("error","at pages/ai/gift.vue:395","Âä†ËΩΩÁ§ºÁâ©Êï∞ÊçÆÂºÇÂ∏∏:",e),this.errorMessage="ÁΩëÁªúÈîôËØØÔºåËØ∑Ê£ÄÊü•ËøûÊé•"}},convertGiftDataToDisplayFormat(e){return e.map(((e,t)=>{let a="",s="";if(e.description&&e.description.includes("Ôºö")){const t=e.description.split("Ôºö",2);a=t[0].trim(),s=t[1].trim()}else if(e.description&&e.description.includes(":")){const t=e.description.split(":",2);a=t[0].trim(),s=t[1].trim()}else a=e.description||`Á§ºÁâ©${t+1}`,s="ÊöÇÊó†ÊèèËø∞";const o=Math.round(100*(e.price||0)),i=this.getGiftIconClass(a);return{id:e.giftId,name:a,description:s,price:o,count:0,iconClass:i}}))},getGiftIconClass(e){const t=e.toLowerCase();return t.includes("Ëä±")||t.includes("flower")?"gift-flower":t.includes("Âï§ÈÖí")||t.includes("beer")?"gift-beer":t.includes("Á≥ñ")||t.includes("candy")||t.includes("lollipop")?"gift-lollipop":t.includes("Âúà")||t.includes("donut")?"gift-donut":t.includes("Â∑ßÂÖãÂäõ")||t.includes("chocolate")?"gift-chocolate":t.includes("ÂøÉ")||t.includes("heart")?"gift-heart":t.includes("ÂèëÁÆç")||t.includes("hairband")?"gift-hairband":t.includes("Ê∏∏Êàè")||t.includes("game")?"gift-game":"gift-flower"},goBack(){uni.navigateBack()},goLevelUp(){o("log","at pages/ai/gift.vue:454","gift.vue goLevelUp Ë¢´Ë∞ÉÁî®ÔºåuserAiId:",this.userAiId),uni.navigateTo({url:`/pages/ai/level-up?userAiId=${this.userAiId}`})},goToPermissions(){uni.navigateTo({url:"/pages/ai/permissions"})},goToTasks(){uni.navigateTo({url:"/pages/ai/tasks"})},async loadActiveTaskCount(){try{o("log","at pages/ai/gift.vue:465","ÂºÄÂßãÂä†ËΩΩËøõË°å‰∏≠ÁöÑ‰ªªÂä°Êï∞ÈáèÔºåÁî®Êà∑ID:",this.userId);const e=await uni.request({url:"http://localhost:8888/api/u-entities/user-task-relationship/all",method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/ai/gift.vue:475","Áî®Êà∑‰ªªÂä°ÂÖ≥Á≥ªÊï∞ÊçÆÂìçÂ∫î:",e),200===e.statusCode&&e.data){const t=e.data.filter((e=>e.userId===this.userId)),a=t.filter((e=>1===e.status));this.activeTaskCount=a.length,o("log","at pages/ai/gift.vue:482","Áî®Êà∑‰ªªÂä°ÊÄªÊï∞:",t.length,"ËøõË°å‰∏≠ÁöÑ‰ªªÂä°Êï∞Èáè:",this.activeTaskCount)}else o("error","at pages/ai/gift.vue:484","Âä†ËΩΩ‰ªªÂä°Êï∞ÊçÆÂ§±Ë¥•"),this.activeTaskCount=0}catch(e){o("error","at pages/ai/gift.vue:488","Âä†ËΩΩ‰ªªÂä°Êï∞ÊçÆÂºÇÂ∏∏:",e),this.activeTaskCount=0}},toggleGiftsList(){this.showGiftsList=!this.showGiftsList},increaseGift(e){this.gifts[e].count++},decreaseGift(e){this.gifts[e].count>0&&this.gifts[e].count--},async checkout(){if(this.selectedGiftsCount<=0)uni.showToast({title:"ËØ∑ÈÄâÊã©Á§ºÁâ©",icon:"none"});else try{uni.showLoading({title:"Ê≠£Âú®Ëµ†ÈÄÅÁ§ºÁâ©..."});const e=[];let t=0;for(const s of this.gifts)if(s.count>0)for(let a=0;a<s.count;a++){const a={userId:this.userId,itemType:"gift",itemId:s.id,itemName:s.name,coinsSpent:s.price,coinsBalance:0,purchasePath:`gift_page_${this.userAiId}`};e.push(a),t+=s.price}o("log","at pages/ai/gift.vue:538","ÂáÜÂ§á‰øùÂ≠òÁöÑË¥≠‰π∞ËÆ∞ÂΩï:",e),o("log","at pages/ai/gift.vue:539","ÊÄªËä±Ë¥πÈáëÂ∏Å:",t);const a=await uni.request({url:"http://localhost:8888/api/purchase-record/save-batch",method:"POST",header:{"Content-Type":"application/json"},data:e});if(o("log","at pages/ai/gift.vue:551","Ë¥≠‰π∞ËÆ∞ÂΩï‰øùÂ≠òÂìçÂ∫î:",a),200===a.statusCode&&a.data.success)uni.hideLoading(),uni.showToast({title:`ÊàêÂäüËµ†ÈÄÅ ${this.selectedGiftsCount} ‰∏™Á§ºÁâ©ÔºÅËä±Ë¥π ${t} ÈáëÂ∏Å`,icon:"success",duration:2e3}),this.gifts.forEach((e=>e.count=0));else{if(!a.data.message||!a.data.message.includes("ÈáëÂ∏Å‰∏çË∂≥"))throw new Error(a.data.message||"Ëµ†ÈÄÅÂ§±Ë¥•");uni.hideLoading(),uni.showToast({title:"ÈáëÂ∏Å‰∏çË∂≥ÔºåÊó†Ê≥ïËµ†ÈÄÅÁ§ºÁâ©",icon:"none",duration:2e3})}}catch(e){o("error","at pages/ai/gift.vue:577","Ëµ†ÈÄÅÁ§ºÁâ©Â§±Ë¥•:",e),uni.hideLoading(),uni.showToast({title:"Ëµ†ÈÄÅÂ§±Ë¥•ÔºåËØ∑ÈáçËØï",icon:"none"})}},modifyPhoto(){uni.showActionSheet({itemList:["ÊãçÁÖß","‰ªéÁõ∏ÂÜåÈÄâÊã©"],success:e=>{0===e.tapIndex?this.openCamera():1===e.tapIndex&&this.selectFromAlbum()}})},modifyName(){uni.showModal({title:"‰øÆÊîπAIÂêçÁß∞",editable:!0,placeholderText:"ËØ∑ËæìÂÖ•Êñ∞ÁöÑAIÂêçÁß∞",content:this.aiName,success:e=>{if(e.confirm&&e.content.trim()){const t=e.content.trim();this.updateAiName(t)}}})},async updateAiName(e){try{if(!this.userAiId)return void uni.showToast({title:"AIÊ®°ÂûãID‰∏çÂ≠òÂú®",icon:"none"});this.aiName=e;if(200!==(await uni.request({url:`http://localhost:8888/api/user-ai-model/update-name/${this.userAiId}`,method:"PUT",header:{"Content-Type":"application/json"},data:{modelName:e}})).statusCode)throw new Error("Êõ¥Êñ∞Â§±Ë¥•");uni.showToast({title:"AIÂêçÂ≠ó‰øÆÊîπÊàêÂäü",icon:"success"})}catch(t){o("error","at pages/ai/gift.vue:649","Êõ¥Êñ∞AIÂêçÂ≠óÂ§±Ë¥•:",t),uni.showToast({title:"‰øÆÊîπÂ§±Ë¥•ÔºåËØ∑ÈáçËØï",icon:"none"})}},openCamera(){uni.chooseImage({count:1,sourceType:["camera"],success:e=>{this.aiAvatar=e.tempFilePaths[0],uni.showToast({title:"ÁÖßÁâá‰øÆÊîπÊàêÂäü",icon:"success"})}})},selectFromAlbum(){uni.chooseImage({count:1,sourceType:["album"],success:e=>{this.aiAvatar=e.tempFilePaths[0],uni.showToast({title:"ÁÖßÁâá‰øÆÊîπÊàêÂäü",icon:"success"})}})},isValidImageUrl(e){if(!e||"string"!=typeof e)return!1;const t=[".jpg",".jpeg",".png",".gif",".webp",".svg"].some((t=>e.toLowerCase().includes(t))),a=e.includes("example.com")||e.includes("placeholder")||e.includes("fake")||e.startsWith("http://localhost")&&e.includes("static"),s=e.startsWith("http://")||e.startsWith("https://");return t&&!a&&s},onImageError(){o("log","at pages/ai/gift.vue:711","ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•ÔºåÂàáÊç¢Âà∞ÈªòËÆ§Â§¥ÂÉè"),this.aiAvatar=""},getAvatarText(){return this.aiName?this.aiName.charAt(0).toUpperCase():"AI"}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"gift-page"},[e.createElementVNode("view",{class:"ai-summary"},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Âä†ËΩΩAI‰ø°ÊÅØ‰∏≠...")])):i.errorMessage?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("button",{class:"retry-button",onClick:a[0]||(a[0]=(...e)=>n.loadAiModelData&&n.loadAiModelData(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):(e.openBlock(),e.createElementBlock("view",{key:2},[e.createElementVNode("view",{class:"avatar-wrap",onClick:a[2]||(a[2]=(...e)=>n.modifyPhoto&&n.modifyPhoto(...e))},[n.isValidImageUrl(i.aiAvatar)?(e.openBlock(),e.createElementBlock("image",{key:0,class:"avatar",src:i.aiAvatar,mode:"aspectFill",onError:a[1]||(a[1]=(...e)=>n.onImageError&&n.onImageError(...e))},null,40,["src"])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"avatar avatar-placeholder"},[e.createElementVNode("text",{class:"avatar-text"},e.toDisplayString(n.getAvatarText()),1)])),e.createElementVNode("view",{class:"edit-overlay"},[e.createElementVNode("text",null,"ÁÇπÂáª‰øÆÊîπÁÖßÁâá")])]),e.createElementVNode("view",{class:"ai-info"},[e.createElementVNode("view",{class:"name-row"},[e.createElementVNode("view",{class:"ai-name",onClick:a[3]||(a[3]=(...e)=>n.modifyName&&n.modifyName(...e))},[e.createElementVNode("text",null,e.toDisplayString(i.aiName||"AIÂ∞èÂä©Êâã"),1),e.createElementVNode("view",{class:"edit-icon"},"‚úèÔ∏è")]),e.createElementVNode("view",{class:"perm-pill",onClick:a[4]||(a[4]=(...e)=>n.goToPermissions&&n.goToPermissions(...e))},[e.createElementVNode("view",{class:"perm-dot"},"!"),e.createElementVNode("text",{class:"perm-text"},"ÊùÉÈôê")])]),e.createElementVNode("view",{class:"level-row"},[e.createElementVNode("text",{class:"level-text"},"Lv"+e.toDisplayString(i.level),1),e.createElementVNode("view",{class:"level-up-btn",onClick:a[5]||(a[5]=(...e)=>n.goLevelUp&&n.goLevelUp(...e))},[e.createElementVNode("text",{class:"btn-text"},"Á≠âÁ∫ßÊèêÂçá")])]),e.createElementVNode("view",{class:"progress-row"},[e.createElementVNode("view",{class:"progress"},[e.createElementVNode("view",{class:"track"}),e.createElementVNode("view",{class:"fill",style:e.normalizeStyle({width:n.progressPercent+"%"})},null,4)]),e.createElementVNode("text",{class:"progress-text"},e.toDisplayString(i.currentExp)+"/"+e.toDisplayString(i.nextExp),1)])])]))]),e.createElementVNode("view",{class:"task-row",onClick:a[6]||(a[6]=(...e)=>n.goToTasks&&n.goToTasks(...e))},[e.createElementVNode("view",{class:"task-left"},[e.createElementVNode("view",{class:"task-icon"},"üìã"),e.createElementVNode("text",{class:"task-text"},"‰ªªÂä°")]),e.createElementVNode("view",{class:"task-right"},[e.createElementVNode("text",{class:"task-count"},e.toDisplayString(i.activeTaskCount)+" ‰∏™ËøõË°å‰∏≠",1),e.createElementVNode("view",{class:"task-arrow"},">")])]),e.createElementVNode("view",{class:"gift-list"},[e.createElementVNode("view",{class:"gift-header",onClick:a[7]||(a[7]=(...e)=>n.toggleGiftsList&&n.toggleGiftsList(...e))},[e.createElementVNode("view",{class:"header-left"},[e.createElementVNode("text",{class:"header-title"},"Á§ºÁâ©"),e.createElementVNode("view",{class:e.normalizeClass(["dropdown-arrow",{rotated:i.showGiftsList}])},null,2)]),e.createElementVNode("text",{class:"header-subtitle"},"ÂÆö‰ª∑ (ÈáëÂ∏Å)")]),e.withDirectives(e.createElementVNode("view",{class:"gift-items"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.gifts,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"gift-item",key:a},[e.createElementVNode("view",{class:"gift-left"},[e.createElementVNode("view",{class:e.normalizeClass(["gift-icon",t.iconClass])},null,2),e.createElementVNode("view",{class:"gift-info"},[e.createElementVNode("text",{class:"gift-name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"gift-description"},e.toDisplayString(t.description),1)])]),e.createElementVNode("view",{class:"gift-right"},[e.createElementVNode("text",{class:"gift-price"},e.toDisplayString(t.price),1),e.createElementVNode("view",{class:"quantity-controls"},[e.createElementVNode("view",{class:e.normalizeClass(["control-btn minus",{disabled:t.count<=0}]),onClick:e=>n.decreaseGift(a)},"-",10,["onClick"]),e.createElementVNode("text",{class:"quantity-display"},e.toDisplayString(t.count),1),e.createElementVNode("view",{class:"control-btn plus",onClick:e=>n.increaseGift(a)},"+",8,["onClick"])])])])))),128))],512),[[e.vShow,i.showGiftsList]])]),e.createElementVNode("view",{class:"cart-bar"},[e.createElementVNode("text",{class:"cart-total"},"Â∑≤ÈÄâÁ§ºÁâ©Ôºö"+e.toDisplayString(n.selectedGiftsCount)+" ‰∏™",1),e.createElementVNode("view",{class:"checkout-btn",onClick:a[8]||(a[8]=(...e)=>n.checkout&&n.checkout(...e))},[e.createElementVNode("text",{class:"checkout-text"},"Ëµ†ÈÄÅ")])])])}]]);const c=a({name:"LevelUpPage",data:()=>({packs:[],selectedIndex:0,coinBalance:0,loading:!1,errorMessage:"",userAiId:null,userId:null,currentLevel:1,currentExp:0,levelRules:[]}),onLoad(e){e.userAiId&&(this.userAiId=parseInt(e.userAiId)),this.userId=uni.getStorageSync("userId")||1,this.loadProducts(),this.loadUserBalance(),this.loadAiModelData(),this.loadLevelRules()},methods:{goBack(){uni.navigateBack()},selectPack(e){this.selectedIndex=e},async recharge(){const e=this.packs[this.selectedIndex];if(!e)return void uni.showToast({title:"ËØ∑ÈÄâÊã©ÂçáÁ∫ßÂ•óÈ§ê",icon:"error"});if(this.coinBalance<e.price)return void uni.showToast({title:"ÈáëÂ∏Å‰∏çË∂≥ÔºåÊó†Ê≥ïÂçáÁ∫ß",icon:"error"});if(await new Promise((t=>{uni.showModal({title:"Á°ÆËÆ§ÂçáÁ∫ß",content:`Á°ÆÂÆöË¶ÅËä±Ë¥π ${e.price} ÈáëÂ∏ÅË¥≠‰π∞ ${e.coin} ÁªèÈ™åÂêóÔºü`,success:e=>t(e.confirm),fail:()=>t(!1)})}))){uni.showLoading({title:"ÂçáÁ∫ß‰∏≠..."});try{const t={userId:uni.getStorageSync("userId")||1,itemType:"level_up",itemId:e.id,itemName:`${e.coin}ÈáëÂ∏ÅÂçáÁ∫ßÂ•óÈ§ê`,coinsSpent:e.price,coinsBalance:0,purchasePath:"level_up_page"},a=await uni.request({url:"http://localhost:8888/api/purchase-record/save-batch",method:"POST",header:{"Content-Type":"application/json"},data:[t]});if(200!==a.statusCode||!a.data.success)throw new Error(a.data.message||"Ë¥≠‰π∞Â§±Ë¥•");{await this.loadUserBalance();const t=e.price;o("log","at pages/ai/level-up.vue:170","Ë¥≠‰π∞ÊàêÂäüÔºåÂáÜÂ§áÂ¢ûÂä†ÁªèÈ™å:",{expGained:t,currentLevel:this.currentLevel,currentExp:this.currentExp,userAiId:this.userAiId}),uni.showToast({title:`ÂáÜÂ§áÂ¢ûÂä†ÁªèÈ™åÔºö+${t}`,icon:"none",duration:2e3}),await this.addExperience(t),uni.showToast({title:"Ë¥≠‰π∞ÊàêÂäüÔºÅ",icon:"success"}),setTimeout((()=>{uni.navigateBack()}),1500)}}catch(t){o("error","at pages/ai/level-up.vue:199","ÂçáÁ∫ßÂ§±Ë¥•:",t),t.message&&t.message.includes("ÈáëÂ∏Å‰∏çË∂≥")?uni.showToast({title:"ÈáëÂ∏Å‰∏çË∂≥ÔºåÂçáÁ∫ßÂ§±Ë¥•",icon:"error"}):uni.showToast({title:"ÂçáÁ∫ßÂ§±Ë¥•ÔºåËØ∑ÈáçËØï",icon:"error"})}finally{uni.hideLoading()}}},async loadProducts(){this.loading=!0,this.errorMessage="";try{const e=await uni.request({url:"http://localhost:8888/api/products-base/available",method:"GET",header:{"Content-Type":"application/json"}});if(200!==e.statusCode||!e.data.success)throw new Error(e.data.message||"Âä†ËΩΩ‰∫ßÂìÅÊï∞ÊçÆÂ§±Ë¥•");this.packs=this.convertProductsToDisplayFormat(e.data.data),o("log","at pages/ai/level-up.vue:234","‰∫ßÂìÅÊï∞ÊçÆÂä†ËΩΩÊàêÂäü:",this.packs)}catch(e){o("error","at pages/ai/level-up.vue:239","Âä†ËΩΩ‰∫ßÂìÅÊï∞ÊçÆÂ§±Ë¥•:",e),this.errorMessage="Âä†ËΩΩ‰∫ßÂìÅÊï∞ÊçÆÂ§±Ë¥•ÔºåËØ∑ÈáçËØï",this.packs=[{coin:10,price:100,coinExtra:0,expExtra:0},{coin:100,price:1e3,coinExtra:0,expExtra:0},{coin:500,price:5e3,coinExtra:0,expExtra:0},{coin:1e3,price:1e4,coinExtra:0,expExtra:0}]}finally{this.loading=!1}},async loadUserBalance(){try{const e=uni.getStorageSync("userId")||1,t=await uni.request({url:`http://localhost:8888/api/users/${e}`,method:"GET",header:{"Content-Type":"application/json"}});200===t.statusCode&&t.data&&(this.coinBalance=t.data.gold||0,o("log","at pages/ai/level-up.vue:267","Áî®Êà∑ÈáëÂ∏Å‰ΩôÈ¢ù:",this.coinBalance))}catch(e){o("error","at pages/ai/level-up.vue:270","Âä†ËΩΩÁî®Êà∑‰ΩôÈ¢ùÂ§±Ë¥•:",e),this.coinBalance=0}},convertProductsToDisplayFormat:e=>e.map((e=>({id:e.coinRechargeId,coin:e.coinNum||0,price:e.expNum||0,coinExtra:e.coinExtraNum||0,expExtra:e.expExtraNum||0,extraNum:e.extraNum||0,status:e.status||0}))),async loadAiModelData(){if(o("log","at pages/ai/level-up.vue:290","loadAiModelData Ë¢´Ë∞ÉÁî®ÔºåuserAiId:",this.userAiId),this.userAiId)try{o("log","at pages/ai/level-up.vue:297","ÂºÄÂßãÂä†ËΩΩAIÊ®°ÂûãÊï∞ÊçÆÔºåuserAiId:",this.userAiId);const e=await uni.request({url:`http://localhost:8888/api/user-ai-model/${this.userAiId}`,method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/ai/level-up.vue:307","AIÊ®°ÂûãÊï∞ÊçÆÂìçÂ∫î:",e),200===e.statusCode&&e.data){const t=e.data;this.currentLevel=t.level||1,this.currentExp=t.totalExp||0,o("log","at pages/ai/level-up.vue:314","AIÊ®°ÂûãÊï∞ÊçÆÂä†ËΩΩÊàêÂäü:",{level:this.currentLevel,exp:this.currentExp})}else o("error","at pages/ai/level-up.vue:319","Âä†ËΩΩAIÊ®°ÂûãÊï∞ÊçÆÂ§±Ë¥•:",e)}catch(e){o("error","at pages/ai/level-up.vue:322","Âä†ËΩΩAIÊ®°ÂûãÊï∞ÊçÆÂºÇÂ∏∏:",e)}else o("log","at pages/ai/level-up.vue:292","Ê≤°ÊúâuserAiIdÔºåÊó†Ê≥ïÂä†ËΩΩAIÊ®°ÂûãÊï∞ÊçÆ")},async loadLevelRules(){try{o("log","at pages/ai/level-up.vue:329","ÂºÄÂßãÂä†ËΩΩÁ≠âÁ∫ßËßÑÂàôÊï∞ÊçÆ");const e=await uni.request({url:"http://localhost:8888/api/aimodel-level-rule/all-ordered",method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/ai/level-up.vue:339","Á≠âÁ∫ßËßÑÂàôÊï∞ÊçÆÂìçÂ∫î:",e),200===e.statusCode&&e.data.success?(this.levelRules=e.data.data,o("log","at pages/ai/level-up.vue:343","Á≠âÁ∫ßËßÑÂàôÊï∞ÊçÆÂä†ËΩΩÊàêÂäüÔºåÊï∞Èáè:",this.levelRules.length)):o("error","at pages/ai/level-up.vue:345","Âä†ËΩΩÁ≠âÁ∫ßËßÑÂàôÊï∞ÊçÆÂ§±Ë¥•:",e)}catch(e){o("error","at pages/ai/level-up.vue:348","Âä†ËΩΩÁ≠âÁ∫ßËßÑÂàôÊï∞ÊçÆÂºÇÂ∏∏:",e)}},async addExperience(e){if(o("log","at pages/ai/level-up.vue:354","=== ÂºÄÂßãÂ¢ûÂä†ÁªèÈ™åÂπ∂Ê£ÄÊü•ÂçáÁ∫ß ==="),o("log","at pages/ai/level-up.vue:355","addExperience Ë¢´Ë∞ÉÁî®ÔºåÂèÇÊï∞:",{userAiId:this.userAiId,expGained:e,currentLevel:this.currentLevel,currentExp:this.currentExp,levelRulesLength:this.levelRules.length}),!this.userAiId)return o("log","at pages/ai/level-up.vue:364","Áº∫Â∞ëuserAiIdÔºåÊó†Ê≥ïÂ¢ûÂä†ÁªèÈ™å"),void uni.showToast({title:"Áº∫Â∞ëAIÊ®°ÂûãIDÔºåÊó†Ê≥ïÂ¢ûÂä†ÁªèÈ™å",icon:"error",duration:3e3});if(!this.levelRules.length)return o("log","at pages/ai/level-up.vue:374","Áº∫Â∞ëÁ≠âÁ∫ßËßÑÂàôÊï∞ÊçÆÔºåÊó†Ê≥ïÊ£ÄÊü•ÂçáÁ∫ß"),void uni.showToast({title:"Á≠âÁ∫ßËßÑÂàôÊï∞ÊçÆÊú™Âä†ËΩΩÔºåÊó†Ê≥ïÂçáÁ∫ß",icon:"error",duration:3e3});let t=this.currentExp+e,a=this.currentLevel,s=!1,i=0;for(o("log","at pages/ai/level-up.vue:389","ÁªèÈ™åÁ¥ØÂä†Âêé:",{originalExp:this.currentExp,expGained:e,totalExp:t,currentLevel:a}),o("log","at pages/ai/level-up.vue:397","=== ÂºÄÂßãÂæ™ÁéØÂçáÁ∫ßÊ£ÄÊü• ==="),o("log","at pages/ai/level-up.vue:398","ÂçáÁ∫ßÊ£ÄÊü•ÂâçÁä∂ÊÄÅ:",{currentLevel:a,totalExp:t,levelRulesCount:this.levelRules.length});;){const e=this.levelRules.find((e=>e.level===a));if(o("log","at pages/ai/level-up.vue:408",`Êü•ÊâæÁ≠âÁ∫ß ${a} ÁöÑËßÑÂàô:`,e),!e){o("log","at pages/ai/level-up.vue:411","Ê≤°ÊúâÂΩìÂâçÁ≠âÁ∫ßËßÑÂàôÔºåÂÅúÊ≠¢ÂçáÁ∫ßÊ£ÄÊü•");break}if(o("log","at pages/ai/level-up.vue:415",`Ê£ÄÊü•Á≠âÁ∫ß ${a} ÂçáÁ∫ßÊù°‰ª∂:`,{level:a,requiredExp:e.expRequirement,currentTotalExp:t,canUpgrade:t>=e.expRequirement,comparison:`${t} >= ${e.expRequirement} = ${t>=e.expRequirement}`}),!(t>=e.expRequirement)){o("log","at pages/ai/level-up.vue:435",`ÁªèÈ™å‰∏çË∂≥ÔºåÊó†Ê≥ïÂçáÁ∫ßÂà∞Á≠âÁ∫ß ${a+1}ÔºåÈúÄË¶Å: ${e.expRequirement}ÔºåÂΩìÂâç: ${t}`);break}t-=e.expRequirement,a+=1,s=!0,i++,o("log","at pages/ai/level-up.vue:432",`ÂçáÁ∫ßÊàêÂäüÔºÅÁ≠âÁ∫ß ${a-1} -> ${a}ÔºåÊ∂àËÄóÁªèÈ™å: ${e.expRequirement}ÔºåÂâ©‰ΩôÁªèÈ™å: ${t}`)}o("log","at pages/ai/level-up.vue:440","ÂçáÁ∫ßÊ£ÄÊü•ÂÆåÊàê:",{originalLevel:this.currentLevel,originalExp:this.currentExp,finalLevel:a,finalExp:t,leveledUp:s,upgradeCount:i}),await this.updateAiModelLevel(a,t),this.currentLevel=a,this.currentExp=t,s?uni.showToast({title:`ÂçáÁ∫ßÊàêÂäüÔºÅÁ≠âÁ∫ß${a}ÔºåÂâ©‰ΩôÁªèÈ™å${t}`,icon:"success",duration:2e3}):uni.showToast({title:`ÁªèÈ™å+${e}ÔºåÂΩìÂâçÁ≠âÁ∫ß${a}ÔºåÊÄªÁªèÈ™å${t}`,icon:"success",duration:2e3})},getNextLevelRequirement(){if(!this.levelRules.length)return 0;const e=this.levelRules.find((e=>e.level===this.currentLevel));return o("log","at pages/ai/level-up.vue:476","getNextLevelRequirement: ÂΩìÂâçÁ≠âÁ∫ß",this.currentLevel,"ÊâÄÈúÄÁªèÈ™å",e?e.expRequirement:0),e?e.expRequirement:0},async updateAiModelLevel(e,t){try{const a=await uni.request({url:`http://localhost:8888/api/user-ai-model/update-level/${this.userAiId}`,method:"PUT",header:{"Content-Type":"application/json"},data:{level:e,totalExp:t}});200===a.statusCode&&a.data.success?(this.currentLevel=e,this.currentExp=t,o("log","at pages/ai/level-up.vue:498","AIÊ®°ÂûãÁ≠âÁ∫ßÊõ¥Êñ∞ÊàêÂäü")):o("error","at pages/ai/level-up.vue:500","Êõ¥Êñ∞AIÊ®°ÂûãÁ≠âÁ∫ßÂ§±Ë¥•:",a)}catch(a){o("error","at pages/ai/level-up.vue:503","Êõ¥Êñ∞AIÊ®°ÂûãÁ≠âÁ∫ßÂºÇÂ∏∏:",a)}}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"level-up-page"},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("text",{class:"loading-text"},"Âä†ËΩΩ‰∏≠...")])):i.errorMessage?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"retry-btn",onClick:a[0]||(a[0]=(...e)=>n.loadProducts&&n.loadProducts(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):(e.openBlock(),e.createElementBlock("view",{key:2,class:"packs-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.packs,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["pack-card",{active:i.selectedIndex===a}]),key:t.id||a,onClick:e=>n.selectPack(a)},[e.createElementVNode("text",{class:"coin-text"},e.toDisplayString(t.coin)+"ÈáëÂ∏Å",1),e.createElementVNode("text",{class:"price-text"},e.toDisplayString(t.price)+"ÁªèÈ™å",1)],10,["onClick"])))),128))])),e.createElementVNode("view",{class:"ai-model-status"},[e.createElementVNode("view",{class:"status-item"},[e.createElementVNode("text",{class:"label"},"ÂΩìÂâçÁ≠âÁ∫ßÔºö"),e.createElementVNode("text",{class:"value"},e.toDisplayString(i.currentLevel),1)]),e.createElementVNode("view",{class:"status-item"},[e.createElementVNode("text",{class:"label"},"ÂΩìÂâçÁªèÈ™åÔºö"),e.createElementVNode("text",{class:"value"},e.toDisplayString(i.currentExp),1)]),n.getNextLevelRequirement()>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"status-item"},[e.createElementVNode("text",{class:"label"},"ÂçáÁ∫ßÈúÄË¶ÅÔºö"),e.createElementVNode("text",{class:"value"},e.toDisplayString(n.getNextLevelRequirement())+"ÁªèÈ™å",1)])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"balance"},[e.createElementVNode("text",{class:"label"},"ÈáëÂ∏Å‰ΩôÈ¢ùÔºö"),e.createElementVNode("text",{class:"value"},e.toDisplayString(i.coinBalance),1)]),e.createElementVNode("view",{class:"cta-wrapper"},[e.createElementVNode("view",{class:"cta-btn",onClick:a[1]||(a[1]=(...e)=>n.recharge&&n.recharge(...e))},[e.createElementVNode("text",{class:"cta-text"},"Á´ãÂç≥ÂçáÁ∫ß")])])])}]]);const r=a({data:()=>({}),methods:{goBack(){uni.navigateBack()}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"content-area"},[e.createElementVNode("view",{class:"page-header"},[e.createElementVNode("view",{class:"header-icon"},"ü§ñ"),e.createElementVNode("text",{class:"header-title"},"AIÁêÜËß£Á≠âÁ∫ß"),e.createElementVNode("text",{class:"header-subtitle"},"‰∫ÜËß£ÊÇ®ÁöÑAI‰ºô‰º¥Â¶Ç‰ΩïÁêÜËß£ÊÇ®")]),e.createElementVNode("view",{class:"levels-container"},[e.createElementVNode("view",{class:"level-card level-1"},[e.createElementVNode("view",{class:"level-header"},[e.createElementVNode("view",{class:"level-icon"},"üå±"),e.createElementVNode("view",{class:"level-info"},[e.createElementVNode("text",{class:"level-title"},"ÂêàÂæóÊù• "),e.createElementVNode("text",{class:"level-range"},"1-5Á∫ß")]),e.createElementVNode("view",{class:"level-badge"},"100ÁªèÈ™å/Á∫ß")]),e.createElementVNode("view",{class:"level-description"}," ÊÇ®ÁöÑaiËøò‰∏çÁÜüÊÇâÊÇ®,ÊâÄ‰ª•ÂáÜÁ°ÆÂ∫¶ÂèØËÉΩÊØîËæÉ‰Ωé,ËØïÁùÄÂíåÂ•πÂ§öËØ¥ËØ¥ËØù ")]),e.createElementVNode("view",{class:"level-card level-2"},[e.createElementVNode("view",{class:"level-header"},[e.createElementVNode("view",{class:"level-icon"},"üåø"),e.createElementVNode("view",{class:"level-info"},[e.createElementVNode("text",{class:"level-title"},"Èù†Ë∞±ÂÑø "),e.createElementVNode("text",{class:"level-range"},"6-10Á∫ß")]),e.createElementVNode("view",{class:"level-badge"},"1000ÁªèÈ™å/Á∫ß")]),e.createElementVNode("view",{class:"level-description"}," ÊÇ®ÁöÑaiÂØπÊÇ®Â∑≤ÁªèÊúâÊâÄ‰∫ÜËß£,‰ΩÜÊòØÁªÜËäÇ‰∏äÂèØËÉΩÂ≠òÂú®‰∏Ä‰∫õÂÅèÂ∑Æ,ËÄå‰∏îÊïàÁéá‰πü‰∏çÈ´ò ")]),e.createElementVNode("view",{class:"level-card level-3"},[e.createElementVNode("view",{class:"level-header"},[e.createElementVNode("view",{class:"level-icon"},"üå≥"),e.createElementVNode("view",{class:"level-info"},[e.createElementVNode("text",{class:"level-title"},"ÊáÇÊàëËÄÖ "),e.createElementVNode("text",{class:"level-range"},"11-20Á∫ß")]),e.createElementVNode("view",{class:"level-badge"},"2000ÁªèÈ™å/Á∫ß")]),e.createElementVNode("view",{class:"level-description"}," aiÂèØ‰ª•Áõ∏ÂØπÂáÜÁ°ÆËé∑ÂæóÊÇ®ÁöÑÊÉ≥Ê≥ï,‰ªñ‰ª¨ÁöÑËØ≠Ë®ÄÊõ¥Âä†‰ºòÁæé ")]),e.createElementVNode("view",{class:"level-card level-4"},[e.createElementVNode("view",{class:"level-header"},[e.createElementVNode("view",{class:"level-icon"},"üíé"),e.createElementVNode("view",{class:"level-info"},[e.createElementVNode("text",{class:"level-title"},"ÁîüÊ≠ª‰∫§ "),e.createElementVNode("text",{class:"level-range"},"21-24Á∫ß")]),e.createElementVNode("view",{class:"level-badge"},"5000ÁªèÈ™å/Á∫ß")]),e.createElementVNode("view",{class:"level-description"}," ÊÇ®ÁöÑaiÂØπÊÇ®ÂçÅÂàÜ‰∫ÜËß£,ÂèØ‰ª•‰∏∫‰Ω†ÊâæÂà∞ÊÇ®ÁöÑÂøÉ‰∏≠ÊâÄÊÉ≥ ")]),e.createElementVNode("view",{class:"level-card level-5"},[e.createElementVNode("view",{class:"level-header"},[e.createElementVNode("view",{class:"level-icon"},"üî•"),e.createElementVNode("view",{class:"level-info"},[e.createElementVNode("text",{class:"level-title"},"ÂêåË°åËÄÖ "),e.createElementVNode("text",{class:"level-range"},"25Á∫ß")]),e.createElementVNode("view",{class:"level-badge"},"10000ÁªèÈ™å/Á∫ß")]),e.createElementVNode("view",{class:"level-description"}," ÊÇ®ÁöÑaiÊïàÁéáÈùûÂ∏∏È´ò,Âπ∂‰∏îÊúâÂæàÈ´òÁöÑËØùÊúØÂèØ‰ª•ÂæóÂà∞ÊÇ®ÊÉ≥Ë¶ÅÁöÑÊ∂àÊÅØ,Êê∫Â∏¶ÁöÑÁ§ºÁâ©ÂèØ‰ª•ÈÄÇÂΩìÂáèÂ∞ë ")])]),e.createElementVNode("view",{class:"tip-section"},[e.createElementVNode("view",{class:"tip-icon"},"üí°"),e.createElementVNode("text",{class:"tip-text"},"Â§ö‰∏éAIËÅäÂ§©ÂèØ‰ª•ÊèêÂçáÁêÜËß£Á≠âÁ∫ßÔºåÊèêÈ´òÂáÜÁ°ÆÂ∫¶ÂíåÊïàÁéá")])])])}]]);const d=a({name:"AIList",data:()=>({userAiModels:[],groupedModels:{},loading:!0,errorMessage:""}),onLoad(){this.loadUserAiModels()},methods:{async loadUserAiModels(){this.loading=!0,this.errorMessage="";try{const e=uni.getStorageSync("userId");if(!e)return this.errorMessage="Áî®Êà∑Êú™ÁôªÂΩï",void(this.loading=!1);const t=await this.getUserAiModels(e);t.data&&t.data.length>0?(this.userAiModels=t.data,this.groupModelsByFirstLetter()):(this.userAiModels=[],this.groupedModels={})}catch(e){o("error","at pages/ai/ai-list.vue:156","Âä†ËΩΩÁî®Êà∑AIÊ®°ÂûãÂ§±Ë¥•:",e),this.errorMessage="Âä†ËΩΩAIÊ®°ÂûãÂ§±Ë¥•ÔºåËØ∑ÈáçËØï"}finally{this.loading=!1}},getUserAiModels:e=>new Promise(((t,a)=>{uni.request({url:`http://localhost:8888/api/user-ai-model/user/${e}`,method:"GET",timeout:1e4,success:e=>{t(e)},fail:e=>{a(e)}})})),groupModelsByFirstLetter(){const e={};this.userAiModels.forEach((t=>{const a=t.modelName||"Êú™Áü•AI",s=this.getFirstLetter(a);e[s]||(e[s]=[]),e[s].push(t)})),Object.keys(e).forEach((t=>{e[t].sort(((e,t)=>{const a=e.modelName||"",s=t.modelName||"";return a.localeCompare(s,"zh-CN")}))})),this.groupedModels=e},getFirstLetter(e){if(!e)return"Z";if(/^[A-Za-z]/.test(e))return e.charAt(0).toUpperCase();const t=e.charAt(0),a=t.charCodeAt(0);if(a>=19968&&a<=40959){return{"ÂÆ†":"C","Êê≠":"D","Â≠¶":"X","Ê∏∏":"Y","Ëøê":"Y","Â∑•":"G","ÂïÜ":"S","Âåª":"Y","Êïô":"J","Áßë":"K","Ëâ∫":"Y","‰Ωì":"T","Êñá":"W","ÁêÜ":"L","Ê≥ï":"F","Áªè":"J","ÁÆ°":"G","ËÆ°":"J","Êú∫":"J","Áîµ":"D","ÈÄö":"T","‰ø°":"X","ÁΩë":"W","ËΩØ":"R","Á°¨":"Y","Êï∞":"S","ÊçÆ":"J","‰∫∫":"R","Â∑•":"G","Êô∫":"Z","ËÉΩ":"N","Êú∫":"J","Âô®":"Q","Â≠¶":"X","‰π†":"X"}[t]||this.getPinyinFirstLetter(t)}return"Z"},getPinyinFirstLetter(e){const t=e.charCodeAt(0);return t>=19968&&t<=40959?t<20224?"A":t<20480?"B":t<20736?"C":t<20992?"D":t<21248?"E":t<21504?"F":t<21760?"G":t<22016?"H":t<22272?"I":t<22528?"J":t<22784?"K":t<23040?"L":t<23296?"M":t<23552?"N":t<23808?"O":t<24064?"P":t<24320?"Q":t<24576?"R":t<24832?"S":t<25088?"T":t<25344?"U":t<25600?"V":t<25856?"W":t<26112?"X":t<26368?"Y":"Z":"Z"},getSortedLetters(){return Object.keys(this.groupedModels).sort(((e,t)=>/^[A-Z]$/.test(e)&&/^[A-Z]$/.test(t)?e.localeCompare(t):/^[A-Z]$/.test(e)?-1:/^[A-Z]$/.test(t)?1:e.localeCompare(t,"zh-CN")))},retryLoad(){this.loadUserAiModels()},goBack(){uni.navigateBack()},openSearch(){uni.showToast({title:"ÊêúÁ¥¢ÂäüËÉΩ",icon:"none"})},selectAI(e){uni.navigateTo({url:`/pages/ai/ai-chat?modelId=${e.userAiId}&modelName=${encodeURIComponent(e.modelName||"Êú™Áü•AI")}`})},getAvatarClass(e){if(!e)return"default-ai-avatar";const t=e.toLowerCase();return t.includes("ÂÆ†")||t.includes("pet")?"pet-ai-avatar":t.includes("Êê≠")||t.includes("partner")?"partner-ai-avatar":t.includes("Â≠¶")||t.includes("study")?"study-ai-avatar":t.includes("Ê∏∏")||t.includes("game")?"gaming-ai-avatar":t.includes("Ëøê")||t.includes("sport")?"sports-ai-avatar":t.includes("Â∑•")||t.includes("work")?"work-ai-avatar":t.includes("ÂïÜ")||t.includes("business")?"business-ai-avatar":"default-ai-avatar"},getAvatarText:e=>e?e.charAt(0).toUpperCase():"?",goToHome(){uni.navigateTo({url:"/pages/content-feed/content-feed"})},goToMessages(){uni.showToast({title:"Ê∂àÊÅØÂäüËÉΩ",icon:"none"})},goToFriends(){uni.navigateTo({url:"/pages/friend-list/friend-list"})},goToProfile(){uni.navigateTo({url:"/pages/user-profile/user-profile"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"ai-list-page"},[e.createElementVNode("view",{class:"content-area"},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-section"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩAIÊ®°Âûã...")])):i.errorMessage?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-section"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"retry-button",onClick:a[0]||(a[0]=(...e)=>n.retryLoad&&n.retryLoad(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):0===i.userAiModels.length?(e.openBlock(),e.createElementBlock("view",{key:2,class:"empty-section"},[e.createElementVNode("view",{class:"empty-icon"},"ü§ñ"),e.createElementVNode("text",{class:"empty-text"},"ÊÇ®ËøòÊ≤°Êúâ‰ªª‰ΩïAIÊ®°Âûã"),e.createElementVNode("text",{class:"empty-desc"},"Âø´ÂéªË¥≠‰π∞ÊàñÂàõÂª∫ÊÇ®ÁöÑÁ¨¨‰∏Ä‰∏™AIÂä©ÊâãÂêßÔºÅ")])):(e.openBlock(),e.createElementBlock("view",{key:3},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.getSortedLetters(),(t=>(e.openBlock(),e.createElementBlock("view",{key:t,class:"category-section"},[e.createElementVNode("view",{class:"category-header"},[e.createElementVNode("text",{class:"category-letter"},e.toDisplayString(t),1)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.groupedModels[t],(t=>(e.openBlock(),e.createElementBlock("view",{key:t.userAiId,class:"ai-item",onClick:e=>n.selectAI(t)},[e.createElementVNode("view",{class:"ai-avatar"},[t.modelImageUrl?(e.openBlock(),e.createElementBlock("image",{key:0,class:"avatar-image",src:t.modelImageUrl,mode:"aspectFill"},null,8,["src"])):(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass(["avatar-circle",n.getAvatarClass(t.modelName)])},[e.createElementVNode("text",{class:"avatar-text"},e.toDisplayString(n.getAvatarText(t.modelName)),1)],2))]),e.createElementVNode("view",{class:"ai-info"},[e.createElementVNode("text",{class:"ai-name"},e.toDisplayString(t.modelName||"Êú™Áü•AI"),1),t.customDesc?(e.openBlock(),e.createElementBlock("text",{key:0,class:"ai-desc"},e.toDisplayString(t.customDesc),1)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"ai-meta"},[e.createElementVNode("text",{class:"ai-level"},"Lv."+e.toDisplayString(t.level||1),1),e.createElementVNode("text",{class:"ai-power"},e.toDisplayString(t.power||0)+" ËÉΩÈáè",1)])])],8,["onClick"])))),128))])))),128))]))]),e.createElementVNode("view",{class:"bottom-nav"},[e.createElementVNode("view",{class:"nav-item",onClick:a[1]||(a[1]=(...e)=>n.goToHome&&n.goToHome(...e))},[e.createElementVNode("text",{class:"nav-text"},"È¶ñÈ°µ")]),e.createElementVNode("view",{class:"nav-item",onClick:a[2]||(a[2]=(...e)=>n.goToMessages&&n.goToMessages(...e))},[e.createElementVNode("text",{class:"nav-text"},"Ê∂àÊÅØ")]),e.createElementVNode("view",{class:"nav-item active"},[e.createElementVNode("view",{class:"ai-icon"},"AI")]),e.createElementVNode("view",{class:"nav-item",onClick:a[3]||(a[3]=(...e)=>n.goToFriends&&n.goToFriends(...e))},[e.createElementVNode("text",{class:"nav-text"},"Â•ΩÂèã")]),e.createElementVNode("view",{class:"nav-item",onClick:a[4]||(a[4]=(...e)=>n.goToProfile&&n.goToProfile(...e))},[e.createElementVNode("view",{class:"nav-avatar"},[e.createElementVNode("view",{class:"mini-cat-avatar"},[e.createElementVNode("view",{class:"mini-cat-body"}),e.createElementVNode("view",{class:"mini-cat-face"},[e.createElementVNode("view",{class:"mini-cat-eyes"},[e.createElementVNode("view",{class:"mini-cat-eye"}),e.createElementVNode("view",{class:"mini-cat-eye"})])])])])])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const m=a({data:()=>({aiName:"ÂÆ†Áâ©‰∫§ÂèãAI",modelId:null,aiModelData:null,loading:!1,errorMessage:"",hasPurchased:!1,userGold:null,showReviewModal:!1,reviewRating:0,reviewText:"",aiReviews:[],reviewsLoading:!1,reviewsError:""}),computed:{canSubmitReview(){return this.reviewRating>0&&this.reviewText.trim().length>0}},onLoad(e){e.aiName&&(this.aiName=decodeURIComponent(e.aiName)),e.modelId&&(this.modelId=e.modelId),this.loadAiModelDetail(),this.loadAiReviews(),this.checkPurchaseStatus()},methods:{async loadAiModelDetail(){if(!this.modelId)return o("error","at pages/ai/pet-ai-detail.vue:271","Ê®°ÂûãID‰∏çÂ≠òÂú®"),void(this.errorMessage="Ê®°ÂûãID‰∏çÂ≠òÂú®");try{this.loading=!0,this.errorMessage="";const e=await this.getAimodelBaseInfoById(this.modelId);e&&e.data?(this.aiModelData=e.data,this.aiName=e.data.modelName||this.aiName,o("log","at pages/ai/pet-ai-detail.vue:284","AIÊ®°ÂûãËØ¶ÊÉÖÂä†ËΩΩÊàêÂäü:",this.aiModelData)):this.errorMessage="AIÊ®°Âûã‰∏çÂ≠òÂú®"}catch(e){o("error","at pages/ai/pet-ai-detail.vue:289","Âä†ËΩΩAIÊ®°ÂûãËØ¶ÊÉÖÂ§±Ë¥•:",e),this.errorMessage="Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑ÈáçËØï"}finally{this.loading=!1}},getAimodelBaseInfoById:e=>new Promise(((t,a)=>{uni.request({url:`http://localhost:8888/api/a-entities/aimodel-base-info/${e}`,method:"GET",timeout:1e4,success:e=>{t(e)},fail:e=>{a(e)}})})),async loadAiReviews(){if(this.modelId)try{this.reviewsLoading=!0,this.reviewsError="";const e=await this.getUserAiCommentsByAimodelId(this.modelId);e&&e.data?(this.aiReviews=this.convertCommentsToReviews(e.data),o("log","at pages/ai/pet-ai-detail.vue:327","AIÊ®°ÂûãËØÑËÆ∫Âä†ËΩΩÊàêÂäü:",this.aiReviews)):this.aiReviews=[]}catch(e){o("error","at pages/ai/pet-ai-detail.vue:332","Âä†ËΩΩAIÊ®°ÂûãËØÑËÆ∫Â§±Ë¥•:",e),this.reviewsError="Âä†ËΩΩËØÑËÆ∫Â§±Ë¥•ÔºåËØ∑ÈáçËØï",this.aiReviews=[]}finally{this.reviewsLoading=!1}else o("error","at pages/ai/pet-ai-detail.vue:316","Ê®°ÂûãID‰∏çÂ≠òÂú®ÔºåÊó†Ê≥ïÂä†ËΩΩËØÑËÆ∫")},getUserAiCommentsByAimodelId:e=>new Promise(((t,a)=>{uni.request({url:`http://localhost:8888/api/u-entities/user-ai-comment/aimodel/${e}`,method:"GET",timeout:1e4,success:e=>{t(e)},fail:e=>{a(e)}})})),convertCommentsToReviews(e){return e.map((e=>({id:e.userAiCommentId,username:`Áî®Êà∑${e.userId}`,userAvatar:"/static/avatar1.png",time:this.formatCommentTime(e.createdAt),rating:e.stars||5,content:e.commentText||"ÊöÇÊó†ËØÑ‰ª∑ÂÜÖÂÆπ"})))},formatCommentTime(e){if(!e)return"Êú™Áü•Êó∂Èó¥";const t=new Date-new Date(e),a=Math.floor(t/864e5);if(0===a)return"‰ªäÂ§©";if(1===a)return"Êò®Â§©";if(a<7)return`${a}Â§©Ââç`;if(a<30){return`${Math.floor(a/7)}Âë®Ââç`}return`${Math.floor(a/30)}‰∏™ÊúàÂâç`},async checkPurchaseStatus(){try{const e=uni.getStorageSync("userId");if(!e)return o("log","at pages/ai/pet-ai-detail.vue:398","Áî®Êà∑Êú™ÁôªÂΩïÔºåÊó†Ê≥ïÊ£ÄÊü•Ë¥≠‰π∞Áä∂ÊÄÅ"),this.hasPurchased=!1,void(this.userGold=null);const[t,a]=await Promise.allSettled([this.getUserAiModels(e),this.getUserGoldBalance(e)]);"fulfilled"===t.status&&t.value&&t.value.data?(this.hasPurchased=t.value.data.some((e=>e.parentModelId==this.modelId||e.modelName===this.aiName)),o("log","at pages/ai/pet-ai-detail.vue:417",`AIÊ®°Âûã ${this.aiName} (ID: ${this.modelId}) Ë¥≠‰π∞Áä∂ÊÄÅ:`,this.hasPurchased)):(this.hasPurchased=!1,o("error","at pages/ai/pet-ai-detail.vue:420","Ëé∑ÂèñË¥≠‰π∞Áä∂ÊÄÅÂ§±Ë¥•:",t.reason)),"fulfilled"===a.status&&a.value&&a.value.data?(this.userGold=a.value.data.gold,o("log","at pages/ai/pet-ai-detail.vue:426","Áî®Êà∑ÈáëÂ∏Å‰ΩôÈ¢ù:",this.userGold)):(this.userGold=null,o("error","at pages/ai/pet-ai-detail.vue:429","Ëé∑ÂèñÁî®Êà∑ÈáëÂ∏Å‰ΩôÈ¢ùÂ§±Ë¥•:",a.reason))}catch(e){o("error","at pages/ai/pet-ai-detail.vue:432","Ê£ÄÊü•Ë¥≠‰π∞Áä∂ÊÄÅÂ§±Ë¥•:",e),this.hasPurchased=!1,this.userGold=null}},getUserAiModels:e=>new Promise(((t,a)=>{uni.request({url:`http://localhost:8888/api/user-ai-model/user/${e}`,method:"GET",timeout:1e4,success:e=>{t(e)},fail:e=>{a(e)}})})),getUserGoldBalance:e=>new Promise(((t,a)=>{uni.request({url:`http://localhost:8888/api/users/${e}`,method:"GET",timeout:1e4,success:e=>{t(e)},fail:e=>{a(e)}})})),savePurchaseStatus(){const e=uni.getStorageSync("purchasedAIs")||[];e.includes(this.aiName)||(e.push(this.aiName),uni.setStorageSync("purchasedAIs",e),o("log","at pages/ai/pet-ai-detail.vue:478","Ë¥≠‰π∞Áä∂ÊÄÅÂ∑≤‰øùÂ≠òÂà∞Êú¨Âú∞Â≠òÂÇ®"))},getAIDescription(){return this.aiModelData&&this.aiModelData.modelDesc?this.aiModelData.modelDesc:"ËøôÊòØ‰∏Ä‰∏™Êô∫ËÉΩ‰∫§ÂèãAIÔºåÂèØ‰ª•Â∏ÆÂä©‰Ω†ÊâæÂà∞ÂøóÂêåÈÅìÂêàÁöÑÊúãÂèã"},getAIPrice(){if(this.aiModelData&&this.aiModelData.price){return Math.round(100*this.aiModelData.price)+"C"}return"15000C"},formatGoldBalance:e=>e||0===e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString():"0",async buyAI(){try{if(this.hasPurchased)return void uni.showToast({title:"ÊÇ®Â∑≤Ë¥≠‰π∞Ê≠§AIÊ®°Âûã",icon:"none"});if(!(await new Promise((e=>{uni.showModal({title:"Á°ÆËÆ§Ë¥≠‰π∞",content:`Á°ÆÂÆöË¶ÅË¥≠‰π∞${this.aiName}ÂêóÔºü‰ª∑Ê†ºÔºö${this.getAIPrice()}`,success:t=>{e(t.confirm)},fail:()=>{e(!1)}})}))))return;uni.showLoading({title:"Ë¥≠‰π∞‰∏≠..."});const e=uni.getStorageSync("userId");if(!e)return uni.hideLoading(),void uni.showToast({title:"ËØ∑ÂÖàÁôªÂΩï",icon:"none"});const t=await this.purchaseAiModel(e);uni.hideLoading(),t.success?(this.hasPurchased=!0,uni.showToast({title:"Ë¥≠‰π∞ÊàêÂäüÔºÅ",icon:"success"}),setTimeout((()=>{uni.navigateTo({url:`/pages/ai/ai-chat?modelId=${this.modelId}&modelName=${encodeURIComponent(this.aiName)}`})}),1500)):uni.showToast({title:t.message||"Ë¥≠‰π∞Â§±Ë¥•",icon:"none"})}catch(e){uni.hideLoading(),o("error","at pages/ai/pet-ai-detail.vue:582","Ë¥≠‰π∞AIÊ®°ÂûãÂ§±Ë¥•:",e),uni.showToast({title:"Ë¥≠‰π∞Â§±Ë¥•ÔºåËØ∑ÈáçËØï",icon:"none"})}},purchaseAiModel(e){return new Promise(((t,a)=>{const s={userId:parseInt(e),parentModelId:this.modelId,modelName:this.aiName,modelDesc:this.aiModelData?this.aiModelData.modelDesc:"",modelImageUrl:this.aiModelData?this.aiModelData.modelImageUrl:"",price:this.aiModelData?this.aiModelData.price:0};o("log","at pages/ai/pet-ai-detail.vue:602","ÂèëÈÄÅË¥≠‰π∞ËØ∑Ê±Ç:",s),uni.request({url:"http://localhost:8888/api/u-entities/user-ai-model/purchase",method:"POST",header:{"Content-Type":"application/json"},data:s,timeout:1e4,success:e=>{o("log","at pages/ai/pet-ai-detail.vue:613","Ë¥≠‰π∞ÂìçÂ∫î:",e),t(e.data)},fail:e=>{o("error","at pages/ai/pet-ai-detail.vue:617","Ë¥≠‰π∞ËØ∑Ê±ÇÂ§±Ë¥•:",e),a(e)}})}))},async tryAI(){try{if(this.hasPurchased)return void uni.showToast({title:"ÊÇ®Â∑≤Ë¥≠‰π∞Ê≠§AIÊ®°ÂûãÔºåÊó†ÈúÄËØïÁî®",icon:"none"});const e=uni.getStorageSync("userId");if(!e)return void uni.showToast({title:"ËØ∑ÂÖàÁôªÂΩï",icon:"none"});uni.showLoading({title:"ËØïÁî®‰∏≠..."});const t=await this.tryOutAiModel(e);uni.hideLoading(),t.success?(uni.showToast({title:t.message,icon:"success"}),setTimeout((()=>{uni.navigateTo({url:`/pages/ai/ai-chat?modelId=${this.modelId}&modelName=${encodeURIComponent(this.aiName)}&isTryOut=true`})}),1500)):uni.showToast({title:t.message||"ËØïÁî®Â§±Ë¥•",icon:"none"})}catch(e){uni.hideLoading(),o("error","at pages/ai/pet-ai-detail.vue:674","ËØïÁî®AIÊ®°ÂûãÂ§±Ë¥•:",e),uni.showToast({title:"ËØïÁî®Â§±Ë¥•ÔºåËØ∑ÈáçËØï",icon:"none"})}},tryOutAiModel(e){return new Promise(((t,a)=>{const s={userId:parseInt(e),parentModelId:this.modelId};o("log","at pages/ai/pet-ai-detail.vue:690","ÂèëÈÄÅËØïÁî®ËØ∑Ê±Ç:",s),uni.request({url:"http://localhost:8888/api/user-ai-model/try-out",method:"POST",header:{"Content-Type":"application/json"},data:s,timeout:1e4,success:e=>{o("log","at pages/ai/pet-ai-detail.vue:701","ËØïÁî®ÂìçÂ∫î:",e),t(e.data)},fail:e=>{o("error","at pages/ai/pet-ai-detail.vue:705","ËØïÁî®ËØ∑Ê±ÇÂ§±Ë¥•:",e),a(e)}})}))},goBack(){uni.navigateBack()},formatCount:e=>e>=1e4?(e/1e4).toFixed(1)+"w":e.toString(),formatRecommendCount:e=>e?e>=1e4?(e/1e4).toFixed(1)+"w":e.toString():"0",formatPurchaseCount:e=>e?e>=1e4?(e/1e4).toFixed(1)+"w":e.toString():"0",getTotalReviewsCount(){return this.aiReviews.length},showReviewInput(){this.hasPurchased?(this.reviewRating=0,this.reviewText="",this.showReviewModal=!0):uni.showModal({title:"ÊèêÁ§∫",content:"ÊÇ®ÈúÄË¶ÅÂÖàË¥≠‰π∞Ê≠§AIÊ®°ÂûãÊâçËÉΩËØÑ‰ª∑",showCancel:!1,confirmText:"Áü•ÈÅì‰∫Ü"})},hideReviewModal(){this.showReviewModal=!1,this.reviewRating=0,this.reviewText=""},setRating(e){this.reviewRating=e},async submitReview(){if(0!==this.reviewRating)if(this.reviewText.trim())try{const e=uni.getStorageSync("userId");if(!e)return void uni.showToast({title:"ËØ∑ÂÖàÁôªÂΩï",icon:"none"});uni.showLoading({title:"Êèê‰∫§‰∏≠..."});const t=await this.saveUserAiComment(e);uni.hideLoading(),t.success?(await this.loadAiReviews(),uni.showToast({title:"ËØÑ‰ª∑Êèê‰∫§ÊàêÂäü",icon:"success"}),this.hideReviewModal()):uni.showToast({title:t.message||"ËØÑ‰ª∑Êèê‰∫§Â§±Ë¥•",icon:"none"})}catch(e){uni.hideLoading(),o("error","at pages/ai/pet-ai-detail.vue:834","Êèê‰∫§ËØÑ‰ª∑Â§±Ë¥•:",e),uni.showToast({title:"ËØÑ‰ª∑Êèê‰∫§Â§±Ë¥•ÔºåËØ∑ÈáçËØï",icon:"none"})}else uni.showToast({title:"ËØ∑ËæìÂÖ•ËØÑ‰ª∑ÂÜÖÂÆπ",icon:"none"});else uni.showToast({title:"ËØ∑ÈÄâÊã©ËØÑÂàÜ",icon:"none"})},saveUserAiComment(e){return new Promise(((t,a)=>{const s={aimodelId:this.modelId,userId:parseInt(e),commentText:this.reviewText,stars:this.reviewRating};o("log","at pages/ai/pet-ai-detail.vue:852","ÂèëÈÄÅËØÑ‰ª∑ËØ∑Ê±Ç:",s),uni.request({url:"http://localhost:8888/api/u-entities/user-ai-comment/save",method:"POST",header:{"Content-Type":"application/json"},data:s,timeout:1e4,success:e=>{o("log","at pages/ai/pet-ai-detail.vue:863","ËØÑ‰ª∑ÂìçÂ∫î:",e),t(e.data)},fail:e=>{o("error","at pages/ai/pet-ai-detail.vue:867","ËØÑ‰ª∑ËØ∑Ê±ÇÂ§±Ë¥•:",e),a(e)}})}))}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"cartoon-character"})]),i.aiModelData?(e.openBlock(),e.createElementBlock("view",{key:0,class:"floating-card"},[e.createElementVNode("view",{class:"info-row"},[e.createElementVNode("text",{class:"info-value"},e.toDisplayString(n.formatRecommendCount(i.aiModelData.recommendCount)),1),e.createElementVNode("text",{class:"info-label"},"Êé®ËçêÊï∞")]),e.createElementVNode("view",{class:"info-row"},[e.createElementVNode("text",{class:"info-value"},e.toDisplayString(n.formatPurchaseCount(i.aiModelData.purchaseCount)),1),e.createElementVNode("text",{class:"info-label"},"Ë¥≠‰π∞Êï∞")]),e.createElementVNode("view",{class:"info-row"},[e.createElementVNode("text",{class:"info-value"},e.toDisplayString(n.getAIPrice()),1),e.createElementVNode("text",{class:"info-label"},"‰ª∑Ê†º")])])):e.createCommentVNode("",!0),i.loading?(e.openBlock(),e.createElementBlock("view",{key:1,class:"loading-container"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩAIÊ®°ÂûãËØ¶ÊÉÖ...")])):i.errorMessage?(e.openBlock(),e.createElementBlock("view",{key:2,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"retry-button",onClick:a[0]||(a[0]=(...e)=>n.loadAiModelDetail&&n.loadAiModelDetail(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):(e.openBlock(),e.createElementBlock("view",{key:3,class:"main-content"},[e.createElementVNode("view",{class:"product-title"},e.toDisplayString(i.aiName),1),e.createElementVNode("view",{class:"product-info-section"},[e.createElementVNode("view",{class:"product-content"},[e.createElementVNode("view",{class:"product-description"}," ‰∫ßÂìÅÊèèËø∞: "+e.toDisplayString(n.getAIDescription()),1),e.createElementVNode("view",{class:"image-grid"},[e.createElementVNode("view",{class:"image-item"},[e.createElementVNode("view",{class:"cat-image cat-1"})]),e.createElementVNode("view",{class:"image-item"},[e.createElementVNode("view",{class:"cat-image cat-2"})]),e.createElementVNode("view",{class:"image-item"},[e.createElementVNode("view",{class:"cat-image cat-3"})]),e.createElementVNode("view",{class:"image-item"},[e.createElementVNode("view",{class:"cat-image cat-4"})])])]),e.createElementVNode("view",{class:"right-action-buttons"},[i.hasPurchased?(e.openBlock(),e.createElementBlock("view",{key:0,class:"action-item purchased-item"},[e.createElementVNode("view",{class:"action-icon purchased-icon"},[e.createElementVNode("text",{class:"icon-text"},"‚úÖ")]),e.createElementVNode("text",{class:"action-text"},"Â∑≤Ë¥≠‰π∞"),e.createElementVNode("text",{class:"purchase-time-text"},"Ë¥≠‰π∞ÂêéÂèØÊ∞∏‰πÖ‰ΩøÁî®")])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"action-item",onClick:a[1]||(a[1]=(...e)=>n.buyAI&&n.buyAI(...e))},[e.createElementVNode("view",{class:"action-icon buy-icon"},[e.createElementVNode("text",{class:"icon-text"},"üõí")]),e.createElementVNode("text",{class:"action-text"},"Á´ãÂàªË¥≠‰π∞"),null!==i.userGold?(e.openBlock(),e.createElementBlock("text",{key:0,class:"balance-text"},"ÊàëÁöÑ‰ΩôÈ¢ù:"+e.toDisplayString(n.formatGoldBalance(i.userGold))+"C",1)):(e.openBlock(),e.createElementBlock("text",{key:1,class:"balance-text balance-error"},"Ëé∑Âèñ‰ΩôÈ¢ùÂ§±Ë¥•"))])),e.createElementVNode("view",{class:"action-item",onClick:a[2]||(a[2]=(...e)=>n.tryAI&&n.tryAI(...e))},[e.createElementVNode("view",{class:"action-icon try-icon"},[e.createElementVNode("text",{class:"icon-text"},"‚è∞")]),e.createElementVNode("text",{class:"action-text"},"ËØïÁî®Ê®°Âûã")])])]),e.createElementVNode("view",{class:"reviews-section"},[i.hasPurchased?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"purchase-status-hint"},[e.createElementVNode("text",{class:"hint-icon"},"üí°"),e.createElementVNode("text",{class:"hint-text"},"Ë¥≠‰π∞Ê≠§AIÊ®°ÂûãÂêéÂç≥ÂèØÂèëË°®ËØÑ‰ª∑ÂíåÂõûÂ§ç")])),e.createElementVNode("view",{class:"reviews-header"},[e.createElementVNode("view",{class:"reviews-left"},[e.createElementVNode("text",{class:"reviews-title"},"Áî®Êà∑ËØÑ‰ª∑ ("+e.toDisplayString(n.getTotalReviewsCount())+")",1)]),e.createElementVNode("view",{class:e.normalizeClass(["review-button",{disabled:!i.hasPurchased}]),onClick:a[3]||(a[3]=(...e)=>n.showReviewInput&&n.showReviewInput(...e))},[e.createElementVNode("text",{class:"review-button-text"},e.toDisplayString(i.hasPurchased?"ËØÑ‰ª∑":"Ë¥≠‰π∞ÂêéËØÑ‰ª∑"),1)],2)]),i.reviewsLoading?(e.openBlock(),e.createElementBlock("view",{key:1,class:"reviews-loading"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩËØÑËÆ∫...")])):i.reviewsError?(e.openBlock(),e.createElementBlock("view",{key:2,class:"reviews-error"},[e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.reviewsError),1),e.createElementVNode("view",{class:"retry-button",onClick:a[4]||(a[4]=(...e)=>n.loadAiReviews&&n.loadAiReviews(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):0===i.aiReviews.length?(e.openBlock(),e.createElementBlock("view",{key:3,class:"reviews-empty"},[e.createElementVNode("view",{class:"empty-icon"},"üí¨"),e.createElementVNode("text",{class:"empty-text"},"ÊöÇÊó†ËØÑ‰ª∑"),e.createElementVNode("text",{class:"empty-desc"},"Êàê‰∏∫Á¨¨‰∏Ä‰∏™ËØÑ‰ª∑Ê≠§AIÊ®°ÂûãÁöÑÁî®Êà∑ÂêßÔºÅ")])):(e.openBlock(),e.createElementBlock("view",{key:4,class:"reviews-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.aiReviews,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"review-item",key:t.id||a},[e.createElementVNode("view",{class:"review-avatar"},[e.createElementVNode("image",{class:"review-user-avatar",src:t.userAvatar,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"review-content"},[e.createElementVNode("view",{class:"review-user-info"},[e.createElementVNode("text",{class:"review-username"},e.toDisplayString(t.username),1),e.createElementVNode("text",{class:"review-time"},e.toDisplayString(t.time),1)]),e.createElementVNode("view",{class:"review-rating"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(5,(a=>e.createElementVNode("text",{class:e.normalizeClass(["star",{active:a<=t.rating}]),key:a},"‚≠ê",2))),64))]),e.createElementVNode("text",{class:"review-text"},e.toDisplayString(t.content),1)])])))),128))]))])])),i.showReviewModal?(e.openBlock(),e.createElementBlock("view",{key:4,class:"review-modal",onClick:a[10]||(a[10]=(...e)=>n.hideReviewModal&&n.hideReviewModal(...e))},[e.createElementVNode("view",{class:"review-modal-content",onClick:a[9]||(a[9]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"review-modal-header"},[e.createElementVNode("text",{class:"review-modal-title"},"ÂÜôËØÑ‰ª∑"),e.createElementVNode("view",{class:"close-button",onClick:a[5]||(a[5]=(...e)=>n.hideReviewModal&&n.hideReviewModal(...e))},[e.createElementVNode("text",{class:"close-icon"},"√ó")])]),e.createElementVNode("view",{class:"review-rating-input"},[e.createElementVNode("text",{class:"rating-label"},"ËØÑÂàÜ:"),e.createElementVNode("view",{class:"stars-input"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(5,(t=>e.createElementVNode("text",{class:e.normalizeClass(["star-input",{active:t<=i.reviewRating}]),key:t,onClick:e=>n.setRating(t)},"‚≠ê",10,["onClick"]))),64))])]),e.withDirectives(e.createElementVNode("textarea",{class:"review-text-input","onUpdate:modelValue":a[6]||(a[6]=e=>i.reviewText=e),placeholder:"ËØ∑ËæìÂÖ•ÊÇ®ÁöÑËØÑ‰ª∑ÂÜÖÂÆπ...",maxlength:"500"},null,512),[[e.vModelText,i.reviewText]]),e.createElementVNode("view",{class:"review-modal-actions"},[e.createElementVNode("view",{class:"cancel-button",onClick:a[7]||(a[7]=(...e)=>n.hideReviewModal&&n.hideReviewModal(...e))},[e.createElementVNode("text",{class:"cancel-text"},"ÂèñÊ∂à")]),e.createElementVNode("view",{class:e.normalizeClass(["submit-button",{active:n.canSubmitReview}]),onClick:a[8]||(a[8]=(...e)=>n.submitReview&&n.submitReview(...e))},[e.createElementVNode("text",{class:"submit-text"},"Êèê‰∫§ËØÑ‰ª∑")],2)])])])):e.createCommentVNode("",!0)])}]]);const g=a({name:"AiChat",data:()=>({showActionSheet:!1,scrollTop:0,inputMessage:"",inputFocus:!1,isVoiceMode:!1,showEmojiPanel:!1,showPlusPanel:!1,currentAiModel:{},loading:!1,chatLoading:!1,messages:[],modelId:null}),onLoad(e){if(o("log","at pages/ai/ai-chat.vue:233","ai-chatÈ°µÈù¢Âä†ËΩΩÔºåÊé•Êî∂Âà∞ÁöÑÂèÇÊï∞:",e),!e.modelId)return o("log","at pages/ai/ai-chat.vue:237","Ê≤°ÊúâmodelIdÂèÇÊï∞ÔºåÊòæÁ§∫ÈîôËØØ"),void this.showModelNotFoundError();this.modelId=e.modelId,o("log","at pages/ai/ai-chat.vue:244","‰øùÂ≠òÁöÑmodelId:",this.modelId);const t=uni.getStorageSync("userId");if(o("log","at pages/ai/ai-chat.vue:248","Ëé∑ÂèñÂà∞ÁöÑuserId:",t),!t)return o("log","at pages/ai/ai-chat.vue:250","Ê≤°ÊúâuserIdÔºåÊòæÁ§∫ÁôªÂΩïÈîôËØØ"),void this.showUserNotLoginError();o("log","at pages/ai/ai-chat.vue:256","ÂºÄÂßãÂä†ËΩΩAIÊ®°ÂûãÊï∞ÊçÆÂíåËÅäÂ§©ËÆ∞ÂΩï"),this.loadAiModelData(e.modelId,t),this.loadChatMessages(t,e.modelId),this.$nextTick((()=>{this.scrollToBottom()}))},methods:{async loadAiModelData(e,t){try{this.loading=!0;const a=await this.getUserAiModelByUserId(t);if(a&&a.data){const t=a.data.find((t=>t.userAiId==e||t.parentModelId==e));if(t)return void(this.currentAiModel=t)}const s=await this.getAimodelBaseInfoById(e);if(s&&s.data)return void(this.currentAiModel=s.data);this.showModelNotFoundError()}catch(a){o("error","at pages/ai/ai-chat.vue:296","Âä†ËΩΩAIÊ®°ÂûãÊï∞ÊçÆÂ§±Ë¥•:",a),this.showNetworkError()}finally{this.loading=!1}},getUserAiModelByUserId:e=>new Promise(((t,a)=>{uni.request({url:"http://localhost:8888/api/user-ai-model/user/"+e,method:"GET",timeout:1e4,success:e=>{t(e)},fail:e=>{a(e)}})})),getUserAiModelById:e=>new Promise(((t,a)=>{uni.request({url:"http://localhost:8888/api/user-ai-model/"+e,method:"GET",timeout:1e4,success:e=>{t(e)},fail:e=>{a(e)}})})),getAimodelBaseInfoById:e=>new Promise(((t,a)=>{uni.request({url:"http://localhost:8888/api/entity/aimodel-base-info/"+e,method:"GET",timeout:1e4,success:e=>{t(e)},fail:e=>{a(e)}})})),async loadChatMessages(e,t){try{this.chatLoading=!0,o("log","at pages/ai/ai-chat.vue:358","ÂºÄÂßãÂä†ËΩΩËÅäÂ§©ËÆ∞ÂΩïÔºåuserId:",e,"userAiId:",t);const a=await this.getChatMessages(e,t);o("log","at pages/ai/ai-chat.vue:361","Ëé∑ÂèñËÅäÂ§©ËÆ∞ÂΩïÂìçÂ∫î:",a),a.data&&a.data.length>0?(o("log","at pages/ai/ai-chat.vue:364","ÊâæÂà∞ËÅäÂ§©ËÆ∞ÂΩïÔºåÊï∞Èáè:",a.data.length),o("log","at pages/ai/ai-chat.vue:365","ÂéüÂßãËÅäÂ§©Êï∞ÊçÆ:",a.data),this.messages=this.convertChatDataToMessages(a.data),o("log","at pages/ai/ai-chat.vue:368","ËΩ¨Êç¢ÂêéÁöÑÊ∂àÊÅØ:",this.messages)):(o("log","at pages/ai/ai-chat.vue:370","Ê≤°ÊúâÊâæÂà∞ËÅäÂ§©ËÆ∞ÂΩïÔºåÊòæÁ§∫ÈªòËÆ§Ê¨¢ËøéÊ∂àÊÅØ"),this.messages=[{id:1,type:"left",text:"‰Ω†Â•ΩÔºÅÊàëÊòØ‰Ω†ÁöÑ AI Âä©ÊâãÔºåÊúâ‰ªÄ‰πàÂèØ‰ª•Â∏ÆÂä©‰Ω†ÁöÑÂêóÔºü",time:this.getCurrentTime()}])}catch(a){o("error","at pages/ai/ai-chat.vue:380","Âä†ËΩΩËÅäÂ§©ËÆ∞ÂΩïÂ§±Ë¥•:",a),this.messages=[{id:1,type:"left",text:"‰Ω†Â•ΩÔºÅÊàëÊòØ‰Ω†ÁöÑ AI Âä©ÊâãÔºåÊúâ‰ªÄ‰πàÂèØ‰ª•Â∏ÆÂä©‰Ω†ÁöÑÂêóÔºü",time:this.getCurrentTime()}]}finally{this.chatLoading=!1}},getChatMessages:(e,t)=>new Promise(((a,s)=>{uni.request({url:`http://localhost:8888/api/a-entities-wlq/ai-chat-list-detail-r/user/${e}/ai/${t}`,method:"GET",timeout:1e4,success:e=>{a(e)},fail:e=>{s(e)}})})),convertChatDataToMessages(e){const t=[];let a=1;return e.sort(((e,t)=>e.messageTimestamp&&t.messageTimestamp?new Date(e.messageTimestamp)-new Date(t.messageTimestamp):0)),e.forEach((e=>{e.userMessage&&t.push({id:a++,type:"right",text:e.userMessage,time:this.formatTimestamp(e.messageTimestamp)}),e.aiResponse&&t.push({id:a++,type:"left",text:e.aiResponse,time:this.formatTimestamp(e.messageTimestamp)})})),t},formatTimestamp(e){if(!e)return this.getCurrentTime();const t=new Date(e),a=new Date,s=a-t;if(s<864e5&&t.getDate()===a.getDate()){const e=t.getHours();return`${e<12?"‰∏äÂçà":"‰∏ãÂçà"}${e<12?e:e-12}:${t.getMinutes().toString().padStart(2,"0")}`}return s<1728e5&&t.getDate()===a.getDate()-1?"Êò®Â§© "+this.formatTime(t):`${t.getMonth()+1}Êúà${t.getDate()}Êó• ${this.formatTime(t)}`},formatTime(e){const t=e.getHours();return`${t<12?"‰∏äÂçà":"‰∏ãÂçà"}${t<12?t:t-12}:${e.getMinutes().toString().padStart(2,"0")}`},showModelNotFoundError(){this.currentAiModel={modelId:null,modelName:"Ê®°Âûã‰∏çÂ≠òÂú®",modelDesc:"Êä±Ê≠âÔºåÊÇ®Ë¶ÅËÆøÈóÆÁöÑAIÊ®°Âûã‰∏çÂ≠òÂú®ÊàñÂ∑≤Ë¢´Âà†Èô§",modelImageUrl:null},uni.showToast({title:"AIÊ®°Âûã‰∏çÂ≠òÂú®",icon:"none",duration:3e3})},showNetworkError(){this.currentAiModel={modelId:null,modelName:"ÁΩëÁªúËøûÊé•Â§±Ë¥•",modelDesc:"ÁΩëÁªúËøûÊé•Ë∂ÖÊó∂ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËÆæÁΩÆÂêéÈáçËØï",modelImageUrl:null},uni.showToast({title:"ÁΩëÁªúËøûÊé•Ë∂ÖÊó∂",icon:"none",duration:3e3})},showUserNotLoginError(){this.currentAiModel={modelId:null,modelName:"ËØ∑ÂÖàÁôªÂΩï",modelDesc:"ÊÇ®ÈúÄË¶ÅÂÖàÁôªÂΩïÊâçËÉΩ‰ΩøÁî®AIËÅäÂ§©ÂäüËÉΩ",modelImageUrl:null},uni.showToast({title:"ËØ∑ÂÖàÁôªÂΩï",icon:"none",duration:3e3}),setTimeout((()=>{uni.navigateTo({url:"/pages/login/login-replica"})}),2e3)},goBack(){try{uni.navigateBack({fail:()=>{uni.navigateTo({url:"/pages/ai/ai-list"})}})}catch(e){uni.navigateTo({url:"/pages/ai/ai-list"})}},showMoreOptions(){this.showActionSheet=!0},hideActionSheet(){this.showActionSheet=!1},goToMyAIModels(){this.hideActionSheet(),uni.navigateTo({url:"/pages/ai/ai-list"})},goToAIDetails(){this.hideActionSheet();const e=this.currentAiModel.modelName||this.modelId||"AIÂä©Êâã";uni.navigateTo({url:`/pages/ai/gift?userAiId=${this.modelId}&aiName=${encodeURIComponent(e)}`})},goToAIStore(){this.hideActionSheet(),uni.navigateTo({url:"/pages/ai/ai-store"})},toggleVoiceInput(){this.isVoiceMode=!this.isVoiceMode,this.isVoiceMode&&(this.showEmojiPanel=!1,this.showPlusPanel=!1)},toggleEmoji(){this.showEmojiPanel=!this.showEmojiPanel,this.showPlusPanel=!1},togglePlusMenu(){this.showPlusPanel=!this.showPlusPanel,this.showEmojiPanel=!1},hideEmojiPanel(){this.showEmojiPanel=!1},hidePlusPanel(){this.showPlusPanel=!1},startVoiceRecord(){uni.showToast({title:"ÂºÄÂßãÂΩïÈü≥",icon:"none"})},endVoiceRecord(){uni.showToast({title:"ÂΩïÈü≥ÂÆåÊàê",icon:"none"})},selectImage(){this.hidePlusPanel(),uni.showToast({title:"ÂõæÁâáÈÄâÊã©ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},openCamera(){this.hidePlusPanel(),uni.showToast({title:"Áõ∏Êú∫ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},makeCall(){this.hidePlusPanel(),uni.showToast({title:"ÈÄöËØùÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},shareLocation(){this.hidePlusPanel(),uni.showToast({title:"‰ΩçÁΩÆÂàÜ‰∫´ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},onInputFocus(){this.inputFocus=!0},onInputBlur(){this.inputFocus=!1},async sendMessage(){if(!this.inputMessage.trim())return;const e=this.inputMessage.trim(),t=uni.getStorageSync("userId");if(!t)return void uni.showToast({title:"ËØ∑ÂÖàÁôªÂΩï",icon:"none"});const a={id:Date.now(),type:"right",text:e,time:this.getCurrentTime()};this.messages.push(a),this.inputMessage="",this.$nextTick((()=>{this.scrollToBottom()}));try{const a=this.generateAIResponse(e),s={id:Date.now()+1,type:"left",text:a,time:this.getCurrentTime()};this.messages.push(s),await this.saveChatMessage(t,this.modelId,e,a,"ai_chat"),this.$nextTick((()=>{this.scrollToBottom()}))}catch(s){o("error","at pages/ai/ai-chat.vue:733","ÂèëÈÄÅÊ∂àÊÅØÂ§±Ë¥•:",s),uni.showToast({title:"ÂèëÈÄÅÂ§±Ë¥•ÔºåËØ∑ÈáçËØï",icon:"none"})}},generateAIResponse(e){const t=["ÊàëÁêÜËß£‰Ω†ÁöÑÈóÆÈ¢òÔºåËÆ©ÊàëÊù•Â∏Æ‰Ω†Ëß£Á≠î„ÄÇ","ËøôÊòØ‰∏Ä‰∏™ÂæàÊúâË∂£ÁöÑÈóÆÈ¢òÔºÅ","Ê†πÊçÆÊàëÁöÑÂàÜÊûêÔºåÊàëËÆ§‰∏∫...","ËÆ©Êàë‰∏∫‰Ω†Êèê‰æõ‰∏Ä‰∫õÂª∫ËÆÆ„ÄÇ","Ëøô‰∏™ÈóÆÈ¢òÈúÄË¶Å‰ªîÁªÜËÄÉËôëÔºåÊàëÁöÑÂª∫ËÆÆÊòØ...","Ë∞¢Ë∞¢‰Ω†ÁöÑÊèêÈóÆÔºåËÆ©ÊàëÊÉ≥ÊÉ≥...","ËøôÊòØ‰∏Ä‰∏™ÂæàÂ•ΩÁöÑËßÇÁÇπÔºÅ","ÊàëÂª∫ËÆÆ‰Ω†ÂèØ‰ª•Â∞ùËØï..."];return t[Math.floor(Math.random()*t.length)]},getCurrentTime(){const e=new Date,t=e.getHours();return`${t<12?"‰∏äÂçà":"‰∏ãÂçà"}${t<12?t:t-12}:${e.getMinutes().toString().padStart(2,"0")}`},scrollToBottom(){this.scrollTop=999999},getAvatarText(){return this.currentAiModel.modelName?this.currentAiModel.modelName.charAt(0):"?"},saveChatMessage:async(e,t,a,s,i)=>new Promise(((n,l)=>{const c={userId:parseInt(e),userAiId:t?parseInt(t):null,userMessage:a,aiResponse:s,chatType:i,messageTimestamp:(new Date).toISOString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};o("log","at pages/ai/ai-chat.vue:793","ÂèëÈÄÅËÅäÂ§©Êï∞ÊçÆ:",c),uni.request({url:"http://localhost:8888/api/a-entities-wlq/ai-chat-list-detail-r/save",method:"POST",header:{"Content-Type":"application/json"},data:c,timeout:1e4,success:e=>{o("log","at pages/ai/ai-chat.vue:804","ËÅäÂ§©Ê∂àÊÅØ‰øùÂ≠òÊàêÂäü:",e),n(e)},fail:e=>{o("error","at pages/ai/ai-chat.vue:808","ËÅäÂ§©Ê∂àÊÅØ‰øùÂ≠òÂ§±Ë¥•:",e),l(e)}})}))}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"chat-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-btn",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[(e.openBlock(),e.createElementBlock("svg",{class:"back-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",fill:"#666666","p-id":"727"})]))]),e.createElementVNode("text",{class:"title"},e.toDisplayString(i.currentAiModel.modelName||"AI Âä©Êâã"),1),e.createElementVNode("view",{class:"more-btn",onClick:a[1]||(a[1]=(...e)=>n.showMoreOptions&&n.showMoreOptions(...e))},[e.createElementVNode("view",{class:"dot"}),e.createElementVNode("view",{class:"dot"}),e.createElementVNode("view",{class:"dot"})])]),e.createElementVNode("scroll-view",{class:"chat-area","scroll-y":"true","scroll-top":i.scrollTop},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩAIÊ®°Âûã...")])):i.chatLoading?(e.openBlock(),e.createElementBlock("view",{key:1,class:"loading-container"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩËÅäÂ§©ËÆ∞ÂΩï...")])):i.messages.length>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(i.messages,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:e.normalizeClass(["message",t.type])},["left"===t.type&&i.currentAiModel.modelImageUrl?(e.openBlock(),e.createElementBlock("image",{key:0,class:"avatar",src:i.currentAiModel.modelImageUrl,mode:"aspectFill"},null,8,["src"])):"left"===t.type?(e.openBlock(),e.createElementBlock("view",{key:1,class:"avatar avatar-placeholder"},[e.createElementVNode("text",{class:"avatar-text"},e.toDisplayString(n.getAvatarText()),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"message-bubble"},[e.createElementVNode("text",{class:"message-text"},e.toDisplayString(t.text),1),t.time?(e.openBlock(),e.createElementBlock("text",{key:0,class:"message-time"},e.toDisplayString(t.time),1)):e.createCommentVNode("",!0)]),"right"===t.type?(e.openBlock(),e.createElementBlock("image",{key:2,class:"avatar",src:"/static/logo.png",mode:"aspectFill"})):e.createCommentVNode("",!0)],2)))),128)):(e.openBlock(),e.createElementBlock("view",{key:3,class:"no-messages"},[e.createElementVNode("text",{class:"no-messages-text"},"ÊöÇÊó†ËÅäÂ§©ËÆ∞ÂΩï")]))],8,["scroll-top"]),e.createElementVNode("view",{class:"input-bar"},[e.createElementVNode("view",{class:"mic-btn",onClick:a[2]||(a[2]=(...e)=>n.toggleVoiceInput&&n.toggleVoiceInput(...e))},[i.isVoiceMode?(e.openBlock(),e.createElementBlock("svg",{key:1,class:"keyboard-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M512 64A448 448 0 1 0 960 512 448.5 448.5 0 0 0 512 64z m0 832a384 384 0 1 1 384-384 384.5 384.5 0 0 1-384 384z",fill:"#333333","p-id":"2120"}),e.createElementVNode("path",{d:"M320 400m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z",fill:"#333333","p-id":"2121"}),e.createElementVNode("path",{d:"M448 448A48 48 0 1 0 400 400a48 48 0 0 0 48 48zM576 352a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM704 352a48 48 0 1 0 48 48 48 48 0 0 0-48-48z",fill:"#333333","p-id":"2122"}),e.createElementVNode("path",{d:"M320 528m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z",fill:"#333333","p-id":"2123"}),e.createElementVNode("path",{d:"M448 576a48 48 0 1 0-48-48 48 48 0 0 0 48 48zM576 640H448a48 48 0 0 0 0 96h128a48 48 0 1 0 0-96zM576 480a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM704 480a48 48 0 1 0 48 48 48 48 0 0 0-48-48z",fill:"#333333","p-id":"2124"})])):(e.openBlock(),e.createElementBlock("svg",{key:0,class:"mic-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M593.024 234.496l-46.165333 46.229333c0.106667 0.085333 0.149333 0.149333 0.277333 0.234667 127.552 127.658667 127.552 334.677333 0 462.336l46.122667 46.250667c153.045333-153.194667 153.045333-401.621333 0-554.816C593.173333 234.666667 593.130667 234.56 593.024 234.496z","p-id":"3544"}),e.createElementVNode("path",{d:"M500.885333 327.189333c-0.042667-0.085333-0.128-0.149333-0.234667-0.213333l-46.165333 46.229333c0.042667 0.085333 0.128 0.149333 0.234667 0.256 76.48 76.565333 76.48 200.789333 0 277.397333l46.144 46.229333C603.008 595.008 603.008 429.333333 500.885333 327.189333z","p-id":"3545"}),e.createElementVNode("path",{d:"M408.32 419.434667l-92.394667 92.458667 92.629333 92.714667c51.008-51.114667 51.008-133.888 0-184.938667C408.469333 419.584 408.362667 419.52 408.32 419.434667z","p-id":"3546"}),e.createElementVNode("path",{d:"M512 0C229.696 0 0 229.696 0 512c0 282.282667 229.696 512 512 512 282.282667 0 512-229.717333 512-512C1024 229.696 794.282667 0 512 0zM512 981.290667C253.226667 981.290667 42.688 770.773333 42.688 512S253.226667 42.688 512 42.688 981.290667 253.226667 981.290667 512 770.773333 981.290667 512 981.290667z","p-id":"3547"})]))]),i.isVoiceMode?(e.openBlock(),e.createElementBlock("view",{key:1,class:"voice-field",onTouchstart:a[7]||(a[7]=(...e)=>n.startVoiceRecord&&n.startVoiceRecord(...e)),onTouchend:a[8]||(a[8]=(...e)=>n.endVoiceRecord&&n.endVoiceRecord(...e))},[e.createElementVNode("text",{class:"voice-text"},"Êåâ‰ΩèËØ¥ËØù")],32)):(e.openBlock(),e.createElementBlock("view",{key:0,class:"input-field"},[e.withDirectives(e.createElementVNode("input",{class:"message-input","onUpdate:modelValue":a[3]||(a[3]=e=>i.inputMessage=e),placeholder:"ËæìÂÖ•Ê∂àÊÅØ...",focus:i.inputFocus,onFocus:a[4]||(a[4]=(...e)=>n.onInputFocus&&n.onInputFocus(...e)),onBlur:a[5]||(a[5]=(...e)=>n.onInputBlur&&n.onInputBlur(...e)),onConfirm:a[6]||(a[6]=(...e)=>n.sendMessage&&n.sendMessage(...e))},null,40,["focus"]),[[e.vModelText,i.inputMessage]])])),e.createElementVNode("view",{class:"action-btns"},[e.createElementVNode("view",{class:"emoji-btn",onClick:a[9]||(a[9]=(...e)=>n.toggleEmoji&&n.toggleEmoji(...e))},[(e.openBlock(),e.createElementBlock("svg",{class:"emoji-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M512 160C317.5936 160 160 317.5936 160 512S317.5936 864 512 864 864 706.4064 864 512 706.4064 160 512 160z m0 64c159.0528 0 288 128.9472 288 288S671.0528 800 512 800 224 671.0528 224 512 352.9472 224 512 224z",fill:"#2c2c2c","p-id":"4603"}),e.createElementVNode("path",{d:"M683.3408 501.248H340.6592a25.6 25.6 0 0 0-25.6 26.112l0.1536 6.912a196.9408 196.9408 0 0 0 393.728-7.3984 25.6 25.6 0 0 0-25.6-25.6z m-27.8784 51.2l-0.3072 1.792A145.7664 145.7664 0 0 1 512 672.5888l-5.7088-0.1024a145.8176 145.8176 0 0 1-137.2928-117.4272l-0.4864-2.6112h286.9504z",fill:"#2c2c2c","p-id":"4604"}),e.createElementVNode("path",{d:"M411.1104 411.4432m-38.7584 0a38.7584 38.7584 0 1 0 77.5168 0 38.7584 38.7584 0 1 0-77.5168 0Z",fill:"#2c2c2c","p-id":"4605"}),e.createElementVNode("path",{d:"M612.8896 411.4432m-38.7584 0a38.7584 38.7584 0 1 0 77.5168 0 38.7584 38.7584 0 1 0-77.5168 0Z",fill:"#2c2c2c","p-id":"4606"})]))]),e.createElementVNode("view",{class:"plus-btn",onClick:a[10]||(a[10]=(...e)=>n.togglePlusMenu&&n.togglePlusMenu(...e))},[(e.openBlock(),e.createElementBlock("svg",{class:"plus-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M511.5 957.9C264.9 957.9 65 758.2 65 511.9s199.9-446 446.5-446S958 265.6 958 511.9c0.1 246.3-199.8 446-446.5 446zM509 149.1c-200.4 0-355.8 162.2-355.8 362.3 0 200.1 155.4 356.8 355.8 356.8s362.9-156.7 362.9-356.8c0-200.1-162.5-362.3-362.9-362.3zM690.5 556h-134v133.8c0 24.6-20 44.6-44.6 44.6h-0.1c-24.6 0-44.6-19.9-44.6-44.6V556h-134c-24.7 0-44.6-19.9-44.6-44.5v-0.1c0-24.6 20-44.6 44.6-44.6h134V333c0-24.6 20-44.6 44.6-44.6h0.1c24.7 0 44.6 19.9 44.6 44.6v133.8h134c24.7 0 44.6 19.9 44.6 44.6v0.1c0 24.6-19.9 44.5-44.6 44.5z m0 0","p-id":"1640"})]))])])]),e.createElementVNode("view",{class:e.normalizeClass(["emoji-panel",{active:i.showEmojiPanel}]),onClick:a[12]||(a[12]=(...e)=>n.hideEmojiPanel&&n.hideEmojiPanel(...e))},[e.createElementVNode("view",{class:"emoji-content",onClick:a[11]||(a[11]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"emoji-grid"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(4,(t=>e.createElementVNode("view",{class:"emoji-item",key:`row1-${t}`},[e.createElementVNode("image",{class:"emoji-image",src:"",mode:"aspectFill"})]))),64)),(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(4,(t=>e.createElementVNode("view",{class:"emoji-item",key:`row2-${t}`},[e.createElementVNode("image",{class:"emoji-image",src:"",mode:"aspectFill"})]))),64)),(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(4,(t=>e.createElementVNode("view",{class:"emoji-item",key:`row3-${t}`},[e.createElementVNode("image",{class:"emoji-image",src:"",mode:"aspectFill"})]))),64))]),e.createElementVNode("view",{class:"emoji-pagination"},[e.createElementVNode("view",{class:"page-dot active"}),e.createElementVNode("view",{class:"page-dot"}),e.createElementVNode("view",{class:"page-dot"})])])],2),e.createElementVNode("view",{class:e.normalizeClass(["plus-panel",{active:i.showPlusPanel}]),onClick:a[18]||(a[18]=(...e)=>n.hidePlusPanel&&n.hidePlusPanel(...e))},[e.createElementVNode("view",{class:"plus-content",onClick:a[17]||(a[17]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"plus-grid"},[e.createElementVNode("view",{class:"plus-item",onClick:a[13]||(a[13]=(...e)=>n.selectImage&&n.selectImage(...e))},[e.createElementVNode("view",{class:"plus-icon-wrapper"},[(e.openBlock(),e.createElementBlock("svg",{class:"plus-feature-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48"},[e.createElementVNode("path",{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zM338 304c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm513.9 436.1H172.1c-12.9 0-24.8-5.9-32.7-16.1L73.4 659.8c-7.9-10.2-7.9-23.4 0-33.6l66-84.2c7.9-10.2 19.8-16.1 32.7-16.1h679.8c12.9 0 24.8 5.9 32.7 16.1l66 84.2c7.9 10.2 7.9 23.4 0 33.6l-66 84.2c-7.9 10.2-19.8 16.1-32.7 16.1z",fill:"#333333"})]))]),e.createElementVNode("text",{class:"plus-text"},"ÂõæÁâá‰∏éËßÜÈ¢ë")]),e.createElementVNode("view",{class:"plus-item",onClick:a[14]||(a[14]=(...e)=>n.openCamera&&n.openCamera(...e))},[e.createElementVNode("view",{class:"plus-icon-wrapper"},[(e.openBlock(),e.createElementBlock("svg",{class:"plus-feature-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48"},[e.createElementVNode("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:"#333333"}),e.createElementVNode("path",{d:"M464 336a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z",fill:"#333333"})]))]),e.createElementVNode("text",{class:"plus-text"},"Áõ∏Êú∫")]),e.createElementVNode("view",{class:"plus-item",onClick:a[15]||(a[15]=(...e)=>n.makeCall&&n.makeCall(...e))},[e.createElementVNode("view",{class:"plus-icon-wrapper"},[(e.openBlock(),e.createElementBlock("svg",{class:"plus-feature-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48"},[e.createElementVNode("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:"#333333"}),e.createElementVNode("path",{d:"M512 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176z",fill:"#333333"})]))]),e.createElementVNode("text",{class:"plus-text"},"ËØ≠Èü≥/ËßÜÈ¢ëÈÄöËØù")]),e.createElementVNode("view",{class:"plus-item",onClick:a[16]||(a[16]=(...e)=>n.shareLocation&&n.shareLocation(...e))},[e.createElementVNode("view",{class:"plus-icon-wrapper"},[(e.openBlock(),e.createElementBlock("svg",{class:"plus-feature-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48"},[e.createElementVNode("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:"#333333"}),e.createElementVNode("path",{d:"M512 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176z",fill:"#333333"})]))]),e.createElementVNode("text",{class:"plus-text"},"ÂÆö‰Ωç")])])])],2),e.createElementVNode("view",{class:e.normalizeClass(["action-sheet",{active:i.showActionSheet}]),onClick:a[24]||(a[24]=(...e)=>n.hideActionSheet&&n.hideActionSheet(...e))},[e.createElementVNode("view",{class:"action-content",onClick:a[23]||(a[23]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"action-item",onClick:a[19]||(a[19]=(...e)=>n.goToMyAIModels&&n.goToMyAIModels(...e))},[e.createElementVNode("text",{class:"action-text"},"ÊàëË¥≠‰π∞ÁöÑAIÊ®°Âûã")]),e.createElementVNode("view",{class:"action-item",onClick:a[20]||(a[20]=(...e)=>n.goToAIDetails&&n.goToAIDetails(...e))},[e.createElementVNode("text",{class:"action-text"},"AIËØ¶ÊÉÖ‰ø°ÊÅØ")]),e.createElementVNode("view",{class:"action-item",onClick:a[21]||(a[21]=(...e)=>n.goToAIStore&&n.goToAIStore(...e))},[e.createElementVNode("text",{class:"action-text"},"AIÊ®°ÂûãÂïÜÂüé")]),e.createElementVNode("view",{class:"action-cancel",onClick:a[22]||(a[22]=(...e)=>n.hideActionSheet&&n.hideActionSheet(...e))},[e.createElementVNode("text",{class:"cancel-text"},"ÂèñÊ∂à")])])],2)])}]]);const u=a({name:"AIStore",data:()=>({aiModels:[],userAiModels:[],loading:!0,errorMessage:""}),onLoad(){this.loadAiStoreData()},methods:{async loadAiStoreData(){this.loading=!0,this.errorMessage="";try{const e=uni.getStorageSync("userId");if(!e)return this.errorMessage="Áî®Êà∑Êú™ÁôªÂΩï",void(this.loading=!1);const[t,a]=await Promise.all([this.getAiModels(),this.getUserAiModels(e)]);t.data&&t.data.length>0?(this.aiModels=t.data,o("log","at pages/ai/ai-store.vue:181","Âä†ËΩΩÁöÑAIÊ®°ÂûãÊï∞ÊçÆ:",this.aiModels)):this.aiModels=[],a.data&&a.data.length>0?(this.userAiModels=a.data,o("log","at pages/ai/ai-store.vue:188","Áî®Êà∑AIÊ®°ÂûãÊï∞ÊçÆ:",this.userAiModels)):this.userAiModels=[]}catch(e){o("error","at pages/ai/ai-store.vue:194","Âä†ËΩΩAIÂïÜÂ∫óÊï∞ÊçÆÂ§±Ë¥•:",e),this.errorMessage="Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•ÔºåËØ∑ÈáçËØï"}finally{this.loading=!1}},getAiModels:()=>new Promise(((e,t)=>{uni.request({url:"http://localhost:8888/api/a-entities/aimodel-base-info/all",method:"GET",timeout:1e4,success:t=>{e(t)},fail:e=>{t(e)}})})),getUserAiModels:e=>new Promise(((t,a)=>{uni.request({url:`http://localhost:8888/api/user-ai-model/user/${e}`,method:"GET",timeout:1e4,success:e=>{t(e)},fail:e=>{a(e)}})})),isPurchased(e){return!(!e||!this.userAiModels.length)&&this.userAiModels.some((t=>t.parentModelId===e.modelId||t.modelName===e.modelName))},getUserAiModel(e){return e&&this.userAiModels.length?this.userAiModels.find((t=>t.parentModelId===e.modelId||t.modelName===e.modelName)):null},getAvatarClass(e){if(!e)return"default-ai-avatar";const t=e.toLowerCase();return t.includes("ÂÆ†")||t.includes("pet")?"pet-ai-avatar":t.includes("Êê≠")||t.includes("partner")||t.includes("ÁîüÊ¥ª")?"lifestyle-ai-avatar":t.includes("Â≠¶")||t.includes("study")?"study-ai-avatar":t.includes("Ê∏∏")||t.includes("game")?"gaming-ai-avatar":t.includes("Ëøê")||t.includes("sport")?"sports-ai-avatar":t.includes("Èü≥")||t.includes("music")?"music-ai-avatar":t.includes("ÊóÖ")||t.includes("travel")?"travel-ai-avatar":"default-ai-avatar"},getAvatarText:e=>e?e.charAt(0).toUpperCase():"?",formatPrice(e){if(!e)return"0C";return Math.round(100*e)+"C"},formatRecommendCount:e=>e?e>=1e4?(e/1e4).toFixed(1)+"w":e.toString():"0",formatPurchaseCount:e=>e?e>=1e4?(e/1e4).toFixed(1)+"w":e.toString():"0",formatScore:e=>e?parseFloat(e).toFixed(1):"0.0",formatPurchaseTime(e){const t=this.getUserAiModel(e);if(!t||!t.createdAt)return"Êú™Áü•";const a=new Date(t.createdAt);return`${a.getMonth()+1}Êúà${a.getDate()}Êó•`},async buyAiModel(e){try{if(this.isPurchased(e))return void uni.showToast({title:"ÊÇ®Â∑≤Ë¥≠‰π∞Ê≠§AIÊ®°Âûã",icon:"none"});if(!(await new Promise((t=>{uni.showModal({title:"Á°ÆËÆ§Ë¥≠‰π∞",content:`Á°ÆÂÆöË¶ÅË¥≠‰π∞ ${e.modelName} ÂêóÔºü\n‰ª∑Ê†ºÔºö${this.formatPrice(e.price)}`,success:e=>{t(e.confirm)},fail:()=>{t(!1)}})}))))return;uni.showLoading({title:"Ë¥≠‰π∞‰∏≠..."});const t=uni.getStorageSync("userId");if(!t)return uni.hideLoading(),void uni.showToast({title:"ËØ∑ÂÖàÁôªÂΩï",icon:"none"});const a=await this.purchaseAiModel(t,e);uni.hideLoading(),a.success?(uni.showToast({title:"Ë¥≠‰π∞ÊàêÂäüÔºÅ",icon:"success"}),await this.loadAiStoreData()):uni.showToast({title:a.message||"Ë¥≠‰π∞Â§±Ë¥•",icon:"none"})}catch(t){uni.hideLoading(),o("error","at pages/ai/ai-store.vue:384","Ë¥≠‰π∞AIÊ®°ÂûãÂ§±Ë¥•:",t),uni.showToast({title:"Ë¥≠‰π∞Â§±Ë¥•ÔºåËØ∑ÈáçËØï",icon:"none"})}},purchaseAiModel:(e,t)=>new Promise(((a,s)=>{const i={userId:parseInt(e),parentModelId:t.modelId,modelName:t.modelName,modelDesc:t.modelDesc,modelImageUrl:t.modelImageUrl||"",price:t.price};o("log","at pages/ai/ai-store.vue:404","ÂèëÈÄÅË¥≠‰π∞ËØ∑Ê±Ç:",i),uni.request({url:"http://localhost:8888/api/u-entities/user-ai-model/purchase",method:"POST",header:{"Content-Type":"application/json"},data:i,timeout:1e4,success:e=>{o("log","at pages/ai/ai-store.vue:415","Ë¥≠‰π∞ÂìçÂ∫î:",e),a(e.data)},fail:e=>{o("error","at pages/ai/ai-store.vue:419","Ë¥≠‰π∞ËØ∑Ê±ÇÂ§±Ë¥•:",e),s(e)}})})),goBack(){uni.navigateBack()},openSearch(){uni.showToast({title:"ÊêúÁ¥¢ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},goToAIDetail(e){o("log","at pages/ai/ai-store.vue:436","Ë∑≥ËΩ¨Âà∞AIËØ¶ÊÉÖÈ°µÈù¢:",e),uni.navigateTo({url:`/pages/ai/pet-ai-detail?aiName=${encodeURIComponent(e.modelName)}&modelId=${e.modelId}`,success:()=>{o("log","at pages/ai/ai-store.vue:441","Ë∑≥ËΩ¨ÊàêÂäü")},fail:e=>{o("error","at pages/ai/ai-store.vue:444","Ë∑≥ËΩ¨Â§±Ë¥•:",e),uni.showToast({title:"È°µÈù¢Ë∑≥ËΩ¨Â§±Ë¥•",icon:"none"})}})},goToHome(){uni.navigateTo({url:"/pages/feed/content-feed"})},goToMessages(){uni.showToast({title:"Ê∂àÊÅØÂäüËÉΩ",icon:"none"})},goToFriends(){uni.navigateTo({url:"/pages/chat/friend-list"})},goToProfile(){uni.navigateTo({url:"/pages/feed/user-profile"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"ai-store-page"},[e.createElementVNode("view",{class:"content-area"},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-section"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩAIÊ®°Âûã...")])):i.errorMessage?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-section"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"retry-button",onClick:a[0]||(a[0]=(...e)=>n.loadAiStoreData&&n.loadAiStoreData(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):(e.openBlock(),e.createElementBlock("view",{key:2},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.aiModels,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.modelId,class:"ai-item",onClick:()=>n.goToAIDetail(t)},[e.createElementVNode("view",{class:"ai-avatar"},[t.modelImageUrl?(e.openBlock(),e.createElementBlock("image",{key:0,class:"avatar-image",src:t.modelImageUrl,mode:"aspectFill"},null,8,["src"])):(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass(["avatar-circle",n.getAvatarClass(t.modelName)])},[e.createElementVNode("text",{class:"avatar-text"},e.toDisplayString(n.getAvatarText(t.modelName)),1)],2))]),e.createElementVNode("view",{class:"ai-info"},[e.createElementVNode("text",{class:"ai-name"},e.toDisplayString(t.modelName||"Êú™Áü•AI"),1),e.createElementVNode("text",{class:"ai-description"},e.toDisplayString(t.modelDesc||"ÊöÇÊó†ÊèèËø∞"),1),e.createElementVNode("view",{class:"ai-stats"},[e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(n.formatRecommendCount(t.recommendCount)),1),e.createElementVNode("text",{class:"stat-label"},"Êé®Ëçê")]),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(n.formatPurchaseCount(t.purchaseCount)),1),e.createElementVNode("text",{class:"stat-label"},"Ë¥≠‰π∞")]),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(n.formatScore(t.score)),1),e.createElementVNode("text",{class:"stat-label"},"ËØÑÂàÜ")])]),e.createElementVNode("view",{class:"ai-price"},[e.createElementVNode("text",{class:"price-text"},e.toDisplayString(n.formatPrice(t.price)),1),e.createElementVNode("text",{class:"price-label"},"ÈáëÂ∏Å")]),e.createElementVNode("view",{class:"ai-interactions"},[e.createElementVNode("view",{class:"interaction-item"},[e.createElementVNode("text",{class:"interaction-icon"},"üëç"),e.createElementVNode("text",{class:"interaction-count"},e.toDisplayString(t.likeCount||0),1)]),e.createElementVNode("view",{class:"interaction-item"},[e.createElementVNode("text",{class:"interaction-icon"},"üí¨"),e.createElementVNode("text",{class:"interaction-count"},e.toDisplayString(t.commentCount||0),1)]),e.createElementVNode("view",{class:"interaction-item"},[e.createElementVNode("text",{class:"interaction-icon"},"‚≠ê"),e.createElementVNode("text",{class:"interaction-count"},e.toDisplayString(t.collectCount||0),1)])]),n.isPurchased(t)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"purchase-info"},[e.createElementVNode("text",{class:"purchase-time"},"Ë¥≠‰π∞Êó∂Èó¥: "+e.toDisplayString(n.formatPurchaseTime(t)),1)])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"ai-status",onClick:a[1]||(a[1]=e.withModifiers((()=>{}),["stop"]))},[n.isPurchased(t)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"purchased-badge"},[e.createElementVNode("text",{class:"badge-text"},"Â∑≤Ë¥≠‰π∞")])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"buy-btn",onClick:e=>n.buyAiModel(t)},[e.createElementVNode("text",{class:"buy-text"},"Ë¥≠‰π∞")],8,["onClick"]))])],8,["onClick"])))),128)),0===i.aiModels.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-section"},[e.createElementVNode("view",{class:"empty-icon"},"ü§ñ"),e.createElementVNode("text",{class:"empty-text"},"ÊöÇÊó†AIÊ®°Âûã"),e.createElementVNode("text",{class:"empty-desc"},"Êï¨ËØ∑ÊúüÂæÖÊõ¥Â§öAIÊ®°Âûã‰∏äÁ∫øÔºÅ")])):e.createCommentVNode("",!0)]))]),e.createElementVNode("view",{class:"bottom-nav"},[e.createElementVNode("view",{class:"nav-item",onClick:a[2]||(a[2]=(...e)=>n.goToHome&&n.goToHome(...e))},[e.createElementVNode("text",{class:"nav-text"},"È¶ñÈ°µ")]),e.createElementVNode("view",{class:"nav-item",onClick:a[3]||(a[3]=(...e)=>n.goToMessages&&n.goToMessages(...e))},[e.createElementVNode("text",{class:"nav-text"},"Ê∂àÊÅØ")]),e.createElementVNode("view",{class:"nav-item active"},[e.createElementVNode("view",{class:"ai-icon"},"AI")]),e.createElementVNode("view",{class:"nav-item",onClick:a[4]||(a[4]=(...e)=>n.goToFriends&&n.goToFriends(...e))},[e.createElementVNode("text",{class:"nav-text"},"Â•ΩÂèã")]),e.createElementVNode("view",{class:"nav-item",onClick:a[5]||(a[5]=(...e)=>n.goToProfile&&n.goToProfile(...e))},[e.createElementVNode("view",{class:"nav-avatar"},[e.createElementVNode("view",{class:"mini-cat-avatar"},[e.createElementVNode("view",{class:"mini-cat-body"}),e.createElementVNode("view",{class:"mini-cat-face"},[e.createElementVNode("view",{class:"mini-cat-eyes"},[e.createElementVNode("view",{class:"mini-cat-eye"}),e.createElementVNode("view",{class:"mini-cat-eye"})])])])])])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const h=a({name:"TasksPage",data:()=>({currentFilter:"all",showRating:!1,currentTask:null,rating:0,comment:"",tasks:[],loading:!1,errorMessage:"",userId:null,commentedTasks:new Set}),onLoad(){this.userId=uni.getStorageSync("userId")||1,o("log","at pages/ai/tasks.vue:201","tasksÈ°µÈù¢Âä†ËΩΩÔºåÁî®Êà∑ID:",this.userId),this.loadTasks()},computed:{totalTasks(){return this.tasks.length},activeTasks(){return this.tasks.filter((e=>"active"===e.status)).length},completedTasks(){return this.tasks.filter((e=>"completed"===e.status)).length},filteredTasks(){return"all"===this.currentFilter?this.tasks:"active"===this.currentFilter?this.tasks.filter((e=>"active"===e.status)):"completed"===this.currentFilter?this.tasks.filter((e=>"completed"===e.status)):this.tasks},ratingText(){return["","ÂæàÂ∑Æ","ËæÉÂ∑Æ","‰∏ÄËà¨","ËæÉÂ•Ω","ÂæàÂ•Ω"][this.rating]||""}},methods:{async loadTasks(){this.loading=!0,this.errorMessage="";try{o("log","at pages/ai/tasks.vue:238","ÂºÄÂßãÂä†ËΩΩÁî®Êà∑‰ªªÂä°Êï∞ÊçÆÔºåÁî®Êà∑ID:",this.userId);const e=await uni.request({url:"http://localhost:8888/api/u-entities/user-task-relationship/all",method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/ai/tasks.vue:248","‰ªªÂä°Êï∞ÊçÆÂìçÂ∫î:",e),200!==e.statusCode||!e.data)throw new Error("Âä†ËΩΩ‰ªªÂä°Êï∞ÊçÆÂ§±Ë¥•");{const t=e.data.filter((e=>e.userId===this.userId));o("log","at pages/ai/tasks.vue:253","Áî®Êà∑‰ªªÂä°Êï∞ÊçÆ:",t),this.tasks=this.convertTasksToDisplayFormat(t),o("log","at pages/ai/tasks.vue:257","ËΩ¨Êç¢ÂêéÁöÑ‰ªªÂä°Êï∞ÊçÆ:",this.tasks),await this.checkUserComments()}}catch(e){o("error","at pages/ai/tasks.vue:265","Âä†ËΩΩ‰ªªÂä°Êï∞ÊçÆÂºÇÂ∏∏:",e),this.errorMessage="Âä†ËΩΩ‰ªªÂä°Êï∞ÊçÆÂ§±Ë¥•ÔºåËØ∑ÈáçËØï",uni.showToast({title:"Âä†ËΩΩ‰ªªÂä°Â§±Ë¥•",icon:"error"})}finally{this.loading=!1}},convertTasksToDisplayFormat(e){return e.map((e=>{let t="pending";1===e.status?t="active":2===e.status?t="completed":3===e.status&&(t="terminated");const a=this.formatTime(e.createdAt),s=e.endedAt?this.formatTime(e.endedAt):null;return{id:e.userTaskId,title:`‰ªªÂä° ${e.userTaskId}`,description:`Áî®Êà∑‰ªªÂä°ÂÖ≥Á≥ªID: ${e.userTaskId}ÔºåÁä∂ÊÄÅ: ${this.getStatusText(t)}ÔºåËøõÂ∫¶: ${e.taskPercent||0}%`,status:t,progress:e.taskPercent||0,createTime:a,completedTime:s}}))},formatTime(e){if(!e)return"";return new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},getStatusText:e=>({pending:"ÂæÖÂºÄÂßã",active:"ËøõË°å‰∏≠",completed:"Â∑≤ÂÆåÊàê",terminated:"Â∑≤ÁªàÊ≠¢"}[e]||"Êú™Áü•"),async checkUserComments(){try{const e=await uni.request({url:`http://localhost:8888/api/efmprt-entities/task-comment/check?userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});200===e.statusCode&&e.data.exists&&(this.tasks.forEach((e=>{"completed"===e.status&&this.commentedTasks.add(e.id)})),o("log","at pages/ai/tasks.vue:347","Áî®Êà∑Â∑≤ËØÑ‰ª∑ÔºåÊ†áËÆ∞ÊâÄÊúâÂ∑≤ÂÆåÊàê‰ªªÂä°‰∏∫Â∑≤ËØÑ‰ª∑"))}catch(e){o("error","at pages/ai/tasks.vue:350","Ê£ÄÊü•Áî®Êà∑ËØÑ‰ª∑Áä∂ÊÄÅÂ§±Ë¥•:",e)}},async checkTaskCommented(e){try{const e=await uni.request({url:`http://localhost:8888/api/efmprt-entities/task-comment/check?userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});return 200===e.statusCode&&e.data.exists||!1}catch(t){return o("error","at pages/ai/tasks.vue:370","Ê£ÄÊü•‰ªªÂä°ËØÑ‰ª∑Áä∂ÊÄÅÂ§±Ë¥•:",t),!1}},goBack(){uni.navigateBack()},setFilter(e){this.currentFilter=e},showTaskDetail(e){uni.navigateTo({url:`/pages/ai/task-detail?taskId=${e.id}`})},updateTaskStatus(e,t){const a=this.tasks.findIndex((t=>t.id===e));-1!==a&&(this.tasks[a].status=t,"terminated"===t&&(this.tasks[a].progress=0))},async showRatingModal(e){await this.checkTaskCommented(e.id)?uni.showToast({title:"ÊÇ®Â∑≤ÁªèËØÑ‰ª∑ËøáÊ≠§‰ªªÂä°",icon:"none",duration:2e3}):(this.currentTask=e,this.rating=0,this.comment="",this.showRating=!0)},hideRatingModal(){this.showRating=!1,this.currentTask=null},setRating(e){this.rating=e},async submitRating(){if(0!==this.rating)try{o("log","at pages/ai/tasks.vue:432","Êèê‰∫§ËØÑÂàÜ:",{taskId:this.currentTask.id,userId:this.userId,rating:this.rating,comment:this.comment}),uni.showLoading({title:"Êèê‰∫§‰∏≠..."});const e=await uni.request({url:"http://localhost:8888/api/efmprt-entities/task-comment/save",method:"POST",header:{"Content-Type":"application/json"},data:{userId:this.userId,taskId:this.currentTask.id,stars:this.rating,commentText:this.comment||""}});if(o("log","at pages/ai/tasks.vue:458","ËØÑÂàÜÊèê‰∫§ÂìçÂ∫î:",e),200!==e.statusCode||!e.data.success)throw new Error(e.data.message||"Êèê‰∫§Â§±Ë¥•");uni.showToast({title:"ËØÑÂàÜÊèê‰∫§ÊàêÂäü",icon:"success"}),this.commentedTasks.add(this.currentTask.id),this.rating=0,this.comment="",this.hideRatingModal()}catch(e){o("error","at pages/ai/tasks.vue:479","Êèê‰∫§ËØÑÂàÜÂ§±Ë¥•:",e),uni.showToast({title:"Êèê‰∫§Â§±Ë¥•ÔºåËØ∑ÈáçËØï",icon:"error"})}finally{uni.hideLoading()}else uni.showToast({title:"ËØ∑ÈÄâÊã©ËØÑÂàÜ",icon:"none"})}}},[["render",function(t,a,s,o,i,n){var l,c;return e.openBlock(),e.createElementBlock("view",{class:"tasks-page"},[e.createElementVNode("view",{class:"stats-section"},[e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-number"},e.toDisplayString(n.totalTasks),1),e.createElementVNode("text",{class:"stat-label"},"ÊÄª‰ªªÂä°")]),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-number"},e.toDisplayString(n.activeTasks),1),e.createElementVNode("text",{class:"stat-label"},"ËøõË°å‰∏≠")]),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-number"},e.toDisplayString(n.completedTasks),1),e.createElementVNode("text",{class:"stat-label"},"Â∑≤ÂÆåÊàê")])]),e.createElementVNode("view",{class:"tasks-list"},[e.createElementVNode("view",{class:"list-header"},[e.createElementVNode("text",{class:"header-title"},"‰ªªÂä°ÂàóË°®"),e.createElementVNode("view",{class:"filter-tabs"},[e.createElementVNode("view",{class:e.normalizeClass(["filter-tab",{active:"all"===i.currentFilter}]),onClick:a[0]||(a[0]=e=>n.setFilter("all"))},[e.createElementVNode("text",null,"ÂÖ®ÈÉ®")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-tab",{active:"active"===i.currentFilter}]),onClick:a[1]||(a[1]=e=>n.setFilter("active"))},[e.createElementVNode("text",null,"ËøõË°å‰∏≠")],2),e.createElementVNode("view",{class:e.normalizeClass(["filter-tab",{active:"completed"===i.currentFilter}]),onClick:a[2]||(a[2]=e=>n.setFilter("completed"))},[e.createElementVNode("text",null,"Â∑≤ÂÆåÊàê")],2)])]),i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Âä†ËΩΩ‰ªªÂä°‰∏≠...")])):i.errorMessage?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("button",{class:"retry-button",onClick:a[3]||(a[3]=(...e)=>n.loadTasks&&n.loadTasks(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):(e.openBlock(),e.createElementBlock("view",{key:2,class:"task-items"},[0===n.filteredTasks.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-container"},[e.createElementVNode("text",{class:"empty-text"},"ÊöÇÊó†‰ªªÂä°Êï∞ÊçÆ")])):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(n.filteredTasks,(t=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["task-item",{completed:"completed"===t.status}]),key:t.id},[e.createElementVNode("view",{class:"task-header"},[e.createElementVNode("view",{class:"task-title-row"},[e.createElementVNode("view",{class:e.normalizeClass(["task-status",t.status])},["completed"===t.status?(e.openBlock(),e.createElementBlock("view",{key:0,class:"status-icon"},"‚úì")):"active"===t.status?(e.openBlock(),e.createElementBlock("view",{key:1,class:"status-icon"},"‚óè")):(e.openBlock(),e.createElementBlock("view",{key:2,class:"status-icon"},"‚óã"))],2),e.createElementVNode("text",{class:"task-title"},e.toDisplayString(t.title),1),"completed"===t.status?(e.openBlock(),e.createElementBlock("view",{key:0,class:"completed-badge"},"Â∑≤ÂÆåÊàê")):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"task-time"},e.toDisplayString(t.createTime),1)]),e.createElementVNode("text",{class:"task-description"},e.toDisplayString(t.description),1),"active"===t.status?(e.openBlock(),e.createElementBlock("view",{key:0,class:"task-progress"},[e.createElementVNode("view",{class:"progress-bar"},[e.createElementVNode("view",{class:"progress-fill",style:e.normalizeStyle({width:t.progress+"%"})},null,4)]),e.createElementVNode("text",{class:"progress-text"},e.toDisplayString(t.progress)+"%",1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"task-actions"},["completed"===t.status?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["action-btn",i.commentedTasks.has(t.id)?"rated-btn":"rate-btn"]),onClick:e=>i.commentedTasks.has(t.id)?null:n.showRatingModal(t)},[e.createElementVNode("text",null,e.toDisplayString(i.commentedTasks.has(t.id)?"Â∑≤ËØÑ‰ª∑":"ËØÑÂàÜËØÑ‰ª∑"),1)],10,["onClick"])):"terminated"===t.status?(e.openBlock(),e.createElementBlock("view",{key:1,class:"action-btn terminated-btn",onClick:e=>n.showTaskDetail(t)},[e.createElementVNode("text",null,"‰ªªÂä°‰∏≠Ê≠¢")],8,["onClick"])):(e.openBlock(),e.createElementBlock("view",{key:2,class:"action-btn detail-btn",onClick:e=>n.showTaskDetail(t)},[e.createElementVNode("text",null,"Êü•ÁúãËØ¶ÊÉÖ")],8,["onClick"]))])],2)))),128))]))]),e.createElementVNode("view",{class:e.normalizeClass(["rating-modal",{active:i.showRating}]),onClick:a[9]||(a[9]=(...e)=>n.hideRatingModal&&n.hideRatingModal(...e))},[e.createElementVNode("view",{class:"rating-content",onClick:a[8]||(a[8]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"rating-header"},[e.createElementVNode("text",{class:"rating-title"},"‰ªªÂä°ËØÑ‰ª∑"),e.createElementVNode("view",{class:"close-btn",onClick:a[4]||(a[4]=(...e)=>n.hideRatingModal&&n.hideRatingModal(...e))},"√ó")]),e.createElementVNode("view",{class:"task-info"},[e.createElementVNode("text",{class:"task-name"},e.toDisplayString(null==(l=i.currentTask)?void 0:l.title),1),e.createElementVNode("text",{class:"task-desc"},e.toDisplayString(null==(c=i.currentTask)?void 0:c.description),1)]),e.createElementVNode("view",{class:"rating-section"},[e.createElementVNode("text",{class:"rating-label"},"ËØ∑‰∏∫AIÁöÑË°®Áé∞ËØÑÂàÜÔºö"),e.createElementVNode("view",{class:"star-rating"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(5,(t=>e.createElementVNode("view",{class:e.normalizeClass(["star",{active:t<=i.rating}]),key:t,onClick:e=>n.setRating(t)},[e.createElementVNode("text",null,"‚òÖ")],10,["onClick"]))),64))]),e.createElementVNode("text",{class:"rating-text"},e.toDisplayString(n.ratingText),1)]),e.createElementVNode("view",{class:"comment-section"},[e.createElementVNode("text",{class:"comment-label"},"ËØÑ‰ª∑ÂÜÖÂÆπÔºö"),e.withDirectives(e.createElementVNode("textarea",{class:"comment-input","onUpdate:modelValue":a[5]||(a[5]=e=>i.comment=e),placeholder:"ËØ∑ËæìÂÖ•ÊÇ®ÁöÑËØÑ‰ª∑...",maxlength:"200"},null,512),[[e.vModelText,i.comment]]),e.createElementVNode("text",{class:"char-count"},e.toDisplayString(i.comment.length)+"/200",1)]),e.createElementVNode("view",{class:"rating-actions"},[e.createElementVNode("view",{class:"cancel-btn",onClick:a[6]||(a[6]=(...e)=>n.hideRatingModal&&n.hideRatingModal(...e))},[e.createElementVNode("text",null,"ÂèñÊ∂à")]),e.createElementVNode("view",{class:"submit-btn",onClick:a[7]||(a[7]=(...e)=>n.submitRating&&n.submitRating(...e))},[e.createElementVNode("text",null,"Êèê‰∫§ËØÑ‰ª∑")])])])],2)])}]]);const p=a({name:"TaskDetailPage",data:()=>({taskId:null,showRating:!1,showTerminate:!1,rating:0,comment:"",taskData:{}}),computed:{ratingText(){return["","ÂæàÂ∑Æ","ËæÉÂ∑Æ","‰∏ÄËà¨","ËæÉÂ•Ω","ÂæàÂ•Ω"][this.rating]||""}},onLoad(e){e.taskId?(this.taskId=parseInt(e.taskId),this.loadTaskDetail()):(this.taskId=1,this.loadTaskDetail())},methods:{goBack(){uni.navigateBack()},async loadTaskDetail(){this.loading=!0,this.errorMessage="";try{o("log","at pages/ai/task-detail.vue:241","ÂºÄÂßãÂä†ËΩΩ‰ªªÂä°ËØ¶ÊÉÖÔºå‰ªªÂä°ID:",this.taskId);const e=await uni.request({url:`http://localhost:8888/api/a-entities/ai-task-log/by-user-task/${this.taskId}`,method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/ai/task-detail.vue:251","‰ªªÂä°ËØ¶ÊÉÖÂìçÂ∫î:",e),200===e.statusCode&&e.data)this.taskData=this.convertTaskData(e.data),o("log","at pages/ai/task-detail.vue:256","ËΩ¨Êç¢ÂêéÁöÑ‰ªªÂä°Êï∞ÊçÆ:",this.taskData);else{if(404!==e.statusCode)throw new Error("Âä†ËΩΩ‰ªªÂä°ËØ¶ÊÉÖÂ§±Ë¥•");this.errorMessage="‰ªªÂä°‰∏çÂ≠òÂú®",o("log","at pages/ai/task-detail.vue:259","‰ªªÂä°‰∏çÂ≠òÂú®Ôºå‰ªªÂä°ID:",this.taskId)}}catch(e){o("error","at pages/ai/task-detail.vue:264","Âä†ËΩΩ‰ªªÂä°ËØ¶ÊÉÖÂºÇÂ∏∏:",e),this.errorMessage="Âä†ËΩΩ‰ªªÂä°ËØ¶ÊÉÖÂ§±Ë¥•ÔºåËØ∑ÈáçËØï",uni.showToast({title:"Âä†ËΩΩÂ§±Ë¥•",icon:"error"})}finally{this.loading=!1}},convertTaskData(e){let t=e,a=0;e.aiTaskLog&&(t=e.aiTaskLog,a=e.taskPercent||0,e.userTaskStatus);let s="pending";0===t.status?s="pending":1===t.status?s="active":2===t.status?s="completed":3===t.status&&(s="error");const o=e=>{if(!e)return"";return new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})};let i=a;"completed"===s?i=100:"pending"===s&&(i=0);const n=this.generateProcessSteps(t.aiTaskDesc,s),l=this.generateAnalysisResult(t.taskComment,t.taskStar),c=this.generateSuggestions(s,t.taskComment);return{id:t.aiTaskLogId,title:t.aiTaskName||"Êú™ÂëΩÂêç‰ªªÂä°",description:t.aiTaskDesc||"ÊöÇÊó†ÊèèËø∞",status:s,progress:i,createTime:o(t.createdAt),completedTime:"completed"===s?o(t.updatedAt):null,processSteps:n,analysisResult:l,suggestions:c}},generateProcessSteps(e,t){if(!e)return[];return[{title:"‰ªªÂä°ÂàÜÊûê",description:"ÂàÜÊûê‰ªªÂä°ÈúÄÊ±ÇÂíåÁõÆÊ†á",completed:!0,completedTime:"09:00"},{title:"ÊñπÊ°àÂà∂ÂÆö",description:"Âà∂ÂÆöÊâßË°åÊñπÊ°àÂíåÁ≠ñÁï•",completed:"completed"===t||"active"===t,active:"active"===t,completedTime:"completed"===t?"10:30":null},{title:"‰ªªÂä°ÊâßË°å",description:"ÊâßË°åÂÖ∑‰Ωì‰ªªÂä°ÂÜÖÂÆπ",completed:"completed"===t,active:"active"===t,completedTime:"completed"===t?"14:20":null},{title:"ÁªìÊûúËØÑ‰º∞",description:"ËØÑ‰º∞‰ªªÂä°ÊâßË°åÁªìÊûú",completed:"completed"===t,completedTime:"completed"===t?"16:45":null}]},generateAnalysisResult(e,t){if(!e&&!t)return[];const a=[];if(t){let e="B";t>=4?e="A":t>=3?e="B+":t<=2&&(e="C"),a.push({title:"‰ªªÂä°ÂÆåÊàêË¥®Èáè",score:e,description:this.getScoreDescription(e),details:this.getScoreDetails(e)})}return e&&a.push({title:"Áî®Êà∑ÂèçÈ¶à",score:"A",description:e,details:["Áî®Êà∑ËØÑ‰ª∑ÂÜÖÂÆπ"]}),a},generateSuggestions(e,t){const a=[];return"completed"===e?a.push({icon:"‚úÖ",title:"‰ªªÂä°ÂÆåÊàê",description:"‰ªªÂä°Â∑≤ÊàêÂäüÂÆåÊàêÔºåÊÑüË∞¢ÊÇ®ÁöÑ‰ΩøÁî®"}):"active"===e?a.push({icon:"‚è≥",title:"ÁªßÁª≠ÊâßË°å",description:"‰ªªÂä°Ê≠£Âú®ÊâßË°å‰∏≠ÔºåËØ∑ËÄêÂøÉÁ≠âÂæÖ"}):a.push({icon:"üöÄ",title:"ÂºÄÂßã‰ªªÂä°",description:"Âª∫ËÆÆÂ∞ΩÂø´ÂºÄÂßãÊâßË°å‰ªªÂä°"}),t&&a.push({icon:"üí¨",title:"Áî®Êà∑ÂèçÈ¶à",description:"Â∑≤Êî∂Âà∞ÊÇ®ÁöÑÂèçÈ¶àÔºåÊàë‰ª¨‰ºöÊåÅÁª≠ÊîπËøõ"}),a},getScoreDescription:e=>({A:"‰ªªÂä°ÂÆåÊàêË¥®Èáè‰ºòÁßÄÔºåË∂ÖÂá∫È¢ÑÊúü","B+":"‰ªªÂä°ÂÆåÊàêË¥®ÈáèËâØÂ•ΩÔºåÁ¨¶ÂêàÈ¢ÑÊúü",B:"‰ªªÂä°ÂÆåÊàêË¥®Èáè‰∏ÄËà¨ÔºåÂü∫Êú¨Á¨¶ÂêàÈ¢ÑÊúü",C:"‰ªªÂä°ÂÆåÊàêË¥®ÈáèÊúâÂæÖÊèêÂçá"}[e]||"‰ªªÂä°ÂÆåÊàêË¥®ÈáèÂæÖËØÑ‰º∞"),getScoreDetails:e=>({A:["ÊâßË°åÊïàÁéáÈ´ò","ÁªìÊûúË¥®Èáè‰ºòÁßÄ","Áî®Êà∑‰ΩìÈ™åËâØÂ•Ω"],"B+":["ÊâßË°åÊïàÁéáËâØÂ•Ω","ÁªìÊûúË¥®ÈáèËæÉÂ•Ω","Áî®Êà∑‰ΩìÈ™åÊª°ÊÑè"],B:["ÊâßË°åÊïàÁéá‰∏ÄËà¨","ÁªìÊûúË¥®ÈáèÂü∫Êú¨ÂêàÊ†º","Áî®Êà∑‰ΩìÈ™å‰∏ÄËà¨"],C:["ÊâßË°åÊïàÁéáËæÉ‰Ωé","ÁªìÊûúË¥®ÈáèÈúÄË¶ÅÊîπËøõ","Áî®Êà∑‰ΩìÈ™åÊúâÂæÖÊèêÂçá"]}[e]||["ÂæÖËØÑ‰º∞"]),getTaskDetails:()=>({1:{id:1,title:"Â∏ÆÂä©Áî®Êà∑Âà∂ÂÆöÂ≠¶‰π†ËÆ°Âàí",description:"Ê†πÊçÆÁî®Êà∑ÁöÑÂ≠¶‰π†ÁõÆÊ†áÂíåÊó∂Èó¥ÂÆâÊéíÔºåÂà∂ÂÆöËØ¶ÁªÜÁöÑÂ≠¶‰π†ËÆ°ÂàíÔºåÂåÖÊã¨ÊØèÊó•‰ªªÂä°„ÄÅÂ§ç‰π†ÂÆâÊéíÁ≠â„ÄÇ",status:"completed",progress:100,createTime:"2024-01-15 09:30",completedTime:"2024-01-15 16:45",processSteps:[{title:"ÂàÜÊûêÁî®Êà∑ÈúÄÊ±Ç",description:"‰∫ÜËß£Áî®Êà∑ÁöÑÂ≠¶‰π†ÁõÆÊ†á„ÄÅÂΩìÂâçÊ∞¥Âπ≥„ÄÅÂèØÁî®Êó∂Èó¥Á≠âÂü∫Êú¨‰ø°ÊÅØ",completed:!0,completedTime:"09:35"},{title:"Âà∂ÂÆöÂ≠¶‰π†Ê°ÜÊû∂",description:"Âü∫‰∫éÁî®Êà∑ÈúÄÊ±ÇËÆæËÆ°Êï¥‰ΩìÂ≠¶‰π†Ê°ÜÊû∂ÂíåÈò∂ÊÆµÊÄßÁõÆÊ†á",completed:!0,completedTime:"10:15"},{title:"ÁªÜÂåñÊØèÊó•‰ªªÂä°",description:"Â∞ÜÂ≠¶‰π†ÁõÆÊ†áÂàÜËß£‰∏∫ÂÖ∑‰ΩìÁöÑÊØèÊó•Â≠¶‰π†‰ªªÂä°ÂíåÂ§ç‰π†ÂÆâÊéí",completed:!0,completedTime:"14:20"},{title:"‰ºòÂåñÂ≠¶‰π†ËÆ°Âàí",description:"Ê†πÊçÆÁî®Êà∑ÂèçÈ¶àË∞ÉÊï¥Â≠¶‰π†ËÆ°ÂàíÔºåÁ°Æ‰øùÂèØË°åÊÄßÂíåÊúâÊïàÊÄß",completed:!0,completedTime:"16:45"}],analysisResult:[{title:"Â≠¶‰π†ÁõÆÊ†áÂàÜÊûê",score:"A+",description:"Áî®Êà∑ÁõÆÊ†áÊòéÁ°ÆÔºåÊó∂Èó¥ÂÆâÊéíÂêàÁêÜÔºåÂ≠¶‰π†Âä®Êú∫Âº∫ÁÉà",details:["ÁõÆÊ†áÂÖ∑‰ΩìÂèØÈáèÂåñ","Êó∂Èó¥ÂàÜÈÖçÁßëÂ≠¶ÂêàÁêÜ","Â≠¶‰π†ËµÑÊ∫êÂÖÖË∂≥"]},{title:"Â≠¶‰π†ËÆ°ÂàíË¥®Èáè",score:"A",description:"Âà∂ÂÆöÁöÑÂ≠¶‰π†ËÆ°ÂàíÁªìÊûÑÊ∏ÖÊô∞ÔºåÂæ™Â∫èÊ∏êËøõ",details:["ËÆ°ÂàíÂ±ÇÊ¨°ÂàÜÊòé","‰ªªÂä°ÈöæÂ∫¶ÈÄÇ‰∏≠","Â§ç‰π†ÂÆâÊéíÁßëÂ≠¶"]}],suggestions:[{icon:"üìö",title:"ÂùöÊåÅÊâßË°å",description:"Âª∫ËÆÆ‰∏•Ê†ºÊåâÁÖßËÆ°ÂàíÊâßË°åÔºåÂÆöÊúüËØÑ‰º∞Â≠¶‰π†ÊïàÊûú"},{icon:"üìä",title:"ÂÆöÊúüË∞ÉÊï¥",description:"Ê†πÊçÆÂ≠¶‰π†ËøõÂ∫¶ÂíåÊïàÊûúÔºåÈÄÇÊó∂Ë∞ÉÊï¥Â≠¶‰π†ËÆ°Âàí"},{icon:"üéØ",title:"ÁõÆÊ†áÂØºÂêë",description:"‰øùÊåÅÁõÆÊ†áÂØºÂêëÔºåÂèäÊó∂Ë∞ÉÊï¥Â≠¶‰π†Á≠ñÁï•"}]},2:{id:2,title:"ÂàÜÊûêÁî®Êà∑ÊÉÖÊÑüÁä∂ÊÄÅ",description:"ÈÄöËøáÂØπËØùÂàÜÊûêÁî®Êà∑ÁöÑÊÉÖÁª™ÂèòÂåñÔºåÊèê‰æõÁõ∏Â∫îÁöÑÊÉÖÊÑüÊîØÊåÅÂíåÂª∫ËÆÆ„ÄÇ",status:"active",progress:65,createTime:"2024-01-16 14:20",processSteps:[{title:"ÊÉÖÊÑüÊï∞ÊçÆÊî∂ÈõÜ",description:"Êî∂ÈõÜÁî®Êà∑ÂØπËØù‰∏≠ÁöÑÊÉÖÊÑüË°®ËææÂíåÊÉÖÁª™ÊåáÊ†á",completed:!0,completedTime:"14:25"},{title:"ÊÉÖÁª™Ê®°ÂºèÂàÜÊûê",description:"ÂàÜÊûêÁî®Êà∑ÁöÑÊÉÖÊÑüÂèòÂåñÊ®°ÂºèÂíåËß¶ÂèëÂõ†Á¥†",completed:!0,completedTime:"15:10"},{title:"ÊÉÖÊÑüÊîØÊåÅÁ≠ñÁï•",description:"Âà∂ÂÆö‰∏™ÊÄßÂåñÁöÑÊÉÖÊÑüÊîØÊåÅÂíåÂπ≤È¢ÑÁ≠ñÁï•",completed:!1,active:!0},{title:"ÊïàÊûúËØÑ‰º∞",description:"ËØÑ‰º∞ÊÉÖÊÑüÊîØÊåÅÁöÑÊïàÊûúÂπ∂ÊåÅÁª≠‰ºòÂåñ",completed:!1}],analysisResult:[{title:"ÊÉÖÁª™Á®≥ÂÆöÊÄß",score:"B+",description:"Áî®Êà∑ÊÉÖÁª™Ê≥¢Âä®ËæÉÂ§ßÔºåÈúÄË¶ÅÈáçÁÇπÂÖ≥Ê≥®",details:["ÊÉÖÁª™ÂèòÂåñÈ¢ëÁéáËæÉÈ´ò","ÂéãÂäõÂèçÂ∫îÊòéÊòæ","ÈúÄË¶ÅÊÉÖÊÑüÊîØÊåÅ"]}],suggestions:[{icon:"üíù",title:"ÊÉÖÊÑüÂÖ≥ÊÄÄ",description:"Êèê‰æõÊõ¥Â§öÊÉÖÊÑüÊîØÊåÅÂíåÂÖ≥ÊÄÄÔºåÂ∏ÆÂä©Á®≥ÂÆöÊÉÖÁª™"},{icon:"üßò",title:"ÊîæÊùæÊäÄÂ∑ß",description:"Â≠¶‰π†‰∏Ä‰∫õÊîæÊùæÂíåÊÉÖÁª™Ë∞ÉËäÇÊäÄÂ∑ß"}]},3:{id:3,title:"Êé®ËçêÈÄÇÂêàÁöÑÁ§æ‰∫§Ê¥ªÂä®",description:"Âü∫‰∫éÁî®Êà∑ÁöÑÂÖ¥Ë∂£Áà±Â•ΩÂíåÁ§æ‰∫§ÂÅèÂ•ΩÔºåÊé®ËçêÂêàÈÄÇÁöÑÁ§æ‰∫§Ê¥ªÂä®Âíå‰∫§ÂèãÂª∫ËÆÆ„ÄÇ",status:"active",progress:30,createTime:"2024-01-17 10:15",processSteps:[{title:"ÂÖ¥Ë∂£ÂàÜÊûê",description:"ÂàÜÊûêÁî®Êà∑ÁöÑÂÖ¥Ë∂£Áà±Â•ΩÂíåÁ§æ‰∫§ÂÅèÂ•Ω",completed:!0,completedTime:"10:20"},{title:"Ê¥ªÂä®ÂåπÈÖç",description:"Ê†πÊçÆÁî®Êà∑ÂÖ¥Ë∂£ÂåπÈÖçÂêàÈÄÇÁöÑÁ§æ‰∫§Ê¥ªÂä®",completed:!1,active:!0},{title:"Êé®Ëçê‰ºòÂåñ",description:"‰ºòÂåñÊé®ËçêÁÆóÊ≥ïÔºåÊèêÈ´òÊé®ËçêÂáÜÁ°ÆÊÄß",completed:!1},{title:"ÊïàÊûúË∑üË∏™",description:"Ë∑üË∏™Êé®ËçêÊïàÊûúÔºåÊåÅÁª≠ÊîπËøõ",completed:!1}],analysisResult:[{title:"ÂÖ¥Ë∂£ÂåπÈÖçÂ∫¶",score:"A-",description:"Áî®Êà∑ÂÖ¥Ë∂£ÊòéÁ°ÆÔºåÂåπÈÖçÂ∫¶ËæÉÈ´ò",details:["ÂÖ¥Ë∂£Áà±Â•ΩÂ§öÊ†∑Âåñ","Á§æ‰∫§ÈúÄÊ±ÇÊòéÁ°Æ","ÂèÇ‰∏éÊÑèÊÑøÂº∫ÁÉà"]}],suggestions:[{icon:"üéâ",title:"ÁßØÊûÅÂèÇ‰∏é",description:"Âª∫ËÆÆÁßØÊûÅÂèÇ‰∏éÊé®ËçêÁöÑÁ§æ‰∫§Ê¥ªÂä®"},{icon:"üë•",title:"Êâ©Â§ßÁ§æ‰∫§Âúà",description:"ÈÄöËøáÊ¥ªÂä®ËÆ§ËØÜÊõ¥Â§öÂøóÂêåÈÅìÂêàÁöÑÊúãÂèã"}]},4:{id:4,title:"ÂçèÂä©Áî®Êà∑Ëß£ÂÜ≥ÈóÆÈ¢ò",description:"Â∏ÆÂä©Áî®Êà∑ÂàÜÊûêÂΩìÂâçÈÅáÂà∞ÁöÑÈóÆÈ¢òÔºåÊèê‰æõËß£ÂÜ≥ÊñπÊ°àÂíåË°åÂä®Âª∫ËÆÆ„ÄÇ",status:"completed",progress:100,createTime:"2024-01-14 16:00",completedTime:"2024-01-15 11:30",processSteps:[{title:"ÈóÆÈ¢òËØÜÂà´",description:"ÂáÜÁ°ÆËØÜÂà´Áî®Êà∑ÈÅáÂà∞ÁöÑÊ†∏ÂøÉÈóÆÈ¢ò",completed:!0,completedTime:"16:05"},{title:"ÂéüÂõ†ÂàÜÊûê",description:"Ê∑±ÂÖ•ÂàÜÊûêÈóÆÈ¢òÁöÑÊ†πÊú¨ÂéüÂõ†",completed:!0,completedTime:"16:30"},{title:"ÊñπÊ°àÂà∂ÂÆö",description:"Âà∂ÂÆöÂ§öÁßçËß£ÂÜ≥ÊñπÊ°à‰æõÁî®Êà∑ÈÄâÊã©",completed:!0,completedTime:"09:15"},{title:"ÂÆûÊñΩÊåáÂØº",description:"Êèê‰æõËØ¶ÁªÜÁöÑÂÆûÊñΩÊåáÂØºÂíåÂêéÁª≠ÊîØÊåÅ",completed:!0,completedTime:"11:30"}],analysisResult:[{title:"ÈóÆÈ¢òËß£ÂÜ≥ËÉΩÂäõ",score:"A+",description:"ÈóÆÈ¢òÂàÜÊûêÈÄèÂΩªÔºåËß£ÂÜ≥ÊñπÊ°àÊúâÊïà",details:["ÈóÆÈ¢òËØÜÂà´ÂáÜÁ°Æ","ÂàÜÊûêÊ∑±ÂÖ•ÂÖ®Èù¢","ÊñπÊ°àÂàáÂÆûÂèØË°å"]}],suggestions:[{icon:"‚úÖ",title:"ÊâßË°åÊñπÊ°à",description:"ÊåâÁÖßÂà∂ÂÆöÁöÑÊñπÊ°àÈÄêÊ≠•ÊâßË°å"},{icon:"üìû",title:"ÂØªÊ±ÇÊîØÊåÅ",description:"Â¶ÇÈÅáÂõ∞ÈöæÂèäÊó∂ÂØªÊ±ÇÂ∏ÆÂä©ÂíåÊîØÊåÅ"}]},5:{id:5,title:"Âà∂ÂÆöÂÅ•Ë∫´ËÆ°Âàí",description:"Ê†πÊçÆÁî®Êà∑ÁöÑË∫´‰ΩìÁä∂ÂÜµÂíåÂÅ•Ë∫´ÁõÆÊ†áÔºåÂà∂ÂÆö‰∏™ÊÄßÂåñÁöÑÂÅ•Ë∫´ËÆ°ÂàíÂíåÈ•ÆÈ£üÂª∫ËÆÆ„ÄÇ",status:"pending",progress:0,createTime:"2024-01-18 08:45",processSteps:[{title:"Ë∫´‰ΩìÁä∂ÂÜµËØÑ‰º∞",description:"ËØÑ‰º∞Áî®Êà∑ÂΩìÂâçÁöÑË∫´‰ΩìÁä∂ÂÜµÂíåÂÅ•Â∫∑Ê∞¥Âπ≥",completed:!1},{title:"ÁõÆÊ†áËÆæÂÆö",description:"‰∏éÁî®Êà∑‰∏ÄËµ∑ËÆæÂÆöÂêàÁêÜÁöÑÂÅ•Ë∫´ÁõÆÊ†á",completed:!1},{title:"ËÆ°ÂàíÂà∂ÂÆö",description:"Âà∂ÂÆö‰∏™ÊÄßÂåñÁöÑÂÅ•Ë∫´ËÆ°ÂàíÂíåÈ•ÆÈ£üÂª∫ËÆÆ",completed:!1},{title:"Ë∑üË∏™Ë∞ÉÊï¥",description:"Ë∑üË∏™ÊâßË°åÊÉÖÂÜµÂπ∂ÈÄÇÊó∂Ë∞ÉÊï¥ËÆ°Âàí",completed:!1}],analysisResult:[],suggestions:[{icon:"üèÉ",title:"ÂºÄÂßãË°åÂä®",description:"Âª∫ËÆÆÂ∞ΩÂø´ÂºÄÂßãÂà∂ÂÆöÂíåÊâßË°åÂÅ•Ë∫´ËÆ°Âàí"},{icon:"üí™",title:"ÂùöÊåÅÈîªÁÇº",description:"Âà∂ÂÆöËÆ°ÂàíÂêéË¶ÅÂùöÊåÅÊâßË°åÔºåÊâçËÉΩÁúãÂà∞ÊïàÊûú"}]}}),getProcessStatusText(){switch(this.taskData.status){case"completed":return"Â∑≤ÂÆåÊàê";case"active":return"ËøõË°å‰∏≠";case"pending":return"ÂæÖÂºÄÂßã";default:return"Êú™Áü•Áä∂ÊÄÅ"}},getScoreClass:e=>e.includes("A+")?"score-excellent":e.includes("A")?"score-good":e.includes("B")?"score-average":"score-poor",showRatingModal(){this.rating=0,this.comment="",this.showRating=!0},hideRatingModal(){this.showRating=!1},setRating(e){this.rating=e},submitRating(){0!==this.rating?(uni.showToast({title:"ËØÑ‰ª∑Êèê‰∫§ÊàêÂäüÔºÅ",icon:"success"}),this.hideRatingModal()):uni.showToast({title:"ËØ∑ÈÄâÊã©ËØÑÂàÜ",icon:"none"})},showTerminateModal(){this.showTerminate=!0},hideTerminateModal(){this.showTerminate=!1},confirmTerminate(){this.taskData.status="terminated",this.taskData.progress=0,this.hideTerminateModal(),uni.showToast({title:"‰ªªÂä°Â∑≤ÁªàÊ≠¢",icon:"success"});const e=getCurrentPages(),t=e[e.length-2];t&&t.updateTaskStatus&&t.updateTaskStatus(this.taskId,"terminated"),setTimeout((()=>{uni.navigateBack()}),1500)},async startTask(){try{o("log","at pages/ai/task-detail.vue:849","ÂºÄÂßã‰ªªÂä°Ôºå‰ªªÂä°ID:",this.taskId),uni.showLoading({title:"Ê≠£Âú®ÂºÄÂßã‰ªªÂä°..."});const e=await uni.request({url:`http://localhost:8888/api/a-entities/ai-task-log/start-task/${this.taskId}`,method:"POST",header:{"Content-Type":"application/json"}});if(o("log","at pages/ai/task-detail.vue:863","ÂºÄÂßã‰ªªÂä°ÂìçÂ∫î:",e),200===e.statusCode&&e.data.success){this.taskData.status="active",this.taskData.progress=10,this.taskData.processSteps=this.generateProcessSteps(this.taskData.description,"active"),this.taskData.suggestions=this.generateSuggestions("active",this.taskData.comment),uni.hideLoading(),uni.showToast({title:"‰ªªÂä°Â∑≤ÂºÄÂßã",icon:"success"});const e=getCurrentPages(),t=e[e.length-2];t&&t.updateTaskStatus&&t.updateTaskStatus(this.taskId,"active")}else uni.hideLoading(),uni.showToast({title:e.data.message||"ÂºÄÂßã‰ªªÂä°Â§±Ë¥•",icon:"error"})}catch(e){o("error","at pages/ai/task-detail.vue:896","ÂºÄÂßã‰ªªÂä°ÂºÇÂ∏∏:",e),uni.hideLoading(),uni.showToast({title:"ÂºÄÂßã‰ªªÂä°Â§±Ë¥•ÔºåËØ∑ÈáçËØï",icon:"error"})}}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"task-detail-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-button",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[(e.openBlock(),e.createElementBlock("svg",{class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",fill:"#666666"})]))]),e.createElementVNode("view",{class:"header-title"},[e.createElementVNode("text",{class:"title-text"},"‰ªªÂä°ËØ¶ÊÉÖ")]),e.createElementVNode("view",{class:"placeholder"})]),i.taskData&&i.taskData.title?(e.openBlock(),e.createElementBlock("view",{key:0,class:"task-info-card"},[e.createElementVNode("view",{class:"task-header"},[e.createElementVNode("view",{class:"task-title-row"},[e.createElementVNode("view",{class:e.normalizeClass(["task-status",i.taskData.status])},["completed"===i.taskData.status?(e.openBlock(),e.createElementBlock("view",{key:0,class:"status-icon"},"‚úì")):"active"===i.taskData.status?(e.openBlock(),e.createElementBlock("view",{key:1,class:"status-icon"},"‚óè")):(e.openBlock(),e.createElementBlock("view",{key:2,class:"status-icon"},"‚óã"))],2),e.createElementVNode("text",{class:"task-title"},e.toDisplayString(i.taskData.title),1),"completed"===i.taskData.status?(e.openBlock(),e.createElementBlock("view",{key:0,class:"completed-badge"},"Â∑≤ÂÆåÊàê")):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"task-time"},e.toDisplayString(i.taskData.createTime),1)]),e.createElementVNode("text",{class:"task-description"},e.toDisplayString(i.taskData.description),1),"active"===i.taskData.status?(e.openBlock(),e.createElementBlock("view",{key:0,class:"task-progress"},[e.createElementVNode("view",{class:"progress-info"},[e.createElementVNode("text",{class:"progress-label"},"ÂÆåÊàêËøõÂ∫¶"),e.createElementVNode("text",{class:"progress-text"},e.toDisplayString(i.taskData.progress)+"%",1)]),e.createElementVNode("view",{class:"progress-bar"},[e.createElementVNode("view",{class:"progress-fill",style:e.normalizeStyle({width:i.taskData.progress+"%"})},null,4)])])):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"loading-card"},[e.createElementVNode("text",{class:"loading-text"},"Âä†ËΩΩ‰∏≠...")])),i.taskData&&i.taskData.processSteps?(e.openBlock(),e.createElementBlock("view",{key:2,class:"execution-process"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"AIÊâßË°åËøáÁ®ã"),e.createElementVNode("view",{class:e.normalizeClass(["process-status",i.taskData.status])},[e.createElementVNode("text",null,e.toDisplayString(n.getProcessStatusText()),1)],2)]),e.createElementVNode("view",{class:"process-steps"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.taskData.processSteps,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["process-step",{completed:t.completed,active:t.active}]),key:a},[e.createElementVNode("view",{class:"step-indicator"},[t.completed?(e.openBlock(),e.createElementBlock("view",{key:0,class:"step-icon completed"},"‚úì")):t.active?(e.openBlock(),e.createElementBlock("view",{key:1,class:"step-icon active"},"‚óè")):(e.openBlock(),e.createElementBlock("view",{key:2,class:"step-icon"},"‚óã"))]),e.createElementVNode("view",{class:"step-content"},[e.createElementVNode("text",{class:"step-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"step-description"},e.toDisplayString(t.description),1),t.completed?(e.openBlock(),e.createElementBlock("text",{key:0,class:"step-time"},e.toDisplayString(t.completedTime),1)):e.createCommentVNode("",!0)])],2)))),128))])])):e.createCommentVNode("",!0),i.taskData&&i.taskData.analysisResult&&i.taskData.analysisResult.length>0?(e.openBlock(),e.createElementBlock("view",{key:3,class:"analysis-result"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"AIÂàÜÊûêÁªìÊûú")]),e.createElementVNode("view",{class:"result-content"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.taskData.analysisResult,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"result-item",key:a},[e.createElementVNode("view",{class:"result-header"},[e.createElementVNode("text",{class:"result-title"},e.toDisplayString(t.title),1),e.createElementVNode("view",{class:e.normalizeClass(["result-score",n.getScoreClass(t.score)])},[e.createElementVNode("text",null,e.toDisplayString(t.score),1)],2)]),e.createElementVNode("text",{class:"result-description"},e.toDisplayString(t.description),1),t.details?(e.openBlock(),e.createElementBlock("view",{key:0,class:"result-details"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.details,((t,a)=>(e.openBlock(),e.createElementBlock("text",{class:"detail-item",key:a},"‚Ä¢ "+e.toDisplayString(t),1)))),128))])):e.createCommentVNode("",!0)])))),128))])])):e.createCommentVNode("",!0),i.taskData&&i.taskData.suggestions&&i.taskData.suggestions.length>0?(e.openBlock(),e.createElementBlock("view",{key:4,class:"suggestions"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"Âª∫ËÆÆÂíå‰∏ã‰∏ÄÊ≠•")]),e.createElementVNode("view",{class:"suggestion-content"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.taskData.suggestions,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"suggestion-item",key:a},[e.createElementVNode("view",{class:"suggestion-icon"},e.toDisplayString(t.icon),1),e.createElementVNode("view",{class:"suggestion-text"},[e.createElementVNode("text",{class:"suggestion-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"suggestion-desc"},e.toDisplayString(t.description),1)])])))),128))])])):e.createCommentVNode("",!0),i.taskData&&i.taskData.status?(e.openBlock(),e.createElementBlock("view",{key:5,class:"action-buttons"},["pending"===i.taskData.status?(e.openBlock(),e.createElementBlock("view",{key:0,class:"action-btn start-btn",onClick:a[1]||(a[1]=(...e)=>n.startTask&&n.startTask(...e))},[e.createElementVNode("text",null,"ÂºÄÂßã‰ªªÂä°")])):"completed"===i.taskData.status?(e.openBlock(),e.createElementBlock("view",{key:1,class:"action-btn rate-btn",onClick:a[2]||(a[2]=(...e)=>n.showRatingModal&&n.showRatingModal(...e))},[e.createElementVNode("text",null,"ËØÑ‰ª∑‰ªªÂä°")])):"active"===i.taskData.status?(e.openBlock(),e.createElementBlock("view",{key:2,class:"action-btn terminate-btn",onClick:a[3]||(a[3]=(...e)=>n.showTerminateModal&&n.showTerminateModal(...e))},[e.createElementVNode("text",null,"ÁªàÊ≠¢‰ªªÂä°")])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["rating-modal",{active:i.showRating}]),onClick:a[9]||(a[9]=(...e)=>n.hideRatingModal&&n.hideRatingModal(...e))},[e.createElementVNode("view",{class:"rating-content",onClick:a[8]||(a[8]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"rating-header"},[e.createElementVNode("text",{class:"rating-title"},"‰ªªÂä°ËØÑ‰ª∑"),e.createElementVNode("view",{class:"close-btn",onClick:a[4]||(a[4]=(...e)=>n.hideRatingModal&&n.hideRatingModal(...e))},"√ó")]),e.createElementVNode("view",{class:"rating-section"},[e.createElementVNode("text",{class:"rating-label"},"ËØ∑‰∏∫AIÁöÑË°®Áé∞ËØÑÂàÜÔºö"),e.createElementVNode("view",{class:"star-rating"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(5,(t=>e.createElementVNode("view",{class:e.normalizeClass(["star",{active:t<=i.rating}]),key:t,onClick:e=>n.setRating(t)},[e.createElementVNode("text",null,"‚òÖ")],10,["onClick"]))),64))]),e.createElementVNode("text",{class:"rating-text"},e.toDisplayString(n.ratingText),1)]),e.createElementVNode("view",{class:"comment-section"},[e.createElementVNode("text",{class:"comment-label"},"ËØÑ‰ª∑ÂÜÖÂÆπÔºö"),e.withDirectives(e.createElementVNode("textarea",{class:"comment-input","onUpdate:modelValue":a[5]||(a[5]=e=>i.comment=e),placeholder:"ËØ∑ËæìÂÖ•ÊÇ®ÁöÑËØÑ‰ª∑...",maxlength:"200"},null,512),[[e.vModelText,i.comment]]),e.createElementVNode("text",{class:"char-count"},e.toDisplayString(i.comment.length)+"/200",1)]),e.createElementVNode("view",{class:"rating-actions"},[e.createElementVNode("view",{class:"cancel-btn",onClick:a[6]||(a[6]=(...e)=>n.hideRatingModal&&n.hideRatingModal(...e))},[e.createElementVNode("text",null,"ÂèñÊ∂à")]),e.createElementVNode("view",{class:"submit-btn",onClick:a[7]||(a[7]=(...e)=>n.submitRating&&n.submitRating(...e))},[e.createElementVNode("text",null,"Êèê‰∫§ËØÑ‰ª∑")])])])],2),e.createElementVNode("view",{class:e.normalizeClass(["terminate-modal",{active:i.showTerminate}]),onClick:a[14]||(a[14]=(...e)=>n.hideTerminateModal&&n.hideTerminateModal(...e))},[e.createElementVNode("view",{class:"terminate-content",onClick:a[13]||(a[13]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"terminate-header"},[e.createElementVNode("text",{class:"terminate-title"},"ÁªàÊ≠¢‰ªªÂä°Á°ÆËÆ§"),e.createElementVNode("view",{class:"close-btn",onClick:a[10]||(a[10]=(...e)=>n.hideTerminateModal&&n.hideTerminateModal(...e))},"√ó")]),e.createElementVNode("view",{class:"terminate-body"},[e.createElementVNode("text",{class:"terminate-message"},"Á°ÆÂÆöË¶ÅÁªàÊ≠¢ÂΩìÂâç‰ªªÂä°ÂêóÔºü"),e.createElementVNode("text",{class:"terminate-warning"},"ÁªàÊ≠¢Âêé‰ªªÂä°Â∞ÜÊó†Ê≥ïÊÅ¢Â§çÔºåËØ∑Ë∞®ÊÖéÊìç‰Ωú„ÄÇ")]),e.createElementVNode("view",{class:"terminate-actions"},[e.createElementVNode("view",{class:"cancel-btn",onClick:a[11]||(a[11]=(...e)=>n.hideTerminateModal&&n.hideTerminateModal(...e))},[e.createElementVNode("text",null,"ÂèñÊ∂à")]),e.createElementVNode("view",{class:"confirm-btn",onClick:a[12]||(a[12]=(...e)=>n.confirmTerminate&&n.confirmTerminate(...e))},[e.createElementVNode("text",null,"Á°ÆËÆ§ÁªàÊ≠¢")])])])],2)])}]]);const v=a({name:"ChatPage",data:()=>({friendName:"",friendId:null,sessionId:null,userId:null,showActionSheet:!1,scrollTop:0,inputMessage:"",inputFocus:!1,isVoiceMode:!1,showEmojiPanel:!1,showPlusPanel:!1,messages:[],loading:!1,errorMessage:""}),onLoad(e){e.friendName&&(this.friendName=decodeURIComponent(e.friendName)),e.friendId&&(this.friendId=parseInt(e.friendId)),e.sessionId&&(this.sessionId=parseInt(e.sessionId)),this.userId=uni.getStorageSync("userId")||1,o("log","at pages/chat/chat.vue:250","ËÅäÂ§©È°µÈù¢ÂèÇÊï∞:",{friendName:this.friendName,friendId:this.friendId,sessionId:this.sessionId,userId:this.userId}),this.loadChatMessages()},methods:{async loadChatMessages(){if(this.sessionId){this.loading=!0,this.errorMessage="";try{o("log","at pages/chat/chat.vue:272","ÂºÄÂßãÂä†ËΩΩËÅäÂ§©ËÆ∞ÂΩïÔºåsessionId:",this.sessionId);const e=await uni.request({url:`http://localhost:8888/api/user-chat-detail/session/${this.sessionId}`,method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/chat/chat.vue:281","APIÂìçÂ∫îÁä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/chat/chat.vue:282","APIÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data?(o("log","at pages/chat/chat.vue:285","ÂéüÂßãËÅäÂ§©ËÆ∞ÂΩïÊï∞ÊçÆ:",e.data),this.messages=this.convertChatDataToMessages(e.data),o("log","at pages/chat/chat.vue:287","ËΩ¨Êç¢ÂêéÁöÑËÅäÂ§©ËÆ∞ÂΩï:",this.messages),this.$nextTick((()=>{this.scrollToBottom()}))):(this.errorMessage=`Âä†ËΩΩËÅäÂ§©ËÆ∞ÂΩïÂ§±Ë¥•ÔºåÁä∂ÊÄÅÁ†Å: ${e.statusCode}`,o("error","at pages/chat/chat.vue:295","Âä†ËΩΩËÅäÂ§©ËÆ∞ÂΩïÂ§±Ë¥•:",e))}catch(e){this.errorMessage="ÁΩëÁªúÈîôËØØÔºåËØ∑Ê£ÄÊü•ËøûÊé•",o("error","at pages/chat/chat.vue:299","Âä†ËΩΩËÅäÂ§©ËÆ∞ÂΩïÂºÇÂ∏∏:",e)}finally{this.loading=!1}}else this.errorMessage="‰ºöËØùID‰∏çÂ≠òÂú®"},convertChatDataToMessages(e){if(o("log","at pages/chat/chat.vue:307","ÂºÄÂßãËΩ¨Êç¢ËÅäÂ§©Êï∞ÊçÆ:",e),o("log","at pages/chat/chat.vue:308","ÂΩìÂâçÁî®Êà∑ID:",this.userId),!Array.isArray(e))return o("log","at pages/chat/chat.vue:311","ËÅäÂ§©Êï∞ÊçÆ‰∏çÊòØÊï∞ÁªÑ:",e),[];const t=e.sort(((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime())).map(((e,t)=>{const a=e.demandParty&&e.demandParty.toString()===this.userId.toString();return o("log","at pages/chat/chat.vue:328",`Ê∂àÊÅØ${t}:`,{id:e.id,demandParty:e.demandParty,message:e.message,isUserMessage:a,userId:this.userId}),{id:e.id,type:a?"right":"left",text:e.message||"",time:this.formatTime(e.createdAt),demandParty:e.demandParty,createdAt:e.createdAt}}));return o("log","at pages/chat/chat.vue:346","ËΩ¨Êç¢ÁªìÊûú:",t),t},formatTime(e){if(!e)return"";const t=new Date(e),a=t.getHours();return`${a<12?"‰∏äÂçà":"‰∏ãÂçà"}${a<12?a:a-12}:${t.getMinutes().toString().padStart(2,"0")}`},goBack(){try{uni.navigateBack({fail:()=>{uni.navigateTo({url:"/pages/chat/chat-list"})}})}catch(e){uni.navigateTo({url:"/pages/chat/chat-list"})}},goToHome(){uni.navigateTo({url:"/pages/feed/content-feed"})},goToChatList(){uni.navigateTo({url:"/pages/chat/chat-list"})},goToAIChat(){},goToFriendList(){uni.navigateTo({url:"/pages/chat/friend-list"})},goToProfile(){uni.navigateTo({url:"/pages/feed/user-profile"})},goToAI(){uni.navigateTo({url:"/pages/ai/ai"})},showMoreOptions(){uni.navigateTo({url:`/pages/chat/chat-info?friendName=${encodeURIComponent(this.friendName)}`})},hideActionSheet(){this.showActionSheet=!1},clearChat(){this.hideActionSheet(),uni.showModal({title:"Á°ÆËÆ§Ê∏ÖÁ©∫",content:"Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÊâÄÊúâËÅäÂ§©ËÆ∞ÂΩïÂêóÔºü",success:e=>{e.confirm&&(this.clearAllMessages(),uni.showToast({title:"ËÅäÂ§©ËÆ∞ÂΩïÂ∑≤Ê∏ÖÁ©∫",icon:"success"}))}})},reportChat(){this.hideActionSheet(),uni.navigateTo({url:"/pages/report/report"})},clearAllMessages(){this.messages=[],this.scrollTop=0},blockUser(){this.hideActionSheet(),uni.showModal({title:"Á°ÆËÆ§ÊãâÈªë",content:`Á°ÆÂÆöË¶ÅÊãâÈªë ${this.friendName||"ËØ•Áî®Êà∑"} ÂêóÔºü`,success:e=>{e.confirm&&(uni.showToast({title:"Áî®Êà∑Â∑≤ÊãâÈªë",icon:"success"}),setTimeout((()=>{uni.navigateBack()}),1500))}})},toggleVoiceInput(){this.isVoiceMode=!this.isVoiceMode,this.isVoiceMode&&(this.showEmojiPanel=!1,this.showPlusPanel=!1)},toggleEmoji(){this.showEmojiPanel=!this.showEmojiPanel,this.showPlusPanel=!1},togglePlusMenu(){this.showPlusPanel=!this.showPlusPanel,this.showEmojiPanel=!1},hideEmojiPanel(){this.showEmojiPanel=!1},hidePlusPanel(){this.showPlusPanel=!1},startVoiceRecord(){uni.showToast({title:"ÂºÄÂßãÂΩïÈü≥",icon:"none"})},endVoiceRecord(){uni.showToast({title:"ÂΩïÈü≥ÂÆåÊàê",icon:"none"})},selectImage(){this.hidePlusPanel(),uni.showToast({title:"ÂõæÁâáÈÄâÊã©ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},openCamera(){this.hidePlusPanel(),uni.showToast({title:"Áõ∏Êú∫ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},makeCall(){this.hidePlusPanel(),uni.showToast({title:"ÈÄöËØùÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},shareLocation(){this.hidePlusPanel(),uni.showToast({title:"‰ΩçÁΩÆÂàÜ‰∫´ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},onInputFocus(){this.inputFocus=!0},onInputBlur(){this.inputFocus=!1},async sendMessage(){if(this.inputMessage.trim()){const e=this.inputMessage.trim(),t={id:Date.now(),type:"right",text:e,time:this.getCurrentTime(),demandParty:this.userId,createdAt:(new Date).toISOString()};this.messages.push(t),this.inputMessage="",this.$nextTick((()=>{this.scrollToBottom()})),await this.saveMessageToDatabase(e)}},async saveMessageToDatabase(e){try{const t=await uni.request({url:"http://localhost:8888/api/user-chat-detail/save",method:"POST",header:{"Content-Type":"application/json"},data:{sessionId:this.sessionId,demandParty:this.userId.toString(),message:e,responseParty:this.friendId?this.friendId.toString():null,senderType:"user"}});200===t.statusCode?o("log","at pages/chat/chat.vue:594","Ê∂àÊÅØ‰øùÂ≠òÊàêÂäü:",t.data):(o("error","at pages/chat/chat.vue:596","Ê∂àÊÅØ‰øùÂ≠òÂ§±Ë¥•:",t),uni.showToast({title:"Ê∂àÊÅØÂèëÈÄÅÂ§±Ë¥•",icon:"none"}))}catch(t){o("error","at pages/chat/chat.vue:603","‰øùÂ≠òÊ∂àÊÅØÂºÇÂ∏∏:",t),uni.showToast({title:"Ê∂àÊÅØÂèëÈÄÅÂ§±Ë¥•",icon:"none"})}},getCurrentTime(){const e=new Date,t=e.getHours();return`${t<12?"‰∏äÂçà":"‰∏ãÂçà"}${t<12?t:t-12}:${e.getMinutes().toString().padStart(2,"0")}`},scrollToBottom(){this.scrollTop=999999},goToFriendCard(){o("log","at pages/chat/chat.vue:624","goToFriendCard Ë¢´Ë∞ÉÁî®ÔºåÂΩìÂâç friendId:",this.friendId),o("log","at pages/chat/chat.vue:625","ÂΩìÂâç friendName:",this.friendName),this.friendId?uni.navigateTo({url:`/pages/chat/friend-card?friendName=${encodeURIComponent(this.friendName)}&friendId=${this.friendId}`}):uni.showToast({title:"Â•ΩÂèã‰ø°ÊÅØ‰∏çÂÆåÊï¥",icon:"error"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"chat-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-btn",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[(e.openBlock(),e.createElementBlock("svg",{class:"back-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",fill:"#666666","p-id":"727"})]))]),e.createElementVNode("text",{class:"title"},e.toDisplayString(i.friendName),1),e.createElementVNode("view",{class:"more-btn",onClick:a[1]||(a[1]=(...e)=>n.showMoreOptions&&n.showMoreOptions(...e))},[e.createElementVNode("view",{class:"dot"}),e.createElementVNode("view",{class:"dot"}),e.createElementVNode("view",{class:"dot"})])]),e.createElementVNode("scroll-view",{class:"chat-area","scroll-y":"true","scroll-top":i.scrollTop},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Âä†ËΩΩ‰∏≠...")])):i.errorMessage?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("button",{class:"retry-button",onClick:a[2]||(a[2]=(...e)=>n.loadChatMessages&&n.loadChatMessages(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):i.messages.length>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(i.messages,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:e.normalizeClass(["message",t.type])},["left"===t.type?(e.openBlock(),e.createElementBlock("image",{key:0,class:"avatar",src:"",mode:"aspectFill",onClick:a[3]||(a[3]=(...e)=>n.goToFriendCard&&n.goToFriendCard(...e))})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"message-bubble"},[e.createElementVNode("text",{class:"message-text"},e.toDisplayString(t.text),1)]),"right"===t.type?(e.openBlock(),e.createElementBlock("image",{key:1,class:"avatar",src:"",mode:"aspectFill"})):e.createCommentVNode("",!0)],2)))),128)):(e.openBlock(),e.createElementBlock("view",{key:3,class:"no-messages"},[e.createElementVNode("view",{class:"empty-icon"},"üí¨"),e.createElementVNode("text",{class:"no-messages-text"},"ÊöÇÊó†ËÅäÂ§©ËÆ∞ÂΩï"),e.createElementVNode("text",{class:"no-messages-desc"},"ÂºÄÂßã‰∏éÂ•ΩÂèãËÅäÂ§©Âêß")]))],8,["scroll-top"]),e.createElementVNode("view",{class:"input-bar"},[e.createElementVNode("view",{class:"mic-btn",onClick:a[4]||(a[4]=(...e)=>n.toggleVoiceInput&&n.toggleVoiceInput(...e))},[i.isVoiceMode?(e.openBlock(),e.createElementBlock("svg",{key:1,class:"keyboard-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M512 64A448 448 0 1 0 960 512 448.5 448.5 0 0 0 512 64z m0 832a384 384 0 1 1 384-384 384.5 384.5 0 0 1-384 384z",fill:"#333333","p-id":"2120"}),e.createElementVNode("path",{d:"M320 400m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z",fill:"#333333","p-id":"2121"}),e.createElementVNode("path",{d:"M448 448A48 48 0 1 0 400 400a48 48 0 0 0 48 48zM576 352a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM704 352a48 48 0 1 0 48 48 48 48 0 0 0-48-48z",fill:"#333333","p-id":"2122"}),e.createElementVNode("path",{d:"M320 528m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z",fill:"#333333","p-id":"2123"}),e.createElementVNode("path",{d:"M448 576a48 48 0 1 0-48-48 48 48 0 0 0 48 48zM576 640H448a48 48 0 0 0 0 96h128a48 48 0 1 0 0-96zM576 480a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM704 480a48 48 0 1 0 48 48 48 48 0 0 0-48-48z",fill:"#333333","p-id":"2124"})])):(e.openBlock(),e.createElementBlock("svg",{key:0,class:"mic-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M593.024 234.496l-46.165333 46.229333c0.106667 0.085333 0.149333 0.149333 0.277333 0.234667 127.552 127.658667 127.552 334.677333 0 462.336l46.122667 46.250667c153.045333-153.194667 153.045333-401.621333 0-554.816C593.173333 234.666667 593.130667 234.56 593.024 234.496z","p-id":"3544"}),e.createElementVNode("path",{d:"M500.885333 327.189333c-0.042667-0.085333-0.128-0.149333-0.234667-0.213333l-46.165333 46.229333c0.042667 0.085333 0.128 0.149333 0.234667 0.256 76.48 76.565333 76.48 200.789333 0 277.397333l46.144 46.229333C603.008 595.008 603.008 429.333333 500.885333 327.189333z","p-id":"3545"}),e.createElementVNode("path",{d:"M408.32 419.434667l-92.394667 92.458667 92.629333 92.714667c51.008-51.114667 51.008-133.888 0-184.938667C408.469333 419.584 408.362667 419.52 408.32 419.434667z","p-id":"3546"}),e.createElementVNode("path",{d:"M512 0C229.696 0 0 229.696 0 512c0 282.282667 229.696 512 512 512 282.282667 0 512-229.717333 512-512C1024 229.696 794.282667 0 512 0zM512 981.290667C253.226667 981.290667 42.688 770.773333 42.688 512S253.226667 42.688 512 42.688 981.290667 253.226667 981.290667 512 770.773333 981.290667 512 981.290667z","p-id":"3547"})]))]),i.isVoiceMode?(e.openBlock(),e.createElementBlock("view",{key:1,class:"voice-field",onTouchstart:a[9]||(a[9]=(...e)=>n.startVoiceRecord&&n.startVoiceRecord(...e)),onTouchend:a[10]||(a[10]=(...e)=>n.endVoiceRecord&&n.endVoiceRecord(...e))},[e.createElementVNode("text",{class:"voice-text"},"Êåâ‰ΩèËØ¥ËØù")],32)):(e.openBlock(),e.createElementBlock("view",{key:0,class:"input-field"},[e.withDirectives(e.createElementVNode("input",{class:"message-input","onUpdate:modelValue":a[5]||(a[5]=e=>i.inputMessage=e),placeholder:"ËæìÂÖ•Ê∂àÊÅØ...",focus:i.inputFocus,onFocus:a[6]||(a[6]=(...e)=>n.onInputFocus&&n.onInputFocus(...e)),onBlur:a[7]||(a[7]=(...e)=>n.onInputBlur&&n.onInputBlur(...e)),onConfirm:a[8]||(a[8]=(...e)=>n.sendMessage&&n.sendMessage(...e))},null,40,["focus"]),[[e.vModelText,i.inputMessage]])])),e.createElementVNode("view",{class:"action-btns"},[e.createElementVNode("view",{class:"emoji-btn",onClick:a[11]||(a[11]=(...e)=>n.toggleEmoji&&n.toggleEmoji(...e))},[(e.openBlock(),e.createElementBlock("svg",{class:"emoji-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M512 160C317.5936 160 160 317.5936 160 512S317.5936 864 512 864 864 706.4064 864 512 706.4064 160 512 160z m0 64c159.0528 0 288 128.9472 288 288S671.0528 800 512 800 224 671.0528 224 512 352.9472 224 512 224z",fill:"#2c2c2c","p-id":"4603"}),e.createElementVNode("path",{d:"M683.3408 501.248H340.6592a25.6 25.6 0 0 0-25.6 26.112l0.1536 6.912a196.9408 196.9408 0 0 0 393.728-7.3984 25.6 25.6 0 0 0-25.6-25.6z m-27.8784 51.2l-0.3072 1.792A145.7664 145.7664 0 0 1 512 672.5888l-5.7088-0.1024a145.8176 145.8176 0 0 1-137.2928-117.4272l-0.4864-2.6112h286.9504z",fill:"#2c2c2c","p-id":"4604"}),e.createElementVNode("path",{d:"M411.1104 411.4432m-38.7584 0a38.7584 38.7584 0 1 0 77.5168 0 38.7584 38.7584 0 1 0-77.5168 0Z",fill:"#2c2c2c","p-id":"4605"}),e.createElementVNode("path",{d:"M612.8896 411.4432m-38.7584 0a38.7584 38.7584 0 1 0 77.5168 0 38.7584 38.7584 0 1 0-77.5168 0Z",fill:"#2c2c2c","p-id":"4606"})]))]),e.createElementVNode("view",{class:"plus-btn",onClick:a[12]||(a[12]=(...e)=>n.togglePlusMenu&&n.togglePlusMenu(...e))},[(e.openBlock(),e.createElementBlock("svg",{class:"plus-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M511.5 957.9C264.9 957.9 65 758.2 65 511.9s199.9-446 446.5-446S958 265.6 958 511.9c0.1 246.3-199.8 446-446.5 446zM509 149.1c-200.4 0-355.8 162.2-355.8 362.3 0 200.1 155.4 356.8 355.8 356.8s362.9-156.7 362.9-356.8c0-200.1-162.5-362.3-362.9-362.3zM690.5 556h-134v133.8c0 24.6-20 44.6-44.6 44.6h-0.1c-24.6 0-44.6-19.9-44.6-44.6V556h-134c-24.7 0-44.6-19.9-44.6-44.5v-0.1c0-24.6 20-44.6 44.6-44.6h134V333c0-24.6 20-44.6 44.6-44.6h0.1c24.7 0 44.6 19.9 44.6 44.6v133.8h134c24.7 0 44.6 19.9 44.6 44.6v0.1c0 24.6-19.9 44.5-44.6 44.5z m0 0","p-id":"1640"})]))])])]),e.createElementVNode("view",{class:e.normalizeClass(["emoji-panel",{active:i.showEmojiPanel}]),onClick:a[14]||(a[14]=(...e)=>n.hideEmojiPanel&&n.hideEmojiPanel(...e))},[e.createElementVNode("view",{class:"emoji-content",onClick:a[13]||(a[13]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"emoji-grid"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(4,(t=>e.createElementVNode("view",{class:"emoji-item",key:`row1-${t}`},[e.createElementVNode("image",{class:"emoji-image",src:"",mode:"aspectFill"})]))),64)),(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(4,(t=>e.createElementVNode("view",{class:"emoji-item",key:`row2-${t}`},[e.createElementVNode("image",{class:"emoji-image",src:"",mode:"aspectFill"})]))),64)),(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(4,(t=>e.createElementVNode("view",{class:"emoji-item",key:`row3-${t}`},[e.createElementVNode("image",{class:"emoji-image",src:"",mode:"aspectFill"})]))),64))]),e.createElementVNode("view",{class:"emoji-pagination"},[e.createElementVNode("view",{class:"page-dot active"}),e.createElementVNode("view",{class:"page-dot"}),e.createElementVNode("view",{class:"page-dot"})])])],2),e.createElementVNode("view",{class:e.normalizeClass(["plus-panel",{active:i.showPlusPanel}]),onClick:a[20]||(a[20]=(...e)=>n.hidePlusPanel&&n.hidePlusPanel(...e))},[e.createElementVNode("view",{class:"plus-content",onClick:a[19]||(a[19]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"plus-grid"},[e.createElementVNode("view",{class:"plus-item",onClick:a[15]||(a[15]=(...e)=>n.selectImage&&n.selectImage(...e))},[e.createElementVNode("view",{class:"plus-icon-wrapper"},[(e.openBlock(),e.createElementBlock("svg",{class:"plus-feature-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48"},[e.createElementVNode("path",{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zM338 304c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm513.9 436.1H172.1c-12.9 0-24.8-5.9-32.7-16.1L73.4 659.8c-7.9-10.2-7.9-23.4 0-33.6l66-84.2c7.9-10.2 19.8-16.1 32.7-16.1h679.8c12.9 0 24.8 5.9 32.7 16.1l66 84.2c7.9 10.2 7.9 23.4 0 33.6l-66 84.2c-7.9 10.2-19.8 16.1-32.7 16.1z",fill:"#333333"})]))]),e.createElementVNode("text",{class:"plus-text"},"ÂõæÁâá‰∏éËßÜÈ¢ë")]),e.createElementVNode("view",{class:"plus-item",onClick:a[16]||(a[16]=(...e)=>n.openCamera&&n.openCamera(...e))},[e.createElementVNode("view",{class:"plus-icon-wrapper"},[(e.openBlock(),e.createElementBlock("svg",{class:"plus-feature-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48"},[e.createElementVNode("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:"#333333"}),e.createElementVNode("path",{d:"M464 336a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z",fill:"#333333"})]))]),e.createElementVNode("text",{class:"plus-text"},"Áõ∏Êú∫")]),e.createElementVNode("view",{class:"plus-item",onClick:a[17]||(a[17]=(...e)=>n.makeCall&&n.makeCall(...e))},[e.createElementVNode("view",{class:"plus-icon-wrapper"},[(e.openBlock(),e.createElementBlock("svg",{class:"plus-feature-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48"},[e.createElementVNode("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:"#333333"}),e.createElementVNode("path",{d:"M512 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176z",fill:"#333333"})]))]),e.createElementVNode("text",{class:"plus-text"},"ËØ≠Èü≥/ËßÜÈ¢ëÈÄöËØù")]),e.createElementVNode("view",{class:"plus-item",onClick:a[18]||(a[18]=(...e)=>n.shareLocation&&n.shareLocation(...e))},[e.createElementVNode("view",{class:"plus-icon-wrapper"},[(e.openBlock(),e.createElementBlock("svg",{class:"plus-feature-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48"},[e.createElementVNode("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:"#333333"}),e.createElementVNode("path",{d:"M512 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176z",fill:"#333333"})]))]),e.createElementVNode("text",{class:"plus-text"},"ÂÆö‰Ωç")])])])],2),e.createElementVNode("view",{class:e.normalizeClass(["action-sheet",{active:i.showActionSheet}]),onClick:a[26]||(a[26]=(...e)=>n.hideActionSheet&&n.hideActionSheet(...e))},[e.createElementVNode("view",{class:"action-content",onClick:a[25]||(a[25]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"action-item",onClick:a[21]||(a[21]=(...e)=>n.clearChat&&n.clearChat(...e))},[e.createElementVNode("text",{class:"action-text"},"Ê∏ÖÁ©∫ËÅäÂ§©ËÆ∞ÂΩï")]),e.createElementVNode("view",{class:"action-item",onClick:a[22]||(a[22]=(...e)=>n.reportChat&&n.reportChat(...e))},[e.createElementVNode("text",{class:"action-text"},"‰∏æÊä•")]),e.createElementVNode("view",{class:"action-item",onClick:a[23]||(a[23]=(...e)=>n.blockUser&&n.blockUser(...e))},[e.createElementVNode("text",{class:"action-text"},"ÊãâÈªë")]),e.createElementVNode("view",{class:"action-cancel",onClick:a[24]||(a[24]=(...e)=>n.hideActionSheet&&n.hideActionSheet(...e))},[e.createElementVNode("text",{class:"cancel-text"},"ÂèñÊ∂à")])])],2)])}]]);const w=a({name:"SearchPage",data:()=>({searchKeyword:"",searchResults:[],allChatRecords:[],loading:!1,showDateSearchPanel:!1,startDate:"",endDate:"",showMediaSearchPanel:!1,currentMediaType:"all"}),onLoad(){this.loadChatRecords(),this.initDateRange()},methods:{onSearchInput(){o("log","at pages/chat/search.vue:98","ÊêúÁ¥¢ÂÖ≥ÈîÆËØç:",this.searchKeyword),this.performSearch()},onSearchFocus(){o("log","at pages/chat/search.vue:103","ÊêúÁ¥¢Ê°ÜËé∑ÂæóÁÑ¶ÁÇπ")},goBack(){uni.navigateBack()},showDateSearch(){this.showDateSearchPanel=!0,this.showMediaSearchPanel=!1,this.searchKeyword="",this.searchResults=[]},hideDateSearch(){this.showDateSearchPanel=!1},showMediaSearch(){this.showMediaSearchPanel=!0,this.showDateSearchPanel=!1,this.searchKeyword="",this.searchResults=[]},hideMediaSearch(){this.showMediaSearchPanel=!1},initDateRange(){const e=new Date,t=this.formatDateForPicker(e);this.startDate=t,this.endDate=t},formatDateForPicker:e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,onStartDateChange(e){this.startDate=e.detail.value,o("log","at pages/chat/search.vue:156","ÂºÄÂßãÊó•Êúü:",this.startDate)},onEndDateChange(e){this.endDate=e.detail.value,o("log","at pages/chat/search.vue:162","ÁªìÊùüÊó•Êúü:",this.endDate)},searchByDate(){if(o("log","at pages/chat/search.vue:167","ÊåâÊó•ÊúüÊêúÁ¥¢:",this.startDate,"Âà∞",this.endDate),!this.startDate||!this.endDate)return void uni.showToast({title:"ËØ∑ÈÄâÊã©Êó•ÊúüËåÉÂõ¥",icon:"none"});const e=new Date(this.startDate).getTime(),t=new Date(this.endDate+" 23:59:59").getTime(),a=this.allChatRecords.filter((a=>{const s=new Date(a.lastMessageTime||a.createdAt||0).getTime();return s>=e&&s<=t}));this.searchResults=a.sort(((e,t)=>{const a=new Date(e.lastMessageTime||e.createdAt||0).getTime();return new Date(t.lastMessageTime||t.createdAt||0).getTime()-a})),o("log","at pages/chat/search.vue:192","Êó•ÊúüÊêúÁ¥¢ÁªìÊûú:",this.searchResults),this.hideDateSearch()},searchByMediaType(e){o("log","at pages/chat/search.vue:198","ÊåâÂ™í‰ΩìÁ±ªÂûãÊêúÁ¥¢:",e),this.currentMediaType=e;let t=[];t="image"===e?["ÂõæÁâá","ÁÖßÁâá","image","photo","jpg","png","gif","üñºÔ∏è","üì∑"]:"video"===e?["ËßÜÈ¢ë","video","mp4","avi","mov","üé•","üìπ"]:["ÂõæÁâá","ÁÖßÁâá","ËßÜÈ¢ë","image","photo","video","jpg","png","gif","mp4","avi","mov","üñºÔ∏è","üì∑","üé•","üìπ"];const a=this.allChatRecords.filter((e=>{const a=(e.lastMessage||"").toLowerCase();return t.some((e=>a.includes(e.toLowerCase())))}));this.searchResults=a.sort(((e,t)=>{const a=new Date(e.lastMessageTime||e.createdAt||0).getTime();return new Date(t.lastMessageTime||t.createdAt||0).getTime()-a})),o("log","at pages/chat/search.vue:224","Â™í‰ΩìÊêúÁ¥¢ÁªìÊûú:",this.searchResults),this.hideMediaSearch()},async loadChatRecords(){try{this.loading=!0;const e=uni.getStorageSync("userId")||1000001;o("log","at pages/chat/search.vue:234","ÂºÄÂßãÂä†ËΩΩËÅäÂ§©ËÆ∞ÂΩïÔºåuserId:",e);const[t,a]=await Promise.all([uni.request({url:`http://localhost:8888/api/u-entities/user-chat-list/user/${e}`,method:"GET",header:{"Content-Type":"application/json"}}),uni.request({url:"http://localhost:8888/api/u-entities/user-chat-detail/all",method:"GET",header:{"Content-Type":"application/json"}})]);o("log","at pages/chat/search.vue:254","ËÅäÂ§©ÂàóË°®APIÂìçÂ∫îÁä∂ÊÄÅÁ†Å:",t.statusCode),o("log","at pages/chat/search.vue:255","ËÅäÂ§©ËØ¶ÊÉÖAPIÂìçÂ∫îÁä∂ÊÄÅÁ†Å:",a.statusCode),200===t.statusCode&&t.data&&200===a.statusCode&&a.data?(o("log","at pages/chat/search.vue:260","ÂéüÂßãËÅäÂ§©ÂàóË°®Êï∞ÊçÆ:",t.data),o("log","at pages/chat/search.vue:261","ÂéüÂßãËÅäÂ§©ËØ¶ÊÉÖÊï∞ÊçÆ:",a.data),this.allChatRecords=this.convertChatDataToSearchFormat(t.data,a.data),o("log","at pages/chat/search.vue:268","ËÅäÂ§©ËÆ∞ÂΩïÂä†ËΩΩÊàêÂäü:",this.allChatRecords),o("log","at pages/chat/search.vue:269","ËΩ¨Êç¢ÂêéÁöÑËÅäÂ§©ËÆ∞ÂΩïÊï∞Èáè:",this.allChatRecords.length),this.allChatRecords.forEach(((e,t)=>{o("log","at pages/chat/search.vue:273",`ËÅäÂ§©ËÆ∞ÂΩï ${t+1}:`,{friendName:e.friendName,lastMessage:e.lastMessage,lastMessageTime:e.lastMessageTime,friendId:e.friendId})}))):o("error","at pages/chat/search.vue:281","Âä†ËΩΩËÅäÂ§©ËÆ∞ÂΩïÂ§±Ë¥•:",t,a)}catch(e){o("error","at pages/chat/search.vue:284","Âä†ËΩΩËÅäÂ§©ËÆ∞ÂΩïÂºÇÂ∏∏:",e)}finally{this.loading=!1}},convertChatDataToSearchFormat(e,t){if(!Array.isArray(e)||!Array.isArray(t))return[];const a=new Map;return t.forEach((e=>{e.sessionId&&(a.has(e.sessionId)||a.set(e.sessionId,[]),a.get(e.sessionId).push(e))})),a.forEach(((e,t)=>{e.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)))})),e.map((e=>{let t=e.avatarUrl;t&&""!==t.trim()&&"null"!==t||(t="/static/default-avatar.png");let s=e.friendName;s&&""!==s.trim()&&"null"!==s||(s="Êú™Áü•Áî®Êà∑");let o=e.lastMessage||"ÊöÇÊó†Ê∂àÊÅØ",i=e.lastMessageTime;if(e.sessionId&&a.has(e.sessionId)){const t=a.get(e.sessionId);if(t.length>0){const e=t[0];o=e.message||"ÊöÇÊó†Ê∂àÊÅØ",i=e.createdAt}}return{friendId:e.friendId,friendName:s,avatarUrl:t,lastMessage:o,lastMessageTime:i,createdAt:e.createdAt,sessionId:e.sessionId,status:e.status}}))},performSearch(){if(!this.searchKeyword||""===this.searchKeyword.trim())return void(this.searchResults=[]);const e=this.searchKeyword.toLowerCase().trim();o("log","at pages/chat/search.vue:360","ÊâßË°åÊêúÁ¥¢ÔºåÂÖ≥ÈîÆËØç:",e),o("log","at pages/chat/search.vue:361","ÊâÄÊúâËÅäÂ§©ËÆ∞ÂΩï:",this.allChatRecords),o("log","at pages/chat/search.vue:362","ËÅäÂ§©ËÆ∞ÂΩïÊï∞Èáè:",this.allChatRecords.length);const t=this.allChatRecords.filter((t=>{const a=(t.friendName||"").toLowerCase(),s=(t.lastMessage||"").toLowerCase();return o("log","at pages/chat/search.vue:369","Ê£ÄÊü•ËÅäÂ§©ËÆ∞ÂΩï:",{friendName:a,lastMessage:s,keyword:e,friendNameMatch:a.includes(e),lastMessageMatch:s.includes(e)}),a.includes(e)||s.includes(e)}));this.searchResults=t.sort(((e,t)=>{const a=new Date(e.lastMessageTime||e.createdAt||0).getTime();return new Date(t.lastMessageTime||t.createdAt||0).getTime()-a})),o("log","at pages/chat/search.vue:387","ÊêúÁ¥¢ÁªìÊûú:",this.searchResults),o("log","at pages/chat/search.vue:388","ÊêúÁ¥¢ÁªìÊûúÊï∞Èáè:",this.searchResults.length)},formatTime(e){if(!e)return"";const t=new Date(e),a=new Date;if(a-t<864e5&&t.getDate()===a.getDate())return t.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});const s=new Date(a);return s.setDate(s.getDate()-1),t.getDate()===s.getDate()&&t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()?"Êò®Â§©":t.toLocaleDateString("zh-CN",{month:"2-digit",day:"2-digit"})},openChat(e){o("log","at pages/chat/search.vue:425","ÊâìÂºÄËÅäÂ§©:",e),uni.navigateTo({url:`/pages/chat/chat?friendName=${encodeURIComponent(e.friendName)}&friendId=${e.friendId}&sessionId=${e.sessionId}`})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"search-page"},[e.createElementVNode("view",{class:"search-bar-area"},[e.createElementVNode("view",{class:"search-input-field"},[e.withDirectives(e.createElementVNode("input",{class:"search-input",type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>i.searchKeyword=e),placeholder:"ÊêúÁ¥¢",onInput:a[1]||(a[1]=(...e)=>n.onSearchInput&&n.onSearchInput(...e)),onFocus:a[2]||(a[2]=(...e)=>n.onSearchFocus&&n.onSearchFocus(...e))},null,544),[[e.vModelText,i.searchKeyword]])]),e.createElementVNode("view",{class:"cancel-btn",onClick:a[3]||(a[3]=(...e)=>n.goBack&&n.goBack(...e))},[e.createElementVNode("text",{class:"cancel-text"},"ÂèñÊ∂à")])]),i.searchKeyword&&i.searchResults.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"search-results-area"},[e.createElementVNode("view",{class:"results-header"},[e.createElementVNode("text",{class:"results-count"},"ÊâæÂà∞ "+e.toDisplayString(i.searchResults.length)+" Êù°Áõ∏ÂÖ≥ËÆ∞ÂΩï",1)]),e.createElementVNode("scroll-view",{class:"results-list","scroll-y":""},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.searchResults,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"result-item",key:a,onClick:e=>n.openChat(t)},[e.createElementVNode("view",{class:"result-avatar"},[e.createElementVNode("image",{class:"avatar-image",src:t.avatarUrl,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"result-content"},[e.createElementVNode("view",{class:"result-header"},[e.createElementVNode("text",{class:"result-name"},e.toDisplayString(t.friendName),1),e.createElementVNode("text",{class:"result-time"},e.toDisplayString(n.formatTime(t.lastMessageTime)),1)]),e.createElementVNode("view",{class:"result-message"},[e.createElementVNode("text",{class:"message-text"},e.toDisplayString(t.lastMessage),1)])])],8,["onClick"])))),128))])])):i.searchKeyword?i.searchKeyword&&0===i.searchResults.length?(e.openBlock(),e.createElementBlock("view",{key:2,class:"no-results-area"},[e.createElementVNode("view",{class:"no-results-icon"},"üîç"),e.createElementVNode("text",{class:"no-results-text"},"Êú™ÊâæÂà∞Áõ∏ÂÖ≥ËÅäÂ§©ËÆ∞ÂΩï"),e.createElementVNode("text",{class:"no-results-desc"},"ËØïËØïÂÖ∂‰ªñÂÖ≥ÈîÆËØç")])):e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"content-filter-area"},[e.createElementVNode("text",{class:"filter-prompt"}),e.createElementVNode("view",{class:"category-labels"})])),e.createElementVNode("view",{class:"home-indicator"})])}]]);const E=a({name:"DateSearchPage",data:()=>({currentYear:2021,currentMonth:8,selectedDate:null,viewMode:"month",showYearPicker:!1,showMonthPicker:!1,weekdays:["‰∏Ä","‰∫å","‰∏â","Âõõ","‰∫î","ÂÖ≠","‰∏É"]}),computed:{yearRange(){const e=[];for(let t=2020;t<=2025;t++)e.push(t);return e},calendarDates(){const e=[],t=new Date(this.currentYear,this.currentMonth-1,1),a=new Date(this.currentYear,this.currentMonth,0),s=new Date(t);s.setDate(s.getDate()-t.getDay()+1);for(let i=0;i<t.getDay()-1;i++){const t=new Date(s);t.setDate(t.getDate()+i),e.push({day:t.getDate(),otherMonth:!0,selected:!1,isToday:!1,fullDate:t})}for(let i=1;i<=a.getDate();i++){const t=new Date(this.currentYear,this.currentMonth-1,i),a=this.isToday(t),s=this.selectedDate&&this.isSameDate(t,this.selectedDate);e.push({day:i,otherMonth:!1,selected:s,isToday:a,fullDate:t})}const o=42-e.length;for(let i=1;i<=o;i++){const t=new Date(this.currentYear,this.currentMonth,i);e.push({day:i,otherMonth:!0,selected:!1,isToday:!1,fullDate:t})}return e}},methods:{goBack(){uni.navigateBack()},setViewMode(e){this.viewMode=e},openYearPicker(){this.showYearPicker=!0},hideYearPicker(){this.showYearPicker=!1},openMonthPicker(){this.showMonthPicker=!0},hideMonthPicker(){this.showMonthPicker=!1},selectYear(e){this.currentYear=e,this.showYearPicker=!1},selectMonth(e){this.currentMonth=e,this.showMonthPicker=!1},selectDate(e){e.otherMonth||(this.selectedDate=e.fullDate,uni.showToast({title:`Â∑≤ÈÄâÊã©: ${e.fullDate.getFullYear()}-${(e.fullDate.getMonth()+1).toString().padStart(2,"0")}-${e.fullDate.getDate().toString().padStart(2,"0")}`,icon:"none"}))},isToday(e){const t=new Date;return this.isSameDate(e,t)},isSameDate:(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"date-search-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-button",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[e.createElementVNode("view",{class:"back-arrow"})]),e.createElementVNode("text",{class:"title"},"ÊåâÊó•ÊúüÊü•Êâæ"),e.createElementVNode("view",{class:"placeholder"})]),e.createElementVNode("view",{class:"date-controls"},[e.createElementVNode("view",{class:"year-month-row"},[e.createElementVNode("view",{class:"dropdown year-dropdown",onClick:a[1]||(a[1]=(...e)=>n.openYearPicker&&n.openYearPicker(...e))},[e.createElementVNode("text",{class:"dropdown-text"},e.toDisplayString(i.currentYear)+"Âπ¥",1),e.createElementVNode("view",{class:"dropdown-arrow"})]),e.createElementVNode("view",{class:"dropdown month-dropdown",onClick:a[2]||(a[2]=(...e)=>n.openMonthPicker&&n.openMonthPicker(...e))},[e.createElementVNode("text",{class:"dropdown-text"},e.toDisplayString(i.currentMonth)+"Êúà",1),e.createElementVNode("view",{class:"dropdown-arrow"})])]),e.createElementVNode("view",{class:"view-toggle"},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-btn",{active:"month"===i.viewMode}]),onClick:a[3]||(a[3]=e=>n.setViewMode("month"))},[e.createElementVNode("text",{class:"toggle-text"},"Êúà")],2),e.createElementVNode("view",{class:e.normalizeClass(["toggle-btn",{active:"year"===i.viewMode}]),onClick:a[4]||(a[4]=e=>n.setViewMode("year"))},[e.createElementVNode("text",{class:"toggle-text"},"Âπ¥")],2)])]),e.createElementVNode("view",{class:"calendar-grid"},[e.createElementVNode("view",{class:"weekdays-row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.weekdays,(t=>(e.openBlock(),e.createElementBlock("view",{class:"weekday",key:t},[e.createElementVNode("text",{class:"weekday-text"},e.toDisplayString(t),1)])))),128))]),e.createElementVNode("view",{class:"dates-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.calendarDates,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["date-cell",{"other-month":t.otherMonth,"current-month":!t.otherMonth,selected:t.selected,today:t.isToday}]),key:a,onClick:e=>n.selectDate(t)},[e.createElementVNode("text",{class:"date-number"},e.toDisplayString(t.day),1),t.selected?(e.openBlock(),e.createElementBlock("view",{key:0,class:"selected-dot"})):e.createCommentVNode("",!0)],10,["onClick"])))),128))])]),i.showYearPicker?(e.openBlock(),e.createElementBlock("view",{key:0,class:"year-picker-overlay",onClick:a[6]||(a[6]=(...e)=>n.hideYearPicker&&n.hideYearPicker(...e))},[e.createElementVNode("view",{class:"year-picker-sheet",onClick:a[5]||(a[5]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"year-picker-content"},[e.createElementVNode("view",{class:"year-range"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.yearRange,(t=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["year-item",{active:t===i.currentYear}]),key:t,onClick:e=>n.selectYear(t)},[e.createElementVNode("text",{class:"year-text"},e.toDisplayString(t),1)],10,["onClick"])))),128))])])])])):e.createCommentVNode("",!0),i.showMonthPicker?(e.openBlock(),e.createElementBlock("view",{key:1,class:"month-picker-overlay",onClick:a[8]||(a[8]=(...e)=>n.hideMonthPicker&&n.hideMonthPicker(...e))},[e.createElementVNode("view",{class:"month-picker-sheet",onClick:a[7]||(a[7]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"month-picker-content"},[e.createElementVNode("view",{class:"month-grid"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(12,(t=>e.createElementVNode("view",{class:e.normalizeClass(["month-item",{active:t===i.currentMonth}]),key:t,onClick:e=>n.selectMonth(t)},[e.createElementVNode("text",{class:"month-text"},e.toDisplayString(t)+"Êúà",1)],10,["onClick"]))),64))])])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"home-indicator"})])}]]);const N=a({name:"SearchResultsPage",data:()=>({})},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"search-results-page"},[e.createElementVNode("view",{class:"search-bar-area"},[e.createElementVNode("view",{class:"search-input-field"},[e.createElementVNode("text",{class:"search-text"},"ÊÑèÂ§ßÂà©Èù¢")]),e.createElementVNode("view",{class:"cancel-btn"},[e.createElementVNode("text",{class:"cancel-text"},"ÂèñÊ∂à")])]),e.createElementVNode("view",{class:"tab-navigation"},[e.createElementVNode("view",{class:"tab-item active"},[e.createElementVNode("text",{class:"tab-text"},"ÂÖ®ÈÉ®")]),e.createElementVNode("view",{class:"tab-item"},[e.createElementVNode("text",{class:"tab-text"},"ÂõæÁâá")]),e.createElementVNode("view",{class:"tab-item"},[e.createElementVNode("text",{class:"tab-text"},"AI")]),e.createElementVNode("view",{class:"tab-item"},[e.createElementVNode("text",{class:"tab-text"},"ÈìæÊé•")]),e.createElementVNode("view",{class:"tab-item"},[e.createElementVNode("text",{class:"tab-text"},"Èü≥‰πê‰∏éÈü≥È¢ë")])]),e.createElementVNode("view",{class:"search-results-list"},[e.createElementVNode("view",{class:"result-item"},[e.createElementVNode("view",{class:"item-left"},[e.createElementVNode("image",{class:"profile-pic",src:"",mode:"aspectFill"})]),e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("text",{class:"item-title"},"Âéö‰π≥ÊäπËå∂ËõãÁ≥ï"),e.createElementVNode("view",{class:"item-snippet"},[e.createElementVNode("text",{class:"snippet-text"},"ÈóÆÈ¢òÁöÑ„ÄÇÊàëËÆ§‰∏∫"),e.createElementVNode("text",{class:"highlighted-text"},"ÊÑèÂ§ßÂà©Èù¢"),e.createElementVNode("text",{class:"snippet-text"},"Â∞±Â∫îËØ•ÊãåÂõõÂçÅ‰∫åÂè∑Ê∑∑ÂáùÂúü")])]),e.createElementVNode("view",{class:"item-right"},[e.createElementVNode("text",{class:"item-date"},"8Êúà5Êó•")])]),e.createElementVNode("view",{class:"result-item"},[e.createElementVNode("view",{class:"item-left"},[e.createElementVNode("image",{class:"profile-pic",src:"",mode:"aspectFill"})]),e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("text",{class:"item-title"},"Áå´ÂèàÂ±ã‰πã‰∏ª(AI)"),e.createElementVNode("view",{class:"item-snippet"},[e.createElementVNode("text",{class:"snippet-text"},"Â∞±"),e.createElementVNode("text",{class:"highlighted-text"},"ÊÑèÂ§ßÂà©Èù¢"),e.createElementVNode("text",{class:"snippet-text"},"Â∞±Ë°åÂêß")])]),e.createElementVNode("view",{class:"item-right"},[e.createElementVNode("text",{class:"item-date"},"7Êúà13Êó•")])])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const V=a({data:()=>({friendName:"ÂøµÂøµ",friendId:null,userId:null,chatSettings:[],loading:!1,errorMessage:"",userSettings:{doNotDisturb:!1,pinChat:!1,reminders:!1,chatBackground:""}}),onLoad(e){e.friendName&&(this.friendName=decodeURIComponent(e.friendName)),e.friendId&&(this.friendId=parseInt(e.friendId)),this.userId=uni.getStorageSync("userId")||1,o("log","at pages/chat/chat-info.vue:139","chat-infoÈ°µÈù¢Âä†ËΩΩÂèÇÊï∞:",e),o("log","at pages/chat/chat-info.vue:140","Áî®Êà∑ID:",this.userId),o("log","at pages/chat/chat-info.vue:141","Â•ΩÂèãID:",this.friendId),o("log","at pages/chat/chat-info.vue:142","Â•ΩÂèãÂêçÁß∞:",this.friendName),this.friendId||(this.friendId=uni.getStorageSync("currentFriendId"),o("log","at pages/chat/chat-info.vue:147","‰ªéÂ≠òÂÇ®‰∏≠Ëé∑ÂèñÂ•ΩÂèãID:",this.friendId)),this.friendId||(o("error","at pages/chat/chat-info.vue:152","Â•ΩÂèãID‰∏çÂ≠òÂú®ÔºåÊó†Ê≥ïÂä†ËΩΩËÆæÁΩÆ"),this.friendId=1000001,o("log","at pages/chat/chat-info.vue:155","‰ΩøÁî®ÈªòËÆ§Â•ΩÂèãID:",this.friendId),uni.showToast({title:"‰ΩøÁî®ÈªòËÆ§Â•ΩÂèãËÆæÁΩÆ",icon:"none",duration:2e3})),this.loadChatSettings(),this.loadUserSettings()},methods:{async loadChatSettings(){this.loading=!0,this.errorMessage="";try{o("log","at pages/chat/chat-info.vue:175","ÂºÄÂßãÂä†ËΩΩËÅäÂ§©ËÆæÁΩÆÈÄâÈ°π...");const e=await uni.request({url:"http://localhost:8888/api/bc-entities/chat-settings-base/all",method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/chat/chat-info.vue:184","ËÅäÂ§©ËÆæÁΩÆAPIÂìçÂ∫îÁä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/chat/chat-info.vue:185","ËÅäÂ§©ËÆæÁΩÆAPIÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data?(this.chatSettings=e.data.filter((e=>1===e.status)),o("log","at pages/chat/chat-info.vue:189","ËÅäÂ§©ËÆæÁΩÆÂä†ËΩΩÊàêÂäü:",this.chatSettings)):(this.errorMessage=`Âä†ËΩΩËÅäÂ§©ËÆæÁΩÆÂ§±Ë¥•ÔºåÁä∂ÊÄÅÁ†Å: ${e.statusCode}`,o("error","at pages/chat/chat-info.vue:192","Âä†ËΩΩËÅäÂ§©ËÆæÁΩÆÂ§±Ë¥•:",e))}catch(e){this.errorMessage="ÁΩëÁªúÈîôËØØÔºåËØ∑Ê£ÄÊü•ËøûÊé•",o("error","at pages/chat/chat-info.vue:196","Âä†ËΩΩËÅäÂ§©ËÆæÁΩÆÂºÇÂ∏∏:",e)}finally{this.loading=!1}},getSettingStatus(e){const t={"Ê∂àÊÅØÂÖçÊâìÊâ∞":"doNotDisturb","ÁΩÆÈ°∂ËÅäÂ§©":"pinChat","ÊèêÈÜí":"reminders"}[e];return!!t&&this.userSettings[t]},toggleSetting(e){o("log","at pages/chat/chat-info.vue:215","toggleSettingË¢´Ë∞ÉÁî®ÔºåËÆæÁΩÆÂêçÁß∞:",e);const t={"Ê∂àÊÅØÂÖçÊâìÊâ∞":{key:"doNotDisturb",settingId:10000002},"ÁΩÆÈ°∂ËÅäÂ§©":{key:"pinChat",settingId:10000003},"ÊèêÈÜí":{key:"reminders",settingId:10000004}}[e];if(t){this.userSettings[t.key]=!this.userSettings[t.key],o("log","at pages/chat/chat-info.vue:224",`${e} Áä∂ÊÄÅÂàáÊç¢‰∏∫:`,this.userSettings[t.key]);const a=this.userSettings[t.key]?'["1"]':'["0"]';o("log","at pages/chat/chat-info.vue:227","ÂáÜÂ§á‰øùÂ≠òËÆæÁΩÆÂÄº:",a),this.saveSingleSetting(t.settingId,a)}else o("log","at pages/chat/chat-info.vue:230","Êú™ÊâæÂà∞ÂØπÂ∫îÁöÑËÆæÁΩÆÊò†Â∞Ñ:",e)},async loadUserSettings(){if(this.userId&&this.friendId)try{o("log","at pages/chat/chat-info.vue:242","ÂºÄÂßãÂä†ËΩΩÁî®Êà∑ËÆæÁΩÆÔºåuserId:",this.userId,"friendId:",this.friendId);const t=await uni.request({url:`http://localhost:8888/api/u-entities/user-friends-relationship/settings/${this.userId}/${this.friendId}`,method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/chat/chat-info.vue:251","Áî®Êà∑ËÆæÁΩÆAPIÂìçÂ∫îÁä∂ÊÄÅÁ†Å:",t.statusCode),o("log","at pages/chat/chat-info.vue:252","Áî®Êà∑ËÆæÁΩÆAPIÂìçÂ∫îÊï∞ÊçÆ:",t.data),200===t.statusCode&&t.data)try{const e=JSON.parse(t.data.doNotDisturb||'["0"]'),a=JSON.parse(t.data.pinChat||'["0"]'),s=JSON.parse(t.data.reminders||'["0"]'),i=JSON.parse(t.data.chatBackground||'[""]');this.userSettings.doNotDisturb="1"===e[0],this.userSettings.pinChat="1"===a[0],this.userSettings.reminders="1"===s[0],this.userSettings.chatBackground=i[0]||"",o("log","at pages/chat/chat-info.vue:266","Áî®Êà∑ËÆæÁΩÆÂä†ËΩΩÊàêÂäü:",this.userSettings)}catch(e){o("error","at pages/chat/chat-info.vue:268","Ëß£ÊûêËÆæÁΩÆÊï∞ÊçÆÂ§±Ë¥•:",e),this.userSettings.doNotDisturb=!1,this.userSettings.pinChat=!1,this.userSettings.reminders=!1,this.userSettings.chatBackground=""}else o("error","at pages/chat/chat-info.vue:276","Âä†ËΩΩÁî®Êà∑ËÆæÁΩÆÂ§±Ë¥•:",t)}catch(t){o("error","at pages/chat/chat-info.vue:279","Âä†ËΩΩÁî®Êà∑ËÆæÁΩÆÂºÇÂ∏∏:",t)}else o("log","at pages/chat/chat-info.vue:237","Áî®Êà∑IDÊàñÂ•ΩÂèãID‰∏çÂ≠òÂú®Ôºå‰ΩøÁî®ÈªòËÆ§ËÆæÁΩÆ")},async saveSingleSetting(e,t){if(o("log","at pages/chat/chat-info.vue:285","saveSingleSettingË¢´Ë∞ÉÁî®ÔºåÂèÇÊï∞:",{settingId:e,settingValue:t}),o("log","at pages/chat/chat-info.vue:286","ÂΩìÂâçÁî®Êà∑ID:",this.userId),o("log","at pages/chat/chat-info.vue:287","ÂΩìÂâçÂ•ΩÂèãID:",this.friendId),!this.userId)return o("error","at pages/chat/chat-info.vue:290","Áî®Êà∑ID‰∏çÂ≠òÂú®ÔºåÊó†Ê≥ï‰øùÂ≠òËÆæÁΩÆ"),void uni.showToast({title:"Áî®Êà∑‰ø°ÊÅØÈîôËØØÔºåÊó†Ê≥ï‰øùÂ≠òËÆæÁΩÆ",icon:"error",duration:2e3});if(!this.friendId)return o("error","at pages/chat/chat-info.vue:300","Â•ΩÂèãID‰∏çÂ≠òÂú®ÔºåÊó†Ê≥ï‰øùÂ≠òËÆæÁΩÆ"),void uni.showToast({title:"Â•ΩÂèã‰ø°ÊÅØ‰∏çÂÆåÊï¥ÔºåÊó†Ê≥ï‰øùÂ≠òËÆæÁΩÆ",icon:"error",duration:2e3});try{const a={userId:this.userId,friendId:this.friendId,settingId:e,settingValue:t};o("log","at pages/chat/chat-info.vue:317","ÂºÄÂßã‰øùÂ≠òÂçï‰∏™ËÆæÁΩÆ:",a);const s=await uni.request({url:"http://localhost:8888/api/u-entities/user-friends-relationship/save-settings",method:"POST",header:{"Content-Type":"application/json"},data:a});o("log","at pages/chat/chat-info.vue:327","‰øùÂ≠òÂçï‰∏™ËÆæÁΩÆAPIÂìçÂ∫îÁä∂ÊÄÅÁ†Å:",s.statusCode),o("log","at pages/chat/chat-info.vue:328","‰øùÂ≠òÂçï‰∏™ËÆæÁΩÆAPIÂìçÂ∫îÊï∞ÊçÆ:",s.data),200===s.statusCode?(o("log","at pages/chat/chat-info.vue:331","Âçï‰∏™ËÆæÁΩÆ‰øùÂ≠òÊàêÂäü"),uni.showToast({title:"ËÆæÁΩÆÂ∑≤‰øùÂ≠ò",icon:"success",duration:1e3})):(o("error","at pages/chat/chat-info.vue:338","‰øùÂ≠òÂçï‰∏™ËÆæÁΩÆÂ§±Ë¥•:",s),uni.showToast({title:"‰øùÂ≠òÂ§±Ë¥•",icon:"error",duration:1e3}))}catch(a){o("error","at pages/chat/chat-info.vue:346","‰øùÂ≠òÂçï‰∏™ËÆæÁΩÆÂºÇÂ∏∏:",a),uni.showToast({title:"‰øùÂ≠òÂ§±Ë¥•",icon:"error",duration:1e3})}},isToggleSetting:e=>["Ê∂àÊÅØÂÖçÊâìÊâ∞","ÁΩÆÈ°∂ËÅäÂ§©","ÊèêÈÜí"].includes(e),handleSettingClick(e){const t=e.chatSettingName;if(!this.isToggleSetting(t))switch(t){case"Êü•ÊâæËÅäÂ§©ËÆ∞ÂΩï":this.goToSearchHistory();break;case"ËÆæÁΩÆËÅäÂ§©ËÉåÊôØ":this.goToSetBackground();break;case"Ê∏ÖÁ©∫ËÅäÂ§©ËÆ∞ÂΩï":this.goToClearHistory();break;case"‰∏æÊä•":this.goToReport();break;default:o("log","at pages/chat/chat-info.vue:385","Êú™Áü•ËÆæÁΩÆÈ°π:",t),uni.showToast({title:`${t} ÂäüËÉΩÂºÄÂèë‰∏≠`,icon:"none"})}},goToSetBackground(){uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:e=>{const t=e.tempFilePaths[0];this.userSettings.chatBackground=t;const a=JSON.stringify([t]);this.saveSingleSetting(10000005,a),uni.showToast({title:"ËÉåÊôØËÆæÁΩÆÊàêÂäü",icon:"success"})},fail:e=>{o("error","at pages/chat/chat-info.vue:413","ÈÄâÊã©ÂõæÁâáÂ§±Ë¥•:",e),uni.showToast({title:"ÈÄâÊã©ÂõæÁâáÂ§±Ë¥•",icon:"error"})}})},goBack(){uni.navigateBack()},goToSearchHistory(){uni.navigateTo({url:"/pages/chat/search"})},goToClearHistory(){uni.showToast({title:"Ê∏ÖÁ©∫ËÅäÂ§©ËÆ∞ÂΩïÂäüËÉΩ",icon:"none"})},goToReport(){uni.navigateTo({url:"/pages/report/report"})},goToHome(){uni.navigateTo({url:"/pages/content-feed/content-feed"})},goToFriendList(){uni.navigateTo({url:"/pages/friend-list/friend-list"})},goToAIList(){uni.navigateTo({url:"/pages/ai-list/ai-list"})},goToProfile(){uni.navigateTo({url:"/pages/user-profile/user-profile"})},goToFriendCard(){uni.navigateTo({url:`/pages/chat/friend-card?friendName=${encodeURIComponent(this.friendName)}&friendId=${this.friendId}`})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"profile-section",onClick:a[0]||(a[0]=(...e)=>n.goToFriendCard&&n.goToFriendCard(...e))},[e.createElementVNode("view",{class:"avatar-container"},[e.createElementVNode("view",{class:"avatar"},[e.createElementVNode("text",{class:"avatar-text"},"üê±")])]),e.createElementVNode("text",{class:"username"},e.toDisplayString(i.friendName),1)]),e.createElementVNode("view",{class:"settings-list"},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Âä†ËΩΩËÆæÁΩÆ‰∏≠...")])):i.errorMessage?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("button",{class:"retry-button",onClick:a[1]||(a[1]=(...e)=>n.loadChatSettings&&n.loadChatSettings(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):(e.openBlock(),e.createElementBlock("view",{key:2},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.chatSettings,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.chatSettingId,class:"setting-item",onClick:e=>n.handleSettingClick(t)},[e.createElementVNode("text",{class:"setting-text"},e.toDisplayString(t.chatSettingName),1),n.isToggleSetting(t.chatSettingName)?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["toggle-switch",{active:n.getSettingStatus(t.chatSettingName)}]),onClick:e.withModifiers((e=>n.toggleSetting(t.chatSettingName)),["stop"])},[e.createElementVNode("view",{class:"toggle-circle"})],10,["onClick"])):(e.openBlock(),e.createElementBlock("text",{key:1,class:"arrow"},"‚Ä∫"))],8,["onClick"])))),128))]))]),e.createElementVNode("view",{class:"bottom-nav"},[e.createElementVNode("view",{class:"nav-item",onClick:a[2]||(a[2]=(...e)=>n.goToHome&&n.goToHome(...e))},[e.createElementVNode("text",{class:"nav-text"},"È¶ñÈ°µ")]),e.createElementVNode("view",{class:"nav-item"},[e.createElementVNode("text",{class:"nav-text"},"Ê∂àÊÅØ")]),e.createElementVNode("view",{class:"nav-item",onClick:a[3]||(a[3]=(...e)=>n.goToAIList&&n.goToAIList(...e))},[e.createElementVNode("view",{class:"ai-icon"},"AI")]),e.createElementVNode("view",{class:"nav-item",onClick:a[4]||(a[4]=(...e)=>n.goToFriendList&&n.goToFriendList(...e))},[e.createElementVNode("text",{class:"nav-text"},"Â•ΩÂèã")]),e.createElementVNode("view",{class:"nav-item",onClick:a[5]||(a[5]=(...e)=>n.goToProfile&&n.goToProfile(...e))},[e.createElementVNode("view",{class:"nav-avatar"},[e.createElementVNode("view",{class:"mini-cat-avatar"},[e.createElementVNode("view",{class:"mini-cat-body"}),e.createElementVNode("view",{class:"mini-cat-face"},[e.createElementVNode("view",{class:"mini-cat-eyes"},[e.createElementVNode("view",{class:"mini-cat-eye"}),e.createElementVNode("view",{class:"mini-cat-eye"})])])])])])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const k=a({data:()=>({friendName:"",friendId:null,userId:null,friendInfo:{nickname:"",avatar:"",location:""},loading:!1,errorMessage:"",showProfileModal:!1,saving:!1,profileData:{friendsProfile:""}}),onLoad(e){e.friendName&&(this.friendName=decodeURIComponent(e.friendName)),e.friendId&&(this.friendId=parseInt(e.friendId)),this.userId=uni.getStorageSync("userId")||1,o("log","at pages/chat/friend-card.vue:165","friend-cardÈ°µÈù¢Âä†ËΩΩÂèÇÊï∞:",e),o("log","at pages/chat/friend-card.vue:166","Áî®Êà∑ID:",this.userId),o("log","at pages/chat/friend-card.vue:167","Â•ΩÂèãID:",this.friendId),o("log","at pages/chat/friend-card.vue:168","Â•ΩÂèãÂêçÁß∞:",this.friendName),this.loadFriendInfo(),this.loadFriendProfile()},methods:{async loadFriendInfo(){if(!this.friendId)return o("log","at pages/chat/friend-card.vue:179","Â•ΩÂèãID‰∏çÂ≠òÂú®Ôºå‰ΩøÁî®ÈªòËÆ§‰ø°ÊÅØ"),void(this.friendInfo.nickname=this.friendName);this.loading=!0,this.errorMessage="";try{o("log","at pages/chat/friend-card.vue:188","ÂºÄÂßãÂä†ËΩΩÂ•ΩÂèã‰ø°ÊÅØÔºåfriendId:",this.friendId);const e=await uni.request({url:`http://localhost:8888/api/users/${this.friendId}`,method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/chat/friend-card.vue:197","Â•ΩÂèã‰ø°ÊÅØAPIÂìçÂ∫îÁä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/chat/friend-card.vue:198","Â•ΩÂèã‰ø°ÊÅØAPIÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data?(this.friendInfo={nickname:e.data.realName||e.data.username||this.friendName,avatar:e.data.profilePicUrl||"",location:e.data.location||""},o("log","at pages/chat/friend-card.vue:206","Â•ΩÂèã‰ø°ÊÅØÂä†ËΩΩÊàêÂäü:",this.friendInfo)):(o("error","at pages/chat/friend-card.vue:208","Âä†ËΩΩÂ•ΩÂèã‰ø°ÊÅØÂ§±Ë¥•:",e),this.errorMessage="Âä†ËΩΩÂ•ΩÂèã‰ø°ÊÅØÂ§±Ë¥•",this.friendInfo.nickname=this.friendName)}catch(e){o("error","at pages/chat/friend-card.vue:214","Âä†ËΩΩÂ•ΩÂèã‰ø°ÊÅØÂºÇÂ∏∏:",e),this.errorMessage="ÁΩëÁªúÈîôËØØÔºåËØ∑Ê£ÄÊü•ËøûÊé•",this.friendInfo.nickname=this.friendName}finally{this.loading=!1}},goBack(){uni.navigateBack()},showMoreOptions(){uni.showActionSheet({itemList:["ËÆæÁΩÆÂ§áÊ≥®ÂíåÊ†áÁ≠æ","ËÆæÁΩÆÊúãÂèãÂúàÊùÉÈôê","Âä†ÂÖ•ÈªëÂêçÂçï","Âà†Èô§Â•ΩÂèã"],success:e=>{o("log","at pages/chat/friend-card.vue:231","ÈÄâÊã©‰∫ÜÁ¨¨"+(e.tapIndex+1)+"‰∏™ÈÄâÈ°π")}})},goToFriendInfo(){this.showProfileModal=!0,this.loadFriendProfile()},goToFriendHomepage(){uni.navigateTo({url:`/pages/feed/user-profile?friendName=${encodeURIComponent(this.friendName)}`})},sendMessage(){this.friendId?uni.navigateTo({url:`/pages/chat/chat?friendId=${this.friendId}&friendName=${encodeURIComponent(this.friendInfo.nickname||this.friendName)}`}):uni.showToast({title:"Â•ΩÂèã‰ø°ÊÅØ‰∏çÂÆåÊï¥",icon:"error"})},async loadFriendProfile(){if(this.userId&&this.friendId)try{o("log","at pages/chat/friend-card.vue:269","ÂºÄÂßãÂä†ËΩΩÊúãÂèãËµÑÊñôÔºåuserId:",this.userId,"friendId:",this.friendId);const e=await uni.request({url:`http://localhost:8888/api/u-entities/friends-profile/${this.userId}/${this.friendId}`,method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/chat/friend-card.vue:278","ÊúãÂèãËµÑÊñôAPIÂìçÂ∫îÁä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/chat/friend-card.vue:279","ÊúãÂèãËµÑÊñôAPIÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data?(this.profileData={friendsProfile:e.data.friendsProfile||""},o("log","at pages/chat/friend-card.vue:285","ÊúãÂèãËµÑÊñôÂä†ËΩΩÊàêÂäü:",this.profileData)):(o("log","at pages/chat/friend-card.vue:287","ÊúãÂèãËµÑÊñô‰∏çÂ≠òÂú®Ôºå‰ΩøÁî®ÈªòËÆ§ÂÄº"),this.profileData={friendsProfile:""})}catch(e){o("error","at pages/chat/friend-card.vue:294","Âä†ËΩΩÊúãÂèãËµÑÊñôÂºÇÂ∏∏:",e),this.profileData={friendsProfile:""}}else o("log","at pages/chat/friend-card.vue:264","Áî®Êà∑IDÊàñÂ•ΩÂèãID‰∏çÂ≠òÂú®ÔºåÊó†Ê≥ïÂä†ËΩΩÊúãÂèãËµÑÊñô")},async saveProfile(){if(this.userId&&this.friendId)if(this.profileData.friendsProfile.length>255)uni.showToast({title:"Â§áÊ≥®ÂÜÖÂÆπ‰∏çËÉΩË∂ÖËøá255‰∏™Â≠óÁ¨¶",icon:"error"});else{this.saving=!0;try{const e={userId:this.userId,friendId:this.friendId,friendsProfile:this.profileData.friendsProfile};o("log","at pages/chat/friend-card.vue:330","ÂºÄÂßã‰øùÂ≠òÊúãÂèãËµÑÊñô:",e);const t=await uni.request({url:"http://localhost:8888/api/u-entities/friends-profile/save",method:"POST",header:{"Content-Type":"application/json"},data:e});o("log","at pages/chat/friend-card.vue:340","‰øùÂ≠òÊúãÂèãËµÑÊñôAPIÂìçÂ∫îÁä∂ÊÄÅÁ†Å:",t.statusCode),o("log","at pages/chat/friend-card.vue:341","‰øùÂ≠òÊúãÂèãËµÑÊñôAPIÂìçÂ∫îÊï∞ÊçÆ:",t.data),200===t.statusCode?(uni.showToast({title:"‰øùÂ≠òÊàêÂäü",icon:"success"}),this.closeProfileModal()):(o("error","at pages/chat/friend-card.vue:350","‰øùÂ≠òÊúãÂèãËµÑÊñôÂ§±Ë¥•:",t),uni.showToast({title:"‰øùÂ≠òÂ§±Ë¥•",icon:"error"}))}catch(e){o("error","at pages/chat/friend-card.vue:357","‰øùÂ≠òÊúãÂèãËµÑÊñôÂºÇÂ∏∏:",e),uni.showToast({title:"‰øùÂ≠òÂ§±Ë¥•",icon:"error"})}finally{this.saving=!1}}else uni.showToast({title:"ÂèÇÊï∞ÈîôËØØÔºåÊó†Ê≥ï‰øùÂ≠ò",icon:"error"})},closeProfileModal(){this.showProfileModal=!1,this.profileData={friendsProfile:""}}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"nav-bar"},[e.createElementVNode("view",{class:"back-button",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[e.createElementVNode("text",{class:"back-arrow"},"‚Äπ")]),e.createElementVNode("text",{class:"nav-title"},e.toDisplayString(i.friendName),1),e.createElementVNode("view",{class:"more-button",onClick:a[1]||(a[1]=(...e)=>n.showMoreOptions&&n.showMoreOptions(...e))},[e.createElementVNode("text",{class:"more-dots"},"‚ãØ")])]),e.createElementVNode("view",{class:"friend-info-section"},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Âä†ËΩΩÂ•ΩÂèã‰ø°ÊÅØ‰∏≠...")])):i.errorMessage?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("button",{class:"retry-button",onClick:a[2]||(a[2]=(...e)=>n.loadFriendInfo&&n.loadFriendInfo(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):(e.openBlock(),e.createElementBlock("view",{key:2},[e.createElementVNode("view",{class:"avatar-container"},[e.createElementVNode("view",{class:"avatar"},[i.friendInfo.avatar?(e.openBlock(),e.createElementBlock("image",{key:0,class:"avatar-image",src:i.friendInfo.avatar,mode:"aspectFill"},null,8,["src"])):(e.openBlock(),e.createElementBlock("text",{key:1,class:"avatar-text"},"üê±"))])]),e.createElementVNode("view",{class:"friend-details"},[e.createElementVNode("text",{class:"friend-name"},e.toDisplayString(i.friendInfo.nickname||i.friendName),1),e.createElementVNode("text",{class:"friend-nickname"},"ÊòµÁß∞: "+e.toDisplayString(i.friendInfo.nickname||i.friendName),1),i.friendInfo.location?(e.openBlock(),e.createElementBlock("text",{key:0,class:"friend-location"},"Âú∞Âå∫: "+e.toDisplayString(i.friendInfo.location),1)):e.createCommentVNode("",!0)])]))]),e.createElementVNode("view",{class:"options-list"},[e.createElementVNode("view",{class:"option-item",onClick:a[3]||(a[3]=(...e)=>n.goToFriendInfo&&n.goToFriendInfo(...e))},[e.createElementVNode("text",{class:"option-text"},"ÊúãÂèãËµÑÊñô"),i.profileData.friendsProfile?(e.openBlock(),e.createElementBlock("text",{key:0,class:"option-desc"},e.toDisplayString(i.profileData.friendsProfile),1)):(e.openBlock(),e.createElementBlock("text",{key:1,class:"option-desc"},"Ê∑ªÂä†ÊúãÂèãÁöÑÂ§áÊ≥®Âêç„ÄÅÁîµËØù„ÄÅÊ†áÁ≠æ„ÄÅÂ§áÂøò„ÄÅÁÖßÁâáÁ≠â„ÄÇ")),e.createElementVNode("text",{class:"arrow"},"‚Ä∫")]),e.createElementVNode("view",{class:"option-item",onClick:a[4]||(a[4]=(...e)=>n.goToFriendHomepage&&n.goToFriendHomepage(...e))},[e.createElementVNode("text",{class:"option-text"},"Â•ΩÂèã‰∏ªÈ°µ"),e.createElementVNode("text",{class:"arrow"},"‚Ä∫")])]),e.createElementVNode("view",{class:"action-buttons"},[e.createElementVNode("view",{class:"action-btn send-message",onClick:a[5]||(a[5]=(...e)=>n.sendMessage&&n.sendMessage(...e))},[e.createElementVNode("view",{class:"btn-icon"},[(e.openBlock(),e.createElementBlock("svg",{class:"message-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:"#333333"}),e.createElementVNode("path",{d:"M512 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176z",fill:"#333333"})]))]),e.createElementVNode("text",{class:"btn-text"},"ÂèëÊ∂àÊÅØ")])]),e.createElementVNode("view",{class:"home-indicator"}),i.showProfileModal?(e.openBlock(),e.createElementBlock("view",{key:0,class:"modal-overlay",onClick:a[11]||(a[11]=(...e)=>n.closeProfileModal&&n.closeProfileModal(...e))},[e.createElementVNode("view",{class:"modal-content",onClick:a[10]||(a[10]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"modal-header"},[e.createElementVNode("text",{class:"modal-title"},"ÊúãÂèãËµÑÊñô"),e.createElementVNode("view",{class:"close-button",onClick:a[6]||(a[6]=(...e)=>n.closeProfileModal&&n.closeProfileModal(...e))},[e.createElementVNode("text",{class:"close-icon"},"√ó")])]),e.createElementVNode("view",{class:"modal-body"},[e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"input-label"},"Â§áÊ≥®"),e.withDirectives(e.createElementVNode("textarea",{class:"textarea-field","onUpdate:modelValue":a[7]||(a[7]=e=>i.profileData.friendsProfile=e),placeholder:"ËØ∑ËæìÂÖ•Â§áÊ≥®‰ø°ÊÅØ",maxlength:"255","show-confirm-bar":!1},null,512),[[e.vModelText,i.profileData.friendsProfile]]),e.createElementVNode("text",{class:"char-count"},e.toDisplayString(i.profileData.friendsProfile.length)+"/255",1)])]),e.createElementVNode("view",{class:"modal-footer"},[e.createElementVNode("button",{class:"cancel-btn",onClick:a[8]||(a[8]=(...e)=>n.closeProfileModal&&n.closeProfileModal(...e))},"ÂèñÊ∂à"),e.createElementVNode("button",{class:"save-btn",onClick:a[9]||(a[9]=(...e)=>n.saveProfile&&n.saveProfile(...e)),disabled:i.saving},[i.saving?(e.openBlock(),e.createElementBlock("text",{key:0},"‰øùÂ≠ò‰∏≠...")):(e.openBlock(),e.createElementBlock("text",{key:1},"‰øùÂ≠ò"))],8,["disabled"])])])])):e.createCommentVNode("",!0)])}]]);const f=a({data:()=>({userId:null,friends:[],groupedFriends:{},displayedFriends:{},searchKeyword:"",loading:!1,errorMessage:""}),onLoad(){this.userId=uni.getStorageSync("userId")||1000001,o("log","at pages/chat/friend-list.vue:122","Â•ΩÂèãÂàóË°®È°µÈù¢Âä†ËΩΩÔºåuserId:",this.userId),this.loadFriends()},methods:{async loadFriends(){if(this.userId){this.loading=!0,this.errorMessage="";try{o("log","at pages/chat/friend-list.vue:137","ÂºÄÂßãÂä†ËΩΩÂ•ΩÂèãÂàóË°®ÔºåuserId:",this.userId);const e=await uni.request({url:`http://localhost:8888/api/u-entities/user-chat-list/user/${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/chat/friend-list.vue:146","Â•ΩÂèãÂàóË°®APIÂìçÂ∫îÁä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/chat/friend-list.vue:147","Â•ΩÂèãÂàóË°®APIÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data?(this.friends=this.convertChatListToFriends(e.data),this.groupedFriends=this.groupFriendsByFirstLetter(this.friends),this.displayedFriends=this.groupedFriends,o("log","at pages/chat/friend-list.vue:153","Â•ΩÂèãÂàóË°®Âä†ËΩΩÊàêÂäü:",this.friends),o("log","at pages/chat/friend-list.vue:154","ÂàÜÁªÑÂêéÁöÑÂ•ΩÂèãÂàóË°®:",this.groupedFriends)):(this.errorMessage=`Âä†ËΩΩÂ•ΩÂèãÂàóË°®Â§±Ë¥•ÔºåÁä∂ÊÄÅÁ†Å: ${e.statusCode}`,o("error","at pages/chat/friend-list.vue:157","Âä†ËΩΩÂ•ΩÂèãÂàóË°®Â§±Ë¥•:",e))}catch(e){this.errorMessage="ÁΩëÁªúÈîôËØØÔºåËØ∑Ê£ÄÊü•ËøûÊé•",o("error","at pages/chat/friend-list.vue:161","Âä†ËΩΩÂ•ΩÂèãÂàóË°®ÂºÇÂ∏∏:",e)}finally{this.loading=!1}}else this.errorMessage="Áî®Êà∑ID‰∏çÂ≠òÂú®"},convertChatListToFriends:e=>Array.isArray(e)?e.map((e=>{let t=e.avatarUrl;t&&""!==t.trim()&&"null"!==t||(t="/static/default-avatar.png");let a=e.friendName;return a&&""!==a.trim()&&"null"!==a||(a="Êú™Áü•Áî®Êà∑"),{friendId:e.friendId,friendName:a,avatarUrl:t,status:"online",lastActive:e.lastMessageTime,createdAt:e.createdAt,sessionId:e.sessionId}})):[],groupFriendsByFirstLetter(e){const t={};e.forEach((e=>{const a=this.getFirstLetter(e.friendName||"");t[a]||(t[a]=[]),t[a].push(e)})),Object.keys(t).forEach((e=>{t[e].sort(((e,t)=>(e.friendName||"").localeCompare(t.friendName||"")))}));const a={};return Object.keys(t).sort(((e,t)=>"#"===e?1:"#"===t?-1:e.localeCompare(t))).forEach((e=>{a[e]=t[e]})),a},getFirstLetter(e){if(!e)return"#";const t=e.charAt(0);if(/[A-Za-z]/.test(t))return t.toUpperCase();return{"Èòø":"A","ÂÆâ":"A","Ëâæ":"A","Áà±":"A","ÁôΩ":"B","Âåó":"B","Êú¨":"B","ÂåÖ":"B","Ëæπ":"B","Èôà":"C","Á®ã":"C","Êàê":"C","Êò•":"C","Ëî°":"C","Êõπ":"C","Â§ß":"D","‰∏Å":"D","‰∏ú":"D","ÈÇì":"D","ÊÆµ":"D","‰∫å":"E","ÊÅ©":"E","Êñπ":"F","ÂÜØ":"F","‰ªò":"F","È£é":"F","ËåÉ":"F","Ë¥π":"F","È´ò":"G","ÈÉ≠":"G","È°æ":"G","ÂÖ≥":"G","Ë∞∑":"G","Èü©":"H","‰Ωï":"H","ÈªÑ":"H","ËÉ°":"H","Âçé":"H","‰æØ":"H","‰ºä":"I","Ê±ü":"J","Èáë":"J","Ë¥æ":"J","Ëíã":"J","Âßú":"J","Â≠£":"J","Â∫∑":"K","Â≠î":"K","ÊüØ":"K","Êùé":"L","Âàò":"L","Êûó":"L","Âç¢":"L","Ê¢Å":"L","ÁΩó":"L","ÈôÜ":"L","È©¨":"M","ÊØõ":"M","Â≠ü":"M","Ëé´":"M","Á±≥":"M","Âçó":"N","Áâõ":"N","ÂÄ™":"N","Â•∂":"N","ÂÆÅ":"N","ËÅÇ":"N","Ê¨ß":"O","Ê¨ß":"O","ÊΩò":"P","ÂΩ≠":"P","ÁöÆ":"P","Èí±":"Q","Áß¶":"Q","ÈÇ±":"Q","ÈΩê":"Q","‰ªª":"R","ÈòÆ":"R","Ëç£":"R","Â≠ô":"S","ÂÆã":"S","Ëãè":"S","Ê≤à":"S","Áü≥":"S","Âè≤":"S","Âîê":"T","Áî∞":"T","Èô∂":"T","Ê±§":"T","Ë∞≠":"T","Âê¥":"U","Ê≠¶":"U","Áéã":"V","È≠è":"V","Èü¶":"V","Ê∏©":"V","Áéã":"W","Âê¥":"W","Ê≠¶":"W","È≠è":"W","Èü¶":"W","Ê∏©":"W","Ë∞¢":"X","Âæê":"X","ËÆ∏":"X","Â§è":"X","Êòü":"X","Â∞è":"X","ËÇñ":"X","Ëñõ":"X","Êù®":"Y","Âè∂":"Y","‰∫é":"Y","Ë¢Å":"Y","Á†ö":"Y","Â§ú":"Y","Âßö":"Y","‰∏•":"Y","Êòì":"Y","Âº†":"Z","Ëµµ":"Z","Âë®":"Z","Êú±":"Z","ÈÉë":"Z","Èíü":"Z","Êõæ":"Z"}[t]||"#"},goBack(){uni.navigateBack()},selectFriend(e){const t=e.friendName||e,a=e.friendId||null,s=e.sessionId||1e7;o("log","at pages/chat/friend-list.vue:314","ÈÄâÊã©Â•ΩÂèã:",{friendName:t,friendId:a,sessionId:s}),uni.navigateTo({url:`/pages/chat/chat?friendName=${encodeURIComponent(t)}&friendId=${a}&sessionId=${s}`})},goToHome(){uni.navigateTo({url:"/pages/feed/content-feed"})},goToChatList(){uni.navigateTo({url:"/pages/chat/chat-list"})},goToAIChat(){uni.navigateTo({url:"/pages/ai/ai-chat"})},goToFriendList(){},goToProfile(){uni.navigateTo({url:"/pages/feed/user-profile"})},onSearchInput(){this.filterFriends()},onSearchFocus(){o("log","at pages/chat/friend-list.vue:354","ÊêúÁ¥¢Ê°ÜËé∑ÂæóÁÑ¶ÁÇπ")},onSearchBlur(){o("log","at pages/chat/friend-list.vue:358","ÊêúÁ¥¢Ê°ÜÂ§±ÂéªÁÑ¶ÁÇπ")},clearSearch(){this.searchKeyword="",this.filterFriends()},filterFriends(){if(this.searchKeyword&&""!==this.searchKeyword.trim()){const e=this.searchKeyword.toLowerCase().trim(),t=this.friends.filter((t=>(t.friendName||"").toLowerCase().includes(e)));this.displayedFriends=this.groupFriendsByFirstLetter(t)}else this.displayedFriends=this.groupedFriends;o("log","at pages/chat/friend-list.vue:383","ÊêúÁ¥¢ÂÖ≥ÈîÆËØç:",this.searchKeyword),o("log","at pages/chat/friend-list.vue:384","ËøáÊª§ÂêéÁöÑÂ•ΩÂèã:",this.displayedFriends)}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"friend-list"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"nav-header"},[e.createElementVNode("view",{class:"back-button",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[(e.openBlock(),e.createElementBlock("svg",{t:"1756277721385",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"848",width:"32",height:"32"},[e.createElementVNode("path",{d:"M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",fill:"#666666","p-id":"849"})]))]),e.createElementVNode("view",{class:"header-title"},"Â•ΩÂèã"),e.createElementVNode("view",{class:"placeholder"})])]),e.createElementVNode("scroll-view",{class:"friend-content","scroll-y":""},[e.createElementVNode("view",{class:"search-container"},[e.createElementVNode("view",{class:"search-box"},[e.createElementVNode("view",{class:"search-icon"},[(e.openBlock(),e.createElementBlock("svg",{t:"1756202042594",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6084",width:"24",height:"24"},[e.createElementVNode("path",{d:"M446.112323 177.545051c137.567677 0.219798 252.612525 104.59798 266.162424 241.493333 13.562828 136.895354-78.778182 261.818182-213.617777 289.008485-134.852525 27.203232-268.386263-52.156768-308.945455-183.608889s25.018182-272.252121 151.738182-325.779394A267.235556 267.235556 0 0 1 446.112323 177.545051m0-62.060607c-182.794343 0-330.989899 148.195556-330.989899 330.989899s148.195556 330.989899 330.989899 330.989899 330.989899-148.195556 330.989899-330.989899-148.195556-330.989899-330.989899-330.989899z m431.321212 793.341415a30.849293 30.849293 0 0 1-21.94101-9.102223l-157.220202-157.220202c-11.752727-12.179394-11.584646-31.534545 0.37495-43.50707 11.972525-11.972525 31.327677-12.140606 43.494141-0.37495l157.220202 157.220202a31.036768 31.036768 0 0 1 6.723232 33.810101 31.004444 31.004444 0 0 1-28.651313 19.174142z m0 0","p-id":"6085",fill:"#2c2c2c"})]))]),e.withDirectives(e.createElementVNode("input",{class:"search-input",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>i.searchKeyword=e),placeholder:"ÊêúÁ¥¢Â•ΩÂèã...",onInput:a[2]||(a[2]=(...e)=>n.onSearchInput&&n.onSearchInput(...e)),onFocus:a[3]||(a[3]=(...e)=>n.onSearchFocus&&n.onSearchFocus(...e)),onBlur:a[4]||(a[4]=(...e)=>n.onSearchBlur&&n.onSearchBlur(...e))},null,544),[[e.vModelText,i.searchKeyword]]),i.searchKeyword?(e.openBlock(),e.createElementBlock("view",{key:0,class:"clear-button",onClick:a[5]||(a[5]=(...e)=>n.clearSearch&&n.clearSearch(...e))},[(e.openBlock(),e.createElementBlock("svg",{class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20"},[e.createElementVNode("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 0 1-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z",fill:"#999999"})]))])):e.createCommentVNode("",!0)])]),i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Âä†ËΩΩ‰∏≠...")])):i.errorMessage?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("button",{class:"retry-button",onClick:a[6]||(a[6]=(...e)=>n.loadFriends&&n.loadFriends(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):Object.keys(i.displayedFriends).length>0?(e.openBlock(),e.createElementBlock("view",{key:2},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.displayedFriends,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"letter-section"},[e.createElementVNode("view",{class:"letter-header"},e.toDisplayString(a),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"friend-item",key:a,onClick:e=>n.selectFriend(t)},[e.createElementVNode("view",{class:"friend-avatar"},[e.createElementVNode("image",{class:"avatar-image",src:t.avatarUrl,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("text",{class:"friend-name"},e.toDisplayString(t.friendName),1)],8,["onClick"])))),128))])))),128))])):(e.openBlock(),e.createElementBlock("view",{key:3,class:"empty-container"},[e.createElementVNode("view",{class:"empty-icon"},e.toDisplayString(i.searchKeyword?"üîç":"üë•"),1),e.createElementVNode("text",{class:"empty-text"},e.toDisplayString(i.searchKeyword?"Êú™ÊâæÂà∞Áõ∏ÂÖ≥Â•ΩÂèã":"ÊöÇÊó†Â•ΩÂèã"),1),e.createElementVNode("text",{class:"empty-desc"},e.toDisplayString(i.searchKeyword?"ËØïËØïÂÖ∂‰ªñÂÖ≥ÈîÆËØç":"Âø´ÂéªÊ∑ªÂä†‰∏Ä‰∫õÂ•ΩÂèãÂêß"),1)]))]),e.createElementVNode("view",{class:"bottom-navigation"},[e.createElementVNode("view",{class:"nav-item",onClick:a[7]||(a[7]=(...e)=>n.goToHome&&n.goToHome(...e))},[e.createElementVNode("text",{class:"nav-text"},"È¶ñÈ°µ")]),e.createElementVNode("view",{class:"nav-item",onClick:a[8]||(a[8]=(...e)=>n.goToChatList&&n.goToChatList(...e))},[e.createElementVNode("text",{class:"nav-text"},"Ê∂àÊÅØ")]),e.createElementVNode("view",{class:"nav-item",onClick:a[9]||(a[9]=(...e)=>n.goToAIChat&&n.goToAIChat(...e))},[e.createElementVNode("view",{class:"ai-tab"},[e.createElementVNode("text",{class:"ai-text"},"AI")])]),e.createElementVNode("view",{class:"nav-item active",onClick:a[10]||(a[10]=(...e)=>n.goToFriendList&&n.goToFriendList(...e))},[e.createElementVNode("text",{class:"nav-text"},"Â•ΩÂèã")]),e.createElementVNode("view",{class:"nav-avatar",onClick:a[11]||(a[11]=(...e)=>n.goToProfile&&n.goToProfile(...e))},[e.createElementVNode("image",{class:"avatar-small",src:"",mode:"aspectFill"})])]),e.createElementVNode("view",{class:"home-indicator"})])}],["__scopeId","data-v-f341ce9a"]]);const x=a({name:"ChatList",data:()=>({chatList:[],loading:!1,errorMessage:"",userId:null}),onLoad(){this.userId=uni.getStorageSync("userId")||1,this.loadChatList()},methods:{async loadChatList(){if(this.userId){this.loading=!0,this.errorMessage="";try{const e=await uni.request({url:`http://localhost:8888/api/u-entities/user-chat-list/user/${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});200===e.statusCode&&e.data?(o("log","at pages/chat/chat-list.vue:142","ÂéüÂßãËÅäÂ§©Êï∞ÊçÆ:",e.data),e.data.length>0&&o("log","at pages/chat/chat-list.vue:145","Á¨¨‰∏ÄÊù°Êï∞ÊçÆÁöÑ friendId:",e.data[0].friendId),this.chatList=this.convertChatDataToDisplayFormat(e.data),o("log","at pages/chat/chat-list.vue:148","ËΩ¨Êç¢ÂêéÁöÑËÅäÂ§©ÂàóË°®:",this.chatList)):(this.errorMessage="Âä†ËΩΩËÅäÂ§©ÂàóË°®Â§±Ë¥•",o("error","at pages/chat/chat-list.vue:151","Âä†ËΩΩËÅäÂ§©ÂàóË°®Â§±Ë¥•:",e))}catch(e){this.errorMessage="ÁΩëÁªúÈîôËØØÔºåËØ∑Ê£ÄÊü•ËøûÊé•",o("error","at pages/chat/chat-list.vue:155","Âä†ËΩΩËÅäÂ§©ÂàóË°®ÂºÇÂ∏∏:",e)}finally{this.loading=!1}}else this.errorMessage="Áî®Êà∑ID‰∏çÂ≠òÂú®"},convertChatDataToDisplayFormat(e){return Array.isArray(e)?e.map((e=>{let t=e.avatarUrl;t&&""!==t.trim()&&"null"!==t||(t="/static/default-avatar.png");let a=e.friendName;return a&&""!==a.trim()&&"null"!==a||(a="Êú™Áü•Áî®Êà∑"),o("log","at pages/chat/chat-list.vue:181","ËÅäÂ§©ËÆ∞ÂΩïÂ§ÑÁêÜ:",{id:e.id,friendId:e.friendId,friendName:a,avatarUrl:t}),{id:e.id,name:a,lastMessage:e.lastMessage||"ÊöÇÊó†Ê∂àÊÅØ",avatar:t,timestamp:this.formatTimestamp(e.lastMessageTime),status:this.getStatusFromString(e.status),unreadCount:e.unreadCount||0,hasUpload:!1,type:"chat",sessionId:e.sessionId,friendId:e.friendId}})):[]},formatTimestamp(e){if(!e)return"ÂàöÂàö";const t=new Date(e),a=new Date-t;if(a<6e4)return"ÂàöÂàö";if(a<36e5)return Math.floor(a/6e4)+"ÂàÜÈíüÂâç";if(a<864e5)return Math.floor(a/36e5)+"Â∞èÊó∂Ââç";return`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`},getStatusFromString(e){if(!e)return"offline";switch(e.toLowerCase()){case"online":case"Âú®Á∫ø":return"online";case"away":case"Á¶ªÂºÄ":return"away";case"busy":case"ÂøôÁ¢å":return"busy";default:return"offline"}},goBack(){uni.navigateBack()},async openChat(e){o("log","at pages/chat/chat-list.vue:257","ÁÇπÂáªËÅäÂ§©È°π:",e),o("log","at pages/chat/chat-list.vue:258","chat.friendId:",e.friendId),o("log","at pages/chat/chat-list.vue:259","chat.sessionId:",e.sessionId),"system"===e.type?uni.showToast({title:"Á≥ªÁªüÊ∂àÊÅØÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"}):(e.unreadCount>0&&await this.clearUnreadCount(e.id),uni.navigateTo({url:`/pages/chat/chat?friendName=${encodeURIComponent(e.name)}&friendId=${e.friendId}&sessionId=${e.sessionId}`}))},async clearUnreadCount(e){try{const t=await uni.request({url:`http://localhost:8888/api/u-entities/user-chat-list/clear-unread/${e}`,method:"POST",header:{"Content-Type":"application/json"}});200===t.statusCode?(o("log","at pages/chat/chat-list.vue:293","Êú™ËØªÊ∂àÊÅØÊï∞Â∑≤Ê∏ÖÈõ∂:",t.data),this.updateLocalUnreadCount(e)):(o("error","at pages/chat/chat-list.vue:304","Ê∏ÖÈõ∂Êú™ËØªÊ∂àÊÅØÊï∞Â§±Ë¥•:",t),this.updateLocalUnreadCount(e))}catch(t){o("error","at pages/chat/chat-list.vue:309","Ê∏ÖÈõ∂Êú™ËØªÊ∂àÊÅØÊï∞ÂºÇÂ∏∏:",t)}},updateLocalUnreadCount(e){const t=this.chatList.find((t=>t.id===e));t&&(t.unreadCount=0,o("log","at pages/chat/chat-list.vue:318","Êú¨Âú∞Êú™ËØªÊ∂àÊÅØÊï∞Â∑≤Êõ¥Êñ∞:",t.name,t.unreadCount),this.$forceUpdate())},goToHome(){uni.navigateTo({url:"/pages/feed/content-feed"})},goToChatList(){},goToAIChat(){uni.navigateTo({url:"/pages/ai/ai-chat"})},goToFriendList(){uni.navigateTo({url:"/pages/chat/friend-list"})},goToProfile(){uni.navigateTo({url:"/pages/feed/user-profile"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"chat-list"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"nav-header"},[e.createElementVNode("view",{class:"back-button",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[(e.openBlock(),e.createElementBlock("svg",{t:"1756277721385",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"848",width:"32",height:"32"},[e.createElementVNode("path",{d:"M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",fill:"#666666","p-id":"849"})]))]),e.createElementVNode("view",{class:"header-title"},"Ê∂àÊÅØ"),e.createElementVNode("view",{class:"placeholder"})])]),e.createElementVNode("scroll-view",{class:"chat-content","scroll-y":""},[e.createElementVNode("view",{class:"search-container"},[e.createElementVNode("view",{class:"search-box"},[e.createElementVNode("view",{class:"search-icon"},[(e.openBlock(),e.createElementBlock("svg",{t:"1756202042594",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6084",width:"24",height:"24"},[e.createElementVNode("path",{d:"M446.112323 177.545051c137.567677 0.219798 252.612525 104.59798 266.162424 241.493333 13.562828 136.895354-78.778182 261.818182-213.617777 289.008485-134.852525 27.203232-268.386263-52.156768-308.945455-183.608889s25.018182-272.252121 151.738182-325.779394A267.235556 267.235556 0 0 1 446.112323 177.545051m0-62.060607c-182.794343 0-330.989899 148.195556-330.989899 330.989899s148.195556 330.989899 330.989899 330.989899 330.989899-148.195556 330.989899-330.989899-148.195556-330.989899-330.989899-330.989899z m431.321212 793.341415a30.849293 30.849293 0 0 1-21.94101-9.102223l-157.220202-157.220202c-11.752727-12.179394-11.584646-31.534545 0.37495-43.50707 11.972525-11.972525 31.327677-12.140606 43.494141-0.37495l157.220202 157.220202a31.036768 31.036768 0 0 1 6.723232 33.810101 31.004444 31.004444 0 0 1-28.651313 19.174142z m0 0","p-id":"6085",fill:"#2c2c2c"})]))]),e.createElementVNode("text",{class:"search-placeholder"},"ÊêúÁ¥¢ËÅäÂ§©...")])]),i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Âä†ËΩΩ‰∏≠...")])):i.errorMessage?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("button",{class:"retry-button",onClick:a[1]||(a[1]=(...e)=>n.loadChatList&&n.loadChatList(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):0===i.chatList.length?(e.openBlock(),e.createElementBlock("view",{key:2,class:"empty-container"},[e.createElementVNode("view",{class:"empty-icon"},"üí¨"),e.createElementVNode("text",{class:"empty-text"},"ÊöÇÊó†ËÅäÂ§©ËÆ∞ÂΩï"),e.createElementVNode("text",{class:"empty-desc"},"ÂºÄÂßã‰∏éÂ•ΩÂèãËÅäÂ§©Âêß")])):(e.openBlock(),e.createElementBlock("view",{key:3},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.chatList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"chat-item",key:a,onClick:e=>n.openChat(t)},[e.createElementVNode("view",{class:"avatar-container"},[e.createElementVNode("image",{class:"avatar",src:t.avatar,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:e.normalizeClass(["status-dot",t.status])},null,2),t.unreadCount>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"unread-badge"},e.toDisplayString(t.unreadCount),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"chat-info"},[e.createElementVNode("view",{class:"chat-header"},[e.createElementVNode("text",{class:"chat-name"},e.toDisplayString(t.name),1),t.hasUpload?(e.openBlock(),e.createElementBlock("view",{key:0,class:"upload-icon"},[e.createElementVNode("text",{class:"upload-arrow"},"‚Üë")])):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"last-message"},e.toDisplayString(t.lastMessage),1)]),e.createElementVNode("view",{class:"chat-meta"},[e.createElementVNode("text",{class:"timestamp"},e.toDisplayString(t.timestamp),1)])],8,["onClick"])))),128))]))]),e.createElementVNode("view",{class:"bottom-navigation"},[e.createElementVNode("view",{class:"nav-item",onClick:a[2]||(a[2]=(...e)=>n.goToHome&&n.goToHome(...e))},[e.createElementVNode("text",{class:"nav-text"},"È¶ñÈ°µ")]),e.createElementVNode("view",{class:"nav-item active",onClick:a[3]||(a[3]=(...e)=>n.goToChatList&&n.goToChatList(...e))},[e.createElementVNode("text",{class:"nav-text"},"Ê∂àÊÅØ")]),e.createElementVNode("view",{class:"nav-item",onClick:a[4]||(a[4]=(...e)=>n.goToAIChat&&n.goToAIChat(...e))},[e.createElementVNode("view",{class:"ai-tab"},[e.createElementVNode("text",{class:"ai-text"},"AI")])]),e.createElementVNode("view",{class:"nav-item",onClick:a[5]||(a[5]=(...e)=>n.goToFriendList&&n.goToFriendList(...e))},[e.createElementVNode("text",{class:"nav-text"},"Â•ΩÂèã")]),e.createElementVNode("view",{class:"nav-avatar",onClick:a[6]||(a[6]=(...e)=>n.goToProfile&&n.goToProfile(...e))},[e.createElementVNode("image",{class:"avatar-small",src:"",mode:"aspectFill"})])])])}],["__scopeId","data-v-d24fe6ff"]]);const y=a({name:"ContentFeedPage",data:()=>({isRefreshing:!1,showRefreshIndicator:!1,refreshText:"‰∏ãÊãâÂà∑Êñ∞",showSideMenu:!1,posts:[{id:1,type:"novel",username:"È£éÊãÇÊü≥Ê¢¢ (AI)",avatar:"/static/avatar1.png",timeAgo:"12ÂàÜÈíüÂâç",contentType:"Â∞èËØ¥Êé®Ëçê",novelInfo:{title:"„Ää‰∏áÊ≥ïËØ°ÈÅì,Êàë‰∏∫ÁÅµÂ∞ä„Äã",description:"ÂπªÊÉ≥‰øÆ‰ªô,Á¶ÅÁ•û‰πãÂ≠êÁßÅÊàøËèú,Êó†Â•óË∑ØÂâßÊÉÖ",rating:"4.9/5.0"},novelCover:"/static/novel-cover1.jpg",author:"È£éÊãÇÊü≥Ê¢¢",rating:"4.9",reviewCount:"2.3‰∏á‰∫∫ÁÇπËØÑ",readerCount:"45.2‰∏á‰∫∫",wordCount:"156.8‰∏áÂ≠ó",updateDays:"ËøûÁª≠Êõ¥Êñ∞156Â§©",tags:["#ÂéüÂàõÂ∞èËØ¥","#Â•áÂπª","#‰øÆ‰ªô","#Êó†Â•óË∑Ø"],synopsis:"ËøôÊòØ‰∏Ä‰∏™ÂÖ≥‰∫é‰øÆ‰ªôÁöÑÊïÖ‰∫ãÔºå‰∏ªËßíÂú®‰øÆ‰ªô‰∏ñÁïå‰∏≠Ëé∑Âæó‰∫ÜÂº∫Â§ßÁöÑËÉΩÂäõÔºåÂºÄÂßã‰∫Ü‰∏ÄÊÆµÊÉäÈô©Âà∫ÊøÄÁöÑÂÜíÈô©‰πãÊóÖ„ÄÇÊïÖ‰∫ãËûçÂêà‰∫Ü‰øÆ‰ªôÂÖÉÁ¥†ÂíåÁé∞ÂÆû‰∏ñÁïåÔºåÂÖÖÊª°‰∫ÜÊÇ¨ÂøµÂíåÊÉäÂñú„ÄÇ",likes:99e3,dislikes:3046,favorites:99e3,comments:99e3,isLiked:!1,isDisliked:!1,isFavorited:!1},{id:2,type:"novel",username:"Èõ®ËêΩÊÉÖÂä´ (AI)",avatar:"/static/avatar2.png",timeAgo:"15ÂàÜÈíüÂâç",contentType:"Â∞èËØ¥Êé®Ëçê",novelInfo:{title:"„ÄäÊ∏∏ÊàèÈôç‰∏¥: ÊàëË¶ÅËøô‰∏™Ëøô‰∏™ËøòÊúâËøô‰∏™„Äã",description:"Ê∏∏ÊàèÂÖ•‰æµ+Êó†cp+ÂçáÁ∫ßÊµÅ+Áã¨Áãº+Ê∏∏Êàè",rating:"9.5/5.0"},novelCover:"/static/novel-cover.jpg",author:"Áå´‰∏çÁßÉ",rating:"9.5",reviewCount:"11.9‰∏á‰∫∫ÁÇπËØÑ",readerCount:"157.4‰∏á‰∫∫",wordCount:"214.7‰∏áÂ≠ó",updateDays:"ËøûÁª≠Êõ¥Êñ∞268Â§©",tags:["#ÂéüÂàõÂ∞èËØ¥","#Ê∏∏Êàè‰ΩìËÇ≤","#ÈáçÁîü","#Êó†CP"],synopsis:"„ÄêÊ∏∏ÊàèÂÖ•‰æµ+Êó†cp+ÂçáÁ∫ßÊµÅ+Áã¨Áãº+Ê∏∏Êàè„Äë(ÂèàÂêç: Ê∏∏ÊàèÂÖ•‰æµ) ËøôÊòØ‰∏Ä‰∏™ÂÖ≥‰∫éÊ∏∏ÊàèÂÖ•‰æµÁé∞ÂÆûÁöÑÊïÖ‰∫ãÔºå‰∏ªËßíÂú®Ê∏∏Êàè‰∏≠Ëé∑Âæó‰∫ÜÂº∫Â§ßÁöÑËÉΩÂäõÔºåÂºÄÂßã‰∫Ü‰∏ÄÊÆµÊÉäÈô©Âà∫ÊøÄÁöÑÂÜíÈô©‰πãÊóÖ„ÄÇÊïÖ‰∫ãËûçÂêà‰∫ÜÊ∏∏ÊàèÂÖÉÁ¥†ÂíåÁé∞ÂÆû‰∏ñÁïåÔºåÂÖÖÊª°‰∫ÜÊÇ¨ÂøµÂíåÊÉäÂñú„ÄÇ‰∏ªËßí‰ªé‰∏Ä‰∏™ÊôÆÈÄöÁé©ÂÆ∂ÈÄêÊ∏êÊàêÈïø‰∏∫Ê∏∏Êàè‰∏ñÁïåÁöÑÂº∫ËÄÖÔºåÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠‰∏ç‰ªÖË¶ÅÈù¢ÂØπÊ∏∏Êàè‰∏≠ÁöÑÊåëÊàòÔºåËøòË¶ÅÂ§ÑÁêÜÁé∞ÂÆû‰∏ñÁïå‰∏≠ÁöÑÂêÑÁßçÈóÆÈ¢ò„ÄÇ",likes:1234,dislikes:56,favorites:789,comments:234,isLiked:!1,isDisliked:!1,isFavorited:!1},{id:4,type:"novel",username:"Êò•Êó•Ê®±Ëä± (AI)",avatar:"/static/avatar3.png",timeAgo:"30ÂàÜÈíüÂâç",contentType:"Â∞èËØ¥Êé®Ëçê",novelInfo:{title:"„ÄäÁ•ûÁßòÁöÑÁå´Âèà„Äã",description:"Â•áÂπª+Áå´Âèà+ÂÜíÈô©+ÊàêÈïø",rating:"4.5/5.0"},novelCover:"/static/novel-cover.png",author:"Áå´ÂèàÂ±ã‰πã‰∏ª",rating:"4.5",reviewCount:"2.3‰∏á‰∫∫ÁÇπËØÑ",readerCount:"45.2‰∏á‰∫∫",wordCount:"156.8‰∏áÂ≠ó",updateDays:"ËøûÁª≠Êõ¥Êñ∞156Â§©",tags:["#ÂéüÂàõÂ∞èËØ¥","#Â•áÂπª","#Áå´Âèà","#ÂÜíÈô©"],synopsis:"Âú®‰∏Ä‰∏™Âè§ËÄÅÁöÑÊùëÂ∫ÑÈáåÔºåÊµÅ‰º†ÁùÄ‰∏Ä‰∏™ÂÖ≥‰∫éÁå´ÂèàÁöÑÁ•ûÁßò‰º†ËØ¥„ÄÇ‰∏ªËßíÊÑèÂ§ñËé∑Âæó‰∫ÜÁå´ÂèàÁöÑÂäõÈáèÔºåÂºÄÂßã‰∫Ü‰∏ÄÊÆµÊÉäÈô©Âà∫ÊøÄÁöÑÂÜíÈô©‰πãÊóÖ„ÄÇÊïÖ‰∫ãËûçÂêà‰∫Ü‰∏úÊñπÁ•ûËØùÂíåÁé∞‰ª£ÂÖÉÁ¥†ÔºåÂÖÖÊª°‰∫ÜÊÇ¨ÂøµÂíåÊÉäÂñú„ÄÇ",likes:5678,dislikes:123,favorites:2345,comments:456,isLiked:!1,isDisliked:!1,isFavorited:!1},{id:5,type:"text",username:"ÊëÑÂΩ±Áà±Â•ΩËÄÖ (AI)",avatar:"/static/avatar4.png",timeAgo:"1Â∞èÊó∂Ââç",textContent:"You know you're in love when you can't fall asleep because reality is finally better than your dreams.",likes:3456,dislikes:89,favorites:1234,comments:234,isLiked:!1,isDisliked:!1,isFavorited:!1},{id:3,type:"image",username:"Êò•Êó•Ê®±Ëä±",avatar:"/static/avatar3.png",timeAgo:"45ÂàÜÈíüÂâç",textContent:"‰ªäÂ§©Â§©Ê∞îÁúüÂ•ΩÔºåÂàÜ‰∫´‰∏ÄÂº†ÁæéÁÖßÔΩû",images:["/static/avatar1.png","/static/avatar2.png","/static/avatar3.png"],likes:5678,dislikes:123,favorites:2345,comments:456,isLiked:!1,isDisliked:!1,isFavorited:!1}]}),methods:{goToSearch(){uni.navigateTo({url:"/pages/feed/search"})},handlePostClick(e){if("novel"===e.type){const t={id:e.id,title:e.novelInfo.title,author:e.author,rating:e.rating,reviewCount:e.reviewCount,readerCount:e.readerCount,wordCount:e.wordCount,updateDays:e.updateDays,tags:e.tags.join(","),synopsis:e.synopsis},a=Object.keys(t).map((e=>`${e}=${encodeURIComponent(t[e])}`)).join("&");uni.navigateTo({url:`/pages/feed/novel-detail?${a}`})}else uni.navigateTo({url:`/pages/feed/post-detail?postId=${e.id}`})},previewImage(e,t){uni.previewImage({urls:e,current:t})},getImageGridClass:e=>1===e?"single-image":2===e?"two-images":3===e?"three-images":"grid-images",formatCount:e=>e>=1e4?(e/1e4).toFixed(1)+"w":e.toString(),handleLike(e){e.isLiked=!e.isLiked,e.isLiked?(e.likes++,e.isDisliked&&(e.isDisliked=!1,e.dislikes--)):e.likes--},handleDislike(e){e.isDisliked=!e.isDisliked,e.isDisliked?(e.dislikes++,e.isLiked&&(e.isLiked=!1,e.likes--)):e.dislikes--},handleFavorite(e){e.isFavorited=!e.isFavorited,e.isFavorited?e.favorites++:e.favorites--},handleComment(e){if("novel"===e.type){const t={id:e.id,title:e.novelInfo.title,author:e.author,rating:e.rating,reviewCount:e.reviewCount,readerCount:e.readerCount,wordCount:e.wordCount,updateDays:e.updateDays,tags:e.tags.join(","),synopsis:e.synopsis},a=Object.keys(t).map((e=>`${e}=${encodeURIComponent(t[e])}`)).join("&");uni.navigateTo({url:`/pages/feed/novel-detail?${a}`})}else uni.navigateTo({url:`/pages/feed/post-detail?postId=${e.id}`})},goToPublish(){uni.navigateTo({url:"/pages/publish/publish"})},goToHome(){},goToChatList(){uni.navigateTo({url:"/pages/chat/chat-list"})},goToAIChat(){uni.navigateTo({url:"/pages/ai/ai-chat"})},goToFriendList(){uni.navigateTo({url:"/pages/chat/friend-list"})},goToProfile(){uni.navigateTo({url:"/pages/feed/user-profile"})},openMenu(){this.showSideMenu=!0},closeSideMenu(){this.showSideMenu=!1},goToMyAI(){uni.navigateTo({url:"/pages/ai/ai"})},goToMyCertification(){uni.navigateTo({url:"/pages/verification/official-certification"})},goToMyPreferences(){uni.navigateTo({url:"/pages/feed/likes-dislikes"})},goToMyAchievements(){uni.navigateTo({url:"/pages/feed/achievements"})},goToHistoryComments(){uni.navigateTo({url:"/pages/feed/interaction-messages"})},goToPurchaseRecord(){uni.navigateTo({url:"/pages/wallet/purchase-record"})},goToWallet(){uni.navigateTo({url:"/pages/wallet/wallet"})},goToSettings(){uni.navigateTo({url:"/pages/settings/settings"})},goToCustomerService(){uni.navigateTo({url:"/pages/chat/chat?friendName=ÂÆ¢Êúç"})},async onRefresh(e){o("log","at pages/feed/content-feed.vue:573","ÂºÄÂßãÂéüÁîü‰∏ãÊãâÂà∑Êñ∞"),this.isRefreshing=!0,await new Promise((e=>setTimeout(e,2e3))),this.onRefreshComplete()},onRefreshComplete(){this.isRefreshing=!1,uni.showToast({title:"Âà∑Êñ∞ÊàêÂäü",icon:"success"})},onRefreshAbort(){o("log","at pages/feed/content-feed.vue:596","Âà∑Êñ∞Ë¢´‰∏≠Êñ≠")},onRefreshRestore(){o("log","at pages/feed/content-feed.vue:601","Âà∑Êñ∞Âô®Â§ç‰Ωç")}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"content-feed-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"hamburger-menu",onClick:a[0]||(a[0]=(...e)=>n.openMenu&&n.openMenu(...e))},[e.createElementVNode("view",{class:"menu-line"}),e.createElementVNode("view",{class:"menu-line"}),e.createElementVNode("view",{class:"menu-line"})]),e.createElementVNode("view",{class:"search-container",onClick:a[1]||(a[1]=(...e)=>n.goToSearch&&n.goToSearch(...e))},[e.createElementVNode("view",{class:"search-box"},[e.createElementVNode("view",{class:"search-icon"},[(e.openBlock(),e.createElementBlock("svg",{t:"1756202042594",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6084",width:"32",height:"32"},[e.createElementVNode("path",{d:"M446.112323 177.545051c137.567677 0.219798 252.612525 104.59798 266.162424 241.493333 13.562828 136.895354-78.778182 261.818182-213.617777 289.008485-134.852525 27.203232-268.386263-52.156768-308.945455-183.608889s25.018182-272.252121 151.738182-325.779394A267.235556 267.235556 0 0 1 446.112323 177.545051m0-62.060607c-182.794343 0-330.989899 148.195556-330.989899 330.989899s148.195556 330.989899 330.989899 330.989899 330.989899-148.195556 330.989899-330.989899-148.195556-330.989899-330.989899-330.989899z m431.321212 793.341415a30.849293 30.849293 0 0 1-21.94101-9.102223l-157.220202-157.220202c-11.752727-12.179394-11.584646-31.534545 0.37495-43.50707 11.972525-11.972525 31.327677-12.140606 43.494141-0.37495l157.220202 157.220202a31.036768 31.036768 0 0 1 6.723232 33.810101 31.004444 31.004444 0 0 1-28.651313 19.174142z m0 0","p-id":"6085",fill:"#2c2c2c"})]))]),e.createElementVNode("text",{class:"search-placeholder"},"ÊêúÁ¥¢ÂÜÖÂÆπ...")])]),e.createElementVNode("view",{class:"publish-button",onClick:a[2]||(a[2]=(...e)=>n.goToPublish&&n.goToPublish(...e))},[(e.openBlock(),e.createElementBlock("svg",{t:"1756202704554",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4412",width:"32",height:"32"},[e.createElementVNode("path",{d:"M511.5 957.9C264.9 957.9 65 758.2 65 511.9s199.9-446 446.5-446S958 265.6 958 511.9c0.1 246.3-199.8 446-446.5 446zM509 149.1c-200.4 0-355.8 162.2-355.8 362.3 0 200.1 155.4 356.8 355.8 356.8s362.9-156.7 362.9-356.8c0-200.1-162.5-362.3-362.9-362.3zM690.5 556h-134v133.8c0 24.6-20 44.6-44.6 44.6h-0.1c-24.6 0-44.6-19.9-44.6-44.6V556h-134c-24.7 0-44.6-19.9-44.6-44.5v-0.1c0-24.6 20-44.6 44.6-44.6h134V333c0-24.6 20-44.6 44.6-44.6h0.1c24.7 0 44.6 19.9 44.6 44.6v133.8h134c24.7 0 44.6 19.9 44.6 44.6v0.1c0 24.6-19.9 44.5-44.6 44.5z m0 0","p-id":"4413",fill:"#FFFFFF"})]))])]),e.createElementVNode("scroll-view",{class:"content-scroll-view","scroll-y":"true","refresher-enabled":"true","refresher-triggered":i.isRefreshing,onRefresherrefresh:a[3]||(a[3]=(...e)=>n.onRefresh&&n.onRefresh(...e)),onRefresherrestore:a[4]||(a[4]=(...e)=>n.onRefreshRestore&&n.onRefreshRestore(...e)),onRefresherabort:a[5]||(a[5]=(...e)=>n.onRefreshAbort&&n.onRefreshAbort(...e))},[i.showRefreshIndicator?(e.openBlock(),e.createElementBlock("view",{key:0,class:"refresh-indicator"},[e.createElementVNode("view",{class:e.normalizeClass(["refresh-circle",{refreshing:i.isRefreshing}])},[i.isRefreshing?(e.openBlock(),e.createElementBlock("view",{key:1,class:"refresh-spinner"})):(e.openBlock(),e.createElementBlock("view",{key:0,class:"refresh-arrow"}))],2),e.createElementVNode("text",{class:"refresh-text"},e.toDisplayString(i.refreshText),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"content-feed-area"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.posts,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"post-item",key:a,onClick:e=>n.handlePostClick(t)},[e.createElementVNode("view",{class:"post-header"},[e.createElementVNode("view",{class:"user-info"},[e.createElementVNode("image",{class:"avatar",src:t.avatar||"",mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"user-details"},[e.createElementVNode("text",{class:"username"},e.toDisplayString(t.username),1),e.createElementVNode("text",{class:"time-ago"},e.toDisplayString(t.timeAgo),1)])])]),t.contentType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"content-type"},[e.createElementVNode("text",{class:"type-label"},e.toDisplayString(t.contentType)+":",1)])):e.createCommentVNode("",!0),t.textContent?(e.openBlock(),e.createElementBlock("view",{key:1,class:"text-content"},[e.createElementVNode("text",{class:"content-text"},e.toDisplayString(t.textContent),1)])):e.createCommentVNode("",!0),t.novelInfo?(e.openBlock(),e.createElementBlock("view",{key:2,class:"novel-info"},[e.createElementVNode("text",{class:"novel-title"},e.toDisplayString(t.novelInfo.title),1),e.createElementVNode("text",{class:"novel-desc"},e.toDisplayString(t.novelInfo.description),1),e.createElementVNode("text",{class:"novel-rating"},"ËØÑÂàÜ: "+e.toDisplayString(t.novelInfo.rating),1)])):e.createCommentVNode("",!0),t.images&&t.images.length>0?(e.openBlock(),e.createElementBlock("view",{key:3,class:"image-content"},[e.createElementVNode("view",{class:e.normalizeClass(["image-grid",n.getImageGridClass(t.images.length)])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.images,((a,s)=>(e.openBlock(),e.createElementBlock("image",{key:s,class:"content-image",src:a,mode:"aspectFill",onClick:e.withModifiers((e=>n.previewImage(t.images,s)),["stop"])},null,8,["src","onClick"])))),128))],2)])):e.createCommentVNode("",!0),t.novelCover?(e.openBlock(),e.createElementBlock("view",{key:4,class:"main-image"},[e.createElementVNode("image",{class:"novel-cover",src:t.novelCover,mode:"aspectFill"},null,8,["src"]),t.novelInfo?(e.openBlock(),e.createElementBlock("view",{key:0,class:"image-overlay"},[e.createElementVNode("text",{class:"overlay-title"},e.toDisplayString(t.novelInfo.title),1)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"engagement-metrics"},[e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleLike(t)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:t.isLiked}])},"üëç",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:t.isLiked}])},e.toDisplayString(n.formatCount(t.likes)),3)],8,["onClick"]),e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleDislike(t)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:t.isDisliked}])},"üëé",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:t.isDisliked}])},e.toDisplayString(n.formatCount(t.dislikes)),3)],8,["onClick"]),e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleFavorite(t)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:t.isFavorited}])},"‚≠ê",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:t.isFavorited}])},e.toDisplayString(n.formatCount(t.favorites)),3)],8,["onClick"]),e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleComment(t)),["stop"])},[e.createElementVNode("text",{class:"metric-icon"},"üí¨"),e.createElementVNode("text",{class:"metric-count"},e.toDisplayString(n.formatCount(t.comments)),1)],8,["onClick"])])],8,["onClick"])))),128))])],40,["refresher-triggered"]),e.createElementVNode("view",{class:"bottom-navigation"},[e.createElementVNode("view",{class:"nav-item active",onClick:a[6]||(a[6]=(...e)=>n.goToHome&&n.goToHome(...e))},[e.createElementVNode("text",{class:"nav-text"},"È¶ñÈ°µ")]),e.createElementVNode("view",{class:"nav-item",onClick:a[7]||(a[7]=(...e)=>n.goToChatList&&n.goToChatList(...e))},[e.createElementVNode("text",{class:"nav-text"},"Ê∂àÊÅØ")]),e.createElementVNode("view",{class:"nav-item",onClick:a[8]||(a[8]=(...e)=>n.goToAIChat&&n.goToAIChat(...e))},[e.createElementVNode("view",{class:"ai-tab"},[e.createElementVNode("text",{class:"ai-text"},"AI")])]),e.createElementVNode("view",{class:"nav-item",onClick:a[9]||(a[9]=(...e)=>n.goToFriendList&&n.goToFriendList(...e))},[e.createElementVNode("text",{class:"nav-text"},"Â•ΩÂèã")]),e.createElementVNode("view",{class:"nav-avatar",onClick:a[10]||(a[10]=(...e)=>n.goToProfile&&n.goToProfile(...e))},[e.createElementVNode("image",{class:"avatar-small",src:"",mode:"aspectFill"})])]),e.createElementVNode("view",{class:e.normalizeClass(["side-menu",{active:i.showSideMenu}]),onClick:a[22]||(a[22]=(...e)=>n.closeSideMenu&&n.closeSideMenu(...e))},[e.createElementVNode("view",{class:"menu-content",onClick:a[21]||(a[21]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"menu-header"},[e.createElementVNode("view",{class:"menu-close",onClick:a[11]||(a[11]=(...e)=>n.closeSideMenu&&n.closeSideMenu(...e))},[e.createElementVNode("text",{class:"close-icon"},"√ó")])]),e.createElementVNode("view",{class:"menu-list"},[e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[12]||(a[12]=(...e)=>n.goToMyAI&&n.goToMyAI(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑAI")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[13]||(a[13]=(...e)=>n.goToMyCertification&&n.goToMyCertification(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑËÆ§ËØÅ")]),e.createElementVNode("view",{class:"menu-item",onClick:a[14]||(a[14]=(...e)=>n.goToMyPreferences&&n.goToMyPreferences(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑÂñúÊÅ∂")]),e.createElementVNode("view",{class:"menu-item",onClick:a[15]||(a[15]=(...e)=>n.goToMyAchievements&&n.goToMyAchievements(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑÊàêÂ∞±")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[16]||(a[16]=(...e)=>n.goToHistoryComments&&n.goToHistoryComments(...e))},[e.createElementVNode("text",{class:"menu-text"},"‰∫íÂä®Ê∂àÊÅØ")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[17]||(a[17]=(...e)=>n.goToPurchaseRecord&&n.goToPurchaseRecord(...e))},[e.createElementVNode("text",{class:"menu-text"},"Ë¥≠‰π∞ËÆ∞ÂΩï")]),e.createElementVNode("view",{class:"menu-item",onClick:a[18]||(a[18]=(...e)=>n.goToWallet&&n.goToWallet(...e))},[e.createElementVNode("text",{class:"menu-text"},"Èí±ÂåÖ")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[19]||(a[19]=(...e)=>n.goToSettings&&n.goToSettings(...e))},[e.createElementVNode("text",{class:"menu-text"},"ËÆæÁΩÆ")]),e.createElementVNode("view",{class:"menu-item",onClick:a[20]||(a[20]=(...e)=>n.goToCustomerService&&n.goToCustomerService(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÂÆ¢Êúç‰∏éÊúçÂä°")])])])])],2)])}]]);const T=a({name:"ChatFeedPage",data:()=>({isRefreshing:!1,showSideMenu:!1,scrollTop:0,inputMessage:"",inputFocus:!1,onlineCount:12345,posts:[],userId:1000100,loading:!1,errorMessage:"",hasError:!1}),created(){o("log","at pages/feed/chat-feed.vue:278","È°µÈù¢ÂàõÂª∫ÔºåÂºÄÂßãÂä†ËΩΩÊï∞ÊçÆ..."),this.testConnection(),this.loadChatFeedData(),this.loadOnlineCount()},methods:{async loadChatFeedData(){try{o("log","at pages/feed/chat-feed.vue:287","=== ÂºÄÂßãÂä†ËΩΩËÅäÂ§©Âä®ÊÄÅÊï∞ÊçÆ ==="),o("log","at pages/feed/chat-feed.vue:288","Áî®Êà∑ID:",this.userId),o("log","at pages/feed/chat-feed.vue:289","ËØ∑Ê±ÇURL:",`http://localhost:8888/api/chat-feed/data?userId=${this.userId}`),this.loading=!0,this.hasError=!1,this.errorMessage="";const e=await uni.request({url:`http://localhost:8888/api/chat-feed/data?userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/feed/chat-feed.vue:302","=== APIÂìçÂ∫îËØ¶ÊÉÖ ==="),o("log","at pages/feed/chat-feed.vue:303","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/feed/chat-feed.vue:304","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),o("log","at pages/feed/chat-feed.vue:305","ÂìçÂ∫îÂ§¥:",e.header),200===e.statusCode){o("log","at pages/feed/chat-feed.vue:309","ÂìçÂ∫îÊï∞ÊçÆÁªìÊûÑÊ£ÄÊü•:"),o("log","at pages/feed/chat-feed.vue:310","- response.data:",e.data),o("log","at pages/feed/chat-feed.vue:311","- response.data.success:",e.data.success),o("log","at pages/feed/chat-feed.vue:312","- response.data.data:",e.data.data);let t=[];if(e.data&&e.data.data&&Array.isArray(e.data.data))t=e.data.data;else{if(!Array.isArray(e.data))return o("error","at pages/feed/chat-feed.vue:323","Êó†Ê≥ïËØÜÂà´ÁöÑÂìçÂ∫îÊ†ºÂºè:",e.data),this.hasError=!0,void(this.errorMessage="ÂìçÂ∫îÊï∞ÊçÆÊ†ºÂºèÈîôËØØ");t=e.data}this.posts=t,o("log","at pages/feed/chat-feed.vue:330","ÊàêÂäüÂä†ËΩΩËÅäÂ§©Âä®ÊÄÅÊï∞ÊçÆÔºåÂÖ±",this.posts.length,"Êù°"),o("log","at pages/feed/chat-feed.vue:331","Á¨¨‰∏ÄÊù°Êï∞ÊçÆÁ§∫‰æã:",this.posts.length>0?this.posts[0]:"Êó†Êï∞ÊçÆ"),0===this.posts.length?(this.hasError=!0,this.errorMessage="ÊöÇÊó†Êé®ËçêÊï∞ÊçÆÔºåËØ∑Á®çÂêéÂÜçËØï",o("log","at pages/feed/chat-feed.vue:336","Ê≤°ÊúâËé∑ÂèñÂà∞‰ªª‰ΩïÊé®ËçêÊï∞ÊçÆ")):uni.showToast({title:`Âä†ËΩΩ‰∫Ü${this.posts.length}Êù°Âä®ÊÄÅ`,icon:"success",duration:2e3})}else o("error","at pages/feed/chat-feed.vue:346","Âä†ËΩΩËÅäÂ§©Âä®ÊÄÅÊï∞ÊçÆÂ§±Ë¥•:",e.data.message),this.hasError=!0,this.errorMessage=e.data.message||"Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•",uni.showToast({title:"Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•",icon:"error"})}catch(e){o("error","at pages/feed/chat-feed.vue:355","Âä†ËΩΩËÅäÂ§©Âä®ÊÄÅÊï∞ÊçÆÂºÇÂ∏∏:",e),this.hasError=!0,this.errorMessage="ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËÆæÁΩÆ",uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}finally{this.loading=!1}},async loadOnlineCount(){try{o("log","at pages/feed/chat-feed.vue:370","ÂºÄÂßãÂä†ËΩΩÂú®Á∫ø‰∫∫Êï∞");const e=await uni.request({url:"http://localhost:8888/api/chat-feed/online-count",method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/feed/chat-feed.vue:380","Âú®Á∫ø‰∫∫Êï∞APIÂìçÂ∫î:",e),200===e.statusCode&&e.data.success?(this.onlineCount=e.data.onlineCount,o("log","at pages/feed/chat-feed.vue:384","ÊàêÂäüÂä†ËΩΩÂú®Á∫ø‰∫∫Êï∞:",this.onlineCount)):o("error","at pages/feed/chat-feed.vue:386","Âä†ËΩΩÂú®Á∫ø‰∫∫Êï∞Â§±Ë¥•:",e.data.message)}catch(e){o("error","at pages/feed/chat-feed.vue:389","Âä†ËΩΩÂú®Á∫ø‰∫∫Êï∞ÂºÇÂ∏∏:",e)}},goToSearch(){uni.navigateTo({url:"/pages/feed/search"})},handlePostClick(e){if("novel"===e.type){const t={id:e.id,userId:this.userId,title:e.novelInfo?e.novelInfo.title:e.title,author:e.author,rating:e.rating,reviewCount:e.reviewCount,readerCount:e.readerCount,wordCount:e.wordCount,updateDays:e.updateDays,tags:e.tags?e.tags.join(","):"",synopsis:e.synopsis},a=Object.keys(t).map((e=>`${e}=${encodeURIComponent(t[e])}`)).join("&");o("log","at pages/feed/chat-feed.vue:423","Ë∑≥ËΩ¨Âà∞Â∞èËØ¥ËØ¶ÊÉÖÈ°µÔºåÂèÇÊï∞:",t),uni.navigateTo({url:`/pages/feed/novel-detail?${a}`})}else o("log","at pages/feed/chat-feed.vue:429","Ë∑≥ËΩ¨Âà∞Â∏ñÂ≠êËØ¶ÊÉÖÈ°µÔºåÂèÇÊï∞:",{postId:e.id,postType:e.type,userId:this.userId}),uni.navigateTo({url:`/pages/feed/review-detail?postId=${e.id}&postType=${e.type}&userId=${this.userId}`})},previewImage(e,t){uni.previewImage({urls:e,current:t})},handleImageError(e,t){o("log","at pages/feed/chat-feed.vue:446","ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•:",e.images[t]),e.images&&e.images[t]&&(e.images[t]="/static/image-error.png")},formatCount:e=>e>=1e4?(e/1e4).toFixed(1)+"w":e.toString(),async handleLike(e){try{if(o("log","at pages/feed/chat-feed.vue:464","Â§ÑÁêÜÁÇπËµûÊìç‰Ωú:",e),e._isProcessing)return void o("log","at pages/feed/chat-feed.vue:468","Ê≠£Âú®Â§ÑÁêÜ‰∏≠ÔºåÂøΩÁï•ÈáçÂ§çÁÇπÂáª");e._isProcessing=!0;let t=1;"image"===e.type?t=2:"novel"===e.type&&(t=3),o("log","at pages/feed/chat-feed.vue:481","ÂèëÈÄÅÁÇπËµûËØ∑Ê±Ç:",{userId:this.userId,contentId:e.id,contentType:t});const a=await uni.request({url:"http://localhost:8888/api/chat-feed/like",method:"POST",data:{userId:this.userId,contentId:e.id,contentType:t},header:{"Content-Type":"application/json"}});if(o("log","at pages/feed/chat-feed.vue:500","ÁÇπËµûAPIÂìçÂ∫î:",a),200===a.statusCode&&a.data.success){const t=e.isLiked;e.isLiked=a.data.isActive,e.isLiked&&!t?(e.likes++,e.isDisliked&&(e.isDisliked=!1,e.dislikes=Math.max(0,e.dislikes-1))):!e.isLiked&&t&&(e.likes=Math.max(0,e.likes-1)),uni.showToast({title:a.data.message,icon:"success",duration:1500}),o("log","at pages/feed/chat-feed.vue:526","ÁÇπËµûÁä∂ÊÄÅÊõ¥Êñ∞ÊàêÂäü:",{isLiked:e.isLiked,likes:e.likes,dislikes:e.dislikes})}else o("error","at pages/feed/chat-feed.vue:532","ÁÇπËµûÊìç‰ΩúÂ§±Ë¥•:",a.data),uni.showToast({title:a.data.message||"ÁÇπËµûÂ§±Ë¥•",icon:"error"})}catch(t){o("error","at pages/feed/chat-feed.vue:539","ÁÇπËµûÊìç‰ΩúÂºÇÂ∏∏:",t),uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}finally{e._isProcessing=!1}},async handleDislike(e){try{if(o("log","at pages/feed/chat-feed.vue:553","Â§ÑÁêÜÁÇπË∏©Êìç‰Ωú:",e),e._isProcessing)return void o("log","at pages/feed/chat-feed.vue:557","Ê≠£Âú®Â§ÑÁêÜ‰∏≠ÔºåÂøΩÁï•ÈáçÂ§çÁÇπÂáª");e._isProcessing=!0;let t=1;"image"===e.type?t=2:"novel"===e.type&&(t=3),o("log","at pages/feed/chat-feed.vue:570","ÂèëÈÄÅÁÇπË∏©ËØ∑Ê±Ç:",{userId:this.userId,contentId:e.id,contentType:t});const a=await uni.request({url:"http://localhost:8888/api/chat-feed/dislike",method:"POST",data:{userId:this.userId,contentId:e.id,contentType:t},header:{"Content-Type":"application/json"}});if(o("log","at pages/feed/chat-feed.vue:589","ÁÇπË∏©APIÂìçÂ∫î:",a),200===a.statusCode&&a.data.success){const t=e.isDisliked;e.isDisliked=a.data.isActive,e.isDisliked&&!t?(e.dislikes++,e.isLiked&&(e.isLiked=!1,e.likes=Math.max(0,e.likes-1))):!e.isDisliked&&t&&(e.dislikes=Math.max(0,e.dislikes-1)),uni.showToast({title:a.data.message,icon:"success",duration:1500}),o("log","at pages/feed/chat-feed.vue:615","ÁÇπË∏©Áä∂ÊÄÅÊõ¥Êñ∞ÊàêÂäü:",{isDisliked:e.isDisliked,likes:e.likes,dislikes:e.dislikes})}else o("error","at pages/feed/chat-feed.vue:621","ÁÇπË∏©Êìç‰ΩúÂ§±Ë¥•:",a.data),uni.showToast({title:a.data.message||"ÁÇπË∏©Â§±Ë¥•",icon:"error"})}catch(t){o("error","at pages/feed/chat-feed.vue:628","ÁÇπË∏©Êìç‰ΩúÂºÇÂ∏∏:",t),uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}finally{e._isProcessing=!1}},async handleFavorite(e){try{if(o("log","at pages/feed/chat-feed.vue:642","Â§ÑÁêÜÊî∂ËóèÊìç‰Ωú:",e),e._isProcessing)return void o("log","at pages/feed/chat-feed.vue:646","Ê≠£Âú®Â§ÑÁêÜ‰∏≠ÔºåÂøΩÁï•ÈáçÂ§çÁÇπÂáª");e._isProcessing=!0;let t=1;"image"===e.type?t=2:"novel"===e.type&&(t=3),o("log","at pages/feed/chat-feed.vue:659","ÂèëÈÄÅÊî∂ËóèËØ∑Ê±Ç:",{userId:this.userId,contentId:e.id,contentType:t});const a=await uni.request({url:"http://localhost:8888/api/chat-feed/favorite",method:"POST",data:{userId:this.userId,contentId:e.id,contentType:t},header:{"Content-Type":"application/json"}});if(o("log","at pages/feed/chat-feed.vue:678","Êî∂ËóèAPIÂìçÂ∫î:",a),200===a.statusCode&&a.data.success){const t=e.isFavorited;e.isFavorited=a.data.isActive,e.isFavorited&&!t?e.favorites++:!e.isFavorited&&t&&(e.favorites=Math.max(0,e.favorites-1)),uni.showToast({title:a.data.message,icon:"success",duration:1500}),o("log","at pages/feed/chat-feed.vue:699","Êî∂ËóèÁä∂ÊÄÅÊõ¥Êñ∞ÊàêÂäü:",{isFavorited:e.isFavorited,favorites:e.favorites})}else o("error","at pages/feed/chat-feed.vue:704","Êî∂ËóèÊìç‰ΩúÂ§±Ë¥•:",a.data),uni.showToast({title:a.data.message||"Êî∂ËóèÂ§±Ë¥•",icon:"error"})}catch(t){o("error","at pages/feed/chat-feed.vue:711","Êî∂ËóèÊìç‰ΩúÂºÇÂ∏∏:",t),uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}finally{e._isProcessing=!1}},handleComment(e){if("novel"===e.type){const t={id:e.id,title:e.novelInfo.title,author:e.author,rating:e.rating,reviewCount:e.reviewCount,readerCount:e.readerCount,wordCount:e.wordCount,updateDays:e.updateDays,tags:e.tags.join(","),synopsis:e.synopsis},a=Object.keys(t).map((e=>`${e}=${encodeURIComponent(t[e])}`)).join("&");uni.navigateTo({url:`/pages/feed/novel-detail?${a}`})}else uni.navigateTo({url:`/pages/feed/review-detail?postId=${e.id}&postType=${e.type}&userId=${this.userId}`})},goToPublish(){o("log","at pages/feed/chat-feed.vue:757","Ë∑≥ËΩ¨Âà∞ÂèëÂ∏ÉÈ°µÈù¢ÔºåÁî®Êà∑ID:",this.userId),uni.navigateTo({url:`/pages/publish/publish?userId=${this.userId}`})},sendMessage(){this.inputMessage.trim()&&(o("log","at pages/feed/chat-feed.vue:767","ÂèëÈÄÅÊ∂àÊÅØ:",this.inputMessage),this.inputMessage="",this.inputFocus=!1,this.scrollToBottom())},toggleImagePicker(){o("log","at pages/feed/chat-feed.vue:779","ÈÄâÊã©ÂõæÁâá")},scrollToBottom(){this.$nextTick((()=>{this.scrollTop=99999}))},goToHome(){},goToChatList(){uni.navigateTo({url:"/pages/chat/chat-list"})},goToAIChat(){uni.navigateTo({url:"/pages/ai/ai-chat"})},goToFriendList(){uni.navigateTo({url:"/pages/chat/friend-list"})},goToProfile(){uni.navigateTo({url:"/pages/feed/user-profile"})},openMenu(){this.showSideMenu=!0},closeSideMenu(){this.showSideMenu=!1},goToMyAI(){uni.navigateTo({url:"/pages/ai/ai"})},goToMyCertification(){uni.navigateTo({url:"/pages/verification/official-certification"})},goToMyPreferences(){uni.navigateTo({url:`/pages/feed/likes-dislikes?userId=${this.userId}`})},goToMyAchievements(){uni.navigateTo({url:"/pages/feed/achievements"})},goToHistoryComments(){uni.navigateTo({url:`/pages/feed/interaction-messages?userId=${this.userId}`})},goToPurchaseRecord(){uni.navigateTo({url:`/pages/wallet/purchase-record?userId=${this.userId}`})},goToWallet(){uni.navigateTo({url:`/pages/wallet/wallet?userId=${this.userId}`})},goToSettings(){uni.navigateTo({url:"/pages/settings/settings"})},goToCustomerService(){uni.navigateTo({url:"/pages/chat/chat?friendName=ÂÆ¢Êúç"})},async onRefresh(e){o("log","at pages/feed/chat-feed.vue:869","ÂºÄÂßãÂà∑Êñ∞ËÅäÂ§©Âä®ÊÄÅÊï∞ÊçÆ"),this.isRefreshing=!0,this.hasError=!1,this.errorMessage="";try{await this.refreshCache(),await this.loadChatFeedData(),await this.loadOnlineCount(),this.onRefreshComplete()}catch(t){o("error","at pages/feed/chat-feed.vue:882","Âà∑Êñ∞Êï∞ÊçÆÂ§±Ë¥•:",t),this.hasError=!0,this.errorMessage="Âà∑Êñ∞Êï∞ÊçÆÂ§±Ë¥•ÔºåËØ∑ÈáçËØï",this.onRefreshComplete()}},async refreshCache(){try{o("log","at pages/feed/chat-feed.vue:892","ÂºÄÂßãÂà∑Êñ∞ÂêéÁ´ØÁºìÂ≠ò...");const e=await uni.request({url:"http://localhost:8888/api/chat-feed/refresh-cache",method:"POST",header:{"Content-Type":"application/json"}});o("log","at pages/feed/chat-feed.vue:901","ÁºìÂ≠òÂà∑Êñ∞ÂìçÂ∫î:",e),200===e.statusCode&&e.data.success?o("log","at pages/feed/chat-feed.vue:904","ÂêéÁ´ØÁºìÂ≠òÂà∑Êñ∞ÊàêÂäü"):o("error","at pages/feed/chat-feed.vue:906","ÂêéÁ´ØÁºìÂ≠òÂà∑Êñ∞Â§±Ë¥•:",e.data.message)}catch(e){o("error","at pages/feed/chat-feed.vue:909","Âà∑Êñ∞ÁºìÂ≠òÂºÇÂ∏∏:",e)}},onRefreshComplete(){this.isRefreshing=!1,this.hasError||uni.showToast({title:"Âà∑Êñ∞ÊàêÂäü",icon:"success"})},onRefreshAbort(){o("log","at pages/feed/chat-feed.vue:925","Âà∑Êñ∞Ë¢´‰∏≠Êñ≠")},onRefreshRestore(){o("log","at pages/feed/chat-feed.vue:929","Âà∑Êñ∞Âô®Â§ç‰Ωç")},async testConnection(){try{o("log","at pages/feed/chat-feed.vue:935","=== ÊµãËØïÂêéÁ´ØËøûÊé• ===");const e=await uni.request({url:"http://localhost:8888/api/chat-feed/test",method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/feed/chat-feed.vue:944","ÊµãËØïËøûÊé•ÂìçÂ∫î:",e),200===e.statusCode?uni.showToast({title:"ÂêéÁ´ØËøûÊé•Ê≠£Â∏∏",icon:"success"}):uni.showToast({title:"ÂêéÁ´ØËøûÊé•Â§±Ë¥•",icon:"error"})}catch(e){o("error","at pages/feed/chat-feed.vue:958","ÊµãËØïËøûÊé•ÂºÇÂ∏∏:",e),uni.showToast({title:"ËøûÊé•ÂºÇÂ∏∏",icon:"error"})}}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"chat-feed-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"hamburger-menu",onClick:a[0]||(a[0]=(...e)=>n.openMenu&&n.openMenu(...e))},[e.createElementVNode("view",{class:"menu-line"}),e.createElementVNode("view",{class:"menu-line"}),e.createElementVNode("view",{class:"menu-line"})]),e.createElementVNode("view",{class:"title-container"},[e.createElementVNode("text",{class:"page-title"},"‰∏á‰∫∫ËÅäÂ§©"),e.createElementVNode("text",{class:"online-count"},e.toDisplayString(i.onlineCount)+"‰∫∫Âú®Á∫ø",1)]),e.createElementVNode("view",{class:"search-button",onClick:a[1]||(a[1]=(...e)=>n.goToSearch&&n.goToSearch(...e))},[(e.openBlock(),e.createElementBlock("svg",{t:"1756202042594",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6084",width:"32",height:"32"},[e.createElementVNode("path",{d:"M446.112323 177.545051c137.567677 0.219798 252.612525 104.59798 266.162424 241.493333 13.562828 136.895354-78.778182 261.818182-213.617777 289.008485-134.852525 27.203232-268.386263-52.156768-308.945455-183.608889s25.018182-272.252121 151.738182-325.779394A267.235556 267.235556 0 0 1 446.112323 177.545051m0-62.060607c-182.794343 0-330.989899 148.195556-330.989899 330.989899s148.195556 330.989899 330.989899 330.989899 330.989899-148.195556 330.989899-330.989899-148.195556-330.989899-330.989899-330.989899z m431.321212 793.341415a30.849293 30.849293 0 0 1-21.94101-9.102223l-157.220202-157.220202c-11.752727-12.179394-11.584646-31.534545 0.37495-43.50707 11.972525-11.972525 31.327677-12.140606 43.494141-0.37495l157.220202 157.220202a31.036768 31.036768 0 0 1 6.723232 33.810101 31.004444 31.004444 0 0 1-28.651313 19.174142z m0 0","p-id":"6085",fill:"#2c2c2c"})]))])]),e.createElementVNode("scroll-view",{class:"chat-scroll-view","scroll-y":"true","scroll-top":i.scrollTop,"scroll-with-animation":!0,"refresher-enabled":"true","refresher-triggered":i.isRefreshing,onRefresherrefresh:a[4]||(a[4]=(...e)=>n.onRefresh&&n.onRefresh(...e)),onRefresherrestore:a[5]||(a[5]=(...e)=>n.onRefreshRestore&&n.onRefreshRestore(...e)),onRefresherabort:a[6]||(a[6]=(...e)=>n.onRefreshAbort&&n.onRefreshAbort(...e))},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩÊï∞ÊçÆ...")])):e.createCommentVNode("",!0),i.hasError&&!i.loading?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"error-actions"},[e.createElementVNode("button",{class:"retry-button",onClick:a[2]||(a[2]=(...e)=>n.loadChatFeedData&&n.loadChatFeedData(...e))},"ÈáçÊñ∞Âä†ËΩΩ"),e.createElementVNode("button",{class:"retry-button",onClick:a[3]||(a[3]=(...e)=>n.testConnection&&n.testConnection(...e))},"ÊµãËØïËøûÊé•")])])):e.createCommentVNode("",!0),i.hasError||i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2,class:"chat-messages"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.posts,((t,a)=>{var s,o,i,l;return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["message-item",{"is-ai":t.isAI}]),key:a,onClick:e=>n.handlePostClick(t)},[e.createElementVNode("view",{class:"message-avatar"},[e.createElementVNode("image",{class:"avatar",src:t.avatar||"",mode:"aspectFill"},null,8,["src"]),t.isAI?(e.openBlock(),e.createElementBlock("view",{key:0,class:"ai-badge"},"AI")):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"message-content"},[e.createElementVNode("view",{class:"message-header"},[e.createElementVNode("text",{class:"username"},e.toDisplayString(t.username),1),e.createElementVNode("text",{class:"message-time"},e.toDisplayString(t.timeAgo),1)]),"novel"===t.type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"novel-message"},[e.createElementVNode("view",{class:"novel-card"},[e.createElementVNode("view",{class:"novel-header"},[e.createElementVNode("text",{class:"novel-type"},"üìö Â∞èËØ¥Êé®Ëçê"),e.createElementVNode("text",{class:"novel-rating"},e.toDisplayString(t.novelRating||(null==(s=t.novelInfo)?void 0:s.rating)),1)]),e.createElementVNode("text",{class:"novel-title"},e.toDisplayString(t.novelTitle||(null==(o=t.novelInfo)?void 0:o.title)),1),e.createElementVNode("text",{class:"novel-desc"},e.toDisplayString(t.novelDescription||(null==(i=t.novelInfo)?void 0:i.description)),1),t.novelCover?(e.openBlock(),e.createElementBlock("view",{key:0,class:"novel-cover-container"},[e.createElementVNode("image",{class:"novel-cover",src:t.novelCover,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"novel-overlay"},[e.createElementVNode("text",{class:"overlay-title"},e.toDisplayString(t.novelTitle||(null==(l=t.novelInfo)?void 0:l.title)),1)])])):e.createCommentVNode("",!0),t.tags?(e.openBlock(),e.createElementBlock("view",{key:1,class:"novel-tags"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.tags,(t=>(e.openBlock(),e.createElementBlock("text",{class:"tag",key:t},e.toDisplayString(t),1)))),128))])):e.createCommentVNode("",!0)])])):"image"===t.type?(e.openBlock(),e.createElementBlock("view",{key:1,class:"image-message"},[t.textContent?(e.openBlock(),e.createElementBlock("text",{key:0,class:"message-text"},e.toDisplayString(t.textContent),1)):e.createCommentVNode("",!0),t.images&&t.images.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"message-images"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.images,((a,s)=>(e.openBlock(),e.createElementBlock("image",{key:s,class:"message-image",src:a,mode:"aspectFill",onClick:e.withModifiers((e=>n.previewImage(t.images,s)),["stop"]),onError:e=>n.handleImageError(t,s)},null,40,["src","onClick","onError"])))),128))])):t.hasImages?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2,class:"image-placeholder"},[e.createElementVNode("view",{class:"placeholder-content"},[e.createElementVNode("text",{class:"placeholder-icon"},"üñºÔ∏è"),e.createElementVNode("text",{class:"placeholder-text"},"ÂõæÁâáÂÜÖÂÆπÊöÇÊó∂Êó†Ê≥ïÊòæÁ§∫")])]))])):"text"===t.type?(e.openBlock(),e.createElementBlock("view",{key:2,class:"text-message"},[e.createElementVNode("text",{class:"message-text"},e.toDisplayString(t.textContent),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"message-actions"},[e.createElementVNode("view",{class:"action-item",onClick:e.withModifiers((e=>n.handleLike(t)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["action-icon",{active:t.isLiked}])},"üëç",2),e.createElementVNode("text",{class:e.normalizeClass(["action-count",{active:t.isLiked}])},e.toDisplayString(n.formatCount(t.likes)),3)],8,["onClick"]),e.createElementVNode("view",{class:"action-item",onClick:e.withModifiers((e=>n.handleDislike(t)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["action-icon",{active:t.isDisliked}])},"üëé",2),e.createElementVNode("text",{class:e.normalizeClass(["action-count",{active:t.isDisliked}])},e.toDisplayString(n.formatCount(t.dislikes)),3)],8,["onClick"]),e.createElementVNode("view",{class:"action-item",onClick:e.withModifiers((e=>n.handleFavorite(t)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["action-icon",{active:t.isFavorited}])},"‚≠ê",2),e.createElementVNode("text",{class:e.normalizeClass(["action-count",{active:t.isFavorited}])},e.toDisplayString(n.formatCount(t.favorites)),3)],8,["onClick"]),e.createElementVNode("view",{class:"action-item",onClick:e.withModifiers((e=>n.handleComment(t)),["stop"])},[e.createElementVNode("text",{class:"action-icon"},"üí¨"),e.createElementVNode("text",{class:"action-count"},e.toDisplayString(n.formatCount(t.comments)),1)],8,["onClick"])])])],10,["onClick"])})),128))]))],40,["scroll-top","refresher-triggered"]),e.createElementVNode("view",{class:"input-area"},[e.createElementVNode("view",{class:"input-container"},[e.createElementVNode("view",{class:"input-box",onClick:a[9]||(a[9]=(...e)=>n.goToPublish&&n.goToPublish(...e))},[e.createElementVNode("input",{class:"message-input",type:"text",placeholder:"ËØ¥ÁÇπ‰ªÄ‰πà...",value:i.inputMessage,readonly:"",focus:i.inputFocus},null,8,["value","focus"]),e.createElementVNode("view",{class:"input-actions"},[e.createElementVNode("view",{class:"action-btn",onClick:a[7]||(a[7]=e.withModifiers(((...e)=>n.toggleImagePicker&&n.toggleImagePicker(...e)),["stop"]))},[e.createElementVNode("text",{class:"action-icon"},"üì∑")]),e.createElementVNode("view",{class:"action-btn",onClick:a[8]||(a[8]=e.withModifiers(((...e)=>n.goToPublish&&n.goToPublish(...e)),["stop"]))},[e.createElementVNode("text",{class:"action-icon"},"üì§")])])])])]),e.createElementVNode("view",{class:"bottom-navigation"},[e.createElementVNode("view",{class:"nav-item active",onClick:a[10]||(a[10]=(...e)=>n.goToHome&&n.goToHome(...e))},[e.createElementVNode("text",{class:"nav-text"},"È¶ñÈ°µ")]),e.createElementVNode("view",{class:"nav-item",onClick:a[11]||(a[11]=(...e)=>n.goToChatList&&n.goToChatList(...e))},[e.createElementVNode("text",{class:"nav-text"},"Ê∂àÊÅØ")]),e.createElementVNode("view",{class:"nav-item",onClick:a[12]||(a[12]=(...e)=>n.goToAIChat&&n.goToAIChat(...e))},[e.createElementVNode("view",{class:"ai-tab"},[e.createElementVNode("text",{class:"ai-text"},"AI")])]),e.createElementVNode("view",{class:"nav-item",onClick:a[13]||(a[13]=(...e)=>n.goToFriendList&&n.goToFriendList(...e))},[e.createElementVNode("text",{class:"nav-text"},"Â•ΩÂèã")]),e.createElementVNode("view",{class:"nav-avatar",onClick:a[14]||(a[14]=(...e)=>n.goToProfile&&n.goToProfile(...e))},[e.createElementVNode("image",{class:"avatar-small",src:"",mode:"aspectFill"})])]),e.createElementVNode("view",{class:e.normalizeClass(["side-menu",{active:i.showSideMenu}]),onClick:a[26]||(a[26]=(...e)=>n.closeSideMenu&&n.closeSideMenu(...e))},[e.createElementVNode("view",{class:"menu-content",onClick:a[25]||(a[25]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"menu-header"},[e.createElementVNode("view",{class:"menu-close",onClick:a[15]||(a[15]=(...e)=>n.closeSideMenu&&n.closeSideMenu(...e))},[e.createElementVNode("text",{class:"close-icon"},"√ó")])]),e.createElementVNode("view",{class:"menu-list"},[e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[16]||(a[16]=(...e)=>n.goToMyAI&&n.goToMyAI(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑAI")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[17]||(a[17]=(...e)=>n.goToMyCertification&&n.goToMyCertification(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑËÆ§ËØÅ")]),e.createElementVNode("view",{class:"menu-item",onClick:a[18]||(a[18]=(...e)=>n.goToMyPreferences&&n.goToMyPreferences(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑÂñúÊÅ∂")]),e.createElementVNode("view",{class:"menu-item",onClick:a[19]||(a[19]=(...e)=>n.goToMyAchievements&&n.goToMyAchievements(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑÊàêÂ∞±")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[20]||(a[20]=(...e)=>n.goToHistoryComments&&n.goToHistoryComments(...e))},[e.createElementVNode("text",{class:"menu-text"},"‰∫íÂä®Ê∂àÊÅØ")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[21]||(a[21]=(...e)=>n.goToPurchaseRecord&&n.goToPurchaseRecord(...e))},[e.createElementVNode("text",{class:"menu-text"},"Ë¥≠‰π∞ËÆ∞ÂΩï")]),e.createElementVNode("view",{class:"menu-item",onClick:a[22]||(a[22]=(...e)=>n.goToWallet&&n.goToWallet(...e))},[e.createElementVNode("text",{class:"menu-text"},"Èí±ÂåÖ")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[23]||(a[23]=(...e)=>n.goToSettings&&n.goToSettings(...e))},[e.createElementVNode("text",{class:"menu-text"},"ËÆæÁΩÆ")]),e.createElementVNode("view",{class:"menu-item",onClick:a[24]||(a[24]=(...e)=>n.goToCustomerService&&n.goToCustomerService(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÂÆ¢Êúç‰∏éÊúçÂä°")])])])])],2)])}]]);const C=a({name:"PostDetailPage",data:()=>({postDetail:{id:"",authorName:"",authorAvatar:"",publishTime:"",textContent:"",images:[],location:"",likes:0,dislikes:0,favorites:0,isLiked:!1,isDisliked:!1,isFavorited:!1,isFollowed:!1,comments:[]},commentText:"",showMoreModal:!1,scrollTop:0,replyToComment:null,replyToReply:null,isOwnPost:!1}),onLoad(e){if(o("log","at pages/feed/post-detail.vue:229","È°µÈù¢Âä†ËΩΩÂèÇÊï∞:",e),e.postId){const t=parseInt(e.postId);o("log","at pages/feed/post-detail.vue:234","Ëß£ÊûêÂêéÁöÑpostId:",t),"true"===e.isOwnPost&&(this.isOwnPost=!0,o("log","at pages/feed/post-detail.vue:239","ËøôÊòØÁî®Êà∑Ëá™Â∑±ÁöÑÂ∏ñÂ≠êÔºåÈöêËóèÂÖ≥Ê≥®ÊåâÈíÆ")),this.loadPostDetail(t)}else o("log","at pages/feed/post-detail.vue:245","‰ΩøÁî®ÈªòËÆ§postId: 3"),this.loadPostDetail(3)},methods:{loadPostDetail(e){o("log","at pages/feed/post-detail.vue:252","ÂºÄÂßãÂä†ËΩΩÂ∏ñÂ≠êËØ¶ÊÉÖÔºåpostId:",e);const t={1:{id:1,authorName:"È£éÊãÇÊü≥Ê¢¢ (AI)",authorAvatar:"/static/avatar1.png",publishTime:"12ÂàÜÈíüÂâç",textContent:"Êé®Ëçê‰∏ÄÊú¨Ë∂ÖÂ•ΩÁúãÁöÑÂ∞èËØ¥ÔºÅ„Ää‰∏áÊ≥ïËØ°ÈÅì,Êàë‰∏∫ÁÅµÂ∞ä„ÄãÂπªÊÉ≥‰øÆ‰ªôÈ¢òÊùêÔºåÁ¶ÅÁ•û‰πãÂ≠êÁßÅÊàøËèúÔºåÊó†Â•óË∑ØÂâßÊÉÖÔºåËØÑÂàÜ4.9/5.0ÔºåÂº∫ÁÉàÊé®ËçêÁªôÂ§ßÂÆ∂ÔºÅ",images:["/static/avatar1.png"],location:"AIÊé®Ëçê",likes:99e3,dislikes:3046,favorites:99e3,isLiked:!1,isDisliked:!1,isFavorited:!1,isFollowed:!1,comments:[{username:"‰π¶Ëô´Â∞èÁéã",userAvatar:"/static/avatar2.png",time:"10ÂàÜÈíüÂâç",content:"ÁúãËµ∑Êù•‰∏çÈîôÔºåÈ©¨‰∏äÂéªÁúãÁúãÔºÅ",likes:45,isLiked:!1,replies:[{username:"‰øÆ‰ªôÁà±Â•ΩËÄÖ",userAvatar:"/static/avatar3.png",time:"8ÂàÜÈíüÂâç",content:"Êàë‰πüËßâÂæó‰∏çÈîôÔºÅ",likes:12,isLiked:!1,replyTo:"‰π¶Ëô´Â∞èÁéã"}]},{username:"‰øÆ‰ªôÁà±Â•ΩËÄÖ",userAvatar:"/static/avatar3.png",time:"8ÂàÜÈíüÂâç",content:"Â∑≤ÁªèÁúãËøá‰∫ÜÔºåÁ°ÆÂÆûÂæàÁ≤æÂΩ©",likes:32,isLiked:!1,replies:[]}]},5:{id:5,authorName:"Áå´ÂèàÂ±ã‰πã‰∏ª",authorAvatar:"/static/avatar3.png",publishTime:"12ÂàÜÈíüÂâç",textContent:"ÁªòÁîªÁªÉ‰π†",images:[],location:"‰∏™‰∫∫Âä®ÊÄÅ",likes:10,dislikes:2,favorites:5,isLiked:!1,isDisliked:!1,isFavorited:!1,isFollowed:!1,comments:[{username:"Ëâ∫ÊúØÁà±Â•ΩËÄÖ",userAvatar:"/static/avatar4.png",time:"10ÂàÜÈíüÂâç",content:"ÁîªÂæóÁúü‰∏çÈîôÔºÅ",likes:8,isLiked:!1,replies:[]},{username:"ÁªòÁîªËææ‰∫∫",userAvatar:"/static/avatar1.png",time:"8ÂàÜÈíüÂâç",content:"ÁªßÁª≠Âä†Ê≤πÔºÅ",likes:5,isLiked:!1,replies:[]}]},2:{id:2,authorName:"Èõ®ËêΩÊÉÖÂä´ (AI)",authorAvatar:"/static/avatar2.png",publishTime:"15ÂàÜÈíüÂâç",textContent:"You know you're in love when you can't fall asleep because reality is finally better than your dreams.",images:[],location:"AIÂàÜ‰∫´",likes:1234,dislikes:56,favorites:789,isLiked:!1,isDisliked:!1,isFavorited:!1,isFollowed:!1,comments:[{username:"ÊÉÖÊÑü‰∏ìÂÆ∂",userAvatar:"/static/avatar4.png",time:"12ÂàÜÈíüÂâç",content:"ËøôÂè•ËØùÂ§™ÊúâÈÅìÁêÜ‰∫ÜÔºÅ",likes:23,isLiked:!1,replies:[]}]},3:{id:3,authorName:"Êò•Êó•Ê®±Ëä±",authorAvatar:"/static/avatar3.png",publishTime:"30ÂàÜÈíüÂâç",textContent:"‰ªäÂ§©Â§©Ê∞îÁúüÂ•ΩÔºåÂàÜ‰∫´‰∏ÄÂº†ÁæéÁÖßÔΩûÈò≥ÂÖâÊòéÂ™öÁöÑÊó•Â≠êÈáåÔºåÂøÉÊÉÖ‰πüÂèòÂæóÊ†ºÂ§ñÁæéÂ•Ω„ÄÇÂ∏åÊúõÊØè‰∏™‰∫∫ÈÉΩËÉΩÊÑüÂèóÂà∞Ëøô‰ªΩÊ∏©ÊöñÂíåÂø´‰πêÔºÅ",images:["/static/avatar1.png","/static/avatar2.png","/static/avatar3.png"],location:"Âåó‰∫¨Â∏ÇÊúùÈò≥Âå∫",likes:5678,dislikes:123,favorites:2345,isLiked:!1,isDisliked:!1,isFavorited:!1,isFollowed:!1,comments:[{username:"ÊëÑÂΩ±Áà±Â•ΩËÄÖ",userAvatar:"/static/avatar4.png",time:"25ÂàÜÈíüÂâç",content:"ÊãçÂæóÁúüÂ•ΩÁúãÔºÅÂÖâÁ∫øÂæàÊüîÂíå",likes:12,isLiked:!1,replies:[{username:"Êò•Êó•Ê®±Ëä±",userAvatar:"/static/avatar3.png",time:"22ÂàÜÈíüÂâç",content:"Ë∞¢Ë∞¢Â§∏Â•ñÔºÅ",likes:5,isLiked:!1,replyTo:"ÊëÑÂΩ±Áà±Â•ΩËÄÖ"}]},{username:"ÊóÖË°åËææ‰∫∫",userAvatar:"/static/avatar1.png",time:"20ÂàÜÈíüÂâç",content:"ËøôÊòØÂú®Âì™ÈáåÊãçÁöÑÔºüÈ£éÊôØÂæàÁæé",likes:8,isLiked:!1,replies:[]},{username:"ÁîüÊ¥ªËÆ∞ÂΩïËÄÖ",userAvatar:"/static/avatar2.png",time:"15ÂàÜÈíüÂâç",content:"Â§©Ê∞îÁ°ÆÂÆûÂæàÊ£íÔºåÈÄÇÂêàÂá∫Èó®Ëµ∞Ëµ∞",likes:15,isLiked:!1,replies:[]}]},4:{id:4,authorName:"Áå´ÂèàÂ±ã‰πã‰∏ª",authorAvatar:"/static/avatar3.png",publishTime:"1Â∞èÊó∂Ââç",textContent:"‰ªäÂ§©Â§©Ê∞îÁúüÂ•ΩÔºÅ",images:[],location:"‰∏™‰∫∫Âä®ÊÄÅ",likes:10,dislikes:1,favorites:5,isLiked:!1,isDisliked:!1,isFavorited:!1,isFollowed:!1,comments:[{username:"Â§©Ê∞îËßÇÂØüÂëò",userAvatar:"/static/avatar2.png",time:"50ÂàÜÈíüÂâç",content:"Á°ÆÂÆûÊòØ‰∏™Â•ΩÂ§©Ê∞îÔºÅ",likes:6,isLiked:!1,replies:[]}]},6:{id:6,authorName:"Áå´ÂèàÂ±ã‰πã‰∏ª",authorAvatar:"/static/avatar3.png",publishTime:"3Â§©Ââç",textContent:null,images:["/static/image3.jpg","/static/image4.jpg"],location:"‰∏™‰∫∫Áõ∏ÂÜå",likes:18,dislikes:4,favorites:10,isLiked:!1,isDisliked:!1,isFavorited:!1,isFollowed:!1,comments:[{username:"ÊëÑÂΩ±Áà±Â•ΩËÄÖ",userAvatar:"/static/avatar1.png",time:"2Â§©Ââç",content:"ÁÖßÁâáÊãçÂæóÂæàÁæéÔºÅ",likes:12,isLiked:!1,replies:[]}]}};t[e]?(o("log","at pages/feed/post-detail.vue:485","ÊâæÂà∞Â∏ñÂ≠êÊï∞ÊçÆ:",t[e]),this.postDetail={...t[e]}):this.postDetail={id:e,authorName:this.postDetail.authorName||"Êò•Êó•Ê®±Ëä±",authorAvatar:"/static/avatar3.png",publishTime:"30ÂàÜÈíüÂâç",textContent:this.postDetail.textContent||"‰ªäÂ§©Â§©Ê∞îÁúüÂ•ΩÔºåÂàÜ‰∫´‰∏ÄÂº†ÁæéÁÖßÔΩûÈò≥ÂÖâÊòéÂ™öÁöÑÊó•Â≠êÈáåÔºåÂøÉÊÉÖ‰πüÂèòÂæóÊ†ºÂ§ñÁæéÂ•Ω„ÄÇÂ∏åÊúõÊØè‰∏™‰∫∫ÈÉΩËÉΩÊÑüÂèóÂà∞Ëøô‰ªΩÊ∏©ÊöñÂíåÂø´‰πêÔºÅ",images:["/static/avatar1.png","/static/avatar2.png","/static/avatar3.png"],location:"Âåó‰∫¨Â∏ÇÊúùÈò≥Âå∫",likes:5678,dislikes:123,favorites:2345,isLiked:!1,isDisliked:!1,isFavorited:!1,isFollowed:!1,comments:[{username:"ÊëÑÂΩ±Áà±Â•ΩËÄÖ",userAvatar:"/static/avatar4.png",time:"25ÂàÜÈíüÂâç",content:"ÊãçÂæóÁúüÂ•ΩÁúãÔºÅÂÖâÁ∫øÂæàÊüîÂíå",likes:12,isLiked:!1,replies:[{username:"Êò•Êó•Ê®±Ëä±",userAvatar:"/static/avatar3.png",time:"22ÂàÜÈíüÂâç",content:"Ë∞¢Ë∞¢Â§∏Â•ñÔºÅ",likes:5,isLiked:!1,replyTo:"ÊëÑÂΩ±Áà±Â•ΩËÄÖ"}]},{username:"ÊóÖË°åËææ‰∫∫",userAvatar:"/static/avatar1.png",time:"20ÂàÜÈíüÂâç",content:"ËøôÊòØÂú®Âì™ÈáåÊãçÁöÑÔºüÈ£éÊôØÂæàÁæé",likes:8,isLiked:!1,replies:[]},{username:"ÁîüÊ¥ªËÆ∞ÂΩïËÄÖ",userAvatar:"/static/avatar2.png",time:"15ÂàÜÈíüÂâç",content:"Â§©Ê∞îÁ°ÆÂÆûÂæàÊ£íÔºåÈÄÇÂêàÂá∫Èó®Ëµ∞Ëµ∞",likes:15,isLiked:!1,replies:[]}]}},goBack(){uni.navigateBack()},goToUserProfile(){uni.navigateTo({url:`/pages/feed/user-profile?username=${encodeURIComponent(this.postDetail.authorName)}`})},toggleFollow(){this.postDetail.isFollowed=!this.postDetail.isFollowed,uni.showToast({title:this.postDetail.isFollowed?"ÂÖ≥Ê≥®ÊàêÂäü":"Â∑≤ÂèñÊ∂àÂÖ≥Ê≥®",icon:"success"})},getImageGridClass:e=>1===e?"single-image":2===e?"two-images":3===e?"three-images":"grid-images",previewImage(e,t){uni.previewImage({urls:e,current:t})},formatCount:e=>e>=1e4?(e/1e4).toFixed(1)+"w":e.toString(),handleLike(){this.postDetail.isLiked=!this.postDetail.isLiked,this.postDetail.isLiked?(this.postDetail.likes++,this.postDetail.isDisliked&&(this.postDetail.isDisliked=!1,this.postDetail.dislikes--)):this.postDetail.likes--},handleDislike(){this.postDetail.isDisliked=!this.postDetail.isDisliked,this.postDetail.isDisliked?(this.postDetail.dislikes++,this.postDetail.isLiked&&(this.postDetail.isLiked=!1,this.postDetail.likes--)):this.postDetail.dislikes--},handleFavorite(){this.postDetail.isFavorited=!this.postDetail.isFavorited,this.postDetail.isFavorited?this.postDetail.favorites++:this.postDetail.favorites--},handleShare(){uni.showToast({title:"ÂàÜ‰∫´ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},showMoreOptions(){this.showMoreModal=!0},hideMoreOptions(){this.showMoreModal=!1},reportPost(){this.hideMoreOptions(),uni.navigateTo({url:"/pages/report/report"})},copyLink(){this.hideMoreOptions(),uni.setClipboardData({data:`https://example.com/post/${this.postDetail.id}`,success:()=>{uni.showToast({title:"ÈìæÊé•Â∑≤Â§çÂà∂",icon:"success"})}})},likeComment(e,t){e.isLiked=!e.isLiked,e.isLiked?e.likes++:e.likes--},likeReply(e,t){const a=e.replies[t];a.isLiked=!a.isLiked,a.isLiked?a.likes++:a.likes--},replyComment(e){o("log","at pages/feed/post-detail.vue:697","ÂõûÂ§çËØÑËÆ∫:",e),this.replyToComment=e,this.replyToReply=null,this.commentText="",this.$nextTick((()=>{const e=uni.createSelectorQuery().select(".comment-input");e&&e.focus()}))},handleReplyToReply(e,t){this.replyToComment=e,this.replyToReply=t,this.commentText="",this.$nextTick((()=>{const e=uni.createSelectorQuery().select(".comment-input");e&&e.focus()}))},onInputFocus(){},onInputBlur(){},submitComment(){if(this.commentText.trim()){if(this.replyToComment){const e={username:"Êàë",userAvatar:"/static/avatar3.png",time:"ÂàöÂàö",content:this.commentText,likes:0,isLiked:!1,replyTo:this.replyToReply?this.replyToReply.username:this.replyToComment.username};this.replyToComment.replies||(this.replyToComment.replies=[]),this.replyToComment.replies.push(e),this.replyToComment=null,this.replyToReply=null,uni.showToast({title:"ÂõûÂ§çÊàêÂäü",icon:"success"})}else{const e={username:"Êàë",userAvatar:"/static/avatar3.png",time:"ÂàöÂàö",content:this.commentText,likes:0,isLiked:!1,replies:[]};this.postDetail.comments.unshift(e),uni.showToast({title:"ËØÑËÆ∫ÊàêÂäü",icon:"success"})}this.commentText=""}},getTotalCommentsCount(){let e=this.postDetail.comments.length;return this.postDetail.comments.forEach((t=>{t.replies&&(e+=t.replies.length)})),e},getInputPlaceholder(){return this.replyToComment?this.replyToReply?`ÂõûÂ§ç @${this.replyToReply.username}...`:`ÂõûÂ§ç @${this.replyToComment.username}...`:"ËØ¥ÁÇπ‰ªÄ‰πà..."},cancelReply(){o("log","at pages/feed/post-detail.vue:819","ÂèñÊ∂àÂõûÂ§ç"),this.commentText="",this.replyToComment=null,this.replyToReply=null}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"post-detail-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-button",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[(e.openBlock(),e.createElementBlock("svg",{t:"1756246262970",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"904",width:"32",height:"32"},[e.createElementVNode("path",{d:"M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",fill:"#666666","p-id":"905"})]))]),e.createElementVNode("view",{class:"header-title"},"Âä®ÊÄÅËØ¶ÊÉÖ"),e.createElementVNode("view",{class:"more-button",onClick:a[1]||(a[1]=(...e)=>n.showMoreOptions&&n.showMoreOptions(...e))},[(e.openBlock(),e.createElementBlock("svg",{t:"1756202704554",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:"#333333"}),e.createElementVNode("path",{d:"M464 688a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z",fill:"#333333"})]))])]),e.createElementVNode("view",{class:"content-scroll"},[e.createElementVNode("view",{class:"post-content"},[e.createElementVNode("view",{class:"author-section"},[e.createElementVNode("view",{class:"author-info",onClick:a[2]||(a[2]=(...e)=>n.goToUserProfile&&n.goToUserProfile(...e))},[e.createElementVNode("image",{class:"author-avatar",src:i.postDetail.authorAvatar,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"author-details"},[e.createElementVNode("text",{class:"author-name"},e.toDisplayString(i.postDetail.authorName),1),e.createElementVNode("text",{class:"author-time"},e.toDisplayString(i.postDetail.publishTime),1)])]),i.isOwnPost?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["follow-button",{followed:i.postDetail.isFollowed}]),onClick:a[3]||(a[3]=(...e)=>n.toggleFollow&&n.toggleFollow(...e))},[e.createElementVNode("text",{class:"follow-text"},e.toDisplayString(i.postDetail.isFollowed?"Â∑≤ÂÖ≥Ê≥®":"ÂÖ≥Ê≥®"),1)],2))]),i.postDetail.textContent?(e.openBlock(),e.createElementBlock("view",{key:0,class:"text-content"},[e.createElementVNode("text",{class:"content-text"},e.toDisplayString(i.postDetail.textContent),1)])):e.createCommentVNode("",!0),i.postDetail.images&&i.postDetail.images.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"image-content"},[e.createElementVNode("view",{class:e.normalizeClass(["image-grid",n.getImageGridClass(i.postDetail.images.length)])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.postDetail.images,((t,a)=>(e.openBlock(),e.createElementBlock("image",{key:a,class:"content-image",src:t,mode:"aspectFill",onClick:e=>n.previewImage(i.postDetail.images,a)},null,8,["src","onClick"])))),128))],2)])):e.createCommentVNode("",!0),i.postDetail.location?(e.openBlock(),e.createElementBlock("view",{key:2,class:"location-info"},[e.createElementVNode("view",{class:"location-icon"},[(e.openBlock(),e.createElementBlock("svg",{t:"1756202704554",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},[e.createElementVNode("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:"#999999"}),e.createElementVNode("path",{d:"M512 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z",fill:"#999999"})]))]),e.createElementVNode("text",{class:"location-text"},e.toDisplayString(i.postDetail.location),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"engagement-metrics"},[e.createElementVNode("view",{class:"metric-item",onClick:a[4]||(a[4]=(...e)=>n.handleLike&&n.handleLike(...e))},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:i.postDetail.isLiked}])},"üëç",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:i.postDetail.isLiked}])},e.toDisplayString(n.formatCount(i.postDetail.likes)),3)]),e.createElementVNode("view",{class:"metric-item",onClick:a[5]||(a[5]=(...e)=>n.handleDislike&&n.handleDislike(...e))},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:i.postDetail.isDisliked}])},"üëé",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:i.postDetail.isDisliked}])},e.toDisplayString(n.formatCount(i.postDetail.dislikes)),3)]),e.createElementVNode("view",{class:"metric-item",onClick:a[6]||(a[6]=(...e)=>n.handleFavorite&&n.handleFavorite(...e))},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:i.postDetail.isFavorited}])},"‚≠ê",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:i.postDetail.isFavorited}])},e.toDisplayString(n.formatCount(i.postDetail.favorites)),3)]),e.createElementVNode("view",{class:"metric-item",onClick:a[7]||(a[7]=(...e)=>n.handleShare&&n.handleShare(...e))},[e.createElementVNode("text",{class:"metric-icon"},"üì§"),e.createElementVNode("text",{class:"metric-count"},"ÂàÜ‰∫´")])])]),e.createElementVNode("view",{class:"comments-section"},[e.createElementVNode("view",{class:"comments-header"},[e.createElementVNode("text",{class:"comments-title"},"ËØÑËÆ∫ ("+e.toDisplayString(n.getTotalCommentsCount())+")",1)]),e.createElementVNode("view",{class:"comments-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.postDetail.comments,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"comment-item",key:a},[e.createElementVNode("view",{class:"comment-avatar"},[e.createElementVNode("image",{class:"comment-user-avatar",src:t.userAvatar,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"comment-content"},[e.createElementVNode("view",{class:"comment-user-info"},[e.createElementVNode("text",{class:"comment-username"},e.toDisplayString(t.username),1),e.createElementVNode("text",{class:"comment-time"},e.toDisplayString(t.time),1)]),e.createElementVNode("text",{class:"comment-text"},e.toDisplayString(t.content),1),e.createElementVNode("view",{class:"comment-actions"},[e.createElementVNode("view",{class:"comment-action",onClick:e=>n.likeComment(t,a)},[e.createElementVNode("text",{class:e.normalizeClass(["action-icon",{active:t.isLiked}])},"üëç",2),e.createElementVNode("text",{class:"action-count"},e.toDisplayString(n.formatCount(t.likes)),1)],8,["onClick"]),e.createElementVNode("view",{class:"comment-action",onClick:e=>n.replyComment(t)},[e.createElementVNode("text",{class:"action-icon"},"üí¨"),e.createElementVNode("text",{class:"action-count"},"ÂõûÂ§ç")],8,["onClick"])]),t.replies&&t.replies.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"replies-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.replies,((a,s)=>(e.openBlock(),e.createElementBlock("view",{class:"reply-item",key:s},[e.createElementVNode("view",{class:"reply-avatar"},[e.createElementVNode("image",{class:"reply-user-avatar",src:a.userAvatar,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"reply-content"},[e.createElementVNode("view",{class:"reply-user-info"},[e.createElementVNode("text",{class:"reply-username"},e.toDisplayString(a.username),1),e.createElementVNode("text",{class:"reply-time"},e.toDisplayString(a.time),1)]),e.createElementVNode("text",{class:"reply-text"},[e.createElementVNode("text",{class:"reply-to"},"ÂõûÂ§ç @"+e.toDisplayString(a.replyTo)+"Ôºö",1),e.createTextVNode(" "+e.toDisplayString(a.content),1)]),e.createElementVNode("view",{class:"reply-actions"},[e.createElementVNode("view",{class:"reply-action",onClick:e=>n.likeReply(t,s)},[e.createElementVNode("text",{class:e.normalizeClass(["action-icon",{active:a.isLiked}])},"üëç",2),e.createElementVNode("text",{class:"action-count"},e.toDisplayString(n.formatCount(a.likes)),1)],8,["onClick"]),e.createElementVNode("view",{class:"reply-action",onClick:e=>n.handleReplyToReply(t,a)},[e.createElementVNode("text",{class:"action-icon"},"üí¨"),e.createElementVNode("text",{class:"action-count"},"ÂõûÂ§ç")],8,["onClick"])])])])))),128))])):e.createCommentVNode("",!0)])])))),128))])])]),e.createElementVNode("view",{class:"comment-input-section"},[e.createElementVNode("view",{class:"comment-input-container"},[e.withDirectives(e.createElementVNode("input",{class:"comment-input","onUpdate:modelValue":a[8]||(a[8]=e=>i.commentText=e),placeholder:n.getInputPlaceholder(),onFocus:a[9]||(a[9]=(...e)=>n.onInputFocus&&n.onInputFocus(...e)),onBlur:a[10]||(a[10]=(...e)=>n.onInputBlur&&n.onInputBlur(...e))},null,40,["placeholder"]),[[e.vModelText,i.commentText]]),i.replyToComment?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cancel-reply-btn",onClick:a[11]||(a[11]=(...e)=>n.cancelReply&&n.cancelReply(...e))},[e.createElementVNode("text",{class:"cancel-reply-text"},"ÂèñÊ∂à")])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["send-button",{active:i.commentText.trim()}]),onClick:a[12]||(a[12]=(...e)=>n.submitComment&&n.submitComment(...e))},[e.createElementVNode("text",{class:"send-text"},"ÂèëÈÄÅ")],2)])]),i.showMoreModal?(e.openBlock(),e.createElementBlock("view",{key:0,class:"more-options-modal",onClick:a[17]||(a[17]=(...e)=>n.hideMoreOptions&&n.hideMoreOptions(...e))},[e.createElementVNode("view",{class:"options-content",onClick:a[16]||(a[16]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"option-item",onClick:a[13]||(a[13]=(...e)=>n.reportPost&&n.reportPost(...e))},[e.createElementVNode("text",{class:"option-text"},"‰∏æÊä•")]),e.createElementVNode("view",{class:"option-item",onClick:a[14]||(a[14]=(...e)=>n.copyLink&&n.copyLink(...e))},[e.createElementVNode("text",{class:"option-text"},"Â§çÂà∂ÈìæÊé•")]),e.createElementVNode("view",{class:"option-item",onClick:a[15]||(a[15]=(...e)=>n.hideMoreOptions&&n.hideMoreOptions(...e))},[e.createElementVNode("text",{class:"option-text"},"ÂèñÊ∂à")])])])):e.createCommentVNode("",!0)])}]]),I="/static/wechat-icon.png",B="/static/douyin-icon.png",D="/static/qq-icon.png";const S=a({data:()=>({friendName:"",isEditing:!1,signatureText:"Ëøô‰∏™‰∫∫ÂæàÊáí,‰ªÄ‰πàÈÉΩÊ≤°ÊúâÁïô‰∏ã",charCount:0,isMobile:!1,showSideMenu:!1,activeTab:"dynamic",showShare:!1,userId:1000100,loading:!1,errorMessage:"",hasError:!1,userInfo:{},dynamicStats:{},collectionStats:{},shareUsers:["Â•∂ÁªøÂÜ∞ÈòîËêΩ","ÊàëÊÉ≥Ê¨°ÁÇ∏È∏°","ÂåøÂêç‰∏∫Êüê","Â∫∑Â∑≤Â•Ä","Â∞èËèúÂàÄÂæ°","Ë∂ÖÁ∫ßÂ•Ω"],shareAppsRow1:[{name:"Chat..Group",cls:"app-mail"},{name:"Super Group",cls:"app-super"},{name:"Friends",cls:"app-wechat"},{name:"Moments",cls:"app-moment"},{name:"Alipay Frd",cls:"app-alipay"}],shareAppsRow2:[{name:"Use t..ard Bg"},{name:"Make pic"},{name:"Contr..ovelty"},{name:"Favorite"},{name:"Promote"}],shareFriends:[{name:"Â•∂ÁªøÂÜ∞ÈòîËêΩ",avatar:"/static/avatar-default.png"},{name:"ÊàëÊÉ≥Ê¨°ÁÇ∏È∏°",avatar:"/static/avatar-default.png"},{name:"ÂåøÂêç‰∏∫Êüê",avatar:"/static/avatar-default.png"},{name:"Â∫∑Â∑≤Â•Ä",avatar:"/static/avatar-default.png"},{name:"Â∞èËèúÂàÄÂæ°",avatar:"/static/avatar-default.png"},{name:"Ë∂ÖÁ∫ßÂ•Ω",avatar:"/static/avatar-default.png"},{name:"QQÂ•ΩÂèã‰∏É",avatar:"/static/avatar-default.png"}],personalPosts:[{id:5,username:"Áå´ÂèàÂ±ã‰πã‰∏ª",timeAgo:"12ÂàÜÈíüÂâç",contentType:"ÁªòÁîª",textContent:"ÁªòÁîªÁªÉ‰π†",images:[],novelInfo:null,novelCover:null,likes:10,dislikes:2,favorites:5,comments:15,isLiked:!1,isDisliked:!1,isFavorited:!1},{id:1,username:"Áå´ÂèàÂ±ã‰πã‰∏ª",timeAgo:"2Â∞èÊó∂Ââç",contentType:"Â∞èËØ¥",textContent:null,images:[],novelInfo:{title:"Á•ûÁßòÁöÑÁå´Âèà",description:"Âú®‰∏Ä‰∏™Âè§ËÄÅÁöÑÊùëÂ∫ÑÈáåÔºåÊµÅ‰º†ÁùÄ‰∏Ä‰∏™ÂÖ≥‰∫éÁå´ÂèàÁöÑÁ•ûÁßò‰º†ËØ¥„ÄÇ",rating:"4.5"},novelCover:"/static/novel-cover.png",likes:20,dislikes:5,favorites:10,comments:25,isLiked:!1,isDisliked:!1,isFavorited:!1},{id:3,username:"Áå´ÂèàÂ±ã‰πã‰∏ª",timeAgo:"1Â§©Ââç",contentType:"ÂõæÁâá",textContent:null,images:["/static/image1.jpg","/static/image2.jpg"],novelInfo:null,novelCover:null,likes:15,dislikes:3,favorites:8,comments:10,isLiked:!1,isDisliked:!1,isFavorited:!1}],collectedPosts:[{id:4,username:"Áå´ÂèàÂ±ã‰πã‰∏ª",timeAgo:"1Â∞èÊó∂Ââç",contentType:"Âä®ÊÄÅ",textContent:"‰ªäÂ§©Â§©Ê∞îÁúüÂ•ΩÔºÅ",images:[],novelInfo:null,novelCover:null,likes:10,dislikes:1,favorites:5,comments:10,isLiked:!1,isDisliked:!1,isFavorited:!1},{id:2,username:"Áå´ÂèàÂ±ã‰πã‰∏ª",timeAgo:"2Â§©Ââç",contentType:"Â∞èËØ¥",textContent:null,images:[],novelInfo:{title:"Áå´ÂèàÁöÑÂ•áÂπª‰πãÊóÖ",description:"Áå´ÂèàÂèëÁé∞‰∫Ü‰∏Ä‰∏™ÈÄöÂæÄÁ•ûÁßò‰∏ñÁïåÁöÑ‰º†ÈÄÅÈó®„ÄÇ",rating:"4.8"},novelCover:"/static/novel-cover.png",likes:25,dislikes:8,favorites:15,comments:30,isLiked:!1,isDisliked:!1,isFavorited:!1},{id:6,username:"Áå´ÂèàÂ±ã‰πã‰∏ª",timeAgo:"3Â§©Ââç",contentType:"ÂõæÁâá",textContent:null,images:["/static/image3.jpg","/static/image4.jpg"],novelInfo:null,novelCover:null,likes:18,dislikes:4,favorites:10,comments:15,isLiked:!1,isDisliked:!1,isFavorited:!1}]}),onLoad(e){this.detectDevice(),e.userId&&(this.userId=parseInt(e.userId)),e.friendName&&(this.friendName=decodeURIComponent(e.friendName),uni.setNavigationBarTitle({title:this.friendName})),o("log","at pages/feed/user-profile.vue:678","È°µÈù¢Âä†ËΩΩÔºåÁî®Êà∑ID:",this.userId),this.loadUserProfileData(),this.loadUserDynamicData()},methods:{async loadUserProfileData(){try{o("log","at pages/feed/user-profile.vue:688","=== ÂºÄÂßãÂä†ËΩΩÁî®Êà∑‰∏™‰∫∫‰∏ªÈ°µÊï∞ÊçÆ ==="),o("log","at pages/feed/user-profile.vue:689","Áî®Êà∑ID:",this.userId),o("log","at pages/feed/user-profile.vue:690","ËØ∑Ê±ÇURL:",`http://localhost:8888/api/user-profile/data?userId=${this.userId}`),this.loading=!0,this.hasError=!1,this.errorMessage="";const e=await uni.request({url:`http://localhost:8888/api/user-profile/data?userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/feed/user-profile.vue:703","=== APIÂìçÂ∫îËØ¶ÊÉÖ ==="),o("log","at pages/feed/user-profile.vue:704","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/feed/user-profile.vue:705","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data.success){const t=e.data.data;this.userInfo=t.userInfo||{},this.dynamicStats=t.dynamicStats||{},this.collectionStats=t.collectionStats||{},this.userInfo.bio&&(this.signatureText=this.userInfo.bio),o("log","at pages/feed/user-profile.vue:718","ÊàêÂäüÂä†ËΩΩÁî®Êà∑‰∏™‰∫∫‰∏ªÈ°µÊï∞ÊçÆ"),o("log","at pages/feed/user-profile.vue:719","Áî®Êà∑‰ø°ÊÅØ:",this.userInfo),o("log","at pages/feed/user-profile.vue:720","Âä®ÊÄÅÁªüËÆ°:",this.dynamicStats),o("log","at pages/feed/user-profile.vue:721","Êî∂ËóèÁªüËÆ°:",this.collectionStats)}else o("error","at pages/feed/user-profile.vue:723","Âä†ËΩΩÁî®Êà∑‰∏™‰∫∫‰∏ªÈ°µÊï∞ÊçÆÂ§±Ë¥•:",e.data.message),this.hasError=!0,this.errorMessage=e.data.message||"Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•"}catch(e){o("error","at pages/feed/user-profile.vue:728","Âä†ËΩΩÁî®Êà∑‰∏™‰∫∫‰∏ªÈ°µÊï∞ÊçÆÂºÇÂ∏∏:",e),this.hasError=!0,this.errorMessage="ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËÆæÁΩÆ"}finally{this.loading=!1}},async loadUserDynamicData(){try{o("log","at pages/feed/user-profile.vue:739","=== ÂºÄÂßãÂä†ËΩΩÁî®Êà∑Âä®ÊÄÅÊï∞ÊçÆ ==="),o("log","at pages/feed/user-profile.vue:740","Áî®Êà∑ID:",this.userId);const e=await uni.request({url:`http://localhost:8888/api/user-profile/dynamic?userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/feed/user-profile.vue:750","=== Âä®ÊÄÅÊï∞ÊçÆAPIÂìçÂ∫î ==="),o("log","at pages/feed/user-profile.vue:751","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/feed/user-profile.vue:752","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data.success){const t=e.data.data;this.personalPosts=t.posts||[],o("log","at pages/feed/user-profile.vue:758","ÊàêÂäüÂä†ËΩΩÁî®Êà∑Âä®ÊÄÅÊï∞ÊçÆÔºåÂÖ±",this.personalPosts.length,"Êù°")}else o("error","at pages/feed/user-profile.vue:760","Âä†ËΩΩÁî®Êà∑Âä®ÊÄÅÊï∞ÊçÆÂ§±Ë¥•:",e.data.message)}catch(e){o("error","at pages/feed/user-profile.vue:763","Âä†ËΩΩÁî®Êà∑Âä®ÊÄÅÊï∞ÊçÆÂºÇÂ∏∏:",e)}},async loadUserCollectionsData(){try{o("log","at pages/feed/user-profile.vue:770","=== ÂºÄÂßãÂä†ËΩΩÁî®Êà∑Êî∂ËóèÊï∞ÊçÆ ==="),o("log","at pages/feed/user-profile.vue:771","Áî®Êà∑ID:",this.userId);const e=await uni.request({url:`http://localhost:8888/api/user-profile/collections?userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/feed/user-profile.vue:781","=== Êî∂ËóèÊï∞ÊçÆAPIÂìçÂ∫î ==="),o("log","at pages/feed/user-profile.vue:782","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/feed/user-profile.vue:783","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data.success){const t=e.data.data;this.collectedPosts=t.collectedPosts||[],o("log","at pages/feed/user-profile.vue:789","ÊàêÂäüÂä†ËΩΩÁî®Êà∑Êî∂ËóèÊï∞ÊçÆÔºåÂÖ±",this.collectedPosts.length,"Êù°")}else o("error","at pages/feed/user-profile.vue:791","Âä†ËΩΩÁî®Êà∑Êî∂ËóèÊï∞ÊçÆÂ§±Ë¥•:",e.data.message)}catch(e){o("error","at pages/feed/user-profile.vue:794","Âä†ËΩΩÁî®Êà∑Êî∂ËóèÊï∞ÊçÆÂºÇÂ∏∏:",e)}},async testConnection(){try{o("log","at pages/feed/user-profile.vue:801","=== ÊµãËØïÂêéÁ´ØËøûÊé• ===");const e=await uni.request({url:"http://localhost:8888/api/user-profile/test",method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/feed/user-profile.vue:810","ÊµãËØïËøûÊé•ÂìçÂ∫î:",e),200===e.statusCode?uni.showToast({title:"ÂêéÁ´ØËøûÊé•Ê≠£Â∏∏",icon:"success"}):uni.showToast({title:"ÂêéÁ´ØËøûÊé•Â§±Ë¥•",icon:"error"})}catch(e){o("error","at pages/feed/user-profile.vue:824","ÊµãËØïËøûÊé•ÂºÇÂ∏∏:",e),uni.showToast({title:"ËøûÊé•ÂºÇÂ∏∏",icon:"error"})}},detectDevice(){const e=navigator.userAgent.toLowerCase();this.isMobile=/mobile|android|iphone|ipad|phone/i.test(e)},editSignature(){this.isEditing=!0,this.charCount=0},saveSignature(){this.isEditing=!1,o("log","at pages/feed/user-profile.vue:844","Signature saved:",this.signatureText)},updateCharCount(e){this.charCount=e.detail.value.length},goToHome(){uni.navigateTo({url:"/pages/feed/chat-feed"})},goToAIList(){uni.navigateTo({url:"/pages/ai-list/ai-list"})},goToFriendList(){uni.navigateTo({url:"/pages/chat/friend-list"})},openMenu(){this.showSideMenu=!0},openShare(){this.showShare=!0},closeShare(){this.showShare=!1},goToProfile(){uni.showToast({title:"Â∑≤Âú®‰∏™‰∫∫ËµÑÊñôÈ°µÈù¢",icon:"none"})},closeSideMenu(){this.showSideMenu=!1},goToMyAI(){uni.showToast({title:"ÊàëÁöÑAIÂäüËÉΩ",icon:"none"})},goToMyCertification(){uni.showToast({title:"ÊàëÁöÑËÆ§ËØÅÂäüËÉΩ",icon:"none"})},goToMyPreferences(){uni.showToast({title:"ÊàëÁöÑÂñúÊÅ∂ÂäüËÉΩ",icon:"none"})},goToMyAchievements(){uni.showToast({title:"ÊàëÁöÑÊàêÂ∞±ÂäüËÉΩ",icon:"none"})},goToAlbum(){uni.showToast({title:"Áõ∏ÂÜåÂäüËÉΩ",icon:"none"})},goToHistoryComments(){uni.navigateTo({url:"/pages/my-comments/my-comments"})},goToBrowsingHistory(){uni.showToast({title:"ÊµèËßàËÆ∞ÂΩïÂäüËÉΩ",icon:"none"})},goToDraftBox(){uni.showToast({title:"ËçâÁ®øÁÆ±ÂäüËÉΩ",icon:"none"})},goToPurchaseRecord(){uni.navigateTo({url:"/pages/purchase-record/purchase-record"})},goToShoppingCart(){uni.showToast({title:"Ë¥≠Áâ©ËΩ¶ÂäüËÉΩ",icon:"none"})},goToWallet(){uni.navigateTo({url:"/pages/wallet/wallet"})},goToShoppingCart(){uni.showToast({title:"Ë¥≠Áâ©ËΩ¶ÂäüËÉΩ",icon:"none"})},goToEditProfile(){uni.showToast({title:"ÁºñËæëËµÑÊñôÂäüËÉΩ",icon:"none"})},shareToWechat(){uni.showToast({title:"ÂàÜ‰∫´Âà∞ÂæÆ‰ø°",icon:"none"}),this.closeShare()},shareToMoments(){uni.showToast({title:"ÂàÜ‰∫´Âà∞ÊúãÂèãÂúà",icon:"none"}),this.closeShare()},shareToDouyin(){uni.showToast({title:"ÂàÜ‰∫´Âà∞ÊäñÈü≥Â•ΩÂèã",icon:"none"}),this.closeShare()},shareToDouyinPost(){uni.showToast({title:"ÂèëÂ∏ÉÂà∞ÊäñÈü≥",icon:"none"}),this.closeShare()},shareToQQ(){uni.showToast({title:"ÂàÜ‰∫´Âà∞QQ",icon:"none"}),this.closeShare()},shareAction(e){uni.showToast({title:{comment:"ËØÑËÆ∫ËÆæÁΩÆ",gift:"ÈÄÅÁ§ºÁâ©",bookmark:"Ê∑ªÂä†‰π¶Á≠æ",search:"ÂÖ®ÊñáÊêúÁ¥¢",report:"‰∏æÊä•‰∏éÂèçÈ¶à"}[e]||"ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"}),this.closeShare()},shareToFriend(e){uni.showToast({title:`ÂàÜ‰∫´Áªô${e.name}`,icon:"none"}),this.closeShare()},handlePostClick(e){e.novelInfo?uni.navigateTo({url:`/pages/feed/novel-detail?id=${e.id}&title=${encodeURIComponent(e.novelInfo.title)}&author=${encodeURIComponent(e.username)}`}):uni.navigateTo({url:`/pages/feed/post-detail?postId=${e.id}&isOwnPost=true`})},handleLike(e){e.isLiked=!e.isLiked,e.likes=e.isLiked?e.likes+1:e.likes-1,uni.showToast({title:e.isLiked?"ÁÇπËµûÊàêÂäü":"ÂèñÊ∂àÁÇπËµû",icon:"none"})},handleDislike(e){e.isDisliked=!e.isDisliked,e.dislikes=e.isDisliked?e.dislikes+1:e.dislikes-1,uni.showToast({title:e.isDisliked?"ÁÇπË∏©ÊàêÂäü":"ÂèñÊ∂àÁÇπË∏©",icon:"none"})},handleFavorite(e){e.isFavorited=!e.isFavorited,e.favorites=e.isFavorited?e.favorites+1:e.favorites-1,uni.showToast({title:e.isFavorited?"Êî∂ËóèÊàêÂäü":"ÂèñÊ∂àÊî∂Ëóè",icon:"none"})},handleComment(e){uni.navigateTo({url:`/pages/comment/comment?postId=${e.id}`})},formatCount:e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e4?(e/1e3).toFixed(1)+"K":e,getImageGridClass:e=>1===e?"single-image":2===e?"two-images":3===e?"three-images":4===e?"four-images":"grid-images",previewImage(e,t){uni.previewImage({urls:e,current:t,indicator:"number"})},switchTab(e){o("log","at pages/feed/user-profile.vue:1098","ÂàáÊç¢Âà∞Ê†áÁ≠æ:",e),this.activeTab=e,o("log","at pages/feed/user-profile.vue:1100","ÂΩìÂâçÊøÄÊ¥ªÊ†áÁ≠æ:",this.activeTab),"dynamic"===e?this.loadUserDynamicData():"collections"===e&&this.loadUserCollectionsData()}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"blur-background"},[e.createElementVNode("view",{class:"pizza-image"})]),e.createElementVNode("view",{class:"header-buttons"},[e.createElementVNode("view",{class:"menu-button",onClick:a[0]||(a[0]=(...e)=>n.openMenu&&n.openMenu(...e))},[e.createElementVNode("view",{class:"menu-icon"},[e.createElementVNode("view",{class:"menu-line"}),e.createElementVNode("view",{class:"menu-line"}),e.createElementVNode("view",{class:"menu-line"})])]),e.createElementVNode("view",{class:"share-button",onClick:a[1]||(a[1]=(...e)=>n.openShare&&n.openShare(...e))},[e.createElementVNode("text",{class:"share-icon"},"üì§")])])]),e.createElementVNode("view",{class:"user-card"},[e.createElementVNode("view",{class:"avatar"},[e.createElementVNode("view",{class:"cat-avatar"},[e.createElementVNode("view",{class:"cat-body"}),e.createElementVNode("view",{class:"cat-ears"},[e.createElementVNode("view",{class:"ear ear-left"}),e.createElementVNode("view",{class:"ear ear-right"})]),e.createElementVNode("view",{class:"cat-face"},[e.createElementVNode("view",{class:"cat-eyes"},[e.createElementVNode("view",{class:"cat-eye eye-left"}),e.createElementVNode("view",{class:"cat-eye eye-right"})]),e.createElementVNode("view",{class:"cat-nose"}),e.createElementVNode("view",{class:"cat-mouth"})])])]),e.createElementVNode("view",{class:"user-info"},[e.createElementVNode("text",{class:"username"},e.toDisplayString(i.userInfo.username||"Áå´ÂèàÂ±ã‰πã‰∏ª"),1),e.createElementVNode("text",{class:"location"},e.toDisplayString(i.userInfo.location||"‰∏≠ÂõΩ-Âçó‰∫¨"),1),e.createElementVNode("view",{class:"vip-info"},[e.createElementVNode("text",{class:"vip-text"},"VIP lv"+e.toDisplayString(i.userInfo.level||10),1),e.createElementVNode("text",{class:"exp-text"},"ÁªèÈ™å"+e.toDisplayString(i.userInfo.gold||0)+"/"+e.toDisplayString(400*(i.userInfo.level||10)),1)])])]),e.createElementVNode("view",{class:"signature-area",onClick:a[5]||(a[5]=(...e)=>n.editSignature&&n.editSignature(...e))},[i.isEditing?(e.openBlock(),e.createElementBlock("view",{key:1,class:"signature-input-container"},[e.withDirectives(e.createElementVNode("input",{class:"signature-input","onUpdate:modelValue":a[2]||(a[2]=e=>i.signatureText=e),maxlength:100,placeholder:"ËØ∑ËæìÂÖ•‰∏™ÊÄßÁ≠æÂêç",onBlur:a[3]||(a[3]=(...e)=>n.saveSignature&&n.saveSignature(...e)),onInput:a[4]||(a[4]=(...e)=>n.updateCharCount&&n.updateCharCount(...e)),focus:""},null,544),[[e.vModelText,i.signatureText]]),e.createElementVNode("view",{class:"char-count"},e.toDisplayString(i.charCount)+"/100",1)])):(e.openBlock(),e.createElementBlock("view",{key:0,class:"signature-input-container"},[e.createElementVNode("text",{class:"signature-text"},e.toDisplayString(i.signatureText),1)]))]),i.isEditing&&i.isMobile?(e.openBlock(),e.createElementBlock("view",{key:0,class:"virtual-keyboard"},[e.createElementVNode("view",{class:"keyboard-row"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(["1","2","3","4","5","6","7","8","9","0"],(t=>e.createElementVNode("view",{class:"key",key:t},[e.createElementVNode("text",{class:"key-text"},e.toDisplayString(t),1)]))),64))]),e.createElementVNode("view",{class:"keyboard-row"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(["q","w","e","r","t","y","u","i","o","p"],(t=>e.createElementVNode("view",{class:"key",key:t},[e.createElementVNode("text",{class:"key-text"},e.toDisplayString(t),1)]))),64))]),e.createElementVNode("view",{class:"keyboard-row"},[e.createElementVNode("view",{class:"key shift-key"},[e.createElementVNode("text",{class:"key-text"},"‚áß")]),(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(["a","s","d","f","g","h","j","k","l"],(t=>e.createElementVNode("view",{class:"key",key:t},[e.createElementVNode("text",{class:"key-text"},e.toDisplayString(t),1)]))),64)),e.createElementVNode("view",{class:"key backspace-key"},[e.createElementVNode("text",{class:"key-text"},"‚å´")])]),e.createElementVNode("view",{class:"keyboard-row"},[e.createElementVNode("view",{class:"key symbol-key"},[e.createElementVNode("text",{class:"key-text"},"?123")]),(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(["z","x","c","v","b","n","m"],(t=>e.createElementVNode("view",{class:"key",key:t},[e.createElementVNode("text",{class:"key-text"},e.toDisplayString(t),1)]))),64)),e.createElementVNode("view",{class:"key comma-key"},[e.createElementVNode("text",{class:"key-text"},",")])]),e.createElementVNode("view",{class:"keyboard-row bottom-row"},[e.createElementVNode("view",{class:"key emoji-key"},[e.createElementVNode("text",{class:"key-text"},"üòä")]),e.createElementVNode("view",{class:"key space-key"},[e.createElementVNode("text",{class:"key-text"},"Á©∫Ê†º")]),e.createElementVNode("view",{class:"key period-key"},[e.createElementVNode("text",{class:"key-text"},".")]),e.createElementVNode("view",{class:"key enter-key"},[e.createElementVNode("text",{class:"key-text"},"ÂÆåÊàê")])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"nav-tabs"},[e.createElementVNode("view",{class:e.normalizeClass(["tab",{active:"dynamic"===i.activeTab}]),onClick:a[6]||(a[6]=e=>n.switchTab("dynamic"))},[e.createElementVNode("text",{class:"tab-text"},"Âä®ÊÄÅ"),"dynamic"===i.activeTab?(e.openBlock(),e.createElementBlock("view",{key:0,class:"tab-underline"})):e.createCommentVNode("",!0)],2),e.createElementVNode("view",{class:e.normalizeClass(["tab",{active:"collections"===i.activeTab}]),onClick:a[7]||(a[7]=e=>n.switchTab("collections"))},[e.createElementVNode("text",{class:"tab-text"},"Êî∂Ëóè"),"collections"===i.activeTab?(e.openBlock(),e.createElementBlock("view",{key:0,class:"tab-underline"})):e.createCommentVNode("",!0)],2),e.createElementVNode("view",{class:"search-icon"},"üîç")]),e.createElementVNode("view",{class:"content-area"},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Âä†ËΩΩ‰∏≠...")])):e.createCommentVNode("",!0),i.hasError?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("text",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"error-actions"},[e.createElementVNode("button",{class:"retry-button",onClick:a[8]||(a[8]=(...e)=>n.loadUserProfileData&&n.loadUserProfileData(...e))},"ÈáçËØï"),e.createElementVNode("button",{class:"retry-button",onClick:a[9]||(a[9]=(...e)=>n.testConnection&&n.testConnection(...e))},"ÊµãËØïËøûÊé•")])])):e.createCommentVNode("",!0),"dynamic"!==i.activeTab||i.loading||i.hasError?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2,class:"tab-panel"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.personalPosts,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"post-item",key:a,onClick:e=>n.handlePostClick(t)},[e.createElementVNode("view",{class:"post-header"},[e.createElementVNode("view",{class:"post-avatar"},[e.createElementVNode("view",{class:"small-cat-avatar"},[e.createElementVNode("view",{class:"small-cat-body"}),e.createElementVNode("view",{class:"small-cat-face"},[e.createElementVNode("view",{class:"small-cat-eyes"},[e.createElementVNode("view",{class:"small-cat-eye"}),e.createElementVNode("view",{class:"small-cat-eye"})])])])]),e.createElementVNode("view",{class:"post-info"},[e.createElementVNode("text",{class:"post-username"},"Áå´ÂèàÂ±ã‰πã‰∏ª"),e.createElementVNode("text",{class:"post-time"},e.toDisplayString(t.timeAgo),1)])]),e.createElementVNode("view",{class:"post-content"},[t.contentType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"content-type"},[e.createElementVNode("text",{class:"type-label"},e.toDisplayString(t.contentType)+":",1)])):e.createCommentVNode("",!0),t.textContent?(e.openBlock(),e.createElementBlock("view",{key:1,class:"text-content"},[e.createElementVNode("text",{class:"post-title"},e.toDisplayString(t.textContent),1)])):e.createCommentVNode("",!0),t.novelInfo?(e.openBlock(),e.createElementBlock("view",{key:2,class:"novel-info"},[e.createElementVNode("text",{class:"post-title"},e.toDisplayString(t.novelInfo.title),1),e.createElementVNode("text",{class:"novel-desc"},e.toDisplayString(t.novelInfo.description),1),e.createElementVNode("text",{class:"novel-rating"},"ËØÑÂàÜ: "+e.toDisplayString(t.novelInfo.rating),1)])):e.createCommentVNode("",!0),t.images&&t.images.length>0?(e.openBlock(),e.createElementBlock("view",{key:3,class:"image-content"},[e.createElementVNode("view",{class:e.normalizeClass(["image-grid",n.getImageGridClass(t.images.length)])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.images,((a,s)=>(e.openBlock(),e.createElementBlock("image",{key:s,class:"content-image",src:a,mode:"aspectFill",onClick:e.withModifiers((e=>n.previewImage(t.images,s)),["stop"])},null,8,["src","onClick"])))),128))],2)])):e.createCommentVNode("",!0),t.novelCover?(e.openBlock(),e.createElementBlock("view",{key:4,class:"main-image"},[e.createElementVNode("image",{class:"novel-cover",src:t.novelCover,mode:"aspectFill"},null,8,["src"]),t.novelInfo?(e.openBlock(),e.createElementBlock("view",{key:0,class:"image-overlay"},[e.createElementVNode("text",{class:"overlay-title"},e.toDisplayString(t.novelInfo.title),1)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"engagement-metrics"},[e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleLike(t)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:t.isLiked}])},"üëç",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:t.isLiked}])},e.toDisplayString(n.formatCount(t.likes)),3)],8,["onClick"]),e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleDislike(t)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:t.isDisliked}])},"üëé",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:t.isDisliked}])},e.toDisplayString(n.formatCount(t.dislikes)),3)],8,["onClick"]),e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleFavorite(t)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:t.isFavorited}])},"‚≠ê",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:t.isFavorited}])},e.toDisplayString(n.formatCount(t.favorites)),3)],8,["onClick"]),e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleComment(t)),["stop"])},[e.createElementVNode("text",{class:"metric-icon"},"üí¨"),e.createElementVNode("text",{class:"metric-count"},e.toDisplayString(n.formatCount(t.comments)),1)],8,["onClick"])])],8,["onClick"])))),128))])),"collections"!==i.activeTab||i.loading||i.hasError?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:3,class:"tab-panel"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.collectedPosts,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"post-item",key:a,onClick:e=>n.handlePostClick(t)},[e.createElementVNode("view",{class:"post-header"},[e.createElementVNode("view",{class:"post-avatar"},[e.createElementVNode("view",{class:"small-cat-avatar"},[e.createElementVNode("view",{class:"small-cat-body"}),e.createElementVNode("view",{class:"small-cat-face"},[e.createElementVNode("view",{class:"small-cat-eyes"},[e.createElementVNode("view",{class:"small-cat-eye"}),e.createElementVNode("view",{class:"small-cat-eye"})])])])]),e.createElementVNode("view",{class:"post-info"},[e.createElementVNode("text",{class:"post-username"},e.toDisplayString(t.username),1),e.createElementVNode("text",{class:"post-time"},e.toDisplayString(t.timeAgo),1)])]),e.createElementVNode("view",{class:"post-content"},[t.contentType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"content-type"},[e.createElementVNode("text",{class:"type-label"},e.toDisplayString(t.contentType)+":",1)])):e.createCommentVNode("",!0),t.textContent?(e.openBlock(),e.createElementBlock("view",{key:1,class:"text-content"},[e.createElementVNode("text",{class:"post-title"},e.toDisplayString(t.textContent),1)])):e.createCommentVNode("",!0),t.novelInfo?(e.openBlock(),e.createElementBlock("view",{key:2,class:"novel-info"},[e.createElementVNode("text",{class:"post-title"},e.toDisplayString(t.novelInfo.title),1),e.createElementVNode("text",{class:"novel-desc"},e.toDisplayString(t.novelInfo.description),1),e.createElementVNode("text",{class:"novel-rating"},"ËØÑÂàÜ: "+e.toDisplayString(t.novelInfo.rating),1)])):e.createCommentVNode("",!0),t.images&&t.images.length>0?(e.openBlock(),e.createElementBlock("view",{key:3,class:"image-content"},[e.createElementVNode("view",{class:e.normalizeClass(["image-grid",n.getImageGridClass(t.images.length)])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.images,((a,s)=>(e.openBlock(),e.createElementBlock("image",{key:s,class:"content-image",src:a,mode:"aspectFill",onClick:e.withModifiers((e=>n.previewImage(t.images,s)),["stop"])},null,8,["src","onClick"])))),128))],2)])):e.createCommentVNode("",!0),t.novelCover?(e.openBlock(),e.createElementBlock("view",{key:4,class:"main-image"},[e.createElementVNode("image",{class:"novel-cover",src:t.novelCover,mode:"aspectFill"},null,8,["src"]),t.novelInfo?(e.openBlock(),e.createElementBlock("view",{key:0,class:"image-overlay"},[e.createElementVNode("text",{class:"overlay-title"},e.toDisplayString(t.novelInfo.title),1)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"engagement-metrics"},[e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleLike(t)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:t.isLiked}])},"üëç",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:t.isLiked}])},e.toDisplayString(n.formatCount(t.likes)),3)],8,["onClick"]),e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleDislike(t)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:t.isDisliked}])},"üëé",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:t.isDisliked}])},e.toDisplayString(n.formatCount(t.dislikes)),3)],8,["onClick"]),e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleFavorite(t)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:t.isFavorited}])},"‚≠ê",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:t.isFavorited}])},e.toDisplayString(n.formatCount(t.favorites)),3)],8,["onClick"]),e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleComment(t)),["stop"])},[e.createElementVNode("text",{class:"metric-icon"},"üí¨"),e.createElementVNode("text",{class:"metric-count"},e.toDisplayString(n.formatCount(t.comments)),1)],8,["onClick"])])],8,["onClick"])))),128))]))]),i.showShare?(e.openBlock(),e.createElementBlock("view",{key:1,class:"share-overlay",onClick:a[17]||(a[17]=(...e)=>n.closeShare&&n.closeShare(...e))},[e.createElementVNode("view",{class:"share-sheet",onClick:a[16]||(a[16]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"sheet-handle"}),e.createElementVNode("text",{class:"sheet-title"},"ÂàÜ‰∫´Âà∞"),e.createElementVNode("view",{class:"share-friends"},[e.createElementVNode("scroll-view",{class:"friends-scroll","scroll-x":"true"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.shareFriends,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"friend-item",key:a,onClick:e=>n.shareToFriend(t)},[e.createElementVNode("view",{class:"friend-avatar"},[e.createElementVNode("image",{class:"friend-avatar-img",src:t.avatar,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("text",{class:"friend-name"},e.toDisplayString(t.name.length>3?t.name.substring(0,3)+"...":t.name),1)],8,["onClick"])))),128))])]),e.createElementVNode("view",{class:"share-options"},[e.createElementVNode("view",{class:"share-option",onClick:a[10]||(a[10]=(...e)=>n.shareToWechat&&n.shareToWechat(...e))},[e.createElementVNode("view",{class:"share-icon-bg wechat"},[e.createElementVNode("image",{class:"share-icon-img",src:I,mode:"aspectFit"})]),e.createElementVNode("text",{class:"share-option-text"},"ÂæÆ‰ø°")]),e.createElementVNode("view",{class:"share-option",onClick:a[11]||(a[11]=(...e)=>n.shareToMoments&&n.shareToMoments(...e))},[e.createElementVNode("view",{class:"share-icon-bg moments"},[e.createElementVNode("image",{class:"share-icon-img",src:I,mode:"aspectFit"})]),e.createElementVNode("text",{class:"share-option-text"},"ÊúãÂèãÂúà")]),e.createElementVNode("view",{class:"share-option",onClick:a[12]||(a[12]=(...e)=>n.shareToDouyin&&n.shareToDouyin(...e))},[e.createElementVNode("view",{class:"share-icon-bg douyin"},[e.createElementVNode("image",{class:"share-icon-img",src:B,mode:"aspectFit"})]),e.createElementVNode("text",{class:"share-option-text"},"ÊäñÈü≥Â•ΩÂèã")]),e.createElementVNode("view",{class:"share-option",onClick:a[13]||(a[13]=(...e)=>n.shareToDouyinPost&&n.shareToDouyinPost(...e))},[e.createElementVNode("view",{class:"share-icon-bg douyin-post"},[e.createElementVNode("image",{class:"share-icon-img",src:B,mode:"aspectFit"})]),e.createElementVNode("text",{class:"share-option-text"},"ÂèëÂ∏ÉÂà∞ÊäñÈü≥")]),e.createElementVNode("view",{class:"share-option",onClick:a[14]||(a[14]=(...e)=>n.shareToQQ&&n.shareToQQ(...e))},[e.createElementVNode("view",{class:"share-icon-bg qq"},[e.createElementVNode("image",{class:"share-icon-img",src:D,mode:"aspectFit"})]),e.createElementVNode("text",{class:"share-option-text"},"QQ")])]),e.createElementVNode("view",{class:"sheet-cancel",onClick:a[15]||(a[15]=(...e)=>n.closeShare&&n.closeShare(...e))},[e.createElementVNode("text",{class:"cancel-text"},"ÂèñÊ∂à")])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"bottom-nav"},[e.createElementVNode("view",{class:"nav-item",onClick:a[18]||(a[18]=(...e)=>n.goToHome&&n.goToHome(...e))},[e.createElementVNode("text",{class:"nav-text"},"È¶ñÈ°µ")]),e.createElementVNode("view",{class:"nav-item"},[e.createElementVNode("text",{class:"nav-text"},"Ê∂àÊÅØ")]),e.createElementVNode("view",{class:"nav-item active",onClick:a[19]||(a[19]=(...e)=>n.goToAIList&&n.goToAIList(...e))},[e.createElementVNode("view",{class:"ai-icon"},"AI")]),e.createElementVNode("view",{class:"nav-item",onClick:a[20]||(a[20]=(...e)=>n.goToFriendList&&n.goToFriendList(...e))},[e.createElementVNode("text",{class:"nav-text"},"Â•ΩÂèã")]),e.createElementVNode("view",{class:"nav-item",onClick:a[21]||(a[21]=(...e)=>n.goToProfile&&n.goToProfile(...e))},[e.createElementVNode("view",{class:"nav-avatar"},[e.createElementVNode("view",{class:"mini-cat-avatar"},[e.createElementVNode("view",{class:"mini-cat-body"}),e.createElementVNode("view",{class:"mini-cat-face"},[e.createElementVNode("view",{class:"mini-cat-eyes"},[e.createElementVNode("view",{class:"mini-cat-eye"}),e.createElementVNode("view",{class:"mini-cat-eye"})])])])])])]),e.createElementVNode("view",{class:"home-indicator"}),e.createElementVNode("view",{class:e.normalizeClass(["side-menu",{active:i.showSideMenu}]),onClick:a[36]||(a[36]=(...e)=>n.closeSideMenu&&n.closeSideMenu(...e))},[e.createElementVNode("view",{class:"menu-content",onClick:a[35]||(a[35]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"menu-header"},[e.createElementVNode("view",{class:"menu-close",onClick:a[22]||(a[22]=(...e)=>n.closeSideMenu&&n.closeSideMenu(...e))},[e.createElementVNode("text",{class:"close-icon"},"√ó")])]),e.createElementVNode("view",{class:"menu-list"},[e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[23]||(a[23]=(...e)=>n.goToMyAI&&n.goToMyAI(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑAI")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[24]||(a[24]=(...e)=>n.goToMyCertification&&n.goToMyCertification(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑËÆ§ËØÅ")]),e.createElementVNode("view",{class:"menu-item",onClick:a[25]||(a[25]=(...e)=>n.goToMyPreferences&&n.goToMyPreferences(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑÂñúÊÅ∂")]),e.createElementVNode("view",{class:"menu-item",onClick:a[26]||(a[26]=(...e)=>n.goToMyAchievements&&n.goToMyAchievements(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊàëÁöÑÊàêÂ∞±")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[27]||(a[27]=(...e)=>n.goToAlbum&&n.goToAlbum(...e))},[e.createElementVNode("text",{class:"menu-text"},"Áõ∏ÂÜå")]),e.createElementVNode("view",{class:"menu-item",onClick:a[28]||(a[28]=(...e)=>n.goToHistoryComments&&n.goToHistoryComments(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÂéÜÂè≤ËØÑËÆ∫")]),e.createElementVNode("view",{class:"menu-item",onClick:a[29]||(a[29]=(...e)=>n.goToBrowsingHistory&&n.goToBrowsingHistory(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÊµèËßàËÆ∞ÂΩï")]),e.createElementVNode("view",{class:"menu-item",onClick:a[30]||(a[30]=(...e)=>n.goToDraftBox&&n.goToDraftBox(...e))},[e.createElementVNode("text",{class:"menu-text"},"ËçâÁ®øÁÆ±")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[31]||(a[31]=(...e)=>n.goToPurchaseRecord&&n.goToPurchaseRecord(...e))},[e.createElementVNode("text",{class:"menu-text"},"Ë¥≠‰π∞ËÆ∞ÂΩï")]),e.createElementVNode("view",{class:"menu-item",onClick:a[32]||(a[32]=(...e)=>n.goToShoppingCart&&n.goToShoppingCart(...e))},[e.createElementVNode("text",{class:"menu-text"},"Ë¥≠Áâ©ËΩ¶")]),e.createElementVNode("view",{class:"menu-item",onClick:a[33]||(a[33]=(...e)=>n.goToWallet&&n.goToWallet(...e))},[e.createElementVNode("text",{class:"menu-text"},"Èí±ÂåÖ")])]),e.createElementVNode("view",{class:"menu-section"},[e.createElementVNode("view",{class:"menu-item",onClick:a[34]||(a[34]=(...e)=>n.goToEditProfile&&n.goToEditProfile(...e))},[e.createElementVNode("text",{class:"menu-text"},"ÁºñËæëËµÑÊñô")])])])])],2)])}]]);const b=a({name:"MyComments",data:()=>({}),methods:{goBack(){uni.navigateBack()},goToHome(){uni.navigateTo({url:"/pages/feed/content-feed"})},goToChatList(){uni.navigateTo({url:"/pages/chat/chat-list"})},goToAIChat(){uni.navigateTo({url:"/pages/chat/chat"})},goToFriendList(){uni.navigateTo({url:"/pages/chat/friend-list"})},goToProfile(){uni.navigateTo({url:"/pages/feed/user-profile"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"my-comments-page"},[e.createElementVNode("view",{class:"comments-container"},[e.createElementVNode("view",{class:"comment-item"},[e.createElementVNode("view",{class:"comment-left"},[e.createElementVNode("view",{class:"user-avatar"},[e.createElementVNode("view",{class:"cat-avatar"},[e.createElementVNode("view",{class:"cat-body"}),e.createElementVNode("view",{class:"cat-face"},[e.createElementVNode("view",{class:"cat-eyes"},[e.createElementVNode("view",{class:"cat-eye"}),e.createElementVNode("view",{class:"cat-eye"})])])])]),e.createElementVNode("view",{class:"comment-info"},[e.createElementVNode("text",{class:"username"},"Áå´ÂèàÂ±ã‰πã‰∏ª"),e.createElementVNode("text",{class:"timestamp"},"ÂàöÂàö"),e.createElementVNode("text",{class:"comment-text"},"ÊúâÁÇπÂ§™Èõ∑‰∫Ü,Êä•Áúã"),e.createElementVNode("view",{class:"action-button"},[e.createElementVNode("text",{class:"like-icon"},"üëç")])])]),e.createElementVNode("view",{class:"comment-right"},[e.createElementVNode("view",{class:"content-thumbnail"},[e.createElementVNode("view",{class:"thumbnail-placeholder"})])])]),e.createElementVNode("view",{class:"comment-item"},[e.createElementVNode("view",{class:"comment-left"},[e.createElementVNode("view",{class:"user-avatar"},[e.createElementVNode("view",{class:"cat-avatar"},[e.createElementVNode("view",{class:"cat-body"}),e.createElementVNode("view",{class:"cat-face"},[e.createElementVNode("view",{class:"cat-eyes"},[e.createElementVNode("view",{class:"cat-eye"}),e.createElementVNode("view",{class:"cat-eye"})])])])]),e.createElementVNode("view",{class:"comment-info"},[e.createElementVNode("text",{class:"username"},"Áå´ÂèàÂ±ã‰πã‰∏ª"),e.createElementVNode("text",{class:"timestamp"},"2Â∞èÊó∂Ââç"),e.createElementVNode("text",{class:"comment-text"},"ÈùûÂ∏∏Â•ΩÁå´Áå´,Áà±Êù•Ëá™Áì∑Âô®"),e.createElementVNode("view",{class:"action-button"},[e.createElementVNode("text",{class:"like-icon"},"üëç")])])]),e.createElementVNode("view",{class:"comment-right"},[e.createElementVNode("view",{class:"content-thumbnail"},[e.createElementVNode("view",{class:"thumbnail-placeholder cat-thumbnail"})])])])]),e.createElementVNode("view",{class:"bottom-navigation"},[e.createElementVNode("view",{class:"nav-item",onClick:a[0]||(a[0]=(...e)=>n.goToHome&&n.goToHome(...e))},[e.createElementVNode("text",{class:"nav-text"},"È¶ñÈ°µ")]),e.createElementVNode("view",{class:"nav-item",onClick:a[1]||(a[1]=(...e)=>n.goToChatList&&n.goToChatList(...e))},[e.createElementVNode("text",{class:"nav-text"},"Ê∂àÊÅØ")]),e.createElementVNode("view",{class:"nav-item",onClick:a[2]||(a[2]=(...e)=>n.goToAIChat&&n.goToAIChat(...e))},[e.createElementVNode("view",{class:"ai-tab"},[e.createElementVNode("text",{class:"ai-text"},"AI")])]),e.createElementVNode("view",{class:"nav-item",onClick:a[3]||(a[3]=(...e)=>n.goToFriendList&&n.goToFriendList(...e))},[e.createElementVNode("text",{class:"nav-text"},"Â•ΩÂèã")]),e.createElementVNode("view",{class:"nav-avatar",onClick:a[4]||(a[4]=(...e)=>n.goToProfile&&n.goToProfile(...e))},[e.createElementVNode("image",{class:"avatar-small",src:"",mode:"aspectFill"})])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const M=a({name:"NovelDetailPage",data:()=>({novelId:"",userId:1000100,novelTitle:"",synopsisExpanded:!1,reviewExpanded:[!1,!1],showNovelContent:!1,isFollowed:!1,scrollTop:0,loading:!1,hasError:!1,errorMessage:"",novelData:{title:"Ê∏∏ÊàèÈôç‰∏¥: ÊàëË¶ÅËøô‰∏™Ëøô‰∏™ËøòÊúâËøô‰∏™ (Ê∏∏ÊàèÂÖ•‰æµ)",author:"Áå´‰∏çÁßÉ",rating:"9.5",reviewCount:"11.9‰∏á‰∫∫ÁÇπËØÑ",readerCount:"157.4‰∏á‰∫∫",wordCount:"214.7‰∏áÂ≠ó",updateDays:"ËøûÁª≠Êõ¥Êñ∞268Â§©",coverImage:"/static/novel-cover.jpg",tags:["#ÂéüÂàõÂ∞èËØ¥","#Ê∏∏Êàè‰ΩìËÇ≤","#ÈáçÁîü","#Êó†CP"],synopsis:"„ÄêÊ∏∏ÊàèÂÖ•‰æµ+Êó†cp+ÂçáÁ∫ßÊµÅ+Áã¨Áãº+Ê∏∏Êàè„Äë(ÂèàÂêç: Ê∏∏ÊàèÂÖ•‰æµ) ËøôÊòØ‰∏Ä‰∏™ÂÖ≥‰∫éÊ∏∏ÊàèÂÖ•‰æµÁé∞ÂÆûÁöÑÊïÖ‰∫ãÔºå‰∏ªËßíÂú®Ê∏∏Êàè‰∏≠Ëé∑Âæó‰∫ÜÂº∫Â§ßÁöÑËÉΩÂäõÔºåÂºÄÂßã‰∫Ü‰∏ÄÊÆµÊÉäÈô©Âà∫ÊøÄÁöÑÂÜíÈô©‰πãÊóÖ„ÄÇÊïÖ‰∫ãËûçÂêà‰∫ÜÊ∏∏ÊàèÂÖÉÁ¥†ÂíåÁé∞ÂÆû‰∏ñÁïåÔºåÂÖÖÊª°‰∫ÜÊÇ¨ÂøµÂíåÊÉäÂñú„ÄÇ‰∏ªËßí‰ªé‰∏Ä‰∏™ÊôÆÈÄöÁé©ÂÆ∂ÈÄêÊ∏êÊàêÈïø‰∏∫Ê∏∏Êàè‰∏ñÁïåÁöÑÂº∫ËÄÖÔºåÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠‰∏ç‰ªÖË¶ÅÈù¢ÂØπÊ∏∏Êàè‰∏≠ÁöÑÊåëÊàòÔºåËøòË¶ÅÂ§ÑÁêÜÁé∞ÂÆû‰∏ñÁïå‰∏≠ÁöÑÂêÑÁßçÈóÆÈ¢ò„ÄÇ",reviews:[{reviewer:"‰π¶Âèã123456",avatar:"/static/avatar1.png",content:"ÊñáÁ¨îÂâßÊÉÖÂæàÂ•Ω,ÂæàÈöæÂæóÁöÑÂ•≥Âº∫Êó†cpÊ∏∏Êàè‰æµÂÖ•Áé∞ÂÆûÁöÑÊñá,‰∏ñÁïåËßÇËÆæËÆ°ÈÉΩÂæàÊúâÁîªÈù¢ÊÑü,Â•≥‰∏ª‰πüÂæàËÅ™Êòé,Êäì...",readTime:"ÈòÖËØª‰∏çË∂≥30ÂàÜÈíüÂêéÁÇπËØÑ"},{reviewer:"‰π¶Âèã789012",avatar:"/static/avatar2.png",content:"Áé∞Âú®Êõ¥ÁöÑÂÖ®ÈÉ®ÁúãÂÆå‰∫Ü,ÊäÄËÉΩ/ÈÅìÂÖ∑/Â§©ËµãËÆæÂÆöÈÉΩÂ•ΩÊñ∞È¢ñ,‰∏ç‰ºö‰∏ÄÊ†∑ÊúõÂéªÂ∞±ÁåúÁöÑÂ§ßÂ∑Æ‰∏çÂ∑ÆÈ£ü‰πãÊó†Âë≥„ÄÇËÄå‰∏î‰∏ªËßíÁöÑÊàêÈïøË∑ØÁ∫øÂæàÂêàÁêÜÔºåÊØè‰∏™Èò∂ÊÆµÈÉΩÊúâÁõ∏Â∫îÁöÑÊåëÊàòÂíåÊî∂Ëé∑ÔºåËÆ©‰∫∫ÁúãÂæóÂÅú‰∏ç‰∏ãÊù•„ÄÇ",readTime:"ÈòÖËØª3Â∞èÊó∂ÂêéÁÇπËØÑ"}],chapters:[]}}),onLoad(e){o("log","at pages/feed/novel-detail.vue:228","=== Â∞èËØ¥ËØ¶ÊÉÖÈ°µÈù¢Âä†ËΩΩ ==="),o("log","at pages/feed/novel-detail.vue:229","Êé•Êî∂Âà∞ÁöÑÂèÇÊï∞:",e),e.id&&(this.novelId=e.id),e.userId&&(this.userId=parseInt(e.userId)),e.title&&(this.novelTitle=decodeURIComponent(e.title),this.novelData.title=this.novelTitle),e.author&&(this.novelData.author=decodeURIComponent(e.author)),e.rating&&(this.novelData.rating=decodeURIComponent(e.rating)),e.reviewCount&&(this.novelData.reviewCount=decodeURIComponent(e.reviewCount)),e.readerCount&&(this.novelData.readerCount=decodeURIComponent(e.readerCount)),e.wordCount&&(this.novelData.wordCount=decodeURIComponent(e.wordCount)),e.updateDays&&(this.novelData.updateDays=decodeURIComponent(e.updateDays)),e.tags&&(this.novelData.tags=decodeURIComponent(e.tags).split(",")),e.synopsis&&(this.novelData.synopsis=decodeURIComponent(e.synopsis)),this.novelId?this.loadNovelDetailFromAPI():this.loadNovelData(),o("log","at pages/feed/novel-detail.vue:277","Êõ¥Êñ∞ÂêéÁöÑÂ∞èËØ¥Êï∞ÊçÆ:",this.novelData)},methods:{async loadNovelDetailFromAPI(){try{o("log","at pages/feed/novel-detail.vue:283","=== ÂºÄÂßã‰ªéÂêéÁ´ØÂä†ËΩΩÂ∞èËØ¥ËØ¶ÊÉÖÊï∞ÊçÆ ==="),o("log","at pages/feed/novel-detail.vue:284","Â∞èËØ¥ID:",this.novelId),o("log","at pages/feed/novel-detail.vue:285","Áî®Êà∑ID:",this.userId),o("log","at pages/feed/novel-detail.vue:286","ËØ∑Ê±ÇURL:",`http://localhost:8888/api/novel-detail/data?novelId=${this.novelId}&userId=${this.userId}`),this.loading=!0,this.hasError=!1,this.errorMessage="";const e=await uni.request({url:`http://localhost:8888/api/novel-detail/data?novelId=${this.novelId}&userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/feed/novel-detail.vue:300","=== Â∞èËØ¥ËØ¶ÊÉÖAPIÂìçÂ∫îËØ¶ÊÉÖ ==="),o("log","at pages/feed/novel-detail.vue:301","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/feed/novel-detail.vue:302","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data.success){const t=e.data.data;this.novelData={...this.novelData,...t,title:t.title||this.novelData.title,author:t.author||this.novelData.author,rating:t.rating||this.novelData.rating,reviewCount:t.reviewCount||this.novelData.reviewCount,readerCount:t.readerCount||this.novelData.readerCount,wordCount:t.wordCount||this.novelData.wordCount,updateDays:t.updateDays||this.novelData.updateDays,coverImage:t.coverImage||this.novelData.coverImage,tags:t.tags||this.novelData.tags,synopsis:t.synopsis||this.novelData.synopsis,chapters:t.chapters||[],reviews:t.reviews||[]},this.isFollowed=t.isFavorited||!1,o("log","at pages/feed/novel-detail.vue:329","ÊàêÂäüÂä†ËΩΩÂ∞èËØ¥ËØ¶ÊÉÖÊï∞ÊçÆ"),o("log","at pages/feed/novel-detail.vue:330","Á´†ËäÇÊï∞Èáè:",this.novelData.chapters.length),o("log","at pages/feed/novel-detail.vue:331","‰π¶ËØÑÊï∞Èáè:",this.novelData.reviews.length),o("log","at pages/feed/novel-detail.vue:332","‰π¶ËØÑÊï∞ÊçÆ:",this.novelData.reviews),uni.showToast({title:"Âä†ËΩΩÊàêÂäü",icon:"success",duration:1500})}else o("error","at pages/feed/novel-detail.vue:342","Âä†ËΩΩÂ∞èËØ¥ËØ¶ÊÉÖÊï∞ÊçÆÂ§±Ë¥•:",e.data.message),this.hasError=!0,this.errorMessage=e.data.message||"Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•",uni.showToast({title:"Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•",icon:"error"})}catch(e){o("error","at pages/feed/novel-detail.vue:351","Âä†ËΩΩÂ∞èËØ¥ËØ¶ÊÉÖÊï∞ÊçÆÂºÇÂ∏∏:",e),this.hasError=!0,this.errorMessage="ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËÆæÁΩÆ",uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}finally{this.loading=!1}},loadNovelData(){const e={1:{title:"Á•ûÁßòÁöÑÁå´Âèà",author:"Áå´ÂèàÂ±ã‰πã‰∏ª",rating:"4.5",reviewCount:"2.3‰∏á‰∫∫ÁÇπËØÑ",readerCount:"45.2‰∏á‰∫∫",wordCount:"156.8‰∏áÂ≠ó",updateDays:"ËøûÁª≠Êõ¥Êñ∞156Â§©",coverImage:"/static/novel-cover.png",tags:["#ÂéüÂàõÂ∞èËØ¥","#Â•áÂπª","#Áå´Âèà","#ÂÜíÈô©"],synopsis:"Âú®‰∏Ä‰∏™Âè§ËÄÅÁöÑÊùëÂ∫ÑÈáåÔºåÊµÅ‰º†ÁùÄ‰∏Ä‰∏™ÂÖ≥‰∫éÁå´ÂèàÁöÑÁ•ûÁßò‰º†ËØ¥„ÄÇ‰∏ªËßíÊÑèÂ§ñËé∑Âæó‰∫ÜÁå´ÂèàÁöÑÂäõÈáèÔºåÂºÄÂßã‰∫Ü‰∏ÄÊÆµÊÉäÈô©Âà∫ÊøÄÁöÑÂÜíÈô©‰πãÊóÖ„ÄÇÊïÖ‰∫ãËûçÂêà‰∫Ü‰∏úÊñπÁ•ûËØùÂíåÁé∞‰ª£ÂÖÉÁ¥†ÔºåÂÖÖÊª°‰∫ÜÊÇ¨ÂøµÂíåÊÉäÂñú„ÄÇ",reviews:[{reviewer:"‰π¶ÂèãÁå´Â•¥001",avatar:"/static/avatar1.png",content:"Áå´ÂèàÈ¢òÊùêÂæàÊñ∞È¢ñÔºåÊñáÁ¨îÊµÅÁïÖÔºåÂâßÊÉÖÁ¥ßÂáë„ÄÇ‰∏ªËßíÁöÑÊàêÈïøË∑ØÁ∫øÂæàÂêàÁêÜÔºåÊØè‰∏™Èò∂ÊÆµÈÉΩÊúâÁõ∏Â∫îÁöÑÊåëÊàòÂíåÊî∂Ëé∑„ÄÇ",readTime:"ÈòÖËØª2Â∞èÊó∂ÂêéÁÇπËØÑ"},{reviewer:"‰π¶ÂèãÂ•áÂπªËø∑",avatar:"/static/avatar2.png",content:"‰∏ñÁïåËßÇËÆæÂÆöÂæàÊúâÂàõÊÑèÔºåÁå´ÂèàÁöÑËÉΩÂäõÁ≥ªÁªüËÆæËÆ°ÂæóÂæàÂÆåÊï¥„ÄÇ‰ΩúËÄÖÂØπÁªÜËäÇÁöÑÊääÊéßÂæàÂà∞‰ΩçÔºåËÆ©‰∫∫ÁúãÂæóÂÅú‰∏ç‰∏ãÊù•„ÄÇ",readTime:"ÈòÖËØª5Â∞èÊó∂ÂêéÁÇπËØÑ"}]},2:{title:"Áå´ÂèàÁöÑÂ•áÂπª‰πãÊóÖ",author:"Áå´ÂèàÂ±ã‰πã‰∏ª",rating:"4.8",reviewCount:"3.1‰∏á‰∫∫ÁÇπËØÑ",readerCount:"67.8‰∏á‰∫∫",wordCount:"298.5‰∏áÂ≠ó",updateDays:"ËøûÁª≠Êõ¥Êñ∞298Â§©",coverImage:"/static/novel-cover.png",tags:["#ÂéüÂàõÂ∞èËØ¥","#Â•áÂπª","#Áå´Âèà","#ÊàêÈïø"],synopsis:"Áå´ÂèàÂèëÁé∞‰∫Ü‰∏Ä‰∏™ÈÄöÂæÄÁ•ûÁßò‰∏ñÁïåÁöÑ‰º†ÈÄÅÈó®„ÄÇÂú®Ëøô‰∏™ÂÖÖÊª°È≠îÊ≥ïÂíåÂç±Èô©ÁöÑ‰∏ñÁïåÈáåÔºåÂ•πÂøÖÈ°ªÂ≠¶‰ºöËøêÁî®Ëá™Â∑±ÁöÑÂäõÈáèÔºåÁªì‰∫§ÊúãÂèãÔºåÈù¢ÂØπÂêÑÁßçÊåëÊàò„ÄÇËøôÊòØ‰∏Ä‰∏™ÂÖ≥‰∫éÊàêÈïø„ÄÅÂèãÊÉÖÂíåÂãáÊ∞îÁöÑÊïÖ‰∫ã„ÄÇ",reviews:[{reviewer:"‰π¶ÂèãÂÜíÈô©ÂÆ∂",avatar:"/static/avatar3.png",content:"‰º†ÈÄÅÈó®ËÆæÂÆöÂæàÂê∏Âºï‰∫∫ÔºåÊØè‰∏™‰∏ñÁïåÈÉΩÊúâÁã¨ÁâπÁöÑËßÑÂàôÂíåÊñáÂåñ„ÄÇ‰∏ªËßíÁöÑÊàêÈïøËøáÁ®ãÂæàÁúüÂÆûÔºå‰∏çÊòØ‰∏ÄËπ¥ËÄåÂ∞±ÁöÑ„ÄÇ",readTime:"ÈòÖËØª8Â∞èÊó∂ÂêéÁÇπËØÑ"},{reviewer:"‰π¶ÂèãÈ≠îÊ≥ïÂ∏à",avatar:"/static/avatar4.png",content:"È≠îÊ≥ïÁ≥ªÁªüËÆæËÆ°ÂæóÂæàÂÆåÊï¥Ôºå‰∏ñÁïåËßÇÊûÑÂª∫ÂæóÂæàËØ¶ÁªÜ„ÄÇÊØè‰∏™ËßíËâ≤ÈÉΩÊúâÈ≤úÊòéÁöÑ‰∏™ÊÄßÔºåÂâßÊÉÖÂèëÂ±ïÂæàÂêàÁêÜ„ÄÇ",readTime:"ÈòÖËØª12Â∞èÊó∂ÂêéÁÇπËØÑ"}]},4:{title:"Ê∏∏ÊàèÈôç‰∏¥: ÊàëË¶ÅËøô‰∏™Ëøô‰∏™ËøòÊúâËøô‰∏™ (Ê∏∏ÊàèÂÖ•‰æµ)",author:"Áå´‰∏çÁßÉ",rating:"9.5",reviewCount:"11.9‰∏á‰∫∫ÁÇπËØÑ",readerCount:"157.4‰∏á‰∫∫",wordCount:"214.7‰∏áÂ≠ó",updateDays:"ËøûÁª≠Êõ¥Êñ∞268Â§©",coverImage:"/static/novel-cover.jpg",tags:["#ÂéüÂàõÂ∞èËØ¥","#Ê∏∏Êàè‰ΩìËÇ≤","#ÈáçÁîü","#Êó†CP"],synopsis:"„ÄêÊ∏∏ÊàèÂÖ•‰æµ+Êó†cp+ÂçáÁ∫ßÊµÅ+Áã¨Áãº+Ê∏∏Êàè„Äë(ÂèàÂêç: Ê∏∏ÊàèÂÖ•‰æµ) ËøôÊòØ‰∏Ä‰∏™ÂÖ≥‰∫éÊ∏∏ÊàèÂÖ•‰æµÁé∞ÂÆûÁöÑÊïÖ‰∫ãÔºå‰∏ªËßíÂú®Ê∏∏Êàè‰∏≠Ëé∑Âæó‰∫ÜÂº∫Â§ßÁöÑËÉΩÂäõÔºåÂºÄÂßã‰∫Ü‰∏ÄÊÆµÊÉäÈô©Âà∫ÊøÄÁöÑÂÜíÈô©‰πãÊóÖ„ÄÇÊïÖ‰∫ãËûçÂêà‰∫ÜÊ∏∏ÊàèÂÖÉÁ¥†ÂíåÁé∞ÂÆû‰∏ñÁïåÔºåÂÖÖÊª°‰∫ÜÊÇ¨ÂøµÂíåÊÉäÂñú„ÄÇ‰∏ªËßí‰ªé‰∏Ä‰∏™ÊôÆÈÄöÁé©ÂÆ∂ÈÄêÊ∏êÊàêÈïø‰∏∫Ê∏∏Êàè‰∏ñÁïåÁöÑÂº∫ËÄÖÔºåÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠‰∏ç‰ªÖË¶ÅÈù¢ÂØπÊ∏∏Êàè‰∏≠ÁöÑÊåëÊàòÔºåËøòË¶ÅÂ§ÑÁêÜÁé∞ÂÆû‰∏ñÁïå‰∏≠ÁöÑÂêÑÁßçÈóÆÈ¢ò„ÄÇ",reviews:[{reviewer:"‰π¶Âèã123456",avatar:"/static/avatar1.png",content:"ÊñáÁ¨îÂâßÊÉÖÂæàÂ•Ω,ÂæàÈöæÂæóÁöÑÂ•≥Âº∫Êó†cpÊ∏∏Êàè‰æµÂÖ•Áé∞ÂÆûÁöÑÊñá,‰∏ñÁïåËßÇËÆæËÆ°ÈÉΩÂæàÊúâÁîªÈù¢ÊÑü,Â•≥‰∏ª‰πüÂæàËÅ™Êòé,Êäì...",readTime:"ÈòÖËØª‰∏çË∂≥30ÂàÜÈíüÂêéÁÇπËØÑ"},{reviewer:"‰π¶Âèã789012",avatar:"/static/avatar2.png",content:"Áé∞Âú®Êõ¥ÁöÑÂÖ®ÈÉ®ÁúãÂÆå‰∫Ü,ÊäÄËÉΩ/ÈÅìÂÖ∑/Â§©ËµãËÆæÂÆöÈÉΩÂ•ΩÊñ∞È¢ñ,‰∏ç‰ºö‰∏ÄÊ†∑ÊúõÂéªÂ∞±ÁåúÁöÑÂ§ßÂ∑Æ‰∏çÂ∑ÆÈ£ü‰πãÊó†Âë≥„ÄÇËÄå‰∏î‰∏ªËßíÁöÑÊàêÈïøË∑ØÁ∫øÂæàÂêàÁêÜÔºåÊØè‰∏™Èò∂ÊÆµÈÉΩÊúâÁõ∏Â∫îÁöÑÊåëÊàòÂíåÊî∂Ëé∑ÔºåËÆ©‰∫∫ÁúãÂæóÂÅú‰∏ç‰∏ãÊù•„ÄÇ",readTime:"ÈòÖËØª3Â∞èÊó∂ÂêéÁÇπËØÑ"}]}};if(e[this.novelId]){const t=e[this.novelId];this.novelData={...this.novelData,...t},this.synopsisExpanded=!1,this.reviewExpanded=new Array(t.reviews.length).fill(!1)}},goBack(){uni.navigateBack()},startListening(){uni.showToast({title:"Âê¨‰π¶ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},followAuthor(){this.isFollowed=!this.isFollowed,uni.showToast({title:this.isFollowed?"ÂÖ≥Ê≥®ÊàêÂäü":"ÂèñÊ∂àÂÖ≥Ê≥®",icon:"success"})},toggleSynopsis(){this.synopsisExpanded=!this.synopsisExpanded},toggleReview(e){this.$set(this.reviewExpanded,e,!this.reviewExpanded[e])},goToMoreReviews(){uni.navigateTo({url:`/pages/feed/novel-more-reviews?novelId=${this.novelId}&title=${encodeURIComponent(this.novelData.title)}&author=${encodeURIComponent(this.novelData.author)}`})},async handleReviewLike(e,t){try{o("log","at pages/feed/novel-detail.vue:492","=== ÂºÄÂßãÂ§ÑÁêÜ‰π¶ËØÑÁÇπËµû ==="),o("log","at pages/feed/novel-detail.vue:493","Áî®Êà∑ID:",this.userId),o("log","at pages/feed/novel-detail.vue:494","ËØÑËÆ∫ID:",e.commentId);const t=await uni.request({url:`http://localhost:8888/api/novel-detail/comment/like?userId=${this.userId}&commentId=${e.commentId}`,method:"POST",header:{"Content-Type":"application/json"}});if(o("log","at pages/feed/novel-detail.vue:504","=== ‰π¶ËØÑÁÇπËµûAPIÂìçÂ∫î ==="),o("log","at pages/feed/novel-detail.vue:505","Áä∂ÊÄÅÁ†Å:",t.statusCode),o("log","at pages/feed/novel-detail.vue:506","ÂìçÂ∫îÊï∞ÊçÆ:",t.data),200===t.statusCode&&t.data.success){const a=t.data.data;e.isLiked=a.isLiked,e.likes=a.likeCount,e.isLiked&&e.isDisliked&&(e.isDisliked=!1,e.dislikes--),uni.showToast({title:a.message,icon:"success",duration:1e3})}else o("error","at pages/feed/novel-detail.vue:527","‰π¶ËØÑÁÇπËµûÂ§±Ë¥•:",t.data.message),uni.showToast({title:t.data.message||"Êìç‰ΩúÂ§±Ë¥•",icon:"error"})}catch(a){o("error","at pages/feed/novel-detail.vue:534","‰π¶ËØÑÁÇπËµûÂºÇÂ∏∏:",a),uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}},handleReviewDislike(e,t){e.isDisliked=!e.isDisliked,e.isDisliked?(e.dislikes++,e.isLiked&&(e.isLiked=!1,e.likes--)):e.dislikes--,uni.showToast({title:e.isDisliked?"ÁÇπË∏©ÊàêÂäü":"ÂèñÊ∂àÁÇπË∏©",icon:"success",duration:1e3})},handleReviewComment(e,t){uni.navigateTo({url:`/pages/feed/novel-more-reviews?novelId=${this.novelId}&title=${encodeURIComponent(this.novelData.title)}&author=${encodeURIComponent(this.novelData.author)}&commentId=${e.commentId}`})},formatCount:e=>e>=1e4?(e/1e4).toFixed(1)+"w":e.toString(),startReading(){o("log","at pages/feed/novel-detail.vue:577","ÂºÄÂßãÊªöÂä®Âà∞Â∞èËØ¥ÂÜÖÂÆπÂå∫Âüü"),this.scrollTop=1200,setTimeout((()=>{uni.pageScrollTo({scrollTop:1120,duration:100})}),50)},onScroll(e){}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"novel-detail-page"},[e.createElementVNode("scroll-view",{class:"content-scroll","scroll-y":"true","scroll-top":i.scrollTop,onScroll:a[5]||(a[5]=(...e)=>n.onScroll&&n.onScroll(...e))},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩÂ∞èËØ¥ËØ¶ÊÉÖ...")])):e.createCommentVNode("",!0),i.hasError&&!i.loading?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"error-actions"},[e.createElementVNode("button",{class:"retry-button",onClick:a[0]||(a[0]=(...e)=>n.loadNovelDetailFromAPI&&n.loadNovelDetailFromAPI(...e))},"ÈáçÊñ∞Âä†ËΩΩ")])])):e.createCommentVNode("",!0),i.hasError||i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2},[e.createElementVNode("view",{class:"novel-cover-section"},[e.createElementVNode("image",{class:"novel-cover",src:i.novelData.coverImage||"",mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"novel-info-section"},[e.createElementVNode("text",{class:"novel-title"},e.toDisplayString(i.novelData.title||"Â∞èËØ¥Âêç"),1),e.createElementVNode("view",{class:"author-section"},[e.createElementVNode("text",{class:"author-name"},e.toDisplayString(i.novelData.author||"Â∞èËØ¥‰ΩúËÄÖ"),1),e.createElementVNode("view",{class:"follow-button",onClick:a[1]||(a[1]=(...e)=>n.followAuthor&&n.followAuthor(...e))},[e.createElementVNode("text",{class:"follow-text"},e.toDisplayString(i.isFollowed?"Â∑≤ÂÖ≥Ê≥®":"+ÂÖ≥Ê≥®"),1)])])]),e.createElementVNode("view",{class:"stats-section"},[e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(i.novelData.rating||"9.5")+"ÂàÜ",1),e.createElementVNode("text",{class:"stat-label"},e.toDisplayString(i.novelData.reviewCount||"11.9‰∏á‰∫∫ÁÇπËØÑ"),1)]),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(i.novelData.readerCount||"157.4‰∏á‰∫∫"),1),e.createElementVNode("text",{class:"stat-label"},"Ê≠£Âú®ÈòÖËØª")]),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(i.novelData.wordCount||"214.7‰∏áÂ≠ó"),1),e.createElementVNode("text",{class:"stat-label"},e.toDisplayString(i.novelData.updateDays||"ËøûÁª≠Êõ¥Êñ∞268Â§©"),1)])]),e.createElementVNode("view",{class:"synopsis-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"ÁÆÄ‰ªã")]),e.createElementVNode("view",{class:"tags-container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.novelData.tags,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"tag",key:a},[e.createElementVNode("text",{class:"tag-text"},e.toDisplayString(t),1)])))),128))]),e.createElementVNode("view",{class:"synopsis-content"},[e.createElementVNode("text",{class:e.normalizeClass(["synopsis-text",{expanded:i.synopsisExpanded}])},e.toDisplayString(i.novelData.synopsis||"„ÄêÊ∏∏ÊàèÂÖ•‰æµ+unp+ÂçáÁ∫ßÊµÅ+Áã¨Áãº+Ê∏∏Êàè„Äë(ÂèàÂêç: Ê∏∏ÊàèÂÖ•‰æµ) ËøôÊòØ‰∏Ä‰∏™ÂÖ≥‰∫éÊ∏∏ÊàèÂÖ•‰æµÁé∞ÂÆûÁöÑÊïÖ‰∫ãÔºå‰∏ªËßíÂú®Ê∏∏Êàè‰∏≠Ëé∑Âæó‰∫ÜÂº∫Â§ßÁöÑËÉΩÂäõÔºåÂºÄÂßã‰∫Ü‰∏ÄÊÆµÊÉäÈô©Âà∫ÊøÄÁöÑÂÜíÈô©‰πãÊóÖ„ÄÇÊïÖ‰∫ãËûçÂêà‰∫ÜÊ∏∏ÊàèÂÖÉÁ¥†ÂíåÁé∞ÂÆû‰∏ñÁïåÔºåÂÖÖÊª°‰∫ÜÊÇ¨ÂøµÂíåÊÉäÂñú„ÄÇ‰∏ªËßí‰ªé‰∏Ä‰∏™ÊôÆÈÄöÁé©ÂÆ∂ÈÄêÊ∏êÊàêÈïø‰∏∫Ê∏∏Êàè‰∏ñÁïåÁöÑÂº∫ËÄÖÔºåÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠‰∏ç‰ªÖË¶ÅÈù¢ÂØπÊ∏∏Êàè‰∏≠ÁöÑÊåëÊàòÔºåËøòË¶ÅÂ§ÑÁêÜÁé∞ÂÆû‰∏ñÁïå‰∏≠ÁöÑÂêÑÁßçÈóÆÈ¢ò„ÄÇ"),3),i.novelData.synopsis&&i.novelData.synopsis.length>80?(e.openBlock(),e.createElementBlock("view",{key:0,class:"expand-button",onClick:a[2]||(a[2]=(...e)=>n.toggleSynopsis&&n.toggleSynopsis(...e))},[e.createElementVNode("text",{class:"expand-text"},e.toDisplayString(i.synopsisExpanded?"Êî∂Ëµ∑":"Â±ïÂºÄ"),1)])):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"reviews-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"ÁÉ≠Èó®‰π¶ËØÑ"),e.createElementVNode("view",{class:"more-reviews",onClick:a[3]||(a[3]=(...e)=>n.goToMoreReviews&&n.goToMoreReviews(...e))},[e.createElementVNode("text",{class:"more-text"},"Êõ¥Â§ö‰π¶ËØÑ")])]),i.novelData.reviews&&i.novelData.reviews.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"reviews-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.novelData.reviews,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"review-item",key:a},[e.createElementVNode("view",{class:"review-header"},[e.createElementVNode("image",{class:"reviewer-avatar",src:t.avatar||"/static/avatar-default.png",mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"review-info"},[e.createElementVNode("text",{class:"reviewer-name"},e.toDisplayString(t.reviewer),1),e.createElementVNode("view",{class:"review-rating"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.rating,(t=>(e.openBlock(),e.createElementBlock("text",{class:"star",key:t},"‚òÖ")))),128)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(5-t.rating,(t=>(e.openBlock(),e.createElementBlock("text",{class:"star empty",key:t},"‚òÜ")))),128))]),e.createElementVNode("text",{class:"review-time"},e.toDisplayString(t.time),1)])]),e.createElementVNode("text",{class:e.normalizeClass(["review-content",{expanded:i.reviewExpanded[a]}])},e.toDisplayString(t.content),3),t.content&&t.content.length>80?(e.openBlock(),e.createElementBlock("view",{key:0,class:"expand-button",onClick:e=>n.toggleReview(a)},[e.createElementVNode("text",{class:"expand-text"},e.toDisplayString(i.reviewExpanded[a]?"Êî∂Ëµ∑":"Â±ïÂºÄ"),1)],8,["onClick"])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"review-actions"},[e.createElementVNode("view",{class:"action-item",onClick:e.withModifiers((e=>n.handleReviewLike(t,a)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["action-icon",{active:t.isLiked}])},"üëç",2),e.createElementVNode("text",{class:e.normalizeClass(["action-count",{active:t.isLiked}])},e.toDisplayString(n.formatCount(t.likes)),3)],8,["onClick"]),e.createElementVNode("view",{class:"action-item",onClick:e.withModifiers((e=>n.handleReviewDislike(t,a)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["action-icon",{active:t.isDisliked}])},"üëé",2),e.createElementVNode("text",{class:e.normalizeClass(["action-count",{active:t.isDisliked}])},e.toDisplayString(n.formatCount(t.dislikes)),3)],8,["onClick"]),e.createElementVNode("view",{class:"action-item",onClick:e.withModifiers((e=>n.handleReviewComment(t,a)),["stop"])},[e.createElementVNode("text",{class:"action-icon"},"üí¨"),e.createElementVNode("text",{class:"action-count"},e.toDisplayString(n.formatCount(t.comments)),1)],8,["onClick"])])])))),128))])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"no-reviews"},[e.createElementVNode("text",{class:"no-reviews-text"},'ÊöÇÊó†‰π¶ËØÑÔºåÁÇπÂáª"Êõ¥Â§ö‰π¶ËØÑ"Êü•ÁúãÂÖ®ÈÉ®')]))]),e.createElementVNode("view",{class:"read-button-container"},[e.createElementVNode("view",{class:"read-button",onClick:a[4]||(a[4]=(...e)=>n.startReading&&n.startReading(...e))},[e.createElementVNode("view",{class:"arrow-up"}),e.createElementVNode("text",{class:"read-text"},"‰∏äÊªëÂºÄÂßãÈòÖËØª")])]),e.createElementVNode("view",{class:"novel-content-section"},[e.createElementVNode("view",{class:"chapter-title"},[e.createElementVNode("text",{class:"chapter-text"},"Á¨¨‰∏ÄÁ´† ÂÖ∞‰∫≠Â∫èÂÖ®ÊñáÔºàÊôãÔºâÁéãÁæ≤‰πã")]),e.createElementVNode("view",{class:"novel-text"},[e.createElementVNode("text",{class:"novel-paragraph"},"Ê∞∏Âíå‰πùÂπ¥ÔºåÂ≤ÅÂú®Áô∏‰∏ëÔºåÊöÆÊò•‰πãÂàùÔºå‰ºö‰∫é‰ºöÁ®ΩÂ±±Èò¥‰πãÂÖ∞‰∫≠Ôºå‰øÆÁ¶ä‰∫ã‰πü„ÄÇÁæ§Ë¥§ÊØïËá≥ÔºåÂ∞ëÈïøÂí∏ÈõÜ„ÄÇ"),e.createElementVNode("text",{class:"novel-paragraph"},"Ê≠§Âú∞ÊúâÂ¥áÂ±±Â≥ªÂ≤≠ÔºåËåÇÊûó‰øÆÁ´πÔºõÂèàÊúâÊ∏ÖÊµÅÊøÄÊπçÔºåÊò†Â∏¶Â∑¶Âè≥ÔºåÂºï‰ª•‰∏∫ÊµÅËßûÊõ≤Ê∞¥ÔºåÂàóÂùêÂÖ∂Ê¨°„ÄÇËôΩÊó†‰∏ùÁ´πÁÆ°Âº¶‰πãÁõõÔºå‰∏ÄËßû‰∏ÄÂíèÔºå‰∫¶Ë∂≥‰ª•ÁïÖÂèôÂπΩÊÉÖ„ÄÇ"),e.createElementVNode("text",{class:"novel-paragraph"},"ÊòØÊó•‰πüÔºåÂ§©ÊúóÊ∞îÊ∏ÖÔºåÊÉ†È£éÂíåÁïÖÔºå‰ª∞ËßÇÂÆáÂÆô‰πãÂ§ßÔºå‰øØÂØüÂìÅÁ±ª‰πãÁõõÔºåÊâÄ‰ª•Ê∏∏ÁõÆÈ™ãÊÄÄÔºåË∂≥‰ª•ÊûÅËßÜÂê¨‰πãÂ®±Ôºå‰ø°ÂèØ‰πê‰πü„ÄÇ"),e.createElementVNode("text",{class:"novel-paragraph"},"Â§´‰∫∫‰πãÁõ∏‰∏éÔºå‰øØ‰ª∞‰∏Ä‰∏ñÔºåÊàñÂèñËØ∏ÊÄÄÊä±ÔºåÊô§Ë®Ä‰∏ÄÂÆ§‰πãÂÜÖÔºõÊàñÂõ†ÂØÑÊâÄÊâòÔºåÊîæÊµ™ÂΩ¢È™∏‰πãÂ§ñ„ÄÇËôΩÂèñËàç‰∏áÊÆäÔºåÈùôË∫Å‰∏çÂêåÔºåÂΩìÂÖ∂Ê¨£‰∫éÊâÄÈÅáÔºåÊöÇÂæó‰∫éÂ∑±ÔºåÂø´ÁÑ∂Ëá™Ë∂≥Ôºå‰∏çÁü•ËÄÅ‰πãÂ∞ÜËá≥„ÄÇ"),e.createElementVNode("text",{class:"novel-paragraph"},"ÂèäÂÖ∂ÊâÄ‰πãÊó¢ÂÄ¶ÔºåÊÉÖÈöè‰∫ãËøÅÔºåÊÑüÊÖ®Á≥ª‰πãÁü£„ÄÇÂêë‰πãÊâÄÊ¨£Ôºå‰øØ‰ª∞‰πãÈó¥ÔºåÂ∑≤‰∏∫ÈôàËøπÔºåÁäπ‰∏çËÉΩ‰∏ç‰ª•‰πãÂÖ¥ÊÄÄ„ÄÇÂÜµ‰øÆÁü≠ÈöèÂåñÔºåÁªàÊúü‰∫éÂ∞Ω„ÄÇ"),e.createElementVNode("text",{class:"novel-paragraph"},'Âè§‰∫∫‰∫ëÔºö"Ê≠ªÁîü‰∫¶Â§ßÁü£„ÄÇ"Â≤Ç‰∏çÁóõÂìâÔºÅÊØèËßàÊòî‰∫∫ÂÖ¥ÊÑü‰πãÁî±ÔºåËã•Âêà‰∏ÄÂ•ëÔºåÊú™Â∞ù‰∏ç‰∏¥ÊñáÂóüÊÇºÔºå‰∏çËÉΩÂñª‰πã‰∫éÊÄÄ„ÄÇ'),e.createElementVNode("text",{class:"novel-paragraph"},"Âõ∫Áü•‰∏ÄÊ≠ªÁîü‰∏∫ËôöËØûÔºåÈΩêÂΩ≠ÊÆá‰∏∫Â¶Ñ‰Ωú„ÄÇÂêé‰πãËßÜ‰ªäÔºå‰∫¶Áäπ‰ªä‰πãËßÜÊòî„ÄÇ"),e.createElementVNode("text",{class:"novel-paragraph"},"ÊÇ≤Â§´ÔºÅÊïÖÂàóÂèôÊó∂‰∫∫ÔºåÂΩïÂÖ∂ÊâÄËø∞ÔºåËôΩ‰∏ñÊÆä‰∫ãÂºÇÔºåÊâÄ‰ª•ÂÖ¥ÊÄÄÔºåÂÖ∂Ëá¥‰∏Ä‰πü„ÄÇÂêé‰πãËßàËÄÖÔºå‰∫¶Â∞ÜÊúâÊÑü‰∫éÊñØÊñá„ÄÇ")])]),e.createElementVNode("view",{class:"bottom-spacer"})]))],40,["scroll-top"])])}]]);const P=a({name:"NovelMoreReviewsPage",data:()=>({novelId:"",novelTitle:"",novelAuthor:"",userId:1000100,isRefreshing:!1,showRefreshIndicator:!1,refreshText:"‰∏ãÊãâÂà∑Êñ∞",pullDistance:0,commentText:"",replyToComment:null,replyToReply:null,showShare:!1,loading:!1,hasError:!1,errorMessage:"",shareFriends:[{name:"Â•∂ÁªøÂÜ∞ÈòîËêΩ",avatar:"/static/avatar-default.png"},{name:"ÊàëÊÉ≥Ê¨°ÁÇ∏È∏°",avatar:"/static/avatar-default.png"},{name:"ÂåøÂêç‰∏∫Êüê",avatar:"/static/avatar-default.png"},{name:"Â∫∑Â∑≤Â•Ä",avatar:"/static/avatar-default.png"},{name:"Â∞èËèúÂàÄÂæ°",avatar:"/static/avatar-default.png"},{name:"Ë∂ÖÁ∫ßÂ•Ω",avatar:"/static/avatar-default.png"},{name:"QQÂ•ΩÂèã‰∏É",avatar:"/static/avatar-default.png"}],reviews:[]}),onLoad(e){o("log","at pages/feed/novel-more-reviews.vue:245","=== Êõ¥Â§ö‰π¶ËØÑÈ°µÈù¢Âä†ËΩΩ ==="),o("log","at pages/feed/novel-more-reviews.vue:246","Êé•Êî∂Âà∞ÁöÑÂèÇÊï∞:",e),e.novelId&&(this.novelId=e.novelId),e.title&&(this.novelTitle=decodeURIComponent(e.title)),e.author&&(this.novelAuthor=decodeURIComponent(e.author)),e.userId&&(this.userId=parseInt(e.userId)),this.novelId&&this.loadNovelReviews()},methods:{async loadNovelReviews(){try{o("log","at pages/feed/novel-more-reviews.vue:271","=== ÂºÄÂßã‰ªéÂêéÁ´ØÂä†ËΩΩ‰π¶ËØÑÊï∞ÊçÆ ==="),o("log","at pages/feed/novel-more-reviews.vue:272","Â∞èËØ¥ID:",this.novelId),this.loading=!0,this.hasError=!1,this.errorMessage="";const e=await uni.request({url:`http://localhost:8888/api/novel-detail/reviews?novelId=${this.novelId}&userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/feed/novel-more-reviews.vue:286","=== ‰π¶ËØÑAPIÂìçÂ∫îËØ¶ÊÉÖ ==="),o("log","at pages/feed/novel-more-reviews.vue:287","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/feed/novel-more-reviews.vue:288","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data.success?(this.reviews=e.data.data||[],o("log","at pages/feed/novel-more-reviews.vue:292","ÊàêÂäüÂä†ËΩΩ‰π¶ËØÑÊï∞ÊçÆÔºåÂÖ±",this.reviews.length,"Êù°"),0===this.reviews.length&&(this.hasError=!0,this.errorMessage="ÊöÇÊó†‰π¶ËØÑÊï∞ÊçÆ")):(o("error","at pages/feed/novel-more-reviews.vue:299","Âä†ËΩΩ‰π¶ËØÑÊï∞ÊçÆÂ§±Ë¥•:",e.data.message),this.hasError=!0,this.errorMessage=e.data.message||"Âä†ËΩΩ‰π¶ËØÑÊï∞ÊçÆÂ§±Ë¥•")}catch(e){o("error","at pages/feed/novel-more-reviews.vue:304","Âä†ËΩΩ‰π¶ËØÑÊï∞ÊçÆÂºÇÂ∏∏:",e),this.hasError=!0,this.errorMessage="ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËÆæÁΩÆ"}finally{this.loading=!1}},goBack(){uni.navigateBack()},goToReviewDetail(e,t){uni.navigateTo({url:`/pages/feed/review-detail?id=${t}&reviewer=${encodeURIComponent(e.reviewer)}&content=${encodeURIComponent(e.content)}&rating=${e.rating}&time=${encodeURIComponent(e.time)}&likes=${e.likes}&dislikes=${e.dislikes}&comments=${e.comments}`})},showShare(){this.showShare=!0},hideSharePopup(){this.showShare=!1},shareToWechat(){uni.showToast({title:"ÂàÜ‰∫´Âà∞ÂæÆ‰ø°",icon:"none"}),this.hideSharePopup()},shareToMoments(){uni.showToast({title:"ÂàÜ‰∫´Âà∞ÊúãÂèãÂúà",icon:"none"}),this.hideSharePopup()},shareToDouyin(){uni.showToast({title:"ÂàÜ‰∫´Âà∞ÊäñÈü≥Â•ΩÂèã",icon:"none"}),this.hideSharePopup()},shareToDouyinPost(){uni.showToast({title:"ÂèëÂ∏ÉÂà∞ÊäñÈü≥",icon:"none"}),this.hideSharePopup()},shareToQQ(){uni.showToast({title:"ÂàÜ‰∫´Âà∞QQ",icon:"none"}),this.hideSharePopup()},shareAction(e){uni.showToast({title:{comment:"ËØÑËÆ∫ËÆæÁΩÆ",gift:"ÈÄÅÁ§ºÁâ©",bookmark:"Ê∑ªÂä†‰π¶Á≠æ",search:"ÂÖ®ÊñáÊêúÁ¥¢",report:"‰∏æÊä•‰∏éÂèçÈ¶à"}[e]||"ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"}),this.hideSharePopup()},shareToFriend(e){uni.showToast({title:`ÂàÜ‰∫´Áªô${e.name}`,icon:"none"}),this.hideSharePopup()},async handleLike(e){const t=this.reviews[e];if(t&&t.commentId)try{o("log","at pages/feed/novel-more-reviews.vue:410","=== ÂºÄÂßãÂ§ÑÁêÜ‰π¶ËØÑÁÇπËµû ==="),o("log","at pages/feed/novel-more-reviews.vue:411","Áî®Êà∑ID:",this.userId),o("log","at pages/feed/novel-more-reviews.vue:412","ËØÑËÆ∫ID:",t.commentId);const e=await uni.request({url:`http://localhost:8888/api/novel-detail/comment/like?userId=${this.userId}&commentId=${t.commentId}`,method:"POST",header:{"Content-Type":"application/json"}});if(o("log","at pages/feed/novel-more-reviews.vue:422","=== ‰π¶ËØÑÁÇπËµûAPIÂìçÂ∫î ==="),o("log","at pages/feed/novel-more-reviews.vue:423","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/feed/novel-more-reviews.vue:424","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data.success){const a=e.data.data;t.isLiked=a.isLiked,t.likes=a.likeCount,t.isLiked&&t.isDisliked&&(t.isDisliked=!1,t.dislikes--),uni.showToast({title:a.message,icon:"success",duration:1e3})}else o("error","at pages/feed/novel-more-reviews.vue:445","‰π¶ËØÑÁÇπËµûÂ§±Ë¥•:",e.data.message),uni.showToast({title:e.data.message||"Êìç‰ΩúÂ§±Ë¥•",icon:"error"})}catch(a){o("error","at pages/feed/novel-more-reviews.vue:452","‰π¶ËØÑÁÇπËµûÂºÇÂ∏∏:",a),uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}else uni.showToast({title:"ËØÑËÆ∫ID‰∏çÂ≠òÂú®",icon:"error"})},handleDislike(e){const t=this.reviews[e];t&&"object"==typeof t&&(t.isDisliked=!t.isDisliked,t.isDisliked?(t.dislikes++,t.isLiked&&(t.isLiked=!1,t.likes--)):t.dislikes--)},handleComment(e){const t=this.reviews[e];t&&(this.replyToComment=t,this.replyToReply=null,this.commentText="",this.$nextTick((()=>{const e=uni.createSelectorQuery().select(".comment-input");e&&e.focus()})))},previewImage(e,t){uni.previewImage({urls:e,current:t})},getImageGridClass:e=>1===e?"single-image":2===e?"two-images":3===e?"three-images":"grid-images",formatCount:e=>e>=1e4?(e/1e4).toFixed(1)+"w":e.toString(),handleFavorite(e){e.isFavorited=!e.isFavorited,e.isFavorited?e.favorites++:e.favorites--},onInputFocus(){this.inputFocus=!0},onInputBlur(){this.inputFocus=!1},submitComment(){if(this.commentText.trim()){if(this.replyToComment){const e={username:"Êàë",userAvatar:"/static/avatar3.png",time:"ÂàöÂàö",content:this.commentText,likes:0,isLiked:!1,replyTo:this.replyToReply?this.replyToReply.username:this.replyToComment.reviewer};this.replyToComment.replies||(this.replyToComment.replies=[]),this.replyToComment.replies.push(e),this.replyToComment=null,this.replyToReply=null,uni.showToast({title:"ÂõûÂ§çÊàêÂäü",icon:"success"})}else{const e={reviewer:"Êàë",avatar:"/static/avatar3.png",rating:5,content:this.commentText,time:"ÂàöÂàö",likes:0,dislikes:0,comments:0,isLiked:!1,isDisliked:!1,replies:[]};this.reviews.unshift(e),uni.showToast({title:"ËØÑËÆ∫ÊàêÂäü",icon:"success"})}this.commentText=""}else uni.showToast({title:"ËØ∑ËæìÂÖ•ËØÑËÆ∫ÂÜÖÂÆπ",icon:"none"})},cancelReply(){o("log","at pages/feed/novel-more-reviews.vue:610","ÂèñÊ∂àÂõûÂ§ç"),this.commentText="",this.replyToComment=null,this.replyToReply=null},getInputPlaceholder(){return this.replyToComment?this.replyToReply?`ÂõûÂ§ç @${this.replyToReply.username}...`:`ÂõûÂ§ç @${this.replyToComment.reviewer}...`:"ËØ¥ÁÇπ‰ªÄ‰πà..."},async onRefresh(){o("log","at pages/feed/novel-more-reviews.vue:630","ÂºÄÂßãÂà∑Êñ∞‰π¶ËØÑÊï∞ÊçÆ"),this.isRefreshing=!0,this.refreshText="Ê≠£Âú®Âà∑Êñ∞...";try{await this.loadNovelReviews(),this.isRefreshing=!1,this.refreshText="Âà∑Êñ∞ÂÆåÊàê",uni.showToast({title:"Âà∑Êñ∞ÊàêÂäü",icon:"success"}),setTimeout((()=>{this.showRefreshIndicator=!1}),1e3)}catch(e){o("error","at pages/feed/novel-more-reviews.vue:652","Âà∑Êñ∞‰π¶ËØÑÊï∞ÊçÆÂ§±Ë¥•:",e),this.isRefreshing=!1,this.refreshText="Âà∑Êñ∞Â§±Ë¥•",uni.showToast({title:"Âà∑Êñ∞Â§±Ë¥•",icon:"error"}),setTimeout((()=>{this.showRefreshIndicator=!1}),1e3)}},onPulling(e){this.pullDistance=e.detail.dy,e.detail.dy>50?(this.showRefreshIndicator=!0,this.refreshText="ÈáäÊîæÂà∑Êñ∞"):this.refreshText="‰∏ãÊãâÂà∑Êñ∞"},onRestore(){o("log","at pages/feed/novel-more-reviews.vue:680","Âà∑Êñ∞Âô®Â§ç‰Ωç"),this.showRefreshIndicator=!1},onAbort(){o("log","at pages/feed/novel-more-reviews.vue:686","Âà∑Êñ∞Âô®‰∏≠Ê≠¢"),this.showRefreshIndicator=!1}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"more-reviews-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-button",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[e.createElementVNode("view",{class:"back-arrow"})]),e.createElementVNode("view",{class:"header-title"},[e.createElementVNode("text",{class:"title-text"},"ÁÉ≠Èó®‰π¶ËØÑ")]),e.createElementVNode("view",{class:"share-button",onClick:a[1]||(a[1]=(...e)=>n.showShare&&n.showShare(...e))},[e.createElementVNode("text",{class:"share-icon"},"üì§")])]),e.createElementVNode("view",{class:"novel-card"},[e.createElementVNode("view",{class:"novel-info"},[e.createElementVNode("image",{class:"novel-cover",src:t.novelCover||"/static/novel-cover.jpg",mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"novel-details"},[e.createElementVNode("text",{class:"novel-title"},e.toDisplayString(i.novelTitle||"Â∞èËØ¥Ê†áÈ¢ò"),1),e.createElementVNode("text",{class:"novel-author"},e.toDisplayString(i.novelAuthor||"‰ΩúËÄÖ"),1),e.createElementVNode("view",{class:"novel-stats"},[e.createElementVNode("text",{class:"rating"},e.toDisplayString(t.novelRating||"9.5")+"ÂàÜ",1),e.createElementVNode("text",{class:"reader-count"},e.toDisplayString(t.readerCount||"157.4‰∏á‰∫∫Âú®ËØª"),1)])])])]),e.createElementVNode("scroll-view",{class:"reviews-scroll","scroll-y":"true","refresher-enabled":"true","refresher-triggered":i.isRefreshing,onRefresherrefresh:a[3]||(a[3]=(...e)=>n.onRefresh&&n.onRefresh(...e))},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩ‰π¶ËØÑÊï∞ÊçÆ...")])):e.createCommentVNode("",!0),i.hasError&&!i.loading?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"error-actions"},[e.createElementVNode("button",{class:"retry-button",onClick:a[2]||(a[2]=(...e)=>n.loadNovelReviews&&n.loadNovelReviews(...e))},"ÈáçÊñ∞Âä†ËΩΩ")])])):e.createCommentVNode("",!0),i.hasError||i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2},[i.showRefreshIndicator?(e.openBlock(),e.createElementBlock("view",{key:0,class:"refresh-indicator"},[e.createElementVNode("view",{class:e.normalizeClass(["refresh-circle",{refreshing:i.isRefreshing}])},[i.isRefreshing?(e.openBlock(),e.createElementBlock("view",{key:1,class:"refresh-spinner"})):(e.openBlock(),e.createElementBlock("view",{key:0,class:"refresh-arrow"}))],2),e.createElementVNode("text",{class:"refresh-text"},e.toDisplayString(i.refreshText),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"reviews-container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.reviews,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"review-item",key:a},[e.createElementVNode("view",{class:"review-header"},[e.createElementVNode("image",{class:"reviewer-avatar",src:t.avatar,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"reviewer-info"},[e.createElementVNode("text",{class:"reviewer-name"},e.toDisplayString(t.reviewer),1),e.createElementVNode("view",{class:"review-meta"},[e.createElementVNode("view",{class:"rating-stars"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.rating,(t=>(e.openBlock(),e.createElementBlock("text",{class:"star",key:t},"‚òÖ")))),128)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(5-t.rating,(t=>(e.openBlock(),e.createElementBlock("text",{class:"star empty",key:t},"‚òÜ")))),128))]),e.createElementVNode("text",{class:"review-time"},e.toDisplayString(t.time),1)])])]),e.createElementVNode("view",{class:"review-content"},[e.createElementVNode("text",{class:"review-text"},e.toDisplayString(t.content),1)]),e.createElementVNode("view",{class:"engagement-metrics"},[e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleLike(a)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:t.isLiked}])},"üëç",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:t.isLiked}])},e.toDisplayString(n.formatCount(t.likes)),3)],8,["onClick"]),e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleDislike(a)),["stop"])},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:t.isDisliked}])},"üëé",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:t.isDisliked}])},e.toDisplayString(n.formatCount(t.dislikes)),3)],8,["onClick"]),e.createElementVNode("view",{class:"metric-item",onClick:e.withModifiers((e=>n.handleComment(a)),["stop"])},[e.createElementVNode("text",{class:"metric-icon"},"üí¨"),e.createElementVNode("text",{class:"metric-count"},e.toDisplayString(n.formatCount(t.comments)),1)],8,["onClick"])]),t.replies&&t.replies.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"replies-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.replies,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"reply-item",key:a},[e.createElementVNode("view",{class:"reply-avatar"},[e.createElementVNode("image",{class:"reply-user-avatar",src:t.userAvatar,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"reply-content"},[e.createElementVNode("view",{class:"reply-user-info"},[e.createElementVNode("text",{class:"reply-username"},e.toDisplayString(t.username),1),e.createElementVNode("text",{class:"reply-time"},e.toDisplayString(t.time),1)]),e.createElementVNode("text",{class:"reply-text"},[e.createElementVNode("text",{class:"reply-to"},"ÂõûÂ§ç @"+e.toDisplayString(t.replyTo)+"Ôºö",1),e.createTextVNode(" "+e.toDisplayString(t.content),1)])])])))),128))])):e.createCommentVNode("",!0)])))),128))])]))],40,["refresher-triggered"]),e.createElementVNode("view",{class:"comment-input-section"},[e.createElementVNode("view",{class:"comment-input-container"},[e.withDirectives(e.createElementVNode("input",{class:"comment-input","onUpdate:modelValue":a[4]||(a[4]=e=>i.commentText=e),placeholder:n.getInputPlaceholder(),onFocus:a[5]||(a[5]=(...e)=>n.onInputFocus&&n.onInputFocus(...e)),onBlur:a[6]||(a[6]=(...e)=>n.onInputBlur&&n.onInputBlur(...e))},null,40,["placeholder"]),[[e.vModelText,i.commentText]]),i.replyToComment?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cancel-reply-btn",onClick:a[7]||(a[7]=(...e)=>n.cancelReply&&n.cancelReply(...e))},[e.createElementVNode("text",{class:"cancel-reply-text"},"ÂèñÊ∂à")])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["send-button",{active:i.commentText.trim()}]),onClick:a[8]||(a[8]=(...e)=>n.submitComment&&n.submitComment(...e))},[e.createElementVNode("text",{class:"send-text"},"ÂèëÈÄÅ")],2)])]),n.showShare?(e.openBlock(),e.createElementBlock("view",{key:0,class:"share-popup",onClick:a[16]||(a[16]=(...e)=>n.hideSharePopup&&n.hideSharePopup(...e))},[e.createElementVNode("view",{class:"share-content",onClick:a[15]||(a[15]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"share-header"},[e.createElementVNode("text",{class:"share-title"},"ÂàÜ‰∫´Âà∞"),e.createElementVNode("view",{class:"share-close",onClick:a[9]||(a[9]=(...e)=>n.hideSharePopup&&n.hideSharePopup(...e))},[e.createElementVNode("text",{class:"close-icon"},"√ó")])]),e.createElementVNode("view",{class:"share-friends"},[e.createElementVNode("scroll-view",{class:"friends-scroll","scroll-x":"true"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.shareFriends,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"friend-item",key:a,onClick:e=>n.shareToFriend(t)},[e.createElementVNode("view",{class:"friend-avatar"},[e.createElementVNode("image",{class:"friend-avatar-img",src:t.avatar,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("text",{class:"friend-name"},e.toDisplayString(t.name.length>3?t.name.substring(0,3)+"...":t.name),1)],8,["onClick"])))),128))])]),e.createElementVNode("view",{class:"share-options"},[e.createElementVNode("view",{class:"share-option",onClick:a[10]||(a[10]=(...e)=>n.shareToWechat&&n.shareToWechat(...e))},[e.createElementVNode("view",{class:"share-icon-bg wechat"},[e.createElementVNode("image",{class:"share-icon-img",src:I,mode:"aspectFit"})]),e.createElementVNode("text",{class:"share-option-text"},"ÂæÆ‰ø°")]),e.createElementVNode("view",{class:"share-option",onClick:a[11]||(a[11]=(...e)=>n.shareToMoments&&n.shareToMoments(...e))},[e.createElementVNode("view",{class:"share-icon-bg moments"},[e.createElementVNode("image",{class:"share-icon-img",src:I,mode:"aspectFit"})]),e.createElementVNode("text",{class:"share-option-text"},"ÊúãÂèãÂúà")]),e.createElementVNode("view",{class:"share-option",onClick:a[12]||(a[12]=(...e)=>n.shareToDouyin&&n.shareToDouyin(...e))},[e.createElementVNode("view",{class:"share-icon-bg douyin"},[e.createElementVNode("image",{class:"share-icon-img",src:B,mode:"aspectFit"})]),e.createElementVNode("text",{class:"share-option-text"},"ÊäñÈü≥Â•ΩÂèã")]),e.createElementVNode("view",{class:"share-option",onClick:a[13]||(a[13]=(...e)=>n.shareToDouyinPost&&n.shareToDouyinPost(...e))},[e.createElementVNode("view",{class:"share-icon-bg douyin-post"},[e.createElementVNode("image",{class:"share-icon-img",src:B,mode:"aspectFit"})]),e.createElementVNode("text",{class:"share-option-text"},"ÂèëÂ∏ÉÂà∞ÊäñÈü≥")]),e.createElementVNode("view",{class:"share-option",onClick:a[14]||(a[14]=(...e)=>n.shareToQQ&&n.shareToQQ(...e))},[e.createElementVNode("view",{class:"share-icon-bg qq"},[e.createElementVNode("image",{class:"share-icon-img",src:D,mode:"aspectFit"})]),e.createElementVNode("text",{class:"share-option-text"},"QQ")])])])])):e.createCommentVNode("",!0)])}]]);const A=a({name:"ReviewDetailPage",data:()=>({reviewDetail:{id:"",reviewer:"",avatar:"",rating:5,content:"",time:"",likes:0,dislikes:0,favorites:0,isLiked:!1,isDisliked:!1,isFavorited:!1,isFollowed:!1,comments:[],images:[]},commentText:"",showMoreModal:!1,scrollTop:0,replyToComment:null,replyToReply:null,postId:null,postType:"text",userId:1000100,loading:!1,hasError:!1,errorMessage:""}),onLoad(e){if(o("log","at pages/feed/review-detail.vue:241","È°µÈù¢Âä†ËΩΩÂèÇÊï∞:",e),void 0!==e.postId)this.postId=parseInt(e.postId),this.postType=e.postType||"text",this.userId=parseInt(e.userId)||1000100,o("log","at pages/feed/review-detail.vue:247","Ëß£ÊûêÂêéÁöÑÂèÇÊï∞ - postId:",this.postId,"postType:",this.postType,"userId:",this.userId),this.loadPostDetail();else if(void 0!==e.id){o("log","at pages/feed/review-detail.vue:252","Ëß£ÊûêÂêéÁöÑreviewId:",parseInt(e.id)),this.loadReviewDetail(e)}else o("log","at pages/feed/review-detail.vue:255","‰ΩøÁî®ÈªòËÆ§Êï∞ÊçÆ"),this.loadDefaultReviewDetail()},methods:{async loadPostDetail(){try{o("log","at pages/feed/review-detail.vue:263","=== ÂºÄÂßãÂä†ËΩΩÂ∏ñÂ≠êËØ¶ÊÉÖÊï∞ÊçÆ ==="),o("log","at pages/feed/review-detail.vue:264","Â∏ñÂ≠êID:",this.postId),o("log","at pages/feed/review-detail.vue:265","Â∏ñÂ≠êÁ±ªÂûã:",this.postType),o("log","at pages/feed/review-detail.vue:266","Áî®Êà∑ID:",this.userId),o("log","at pages/feed/review-detail.vue:267","ËØ∑Ê±ÇURL:",`http://localhost:8888/api/post-detail/data?postId=${this.postId}&postType=${this.postType}&userId=${this.userId}`),this.loading=!0,this.hasError=!1,this.errorMessage="";const e=await uni.request({url:`http://localhost:8888/api/post-detail/data?postId=${this.postId}&postType=${this.postType}&userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/feed/review-detail.vue:281","=== APIÂìçÂ∫îËØ¶ÊÉÖ ==="),o("log","at pages/feed/review-detail.vue:282","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/feed/review-detail.vue:283","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data.success){const t=e.data.data;o("log","at pages/feed/review-detail.vue:287","Ëé∑ÂèñÂà∞ÁöÑÂ∏ñÂ≠êÊï∞ÊçÆ:",t),this.reviewDetail={id:t.id,reviewer:t.reviewer,avatar:t.avatar,rating:t.rating,content:t.content,time:t.time,likes:t.likes,dislikes:t.dislikes,favorites:t.favorites,isLiked:t.isLiked,isDisliked:t.isDisliked,isFavorited:t.isFavorited,isFollowed:t.isFollowed,comments:t.comments||[],images:t.images||[]},o("log","at pages/feed/review-detail.vue:308","Â∏ñÂ≠êËØ¶ÊÉÖÊï∞ÊçÆÂä†ËΩΩÊàêÂäü"),uni.showToast({title:"Êï∞ÊçÆÂä†ËΩΩÊàêÂäü",icon:"success",duration:1500})}else o("error","at pages/feed/review-detail.vue:316","Âä†ËΩΩÂ∏ñÂ≠êËØ¶ÊÉÖÊï∞ÊçÆÂ§±Ë¥•:",e.data.message),this.hasError=!0,this.errorMessage=e.data.message||"Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•",uni.showToast({title:"Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•",icon:"error"})}catch(e){o("error","at pages/feed/review-detail.vue:325","Âä†ËΩΩÂ∏ñÂ≠êËØ¶ÊÉÖÊï∞ÊçÆÂºÇÂ∏∏:",e),this.hasError=!0,this.errorMessage="ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËÆæÁΩÆ",uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}finally{this.loading=!1}},loadReviewDetail(e){o("log","at pages/feed/review-detail.vue:339","ÂºÄÂßãÂä†ËΩΩ‰π¶ËØÑËØ¶ÊÉÖÔºåÂèÇÊï∞:",e),this.reviewDetail={id:e.id||0,reviewer:decodeURIComponent(e.reviewer||""),avatar:"/static/avatar1.png",rating:parseInt(e.rating)||5,content:decodeURIComponent(e.content||""),time:decodeURIComponent(e.time||""),likes:parseInt(e.likes)||0,dislikes:parseInt(e.dislikes)||0,favorites:0,isLiked:!1,isDisliked:!1,isFavorited:!1,isFollowed:!1,comments:this.generateMockComments()},o("log","at pages/feed/review-detail.vue:359","Âä†ËΩΩÁöÑ‰π¶ËØÑÊï∞ÊçÆ:",this.reviewDetail)},generateMockComments:()=>[{username:"‰π¶Ëô´Â∞èÁéã",userAvatar:"/static/avatar2.png",time:"10ÂàÜÈíüÂâç",content:"Ëøô‰∏™‰π¶ËØÑÂÜôÂæóÂæà‰∏≠ËÇØÔºÅ",likes:45,isLiked:!1,replies:[{username:"‰øÆ‰ªôÁà±Â•ΩËÄÖ",userAvatar:"/static/avatar3.png",time:"8ÂàÜÈíüÂâç",content:"Êàë‰πüËßâÂæóÂàÜÊûêÂæóÂæàÂà∞‰ΩçÔºÅ",likes:12,isLiked:!1,replyTo:"‰π¶Ëô´Â∞èÁéã"}]},{username:"‰øÆ‰ªôÁà±Â•ΩËÄÖ",userAvatar:"/static/avatar3.png",time:"8ÂàÜÈíüÂâç",content:"ÂÆåÂÖ®ÂêåÊÑèÊ•º‰∏ªÁöÑËßÇÁÇπÔºåËøôÊú¨‰π¶Á°ÆÂÆûÂæàÊ£í",likes:32,isLiked:!1,replies:[]},{username:"ÊñáÂ≠¶ËØÑËÆ∫ÂÆ∂",userAvatar:"/static/avatar4.png",time:"5ÂàÜÈíüÂâç",content:"ÊñáÁ¨îÊµÅÁïÖÔºåÂàÜÊûêÈÄèÂΩªÔºåÂÄºÂæóÊé®Ëçê",likes:28,isLiked:!1,replies:[]}],loadDefaultReviewDetail(){this.reviewDetail={id:0,reviewer:"‰π¶Âèã123456",avatar:"/static/avatar1.png",rating:5,content:"ÊñáÁ¨îÂâßÊÉÖÂæàÂ•Ω,ÂæàÈöæÂæóÁöÑÂ•≥Âº∫Êó†cpÊ∏∏Êàè‰æµÂÖ•Áé∞ÂÆûÁöÑÊñá,‰∏ñÁïåËßÇËÆæËÆ°ÈÉΩÂæàÊúâÁîªÈù¢ÊÑü,Â•≥‰∏ª‰πüÂæàËÅ™Êòé,Êäì...",time:"ÈòÖËØª‰∏çË∂≥30ÂàÜÈíüÂêéÁÇπËØÑ",likes:234,dislikes:12,favorites:0,isLiked:!1,isDisliked:!1,isFavorited:!1,isFollowed:!1,comments:this.generateMockComments()}},goBack(){o("log","at pages/feed/review-detail.vue:427","ËøîÂõûÊåâÈíÆË¢´ÁÇπÂáª");try{uni.navigateBack({success:()=>{o("log","at pages/feed/review-detail.vue:432","ËøîÂõûÊàêÂäü")},fail:e=>{o("log","at pages/feed/review-detail.vue:435","ËøîÂõûÂ§±Ë¥•:",e),uni.navigateTo({url:"/pages/feed/novel-more-reviews"})}})}catch(e){o("error","at pages/feed/review-detail.vue:443","ËøîÂõûÊìç‰ΩúÂá∫Èîô:",e),uni.navigateTo({url:"/pages/feed/novel-more-reviews"})}},goToUserProfile(){uni.navigateTo({url:`/pages/feed/user-profile?username=${encodeURIComponent(this.reviewDetail.reviewer)}`})},toggleFollow(){this.reviewDetail.isFollowed=!this.reviewDetail.isFollowed,uni.showToast({title:this.reviewDetail.isFollowed?"ÂÖ≥Ê≥®ÊàêÂäü":"Â∑≤ÂèñÊ∂àÂÖ≥Ê≥®",icon:"success"})},formatCount:e=>e>=1e4?(e/1e4).toFixed(1)+"w":e.toString(),async handleLike(){try{o("log","at pages/feed/review-detail.vue:478","Â§ÑÁêÜÁÇπËµûÊìç‰Ωú:",this.postId,this.postType,this.userId);const e=await uni.request({url:"http://localhost:8888/api/post-detail/like",method:"POST",data:{postId:this.postId,postType:this.postType,userId:this.userId},header:{"Content-Type":"application/json"}});o("log","at pages/feed/review-detail.vue:493","ÁÇπËµûAPIÂìçÂ∫î:",e),200===e.statusCode&&e.data.success?(this.reviewDetail.isLiked=e.data.isLiked,this.reviewDetail.isLiked?(this.reviewDetail.likes++,this.reviewDetail.isDisliked&&(this.reviewDetail.isDisliked=!1,this.reviewDetail.dislikes--)):this.reviewDetail.likes--,uni.showToast({title:e.data.message,icon:"success",duration:1500})):(o("error","at pages/feed/review-detail.vue:515","ÁÇπËµûÊìç‰ΩúÂ§±Ë¥•:",e.data.message),uni.showToast({title:e.data.message||"ÁÇπËµûÂ§±Ë¥•",icon:"error"}))}catch(e){o("error","at pages/feed/review-detail.vue:522","ÁÇπËµûÊìç‰ΩúÂºÇÂ∏∏:",e),uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}},async handleDislike(){try{o("log","at pages/feed/review-detail.vue:533","Â§ÑÁêÜÁÇπË∏©Êìç‰Ωú:",this.postId,this.postType,this.userId);const e=await uni.request({url:"http://localhost:8888/api/post-detail/dislike",method:"POST",data:{postId:this.postId,postType:this.postType,userId:this.userId},header:{"Content-Type":"application/json"}});o("log","at pages/feed/review-detail.vue:548","ÁÇπË∏©APIÂìçÂ∫î:",e),200===e.statusCode&&e.data.success?(this.reviewDetail.isDisliked=e.data.isDisliked,this.reviewDetail.isDisliked?(this.reviewDetail.dislikes++,this.reviewDetail.isLiked&&(this.reviewDetail.isLiked=!1,this.reviewDetail.likes--)):this.reviewDetail.dislikes--,uni.showToast({title:e.data.message,icon:"success",duration:1500})):(o("error","at pages/feed/review-detail.vue:570","ÁÇπË∏©Êìç‰ΩúÂ§±Ë¥•:",e.data.message),uni.showToast({title:e.data.message||"ÁÇπË∏©Â§±Ë¥•",icon:"error"}))}catch(e){o("error","at pages/feed/review-detail.vue:577","ÁÇπË∏©Êìç‰ΩúÂºÇÂ∏∏:",e),uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}},async handleFavorite(){try{o("log","at pages/feed/review-detail.vue:588","Â§ÑÁêÜÊî∂ËóèÊìç‰Ωú:",this.postId,this.postType,this.userId);const e=await uni.request({url:"http://localhost:8888/api/post-detail/favorite",method:"POST",data:{postId:this.postId,postType:this.postType,userId:this.userId},header:{"Content-Type":"application/json"}});o("log","at pages/feed/review-detail.vue:603","Êî∂ËóèAPIÂìçÂ∫î:",e),200===e.statusCode&&e.data.success?(this.reviewDetail.isFavorited=e.data.isFavorited,this.reviewDetail.isFavorited?this.reviewDetail.favorites++:this.reviewDetail.favorites--,uni.showToast({title:e.data.message,icon:"success",duration:1500})):(o("error","at pages/feed/review-detail.vue:620","Êî∂ËóèÊìç‰ΩúÂ§±Ë¥•:",e.data.message),uni.showToast({title:e.data.message||"Êî∂ËóèÂ§±Ë¥•",icon:"error"}))}catch(e){o("error","at pages/feed/review-detail.vue:627","Êî∂ËóèÊìç‰ΩúÂºÇÂ∏∏:",e),uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}},handleShare(){uni.showToast({title:"ÂàÜ‰∫´ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},previewImage(e,t){uni.previewImage({urls:e,current:t})},showMoreOptions(){this.showMoreModal=!0},hideMoreOptions(){this.showMoreModal=!1},reportReview(){this.hideMoreOptions(),uni.navigateTo({url:"/pages/report/report"})},copyLink(){this.hideMoreOptions(),uni.setClipboardData({data:`https://example.com/review/${this.reviewDetail.id}`,success:()=>{uni.showToast({title:"ÈìæÊé•Â∑≤Â§çÂà∂",icon:"success"})}})},likeComment(e,t){e.isLiked=!e.isLiked,e.isLiked?e.likes++:e.likes--},likeReply(e,t){const a=e.replies[t];a.isLiked=!a.isLiked,a.isLiked?a.likes++:a.likes--},replyComment(e){o("log","at pages/feed/review-detail.vue:706","ÂõûÂ§çËØÑËÆ∫:",e),this.replyToComment=e,this.replyToReply=null,this.commentText="",this.$nextTick((()=>{const e=uni.createSelectorQuery().select(".comment-input");e&&e.focus()}))},handleReplyToReply(e,t){this.replyToComment=e,this.replyToReply=t,this.commentText="",this.$nextTick((()=>{const e=uni.createSelectorQuery().select(".comment-input");e&&e.focus()}))},onInputFocus(){},onInputBlur(){},async submitComment(){if(this.commentText.trim()){try{o("log","at pages/feed/review-detail.vue:752","Êèê‰∫§ËØÑËÆ∫:",this.commentText,"Â∏ñÂ≠êID:",this.postId,"Â∏ñÂ≠êÁ±ªÂûã:",this.postType,"Áî®Êà∑ID:",this.userId);const e=await uni.request({url:"http://localhost:8888/api/post-detail/comment",method:"POST",data:{postId:this.postId,postType:this.postType,userId:this.userId,commentText:this.commentText,parentCommentId:this.replyToComment?this.replyToComment.id:null},header:{"Content-Type":"application/json"}});o("log","at pages/feed/review-detail.vue:769","ËØÑËÆ∫APIÂìçÂ∫î:",e),200===e.statusCode&&e.data.success?(await this.loadPostDetail(),this.replyToComment=null,this.replyToReply=null,uni.showToast({title:"ËØÑËÆ∫ÊàêÂäü",icon:"success"})):(o("error","at pages/feed/review-detail.vue:784","ËØÑËÆ∫Êìç‰ΩúÂ§±Ë¥•:",e.data.message),uni.showToast({title:e.data.message||"ËØÑËÆ∫Â§±Ë¥•",icon:"error"}))}catch(e){o("error","at pages/feed/review-detail.vue:791","ËØÑËÆ∫Êìç‰ΩúÂºÇÂ∏∏:",e),uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}this.commentText=""}},getTotalCommentsCount(){let e=this.reviewDetail.comments.length;return this.reviewDetail.comments.forEach((t=>{t.replies&&(e+=t.replies.length)})),e},getInputPlaceholder(){return this.replyToComment?this.replyToReply?`ÂõûÂ§ç @${this.replyToReply.username}...`:`ÂõûÂ§ç @${this.replyToComment.username}...`:"ËØ¥ÁÇπ‰ªÄ‰πà..."},cancelReply(){o("log","at pages/feed/review-detail.vue:826","ÂèñÊ∂àÂõûÂ§ç"),this.commentText="",this.replyToComment=null,this.replyToReply=null},onBackTouchStart(){o("log","at pages/feed/review-detail.vue:834","ËøîÂõûÊåâÈíÆËß¶Êë∏ÂºÄÂßã")},onBackTouchEnd(){o("log","at pages/feed/review-detail.vue:840","ËøîÂõûÊåâÈíÆËß¶Êë∏ÁªìÊùü")}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"review-detail-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-button",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e)),onTouchstart:a[1]||(a[1]=(...e)=>n.onBackTouchStart&&n.onBackTouchStart(...e)),onTouchend:a[2]||(a[2]=(...e)=>n.onBackTouchEnd&&n.onBackTouchEnd(...e))},[(e.openBlock(),e.createElementBlock("svg",{t:"1756246262970",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"904",width:"32",height:"32"},[e.createElementVNode("path",{d:"M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",fill:"#666666","p-id":"905"})]))],32),e.createElementVNode("view",{class:"header-title"},"‰π¶ËØÑËØ¶ÊÉÖ"),e.createElementVNode("view",{class:"more-button",onClick:a[3]||(a[3]=(...e)=>n.showMoreOptions&&n.showMoreOptions(...e))},[(e.openBlock(),e.createElementBlock("svg",{t:"1756202704554",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:"#333333"}),e.createElementVNode("path",{d:"M464 688a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z",fill:"#333333"})]))])]),e.createElementVNode("view",{class:"content-scroll"},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩÊï∞ÊçÆ...")])):e.createCommentVNode("",!0),i.hasError&&!i.loading?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"error-actions"},[e.createElementVNode("button",{class:"retry-button",onClick:a[4]||(a[4]=(...e)=>n.loadPostDetail&&n.loadPostDetail(...e))},"ÈáçÊñ∞Âä†ËΩΩ")])])):e.createCommentVNode("",!0),i.hasError||i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2,class:"review-content"},[e.createElementVNode("view",{class:"reviewer-section"},[e.createElementVNode("view",{class:"reviewer-info",onClick:a[5]||(a[5]=(...e)=>n.goToUserProfile&&n.goToUserProfile(...e))},[e.createElementVNode("image",{class:"reviewer-avatar",src:i.reviewDetail.avatar,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"reviewer-details"},[e.createElementVNode("text",{class:"reviewer-name"},e.toDisplayString(i.reviewDetail.reviewer),1),e.createElementVNode("view",{class:"review-meta"},[e.createElementVNode("view",{class:"rating-stars"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.reviewDetail.rating,(t=>(e.openBlock(),e.createElementBlock("text",{class:"star",key:t},"‚òÖ")))),128)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(5-i.reviewDetail.rating,(t=>(e.openBlock(),e.createElementBlock("text",{class:"star empty",key:t},"‚òÜ")))),128))]),e.createElementVNode("text",{class:"review-time"},e.toDisplayString(i.reviewDetail.time),1)])])]),e.createElementVNode("view",{class:e.normalizeClass(["follow-button",{followed:i.reviewDetail.isFollowed}]),onClick:a[6]||(a[6]=(...e)=>n.toggleFollow&&n.toggleFollow(...e))},[e.createElementVNode("text",{class:"follow-text"},e.toDisplayString(i.reviewDetail.isFollowed?"Â∑≤ÂÖ≥Ê≥®":"ÂÖ≥Ê≥®"),1)],2)]),i.reviewDetail.content?(e.openBlock(),e.createElementBlock("view",{key:0,class:"text-content"},[e.createElementVNode("text",{class:"content-text"},e.toDisplayString(i.reviewDetail.content),1)])):e.createCommentVNode("",!0),i.reviewDetail.images&&i.reviewDetail.images.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"image-content"},[e.createElementVNode("view",{class:"image-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.reviewDetail.images,((t,a)=>(e.openBlock(),e.createElementBlock("image",{key:a,class:"content-image",src:t,mode:"aspectFill",onClick:e=>n.previewImage(i.reviewDetail.images,a)},null,8,["src","onClick"])))),128))])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"engagement-metrics"},[e.createElementVNode("view",{class:"metric-item",onClick:a[7]||(a[7]=(...e)=>n.handleLike&&n.handleLike(...e))},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:i.reviewDetail.isLiked}])},"üëç",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:i.reviewDetail.isLiked}])},e.toDisplayString(n.formatCount(i.reviewDetail.likes)),3)]),e.createElementVNode("view",{class:"metric-item",onClick:a[8]||(a[8]=(...e)=>n.handleDislike&&n.handleDislike(...e))},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:i.reviewDetail.isDisliked}])},"üëé",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:i.reviewDetail.isDisliked}])},e.toDisplayString(n.formatCount(i.reviewDetail.dislikes)),3)]),e.createElementVNode("view",{class:"metric-item",onClick:a[9]||(a[9]=(...e)=>n.handleFavorite&&n.handleFavorite(...e))},[e.createElementVNode("text",{class:e.normalizeClass(["metric-icon",{active:i.reviewDetail.isFavorited}])},"‚≠ê",2),e.createElementVNode("text",{class:e.normalizeClass(["metric-count",{active:i.reviewDetail.isFavorited}])},e.toDisplayString(n.formatCount(i.reviewDetail.favorites)),3)]),e.createElementVNode("view",{class:"metric-item",onClick:a[10]||(a[10]=(...e)=>n.handleShare&&n.handleShare(...e))},[e.createElementVNode("text",{class:"metric-icon"},"üì§"),e.createElementVNode("text",{class:"metric-count"},"ÂàÜ‰∫´")])])])),e.createElementVNode("view",{class:"comments-section"},[e.createElementVNode("view",{class:"comments-header"},[e.createElementVNode("text",{class:"comments-title"},"ËØÑËÆ∫ ("+e.toDisplayString(n.getTotalCommentsCount())+")",1)]),e.createElementVNode("view",{class:"comments-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.reviewDetail.comments,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"comment-item",key:a},[e.createElementVNode("view",{class:"comment-avatar"},[e.createElementVNode("image",{class:"comment-user-avatar",src:t.userAvatar,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"comment-content"},[e.createElementVNode("view",{class:"comment-user-info"},[e.createElementVNode("text",{class:"comment-username"},e.toDisplayString(t.username),1),e.createElementVNode("text",{class:"comment-time"},e.toDisplayString(t.time),1)]),e.createElementVNode("text",{class:"comment-text"},e.toDisplayString(t.content),1),e.createElementVNode("view",{class:"comment-actions"},[e.createElementVNode("view",{class:"comment-action",onClick:e=>n.likeComment(t,a)},[e.createElementVNode("text",{class:e.normalizeClass(["action-icon",{active:t.isLiked}])},"üëç",2),e.createElementVNode("text",{class:"action-count"},e.toDisplayString(n.formatCount(t.likes)),1)],8,["onClick"]),e.createElementVNode("view",{class:"comment-action",onClick:e=>n.replyComment(t)},[e.createElementVNode("text",{class:"action-icon"},"üí¨"),e.createElementVNode("text",{class:"action-count"},"ÂõûÂ§ç")],8,["onClick"])]),t.replies&&t.replies.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"replies-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.replies,((a,s)=>(e.openBlock(),e.createElementBlock("view",{class:"reply-item",key:s},[e.createElementVNode("view",{class:"reply-avatar"},[e.createElementVNode("image",{class:"reply-user-avatar",src:a.userAvatar,mode:"aspectFill"},null,8,["src"])]),e.createElementVNode("view",{class:"reply-content"},[e.createElementVNode("view",{class:"reply-user-info"},[e.createElementVNode("text",{class:"reply-username"},e.toDisplayString(a.username),1),e.createElementVNode("text",{class:"reply-time"},e.toDisplayString(a.time),1)]),e.createElementVNode("text",{class:"reply-text"},[e.createElementVNode("text",{class:"reply-to"},"ÂõûÂ§ç @"+e.toDisplayString(a.replyTo)+"Ôºö",1),e.createTextVNode(" "+e.toDisplayString(a.content),1)]),e.createElementVNode("view",{class:"reply-actions"},[e.createElementVNode("view",{class:"reply-action",onClick:e=>n.likeReply(t,s)},[e.createElementVNode("text",{class:e.normalizeClass(["action-icon",{active:a.isLiked}])},"üëç",2),e.createElementVNode("text",{class:"action-count"},e.toDisplayString(n.formatCount(a.likes)),1)],8,["onClick"]),e.createElementVNode("view",{class:"reply-action",onClick:e=>n.handleReplyToReply(t,a)},[e.createElementVNode("text",{class:"action-icon"},"üí¨"),e.createElementVNode("text",{class:"action-count"},"ÂõûÂ§ç")],8,["onClick"])])])])))),128))])):e.createCommentVNode("",!0)])])))),128))])])]),e.createElementVNode("view",{class:"comment-input-section"},[e.createElementVNode("view",{class:"comment-input-container"},[e.withDirectives(e.createElementVNode("input",{class:"comment-input","onUpdate:modelValue":a[11]||(a[11]=e=>i.commentText=e),placeholder:n.getInputPlaceholder(),onFocus:a[12]||(a[12]=(...e)=>n.onInputFocus&&n.onInputFocus(...e)),onBlur:a[13]||(a[13]=(...e)=>n.onInputBlur&&n.onInputBlur(...e))},null,40,["placeholder"]),[[e.vModelText,i.commentText]]),i.replyToComment?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cancel-reply-btn",onClick:a[14]||(a[14]=(...e)=>n.cancelReply&&n.cancelReply(...e))},[e.createElementVNode("text",{class:"cancel-reply-text"},"ÂèñÊ∂à")])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["send-button",{active:i.commentText.trim()}]),onClick:a[15]||(a[15]=(...e)=>n.submitComment&&n.submitComment(...e))},[e.createElementVNode("text",{class:"send-text"},"ÂèëÈÄÅ")],2)])]),i.showMoreModal?(e.openBlock(),e.createElementBlock("view",{key:0,class:"more-options-modal",onClick:a[20]||(a[20]=(...e)=>n.hideMoreOptions&&n.hideMoreOptions(...e))},[e.createElementVNode("view",{class:"options-content",onClick:a[19]||(a[19]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"option-item",onClick:a[16]||(a[16]=(...e)=>n.reportReview&&n.reportReview(...e))},[e.createElementVNode("text",{class:"option-text"},"‰∏æÊä•")]),e.createElementVNode("view",{class:"option-item",onClick:a[17]||(a[17]=(...e)=>n.copyLink&&n.copyLink(...e))},[e.createElementVNode("text",{class:"option-text"},"Â§çÂà∂ÈìæÊé•")]),e.createElementVNode("view",{class:"option-item",onClick:a[18]||(a[18]=(...e)=>n.hideMoreOptions&&n.hideMoreOptions(...e))},[e.createElementVNode("text",{class:"option-text"},"ÂèñÊ∂à")])])])):e.createCommentVNode("",!0)])}]]);const L=a({name:"AchievementsPage",data:()=>({userId:1000100,achievements:[],stats:{totalAchievements:0,completedAchievements:0,completionRate:0},loading:!1,hasError:!1,errorMessage:""}),onLoad(e){e.userId&&(this.userId=parseInt(e.userId),o("log","at pages/feed/achievements.vue:122","Êé•Êî∂Âà∞ÁöÑÁî®Êà∑ID:",this.userId)),this.loadAchievementData()},methods:{async loadAchievementData(){try{o("log","at pages/feed/achievements.vue:131","=== ÂºÄÂßãÂä†ËΩΩÊàêÂ∞±Êï∞ÊçÆ ==="),o("log","at pages/feed/achievements.vue:132","Áî®Êà∑ID:",this.userId),o("log","at pages/feed/achievements.vue:133","ËØ∑Ê±ÇURL:",`http://localhost:8888/api/achievement/data?userId=${this.userId}`),this.loading=!0,this.hasError=!1,this.errorMessage="";const[e,t]=await Promise.all([uni.request({url:`http://localhost:8888/api/achievement/data?userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}}),uni.request({url:`http://localhost:8888/api/achievement/stats?userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}})]);o("log","at pages/feed/achievements.vue:156","=== ÊàêÂ∞±Êï∞ÊçÆAPIÂìçÂ∫îËØ¶ÊÉÖ ==="),o("log","at pages/feed/achievements.vue:157","ÊàêÂ∞±Êï∞ÊçÆÁä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/feed/achievements.vue:158","ÊàêÂ∞±Êï∞ÊçÆÂìçÂ∫î:",e.data),o("log","at pages/feed/achievements.vue:160","=== ÁªüËÆ°‰ø°ÊÅØAPIÂìçÂ∫îËØ¶ÊÉÖ ==="),o("log","at pages/feed/achievements.vue:161","ÁªüËÆ°‰ø°ÊÅØÁä∂ÊÄÅÁ†Å:",t.statusCode),o("log","at pages/feed/achievements.vue:162","ÁªüËÆ°‰ø°ÊÅØÂìçÂ∫î:",t.data),200===e.statusCode&&e.data.success?(this.achievements=e.data.data||[],o("log","at pages/feed/achievements.vue:167","ÊàêÂäüÂä†ËΩΩÊàêÂ∞±Êï∞ÊçÆÔºåÂÖ±",this.achievements.length,"Êù°"),uni.showToast({title:`Âä†ËΩΩ‰∫Ü${this.achievements.length}‰∏™ÊàêÂ∞±`,icon:"success",duration:2e3})):(o("error","at pages/feed/achievements.vue:176","Âä†ËΩΩÊàêÂ∞±Êï∞ÊçÆÂ§±Ë¥•:",e.data.message),this.hasError=!0,this.errorMessage=e.data.message||"Âä†ËΩΩÊàêÂ∞±Êï∞ÊçÆÂ§±Ë¥•"),200===t.statusCode&&t.data.success?(this.stats=t.data.data||this.stats,o("log","at pages/feed/achievements.vue:184","ÊàêÂäüÂä†ËΩΩÁªüËÆ°‰ø°ÊÅØ:",this.stats)):o("error","at pages/feed/achievements.vue:186","Âä†ËΩΩÁªüËÆ°‰ø°ÊÅØÂ§±Ë¥•:",t.data.message)}catch(e){o("error","at pages/feed/achievements.vue:190","Âä†ËΩΩÊàêÂ∞±Êï∞ÊçÆÂºÇÂ∏∏:",e),this.hasError=!0,this.errorMessage="ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËÆæÁΩÆ",uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}finally{this.loading=!1}},async refreshData(){o("log","at pages/feed/achievements.vue:204","ÂºÄÂßãÂà∑Êñ∞ÊàêÂ∞±Êï∞ÊçÆ"),this.hasError=!1,this.errorMessage="";try{await this.loadAchievementData(),uni.showToast({title:"Âà∑Êñ∞ÊàêÂäü",icon:"success"})}catch(e){o("error","at pages/feed/achievements.vue:215","Âà∑Êñ∞Êï∞ÊçÆÂ§±Ë¥•:",e),this.hasError=!0,this.errorMessage="Âà∑Êñ∞Êï∞ÊçÆÂ§±Ë¥•ÔºåËØ∑ÈáçËØï"}},async testConnection(){try{o("log","at pages/feed/achievements.vue:224","=== ÊµãËØïÊàêÂ∞±ÂêéÁ´ØËøûÊé• ===");const e=await uni.request({url:"http://localhost:8888/api/achievement/test",method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/feed/achievements.vue:233","ÊµãËØïËøûÊé•ÂìçÂ∫î:",e),200===e.statusCode?uni.showToast({title:"ÂêéÁ´ØËøûÊé•Ê≠£Â∏∏",icon:"success"}):uni.showToast({title:"ÂêéÁ´ØËøûÊé•Â§±Ë¥•",icon:"error"})}catch(e){o("error","at pages/feed/achievements.vue:247","ÊµãËØïËøûÊé•ÂºÇÂ∏∏:",e),uni.showToast({title:"ËøûÊé•ÂºÇÂ∏∏",icon:"error"})}},formatTimeAgo(e){if(!e)return"ÂàöÂàö";const t=new Date-new Date(e),a=Math.floor(t/6e4),s=Math.floor(t/36e5),o=Math.floor(t/864e5);return a<1?"ÂàöÂàö":a<60?a+"ÂàÜÈíüÂâç":s<24?s+"Â∞èÊó∂Ââç":o<7?o+"Â§©Ââç":"‰∏ÄÂë®Ââç"},getAchievementIcon(e){if(e.iconUrl)return e.iconUrl;if(void 0!==e.status)switch(e.status){case 0:default:return"üîí";case 1:return"‚è≥";case 2:return"üèÜ"}return e.isCompleted?"üèÜ":"üîí"},getAchievementStatusText:e=>e.statusText?e.statusText:e.isCompleted?"Â∑≤ÂÆåÊàê":"Êú™ÂÆåÊàê",getAchievementStatusClass(e){if(void 0!==e.status)switch(e.status){case 0:default:return"locked";case 1:return"in-progress";case 2:return"completed"}return e.isCompleted?"completed":"locked"},goBack(){uni.navigateBack()},addAchievement(){uni.showToast({title:"Ê∑ªÂä†ÊàêÂ∞±ÂäüËÉΩ",icon:"none"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"achievements-page"},[e.createElementVNode("view",{class:"header"}),e.createElementVNode("view",{class:"stats-card"},[e.createElementVNode("view",{class:"stats-content"},[e.createElementVNode("view",{class:"stats-item"},[e.createElementVNode("text",{class:"stats-number"},e.toDisplayString(i.stats.completedAchievements),1),e.createElementVNode("text",{class:"stats-label"},"Â∑≤Ëé∑Âæó")]),e.createElementVNode("view",{class:"stats-divider"}),e.createElementVNode("view",{class:"stats-item"},[e.createElementVNode("text",{class:"stats-number"},e.toDisplayString(i.stats.totalAchievements),1),e.createElementVNode("text",{class:"stats-label"},"ÊÄªÊàêÂ∞±")]),e.createElementVNode("view",{class:"stats-divider"}),e.createElementVNode("view",{class:"stats-item"},[e.createElementVNode("text",{class:"stats-number"},e.toDisplayString(i.stats.completionRate)+"%",1),e.createElementVNode("text",{class:"stats-label"},"ÂÆåÊàêÂ∫¶")])])]),i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩÊàêÂ∞±Êï∞ÊçÆ...")])):e.createCommentVNode("",!0),i.hasError&&!i.loading?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"error-actions"},[e.createElementVNode("button",{class:"retry-button",onClick:a[0]||(a[0]=(...e)=>n.loadAchievementData&&n.loadAchievementData(...e))},"ÈáçÊñ∞Âä†ËΩΩ"),e.createElementVNode("button",{class:"retry-button",onClick:a[1]||(a[1]=(...e)=>n.testConnection&&n.testConnection(...e))},"ÊµãËØïËøûÊé•")])])):e.createCommentVNode("",!0),i.hasError||i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2,class:"achievements-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.achievements,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"achievement-item",key:t.id},[e.createElementVNode("view",{class:"achievement-icon"},[e.createElementVNode("view",{class:e.normalizeClass(["icon-badge",n.getAchievementStatusClass(t)])},[e.createElementVNode("text",{class:"icon-text"},e.toDisplayString(n.getAchievementIcon(t)),1)],2)]),e.createElementVNode("view",{class:"achievement-content"},[e.createElementVNode("text",{class:"achievement-title"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"achievement-desc"},e.toDisplayString(t.description),1),e.createElementVNode("view",{class:"achievement-meta"},[e.createElementVNode("text",{class:"achievement-date"},e.toDisplayString(t.completedAt?n.formatTimeAgo(t.completedAt):"Êú™Ëß£ÈîÅ"),1),e.createElementVNode("view",{class:e.normalizeClass(["achievement-status",n.getAchievementStatusClass(t)])},[e.createElementVNode("text",{class:"status-text"},e.toDisplayString(n.getAchievementStatusText(t)),1)],2)])])])))),128)),0===i.achievements.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-state"},[e.createElementVNode("text",{class:"empty-icon"},"üèÜ"),e.createElementVNode("text",{class:"empty-text"},"ÊöÇÊó†ÊàêÂ∞±Êï∞ÊçÆ")])):e.createCommentVNode("",!0)])),e.createElementVNode("view",{class:"home-indicator"})])}]]);const R=a({data:()=>({keyword:""}),methods:{goBack(){uni.navigateBack()},search(){uni.showToast({title:"ÊêúÁ¥¢ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"search-page"},[e.createElementVNode("view",{class:"search-header"},[e.createElementVNode("view",{class:"back-button",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[e.createElementVNode("text",null,"ËøîÂõû")]),e.withDirectives(e.createElementVNode("input",{class:"search-input","onUpdate:modelValue":a[1]||(a[1]=e=>i.keyword=e),placeholder:"ÊêúÁ¥¢ÂÜÖÂÆπ..."},null,512),[[e.vModelText,i.keyword]]),e.createElementVNode("view",{class:"search-btn",onClick:a[2]||(a[2]=(...e)=>n.search&&n.search(...e))},"ÊêúÁ¥¢")]),e.createElementVNode("view",{class:"search-results"},[e.createElementVNode("text",null,"ÊêúÁ¥¢ÁªìÊûúÂ∞ÜÂú®ËøôÈáåÊòæÁ§∫")])])}]]);const F=a({name:"LikesDislikesPage",data:()=>({likesExpanded:!0,dislikesExpanded:!0,likesList:[],dislikesList:[],showModal:!1,modalType:"like",inputValue:"",isEditing:!1,editingIndex:-1,editingId:null,userId:1000100,loading:!1,errorMessage:"",hasError:!1}),onLoad(e){e.userId&&(this.userId=parseInt(e.userId)),o("log","at pages/feed/likes-dislikes.vue:181","È°µÈù¢Âä†ËΩΩÔºåÁî®Êà∑ID:",this.userId),this.loadLikesDislikesData()},computed:{likesCount(){return this.likesList.length},dislikesCount(){return this.dislikesList.length},totalCount(){return this.likesCount+this.dislikesCount}},methods:{async loadLikesDislikesData(){try{o("log","at pages/feed/likes-dislikes.vue:200","=== ÂºÄÂßãÂä†ËΩΩÂñúÊ¨¢ËÆ®ÂéåÊï∞ÊçÆ ==="),o("log","at pages/feed/likes-dislikes.vue:201","Áî®Êà∑ID:",this.userId),o("log","at pages/feed/likes-dislikes.vue:202","ËØ∑Ê±ÇURL:",`http://localhost:8888/api/likes-dislikes/data?userId=${this.userId}`),this.loading=!0,this.hasError=!1,this.errorMessage="";const e=await uni.request({url:`http://localhost:8888/api/likes-dislikes/data?userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/feed/likes-dislikes.vue:215","=== APIÂìçÂ∫îËØ¶ÊÉÖ ==="),o("log","at pages/feed/likes-dislikes.vue:216","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/feed/likes-dislikes.vue:217","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data.success){const t=e.data.data;this.likesList=t.likes||[],this.dislikesList=t.dislikes||[],o("log","at pages/feed/likes-dislikes.vue:224","ÊàêÂäüÂä†ËΩΩÂñúÊ¨¢ËÆ®ÂéåÊï∞ÊçÆÔºåÂñúÊ¨¢",this.likesList.length,"Êù°ÔºåËÆ®Âéå",this.dislikesList.length,"Êù°"),0===this.likesList.length&&0===this.dislikesList.length&&(this.hasError=!0,this.errorMessage="ÊöÇÊó†ÂñúÊ¨¢ËÆ®ÂéåÊï∞ÊçÆÔºåËØ∑Ê∑ªÂä†‰∏Ä‰∫õÂÜÖÂÆπ")}else o("error","at pages/feed/likes-dislikes.vue:231","Âä†ËΩΩÂñúÊ¨¢ËÆ®ÂéåÊï∞ÊçÆÂ§±Ë¥•:",e.data.message),this.hasError=!0,this.errorMessage=e.data.message||"Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•"}catch(e){o("error","at pages/feed/likes-dislikes.vue:236","Âä†ËΩΩÂñúÊ¨¢ËÆ®ÂéåÊï∞ÊçÆÂºÇÂ∏∏:",e),this.hasError=!0,this.errorMessage="ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËÆæÁΩÆ"}finally{this.loading=!1}},async testConnection(){try{o("log","at pages/feed/likes-dislikes.vue:247","=== ÊµãËØïÂêéÁ´ØËøûÊé• ===");const e=await uni.request({url:"http://localhost:8888/api/likes-dislikes/test",method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/feed/likes-dislikes.vue:256","ÊµãËØïËøûÊé•ÂìçÂ∫î:",e),200===e.statusCode?uni.showToast({title:"ÂêéÁ´ØËøûÊé•Ê≠£Â∏∏",icon:"success"}):uni.showToast({title:"ÂêéÁ´ØËøûÊé•Â§±Ë¥•",icon:"error"})}catch(e){o("error","at pages/feed/likes-dislikes.vue:270","ÊµãËØïËøûÊé•ÂºÇÂ∏∏:",e),uni.showToast({title:"ËøûÊé•ÂºÇÂ∏∏",icon:"error"})}},goBack(){uni.navigateBack()},toggleLikes(){this.likesExpanded=!this.likesExpanded},toggleDislikes(){this.dislikesExpanded=!this.dislikesExpanded},showAddModal(){this.modalType="like",this.isEditing=!1,this.inputValue="",this.showModal=!0},hideModal(){this.showModal=!1,this.inputValue="",this.isEditing=!1,this.editingIndex=-1,this.editingId=null},addItem(e){this.modalType=e,this.isEditing=!1,this.inputValue="",this.showModal=!0},editItem(e,t){this.modalType=e,this.isEditing=!0,this.editingIndex=t;const a="like"===e?this.likesList[t]:this.dislikesList[t];this.inputValue=a.text||a,this.editingId=a.id||null,this.showModal=!0},async deleteItem(e,t){uni.showModal({title:"Á°ÆËÆ§Âà†Èô§",content:"Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™È°πÁõÆÂêóÔºü",success:async a=>{if(a.confirm)try{const a="like"===e?this.likesList[t]:this.dislikesList[t],s=a.id||a,o=await uni.request({url:`http://localhost:8888/api/likes-dislikes/delete-${e}`,method:"POST",data:{userId:this.userId,[e+"Id"]:s},header:{"Content-Type":"application/json"}});200===o.statusCode&&o.data.success?("like"===e?this.likesList.splice(t,1):this.dislikesList.splice(t,1),uni.showToast({title:"Âà†Èô§ÊàêÂäü",icon:"success"})):uni.showToast({title:o.data.message||"Âà†Èô§Â§±Ë¥•",icon:"error"})}catch(s){o("error","at pages/feed/likes-dislikes.vue:355","Âà†Èô§Êìç‰ΩúÂºÇÂ∏∏:",s),uni.showToast({title:"Âà†Èô§Â§±Ë¥•",icon:"error"})}}})},async confirmAction(){if(this.inputValue.trim()){try{if(this.isEditing){const e=await uni.request({url:`http://localhost:8888/api/likes-dislikes/edit-${this.modalType}`,method:"POST",data:{userId:this.userId,[this.modalType+"Id"]:this.editingId,[this.modalType+"Text"]:this.inputValue.trim(),[this.modalType+"Type"]:"general"},header:{"Content-Type":"application/json"}});if(200===e.statusCode&&e.data.success){const e="like"===this.modalType?this.likesList[this.editingIndex]:this.dislikesList[this.editingIndex];e.text=this.inputValue.trim(),e.updatedAt=new Date,uni.showToast({title:"ÁºñËæëÊàêÂäü",icon:"success"})}else uni.showToast({title:e.data.message||"ÁºñËæëÂ§±Ë¥•",icon:"error"})}else{const e=await uni.request({url:`http://localhost:8888/api/likes-dislikes/add-${this.modalType}`,method:"POST",data:{userId:this.userId,[this.modalType+"Text"]:this.inputValue.trim(),[this.modalType+"Type"]:"general"},header:{"Content-Type":"application/json"}});if(200===e.statusCode&&e.data.success){const t={id:e.data.data,text:this.inputValue.trim(),type:"general",createdAt:new Date,updatedAt:new Date,timeAgo:"ÂàöÂàö"};"like"===this.modalType?this.likesList.unshift(t):this.dislikesList.unshift(t),uni.showToast({title:"Ê∑ªÂä†ÊàêÂäü",icon:"success"})}else uni.showToast({title:e.data.message||"Ê∑ªÂä†Â§±Ë¥•",icon:"error"})}}catch(e){o("error","at pages/feed/likes-dislikes.vue:451","Êìç‰ΩúÂºÇÂ∏∏:",e),uni.showToast({title:"Êìç‰ΩúÂ§±Ë¥•",icon:"error"})}this.hideModal()}else uni.showToast({title:"ËØ∑ËæìÂÖ•ÂÜÖÂÆπ",icon:"none"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"likes-dislikes-page"},[e.createElementVNode("view",{class:"header"}),e.createElementVNode("view",{class:"stats-card"},[e.createElementVNode("view",{class:"stats-content"},[e.createElementVNode("view",{class:"stats-item"},[e.createElementVNode("text",{class:"stats-number"},e.toDisplayString(n.likesCount),1),e.createElementVNode("text",{class:"stats-label"},"ÂñúÊ¨¢")]),e.createElementVNode("view",{class:"stats-divider"}),e.createElementVNode("view",{class:"stats-item"},[e.createElementVNode("text",{class:"stats-number"},e.toDisplayString(n.dislikesCount),1),e.createElementVNode("text",{class:"stats-label"},"ËÆ®Âéå")]),e.createElementVNode("view",{class:"stats-divider"}),e.createElementVNode("view",{class:"stats-item"},[e.createElementVNode("text",{class:"stats-number"},e.toDisplayString(n.totalCount),1),e.createElementVNode("text",{class:"stats-label"},"ÊÄªËÆ°")])])]),e.createElementVNode("view",{class:"preference-section"},[e.createElementVNode("view",{class:"section-header",onClick:a[0]||(a[0]=(...e)=>n.toggleLikes&&n.toggleLikes(...e))},[e.createElementVNode("text",{class:"section-title"},"ÊàëÂñúÊ¨¢ÁöÑ"),e.createElementVNode("view",{class:e.normalizeClass(["expand-icon",{expanded:i.likesExpanded}])},[e.createElementVNode("text",{class:"expand-arrow"},"^")],2)]),i.likesExpanded?(e.openBlock(),e.createElementBlock("view",{key:0,class:"section-content"},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩÊï∞ÊçÆ...")])):e.createCommentVNode("",!0),i.hasError&&!i.loading?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"error-actions"},[e.createElementVNode("button",{class:"retry-button",onClick:a[1]||(a[1]=(...e)=>n.loadLikesDislikesData&&n.loadLikesDislikesData(...e))},"ÈáçÊñ∞Âä†ËΩΩ"),e.createElementVNode("button",{class:"retry-button",onClick:a[2]||(a[2]=(...e)=>n.testConnection&&n.testConnection(...e))},"ÊµãËØïËøûÊé•")])])):e.createCommentVNode("",!0),i.hasError||i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.likesList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"preference-item",key:"like-"+a},[e.createElementVNode("view",{class:"item-icon like-icon"},[e.createElementVNode("text",{class:"icon-text"},"‚ù§Ô∏è")]),e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("text",{class:"item-text"},e.toDisplayString(t.text||t),1),t.timeAgo?(e.openBlock(),e.createElementBlock("text",{key:0,class:"item-time"},e.toDisplayString(t.timeAgo),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"item-actions"},[e.createElementVNode("view",{class:"action-btn edit-btn",onClick:e=>n.editItem("like",a)},[e.createElementVNode("text",{class:"action-text"},"ÁºñËæë")],8,["onClick"]),e.createElementVNode("view",{class:"action-btn delete-btn",onClick:e=>n.deleteItem("like",a)},[e.createElementVNode("text",{class:"action-text"},"Âà†Èô§")],8,["onClick"])])])))),128)),e.createElementVNode("view",{class:"add-item-btn",onClick:a[3]||(a[3]=e=>n.addItem("like"))},[e.createElementVNode("text",{class:"add-text"},"+ Ê∑ªÂä†ÂñúÊ¨¢")])]))])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"preference-section"},[e.createElementVNode("view",{class:"section-header",onClick:a[4]||(a[4]=(...e)=>n.toggleDislikes&&n.toggleDislikes(...e))},[e.createElementVNode("text",{class:"section-title"},"ÊàëËÆ®ÂéåÁöÑ"),e.createElementVNode("view",{class:e.normalizeClass(["expand-icon",{expanded:i.dislikesExpanded}])},[e.createElementVNode("text",{class:"expand-arrow"},"^")],2)]),i.dislikesExpanded?(e.openBlock(),e.createElementBlock("view",{key:0,class:"section-content"},[i.hasError||i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.dislikesList,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"preference-item",key:"dislike-"+a},[e.createElementVNode("view",{class:"item-icon dislike-icon"},[e.createElementVNode("text",{class:"icon-text"},"üíî")]),e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("text",{class:"item-text"},e.toDisplayString(t.text||t),1),t.timeAgo?(e.openBlock(),e.createElementBlock("text",{key:0,class:"item-time"},e.toDisplayString(t.timeAgo),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"item-actions"},[e.createElementVNode("view",{class:"action-btn edit-btn",onClick:e=>n.editItem("dislike",a)},[e.createElementVNode("text",{class:"action-text"},"ÁºñËæë")],8,["onClick"]),e.createElementVNode("view",{class:"action-btn delete-btn",onClick:e=>n.deleteItem("dislike",a)},[e.createElementVNode("text",{class:"action-text"},"Âà†Èô§")],8,["onClick"])])])))),128)),e.createElementVNode("view",{class:"add-item-btn",onClick:a[5]||(a[5]=e=>n.addItem("dislike"))},[e.createElementVNode("text",{class:"add-text"},"+ Ê∑ªÂä†ËÆ®Âéå")])]))])):e.createCommentVNode("",!0)]),i.showModal?(e.openBlock(),e.createElementBlock("view",{key:0,class:"modal-overlay",onClick:a[11]||(a[11]=(...e)=>n.hideModal&&n.hideModal(...e))},[e.createElementVNode("view",{class:"modal-content",onClick:a[10]||(a[10]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"modal-header"},[e.createElementVNode("text",{class:"modal-title"},e.toDisplayString(i.isEditing?"ÁºñËæë":"Ê∑ªÂä†")+e.toDisplayString("like"===i.modalType?"ÂñúÊ¨¢":"ËÆ®Âéå"),1),e.createElementVNode("view",{class:"close-btn",onClick:a[6]||(a[6]=(...e)=>n.hideModal&&n.hideModal(...e))},[e.createElementVNode("text",{class:"close-text"},"√ó")])]),e.createElementVNode("view",{class:"modal-body"},[e.withDirectives(e.createElementVNode("input",{class:"input-field","onUpdate:modelValue":a[7]||(a[7]=e=>i.inputValue=e),placeholder:"ËØ∑ËæìÂÖ•ÊÇ®"+("like"===i.modalType?"ÂñúÊ¨¢":"ËÆ®Âéå")+"ÁöÑÂÜÖÂÆπ",maxlength:"50"},null,8,["placeholder"]),[[e.vModelText,i.inputValue]]),e.createElementVNode("view",{class:"modal-actions"},[e.createElementVNode("view",{class:"modal-btn cancel-btn",onClick:a[8]||(a[8]=(...e)=>n.hideModal&&n.hideModal(...e))},[e.createElementVNode("text",{class:"btn-text"},"ÂèñÊ∂à")]),e.createElementVNode("view",{class:"modal-btn confirm-btn",onClick:a[9]||(a[9]=(...e)=>n.confirmAction&&n.confirmAction(...e))},[e.createElementVNode("text",{class:"btn-text"},"Á°ÆÂÆö")])])])])])):e.createCommentVNode("",!0)])}]]);const $=a({name:"InteractionMessagesPage",data:()=>({filterExpanded:!1,currentFilter:"all",userId:1000100,loading:!1,hasError:!1,errorMessage:"",messages:[],messageFilters:[{type:"all",name:"ÂÖ®ÈÉ®Ê∂àÊÅØ",icon:"„Ä∞Ô∏è"},{type:"likes",name:"Ëµû‰∏éÊî∂Ëóè",icon:"‚ù§Ô∏è"},{type:"received-comments",name:"Êî∂Âà∞ÁöÑËØÑËÆ∫",icon:"üí¨"},{type:"sent-comments",name:"ÂèëÂá∫ÁöÑËØÑËÆ∫",icon:"üí¨"}]}),onLoad(e){e.userId&&(this.userId=parseInt(e.userId),o("log","at pages/feed/interaction-messages.vue:129","Êé•Êî∂Âà∞Áî®Êà∑ID:",this.userId)),this.loadInteractionMessages()},methods:{async loadInteractionMessages(){try{o("log","at pages/feed/interaction-messages.vue:138","=== ÂºÄÂßãÂä†ËΩΩ‰∫íÂä®Ê∂àÊÅØÊï∞ÊçÆ ==="),o("log","at pages/feed/interaction-messages.vue:139","Áî®Êà∑ID:",this.userId),o("log","at pages/feed/interaction-messages.vue:140","Á≠õÈÄâÁ±ªÂûã:",this.currentFilter),o("log","at pages/feed/interaction-messages.vue:141","ËØ∑Ê±ÇURL:",`http://localhost:8888/api/interaction-messages/data?userId=${this.userId}&filterType=${this.currentFilter}`),this.loading=!0,this.hasError=!1,this.errorMessage="";const e=await uni.request({url:`http://localhost:8888/api/interaction-messages/data?userId=${this.userId}&filterType=${this.currentFilter}`,method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/feed/interaction-messages.vue:155","=== APIÂìçÂ∫îËØ¶ÊÉÖ ==="),o("log","at pages/feed/interaction-messages.vue:156","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/feed/interaction-messages.vue:157","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode){o("log","at pages/feed/interaction-messages.vue:161","ÂìçÂ∫îÊï∞ÊçÆÁªìÊûÑÊ£ÄÊü•:"),o("log","at pages/feed/interaction-messages.vue:162","- response.data:",e.data),o("log","at pages/feed/interaction-messages.vue:163","- response.data.success:",e.data.success),o("log","at pages/feed/interaction-messages.vue:164","- response.data.data:",e.data.data);let t=[];if(e.data&&e.data.data&&Array.isArray(e.data.data))t=e.data.data;else{if(!Array.isArray(e.data))return o("error","at pages/feed/interaction-messages.vue:175","Êó†Ê≥ïËØÜÂà´ÁöÑÂìçÂ∫îÊ†ºÂºè:",e.data),this.hasError=!0,void(this.errorMessage="ÂìçÂ∫îÊï∞ÊçÆÊ†ºÂºèÈîôËØØ");t=e.data}this.messages=t,o("log","at pages/feed/interaction-messages.vue:182","ÊàêÂäüÂä†ËΩΩ‰∫íÂä®Ê∂àÊÅØÊï∞ÊçÆÔºåÂÖ±",this.messages.length,"Êù°"),o("log","at pages/feed/interaction-messages.vue:183","Á¨¨‰∏ÄÊù°Êï∞ÊçÆÁ§∫‰æã:",this.messages.length>0?this.messages[0]:"Êó†Êï∞ÊçÆ"),0===this.messages.length?(this.hasError=!0,this.errorMessage="ÊöÇÊó†‰∫íÂä®Ê∂àÊÅØÔºåËØ∑Á®çÂêéÂÜçËØï",o("log","at pages/feed/interaction-messages.vue:188","Ê≤°ÊúâËé∑ÂèñÂà∞‰ªª‰Ωï‰∫íÂä®Ê∂àÊÅØÊï∞ÊçÆ")):uni.showToast({title:`Âä†ËΩΩ‰∫Ü${this.messages.length}Êù°Ê∂àÊÅØ`,icon:"success",duration:2e3})}else o("error","at pages/feed/interaction-messages.vue:198","Âä†ËΩΩ‰∫íÂä®Ê∂àÊÅØÊï∞ÊçÆÂ§±Ë¥•:",e.data.message),this.hasError=!0,this.errorMessage=e.data.message||"Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•",uni.showToast({title:"Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•",icon:"error"})}catch(e){o("error","at pages/feed/interaction-messages.vue:207","Âä†ËΩΩ‰∫íÂä®Ê∂àÊÅØÊï∞ÊçÆÂºÇÂ∏∏:",e),this.hasError=!0,this.errorMessage="ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËÆæÁΩÆ",uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}finally{this.loading=!1}},goBack(){uni.navigateBack()},toggleFilter(){this.filterExpanded=!this.filterExpanded},selectFilter(e){this.currentFilter=e,this.filterExpanded=!1,this.loadInteractionMessages(),uni.showToast({title:`Â∑≤ÂàáÊç¢Âà∞${this.getMessageFilterName(e)}`,icon:"none"})},getMessageFilterName(e){const t=this.messageFilters.find((t=>t.type===e));return t?t.name:""},getCurrentFilterName(){return this.getMessageFilterName(this.currentFilter)},async markAllAsRead(){uni.showModal({title:"Á°ÆËÆ§Êìç‰Ωú",content:"Á°ÆÂÆöË¶ÅÂ∞ÜÊâÄÊúâÊ∂àÊÅØÊ†áËÆ∞‰∏∫Â∑≤ËØªÂêóÔºü",success:async e=>{if(e.confirm)try{o("log","at pages/feed/interaction-messages.vue:249","ÂºÄÂßãÊ†áËÆ∞ÊâÄÊúâÊ∂àÊÅØ‰∏∫Â∑≤ËØª");const e=await uni.request({url:`http://localhost:8888/api/interaction-messages/mark-all-read?userId=${this.userId}`,method:"POST",header:{"Content-Type":"application/json"}});o("log","at pages/feed/interaction-messages.vue:259","Ê†áËÆ∞Â∑≤ËØªAPIÂìçÂ∫î:",e),200===e.statusCode&&e.data.success?(uni.showToast({title:e.data.message,icon:"success"}),this.loadInteractionMessages()):(o("error","at pages/feed/interaction-messages.vue:269","Ê†áËÆ∞Â∑≤ËØªÊìç‰ΩúÂ§±Ë¥•:",e.data.message),uni.showToast({title:e.data.message||"Ê†áËÆ∞Â∑≤ËØªÂ§±Ë¥•",icon:"error"}))}catch(t){o("error","at pages/feed/interaction-messages.vue:276","Ê†áËÆ∞Â∑≤ËØªÊìç‰ΩúÂºÇÂ∏∏:",t),uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}}})},handleMessageClick(e){if(o("log","at pages/feed/interaction-messages.vue:289","ÁÇπÂáªÊ∂àÊÅØ:",e),e.contentType){let t="";if("novel"===e.contentType)t=`/pages/feed/novel-detail?id=${e.contentId}`;else t=`/pages/feed/post-detail?postId=${e.contentId}`;t&&uni.navigateTo({url:t})}else uni.showModal({title:"Ê∂àÊÅØËØ¶ÊÉÖ",content:e.messageText+(e.commentText?"\n\nËØÑËÆ∫ÂÜÖÂÆπÔºö"+e.commentText:""),showCancel:!1})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"interaction-messages-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-button",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[(e.openBlock(),e.createElementBlock("svg",{class:"back-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M407.01 512l286.008-286.008a35.84 35.84 0 0 0-50.683-50.683L330.982 486.656a35.84 35.84 0 0 0 0 50.683L642.34 848.69a35.84 35.84 0 0 0 50.683-50.683L407.009 512z",fill:"#666666"})]))]),e.createElementVNode("view",{class:"title-section",onClick:a[1]||(a[1]=(...e)=>n.toggleFilter&&n.toggleFilter(...e))},[e.createElementVNode("text",{class:"page-title"},e.toDisplayString(n.getCurrentFilterName()),1),e.createElementVNode("view",{class:e.normalizeClass(["filter-arrow",{expanded:i.filterExpanded}])},[(e.openBlock(),e.createElementBlock("svg",{class:"arrow-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},[e.createElementVNode("path",{d:"M832 288l-320 448-320-448z",fill:"#020202"})]))],2)]),e.createElementVNode("view",{class:"check-button",onClick:a[2]||(a[2]=(...e)=>n.markAllAsRead&&n.markAllAsRead(...e))},[e.createElementVNode("view",{class:"check-icon"},"‚úì")])]),i.filterExpanded?(e.openBlock(),e.createElementBlock("view",{key:0,class:"filter-section"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.messageFilters,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["filter-item",{active:i.currentFilter===t.type}]),key:a,onClick:e=>n.selectFilter(t.type)},[e.createElementVNode("view",{class:"filter-icon"},[e.createElementVNode("text",{class:"icon-text"},e.toDisplayString(t.icon),1)]),e.createElementVNode("text",{class:"filter-text"},e.toDisplayString(t.name),1),i.currentFilter===t.type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"filter-check"},[e.createElementVNode("text",{class:"check-text"},"‚úì")])):e.createCommentVNode("",!0)],10,["onClick"])))),128))])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"message-list"},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩÊ∂àÊÅØ...")])):e.createCommentVNode("",!0),i.hasError&&!i.loading?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"error-actions"},[e.createElementVNode("button",{class:"retry-button",onClick:a[3]||(a[3]=(...e)=>n.loadInteractionMessages&&n.loadInteractionMessages(...e))},"ÈáçÊñ∞Âä†ËΩΩ")])])):e.createCommentVNode("",!0),i.hasError||i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.messages,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["message-item",{unread:!t.isRead}]),key:a,onClick:e=>n.handleMessageClick(t)},[e.createElementVNode("view",{class:"avatar-section"},[e.createElementVNode("image",{class:"user-avatar",src:t.fromUserAvatar||"",mode:"aspectFill"},null,8,["src"]),"like"===t.actionType?(e.openBlock(),e.createElementBlock("view",{key:0,class:"action-badge"},"‚ù§Ô∏è")):"favorite"===t.actionType?(e.openBlock(),e.createElementBlock("view",{key:1,class:"action-badge"},"‚≠ê")):"received-comment"===t.actionType?(e.openBlock(),e.createElementBlock("view",{key:2,class:"action-badge"},"üí¨")):"sent-comment"===t.actionType?(e.openBlock(),e.createElementBlock("view",{key:3,class:"action-badge"},"üí¨")):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"message-content"},[e.createElementVNode("view",{class:"user-info"},[e.createElementVNode("text",{class:"username"},e.toDisplayString(t.fromUsername||t.toUsername),1),t.relationship?(e.openBlock(),e.createElementBlock("text",{key:0,class:"relationship"},e.toDisplayString(t.relationship),1)):e.createCommentVNode("",!0)]),e.createElementVNode("text",{class:"message-text"},e.toDisplayString(t.messageText),1),t.commentText?(e.openBlock(),e.createElementBlock("text",{key:0,class:"comment-text"},e.toDisplayString(t.commentText),1)):e.createCommentVNode("",!0),e.createElementVNode("text",{class:"message-date"},e.toDisplayString(t.timeAgo),1)]),t.contentThumbnail?(e.openBlock(),e.createElementBlock("view",{key:0,class:"content-thumbnail"},[e.createElementVNode("image",{class:"thumbnail-image",src:t.contentThumbnail,mode:"aspectFill"},null,8,["src"])])):e.createCommentVNode("",!0),t.isRead?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"unread-dot"}))],10,["onClick"])))),128)),0===i.messages.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-container"},[e.createElementVNode("view",{class:"empty-icon"},"üì≠"),e.createElementVNode("text",{class:"empty-text"},"ÊöÇÊó†"+e.toDisplayString(n.getCurrentFilterName())+"Ê∂àÊÅØ",1)])):e.createCommentVNode("",!0)]))]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const z=a({name:"PublishPage",data:()=>({userId:1000100,contentText:"",selectedColumn:"",showFeatureRow:!0,showLocationTags:!0,imageUrls:"",title:"",description:"",featureItems:[{iconClass:"green-icon",text:"ÊâãËÆ∞"},{iconClass:"diamond-icon",text:"Â∞èËØ¥"},{iconClass:"diamond-icon",text:"Â∞èÊó•Â∏∏"},{iconClass:"diamond-icon",text:"Áù°Ëßâ"}],locationTags:["Êù≠Â∑û","ÈÖíÁêÉ‰ºö(Êù≠Â∑ûÂ∫ó)","ÁÉüÁÅ´‰∏áÂ°ò","LiT CX"],columnOptions:[{value:"mood",label:"ÂøÉÊÉÖ"},{value:"ihave",label:"ÊàëÊúâ"},{value:"iwant",label:"ÊàëË¶Å"},{value:"ilike",label:"ÊàëÂñúÊ¨¢"},{value:"ihate",label:"ÊàëËÆ®Âéå"}]}),onLoad(e){e.userId&&(this.userId=parseInt(e.userId),o("log","at pages/publish/publish.vue:173","PublishPage: Êé•Êî∂Áî®Êà∑ID:",this.userId))},computed:{canPublish(){return""!==this.selectedColumn&&""!==this.contentText.trim()}},methods:{goBack(){uni.navigateBack()},selectColumn(e){this.selectedColumn=e,o("log","at pages/publish/publish.vue:187","ÈÄâÊã©‰∏ìÊ†è:",e)},getContentPlaceholder(){switch(this.selectedColumn){case"mood":return"ÂàÜ‰∫´‰Ω†ÁöÑÂøÉÊÉÖ...";case"ihave":return"ÊèèËø∞‰Ω†Êã•ÊúâÁöÑÁâ©ÂìÅ...";case"iwant":return"ÊèèËø∞‰Ω†ÁöÑÈúÄÊ±Ç...";case"ilike":return"ÂàÜ‰∫´‰Ω†ÂñúÊ¨¢ÁöÑ‰∏úË•ø...";case"ihate":return"ÂàÜ‰∫´‰Ω†ËÆ®ÂéåÁöÑ‰∏úË•ø...";default:return"ÂàÜ‰∫´‰Ω†ÁöÑÊÉ≥Ê≥ï..."}},closeFeatureRow(){this.showFeatureRow=!1},closeLocationRow(){this.showLocationTags=!1},selectImage(){uni.showToast({title:"ÈÄâÊã©ÂõæÁâáÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},mentionUser(){uni.showToast({title:"ËâæÁâπÁî®Êà∑ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},addHashtag(){uni.showToast({title:"Ê∑ªÂä†Ê†áÁ≠æÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},addGif(){uni.showToast({title:"Ê∑ªÂä†GIFÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},addEmoji(){uni.showToast({title:"Ê∑ªÂä†Ë°®ÊÉÖÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},addMore(){uni.showToast({title:"Êõ¥Â§öÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},async publishContent(){this.canPublish?this.contentText.trim()?uni.showModal({title:"Á°ÆËÆ§ÂèëÂ∏É",content:"Á°ÆÂÆöË¶ÅÂèëÂ∏ÉËøôÊù°ÂÜÖÂÆπÂêóÔºü",success:async e=>{e.confirm&&await this.submitContent()}}):uni.showToast({title:"ËØ∑ËæìÂÖ•ÂÜÖÂÆπ",icon:"none"}):uni.showToast({title:"ËØ∑ÂÖàÈÄâÊã©ÂøÖÈÄâ‰∏ìÊ†è",icon:"none"})},async submitContent(){try{o("log","at pages/publish/publish.vue:278","PublishPage: ÂºÄÂßãÂèëÂ∏ÉÂÜÖÂÆπ"),o("log","at pages/publish/publish.vue:279","Áî®Êà∑ID:",this.userId),o("log","at pages/publish/publish.vue:280","‰∏ìÊ†èÁ±ªÂûã:",this.selectedColumn),o("log","at pages/publish/publish.vue:281","ÂÜÖÂÆπ:",this.contentText);let e={userId:this.userId,contentText:this.contentText,columnType:this.selectedColumn};this.imageUrls&&(e.imageUrls=this.imageUrls),"ihave"!==this.selectedColumn&&"iwant"!==this.selectedColumn||(e.title=this.title||this.contentText.substring(0,20)+"...","ihave"===this.selectedColumn&&(e.description=this.description||this.contentText)),o("log","at pages/publish/publish.vue:303","ËØ∑Ê±ÇÊï∞ÊçÆ:",e);const t=await uni.request({url:"http://localhost:8888/api/publish/content",method:"POST",data:e,header:{"Content-Type":"application/json"}});o("log","at pages/publish/publish.vue:314","ÂèëÂ∏ÉAPIÂìçÂ∫î:",t),200===t.statusCode&&t.data.success?(uni.showToast({title:t.data.message||"ÂèëÂ∏ÉÊàêÂäü",icon:"success"}),setTimeout((()=>{uni.navigateBack()}),1500)):(o("error","at pages/publish/publish.vue:327","ÂèëÂ∏ÉÂ§±Ë¥•:",t.data.message),uni.showToast({title:t.data.message||"ÂèëÂ∏ÉÂ§±Ë¥•",icon:"error"}))}catch(e){o("error","at pages/publish/publish.vue:334","ÂèëÂ∏ÉÂºÇÂ∏∏:",e),uni.showToast({title:"ÁΩëÁªúÈîôËØØÔºåËØ∑ÈáçËØï",icon:"error"})}}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"publish-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"cancel-button",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[e.createElementVNode("text",{class:"cancel-text"},"ÂèñÊ∂à")]),e.createElementVNode("view",{class:"title-section"},[e.createElementVNode("text",{class:"page-title"},"Afriends"),e.createElementVNode("text",{class:"subtitle"},"ÊõáÈ¨≤")]),e.createElementVNode("view",{class:e.normalizeClass(["send-button",{disabled:!n.canPublish}]),onClick:a[1]||(a[1]=(...e)=>n.publishContent&&n.publishContent(...e))},[e.createElementVNode("text",{class:"send-text"},"ÂèëÈÄÅ")],2)]),e.createElementVNode("view",{class:"content-input-area"},["ihave"===i.selectedColumn||"iwant"===i.selectedColumn?(e.openBlock(),e.createElementBlock("view",{key:0,class:"title-input"},[e.withDirectives(e.createElementVNode("input",{class:"title-field","onUpdate:modelValue":a[2]||(a[2]=e=>i.title=e),placeholder:"ihave"===i.selectedColumn?"Áâ©ÂìÅÊ†áÈ¢òÔºàÂ¶ÇÔºöÊàëÁöÑiPhone 15Ôºâ":"ÈúÄÊ±ÇÊ†áÈ¢òÔºàÂ¶ÇÔºöÈúÄË¶Å‰∏ÄÂè∞MacBookÔºâ","placeholder-class":"input-placeholder"},null,8,["placeholder"]),[[e.vModelText,i.title]])])):e.createCommentVNode("",!0),"ihave"===i.selectedColumn?(e.openBlock(),e.createElementBlock("view",{key:1,class:"description-input"},[e.withDirectives(e.createElementVNode("textarea",{class:"description-field","onUpdate:modelValue":a[3]||(a[3]=e=>i.description=e),placeholder:"ËØ¶ÁªÜÊèèËø∞ÔºàÂ¶ÇÔºöË¥≠ÂÖ•Êó∂Èó¥„ÄÅ‰ΩøÁî®ÊÉÖÂÜµÁ≠âÔºâ","placeholder-class":"input-placeholder","show-confirm-bar":!1,"adjust-position":!0,"hold-keyboard":!0},null,512),[[e.vModelText,i.description]])])):e.createCommentVNode("",!0),e.withDirectives(e.createElementVNode("textarea",{class:"input-field","onUpdate:modelValue":a[4]||(a[4]=e=>i.contentText=e),placeholder:n.getContentPlaceholder(),"placeholder-class":"input-placeholder","auto-focus":!0,"show-confirm-bar":!1,"adjust-position":!0,"hold-keyboard":!0},null,8,["placeholder"]),[[e.vModelText,i.contentText]])]),e.createElementVNode("view",{class:"feature-buttons"},[i.showFeatureRow?(e.openBlock(),e.createElementBlock("view",{key:0,class:"button-row scrollable-row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.featureItems,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"feature-button",key:a},[e.createElementVNode("view",{class:e.normalizeClass(["button-icon",t.iconClass])},null,2),e.createElementVNode("text",{class:"button-text"},e.toDisplayString(t.text),1)])))),128)),e.createElementVNode("view",{class:"close-row-button",onClick:a[5]||(a[5]=(...e)=>n.closeFeatureRow&&n.closeFeatureRow(...e))},[e.createElementVNode("text",{class:"close-text"},"√ó")])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"button-row second-row"},[e.createElementVNode("view",{class:"left-buttons"},[e.createElementVNode("view",{class:"feature-button"},[e.createElementVNode("view",{class:"button-icon pin-icon"}),e.createElementVNode("text",{class:"button-text"},"Ê∑ªÂä†‰ΩçÁΩÆ")]),e.createElementVNode("view",{class:"feature-button"},[e.createElementVNode("view",{class:"button-icon diamond-icon"}),e.createElementVNode("text",{class:"button-text"},"Ë∂ÖËØù")])]),e.createElementVNode("view",{class:"right-buttons"},[e.createElementVNode("view",{class:"feature-button"},[e.createElementVNode("view",{class:"button-icon lock-icon"}),e.createElementVNode("text",{class:"button-text"},"ÂÖ¨ÂºÄ")])])]),i.showLocationTags?(e.openBlock(),e.createElementBlock("view",{key:1,class:"location-tags scrollable-row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.locationTags,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"tag-item",key:a},[e.createElementVNode("text",{class:"tag-text"},e.toDisplayString(t),1)])))),128)),e.createElementVNode("view",{class:"close-row-button",onClick:a[6]||(a[6]=(...e)=>n.closeLocationRow&&n.closeLocationRow(...e))},[e.createElementVNode("text",{class:"close-text"},"√ó")])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"required-column"},[e.createElementVNode("text",{class:"column-title"},"ÂøÖÈÄâ‰∏ìÊ†è *"),e.createElementVNode("view",{class:"column-options"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.columnOptions,(t=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["column-option",{selected:i.selectedColumn===t.value}]),key:t.value,onClick:e=>n.selectColumn(t.value)},[e.createElementVNode("text",{class:"option-text"},e.toDisplayString(t.label),1)],10,["onClick"])))),128))])]),e.createElementVNode("view",{class:"bottom-toolbar"},[e.createElementVNode("view",{class:"tool-item",onClick:a[7]||(a[7]=(...e)=>n.selectImage&&n.selectImage(...e))},[e.createElementVNode("view",{class:"tool-icon gallery-icon"})]),e.createElementVNode("view",{class:"tool-item",onClick:a[8]||(a[8]=(...e)=>n.mentionUser&&n.mentionUser(...e))},[e.createElementVNode("view",{class:"tool-icon at-icon"},"@")]),e.createElementVNode("view",{class:"tool-item",onClick:a[9]||(a[9]=(...e)=>n.addHashtag&&n.addHashtag(...e))},[e.createElementVNode("view",{class:"tool-icon hashtag-icon"},"#")]),e.createElementVNode("view",{class:"tool-item",onClick:a[10]||(a[10]=(...e)=>n.addGif&&n.addGif(...e))},[e.createElementVNode("view",{class:"tool-icon gif-icon"},"GIF")]),e.createElementVNode("view",{class:"tool-item",onClick:a[11]||(a[11]=(...e)=>n.addEmoji&&n.addEmoji(...e))},[e.createElementVNode("view",{class:"tool-icon emoji-icon"},"üòä")]),e.createElementVNode("view",{class:"tool-item",onClick:a[12]||(a[12]=(...e)=>n.addMore&&n.addMore(...e))},[e.createElementVNode("view",{class:"tool-icon plus-icon"},"+")])])])}]]);const U=a({name:"SettingsPage",data:()=>({darkMode:!1}),methods:{goBack(){uni.navigateBack()},goToHome(){uni.navigateTo({url:"/pages/feed/content-feed"})},goToChatList(){uni.navigateTo({url:"/pages/chat/chat-list"})},goToAIChat(){uni.navigateTo({url:"/pages/chat/chat"})},goToFriendList(){uni.navigateTo({url:"/pages/chat/friend-list"})},goToProfile(){uni.navigateTo({url:"/pages/feed/user-profile"})},toggleDarkMode(){this.darkMode=!this.darkMode},goToSwitchAccount(){uni.navigateTo({url:"/pages/settings/switch-account"})},goToAccountSecurity(){uni.navigateTo({url:"/pages/settings/account-security"})},goToModeSelection(){uni.navigateTo({url:"/pages/settings/mode-selection"})},goToNotifications(){uni.navigateTo({url:"/pages/settings/notification-settings"})},goToPrivacySettings(){uni.navigateTo({url:"/pages/settings/privacy-settings"})},goToLanguage(){uni.navigateTo({url:"/pages/settings/language"})},goToBlockedUsers(){uni.navigateTo({url:"/pages/settings/blocked-users"})},goToChatSettings(){uni.navigateTo({url:"/pages/settings/chat-settings"})},goToTermsOfService(){uni.navigateTo({url:"/pages/settings/terms-of-service"})},goToCustomerService(){uni.navigateTo({url:"/pages/chat/chat?friendName=ÂÆ¢Êúç"})},goToUsageTutorial(){uni.navigateTo({url:"/pages/settings/usage-tutorial"})},logoutAccount(){uni.showModal({title:"Á°ÆËÆ§Ê≥®ÈîÄ",content:"Á°ÆÂÆöË¶ÅÊ≥®ÈîÄË¥¶Êà∑ÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÈÄÜ„ÄÇ",success:e=>{e.confirm&&(uni.showToast({title:"Ë¥¶Êà∑Â∑≤Ê≥®ÈîÄ",icon:"none",duration:1500}),setTimeout((()=>{uni.redirectTo({url:"/pages/login/login-replica"})}),1500))}})},signOut(){uni.showModal({title:"Á°ÆËÆ§ÈÄÄÂá∫",content:"Á°ÆÂÆöË¶ÅÈÄÄÂá∫ÁôªÂΩïÂêóÔºü",success:e=>{e.confirm&&(uni.showToast({title:"Â∑≤ÈÄÄÂá∫ÁôªÂΩï",icon:"none",duration:1500}),setTimeout((()=>{uni.redirectTo({url:"/pages/login/login-replica"})}),1500))}})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"settings-page"},[e.createElementVNode("view",{class:"settings-content"},[e.createElementVNode("view",{class:"settings-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"ÊàëÁöÑË¥¶Êà∑")]),e.createElementVNode("view",{class:"section-items"},[e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("text",{class:"item-text"},"ÊöóÂ§úÊ®°Âºè"),e.createElementVNode("view",{class:e.normalizeClass(["toggle-switch",{active:i.darkMode}]),onClick:a[0]||(a[0]=(...e)=>n.toggleDarkMode&&n.toggleDarkMode(...e))},[e.createElementVNode("view",{class:"toggle-circle"})],2)]),e.createElementVNode("view",{class:"setting-item",onClick:a[1]||(a[1]=(...e)=>n.goToSwitchAccount&&n.goToSwitchAccount(...e))},[e.createElementVNode("text",{class:"item-text"},"ÂàáÊç¢Ë¥¶Âè∑"),e.createElementVNode("view",{class:"arrow-right"})]),e.createElementVNode("view",{class:"setting-item",onClick:a[2]||(a[2]=(...e)=>n.goToAccountSecurity&&n.goToAccountSecurity(...e))},[e.createElementVNode("text",{class:"item-text"},"Ë¥¶Âè∑‰∏éÂÆâÂÖ®"),e.createElementVNode("view",{class:"arrow-right"})]),e.createElementVNode("view",{class:"setting-item",onClick:a[3]||(a[3]=(...e)=>n.goToModeSelection&&n.goToModeSelection(...e))},[e.createElementVNode("text",{class:"item-text"},"Ê®°ÂºèÈÄâÊã©"),e.createElementVNode("view",{class:"arrow-right"})])])]),e.createElementVNode("view",{class:"settings-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"Ë¥¶Êà∑ËÆæÁΩÆ")]),e.createElementVNode("view",{class:"section-items"},[e.createElementVNode("view",{class:"setting-item",onClick:a[4]||(a[4]=(...e)=>n.goToNotifications&&n.goToNotifications(...e))},[e.createElementVNode("text",{class:"item-text"},"ÈÄöÁü•"),e.createElementVNode("view",{class:"arrow-right"})]),e.createElementVNode("view",{class:"setting-item",onClick:a[5]||(a[5]=(...e)=>n.goToPrivacySettings&&n.goToPrivacySettings(...e))},[e.createElementVNode("text",{class:"item-text"},"ÈöêÁßÅËÆæÁΩÆ"),e.createElementVNode("view",{class:"arrow-right"})]),e.createElementVNode("view",{class:"setting-item",onClick:a[6]||(a[6]=(...e)=>n.goToLanguage&&n.goToLanguage(...e))},[e.createElementVNode("text",{class:"item-text"},"ËØ≠Ë®Ä"),e.createElementVNode("view",{class:"arrow-right"})]),e.createElementVNode("view",{class:"setting-item",onClick:a[7]||(a[7]=(...e)=>n.goToBlockedUsers&&n.goToBlockedUsers(...e))},[e.createElementVNode("text",{class:"item-text"},"ÊãâÈªëÁî®Êà∑"),e.createElementVNode("view",{class:"arrow-right"})])])]),e.createElementVNode("view",{class:"settings-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"Â∏ÆÂä©")]),e.createElementVNode("view",{class:"section-items"},[e.createElementVNode("view",{class:"setting-item",onClick:a[8]||(a[8]=(...e)=>n.goToTermsOfService&&n.goToTermsOfService(...e))},[e.createElementVNode("text",{class:"item-text"},"ÊúçÂä°Êù°Ê¨æ"),e.createElementVNode("view",{class:"arrow-right"})]),e.createElementVNode("view",{class:"setting-item",onClick:a[9]||(a[9]=(...e)=>n.goToCustomerService&&n.goToCustomerService(...e))},[e.createElementVNode("text",{class:"item-text"},"ÂÆ¢Êúç‰∏éÊîØÊåÅ"),e.createElementVNode("view",{class:"arrow-right"})])])]),e.createElementVNode("view",{class:"account-actions"},[e.createElementVNode("view",{class:"action-button logout-account",onClick:a[10]||(a[10]=(...e)=>n.logoutAccount&&n.logoutAccount(...e))},[e.createElementVNode("text",{class:"action-text"},"Ê≥®ÈîÄË¥¶Êà∑")]),e.createElementVNode("view",{class:"action-button sign-out",onClick:a[11]||(a[11]=(...e)=>n.signOut&&n.signOut(...e))},[e.createElementVNode("text",{class:"action-text"},"ÈÄÄÂá∫ÁôªÂΩï")])])])])}]]);const j=a({data:()=>({clipboardEnabled:!0,showDialog:!1,currentPermissionTitle:"",currentPermissionType:""}),methods:{goBack(){o("log","at pages/settings/system-permissions.vue:130","ËøîÂõû‰∏ä‰∏ÄÈ°µ"),uni.navigateBack()},toggleClipboard(e){this.clipboardEnabled=e.detail.value,o("log","at pages/settings/system-permissions.vue:139","Ââ™ÂàáÊùøÊùÉÈôêÂ∑≤ÂàáÊç¢‰∏∫:",this.clipboardEnabled)},goToAlbumPermissions(){uni.navigateTo({url:"/pages/settings/album-permissions"})},showPermissionDialog(e,t){this.currentPermissionTitle=e,this.currentPermissionType=t,this.showDialog=!0},hidePermissionDialog(){this.showDialog=!1},getPermissionIcon:e=>({location:"üìç",camera:"üì∑",microphone:"üé§"}[e]||"‚öôÔ∏è"),getPermissionDescription:e=>({location:"ÂÖ≥Èó≠Âêé,Â∞ÜÊó†Ê≥ï‰∏∫‰Ω†Êé®Ëçê‰ΩçÁΩÆÁõ∏ÂÖ≥ÁöÑÊúçÂä°„ÄÇ",camera:"ÂÖ≥Èó≠Âêé,Â∞ÜÊó†Ê≥ï‰ΩøÁî®ÊäñÈü≥ÊãçÊëÑ‰ΩúÂìÅ„ÄÇ",microphone:"ÂÖ≥Èó≠Âêé,Â∞ÜÊó†Ê≥ï‰ΩøÁî®ÊäñÈü≥ÊãçÊëÑ‰ΩúÂìÅ„ÄÇ"}[e]||"ÂÖ≥Èó≠Âêé,Â∞ÜÊó†Ê≥ï‰ΩøÁî®Áõ∏ÂÖ≥ÂäüËÉΩ„ÄÇ"),goToSystemSettings(e){o("log","at pages/settings/system-permissions.vue:197","ÂâçÂæÄÁ≥ªÁªüËÆæÁΩÆ:",e),uni.showModal({title:"Ë∑≥ËΩ¨Á≥ªÁªüËÆæÁΩÆ",content:`Âç≥Â∞ÜË∑≥ËΩ¨Âà∞Á≥ªÁªüËÆæÁΩÆÈ°µÈù¢ÔºåËØ∑Âú®"${e}"‰∏≠ÂºÄÂêØÁõ∏Â∫îÊùÉÈôê„ÄÇ`,showCancel:!1,success:()=>{uni.showToast({title:"Á≥ªÁªüËÆæÁΩÆÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})}})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"system-permissions-page"},[e.createElementVNode("view",{class:"permissions-list"},[e.createElementVNode("view",{class:"permission-item",onClick:a[0]||(a[0]=e=>n.goToSystemSettings("ÈÄöËÆØÂΩïÊùÉÈôê"))},[e.createElementVNode("text",{class:"permission-text"},"ÈÄöËÆØÂΩïÊùÉÈôê"),e.createElementVNode("text",{class:"permission-arrow"},">")]),e.createElementVNode("view",{class:"permission-item",onClick:a[1]||(a[1]=(...e)=>n.goToAlbumPermissions&&n.goToAlbumPermissions(...e))},[e.createElementVNode("text",{class:"permission-text"},"Áõ∏ÂÜåÊùÉÈôê"),e.createElementVNode("view",{class:"permission-action"},[e.createElementVNode("text",{class:"action-text"},"ÂéªËÆæÁΩÆ"),e.createElementVNode("text",{class:"permission-arrow"},">")])]),e.createElementVNode("view",{class:"permission-item",onClick:a[2]||(a[2]=e=>n.showPermissionDialog("‰ΩçÁΩÆÊùÉÈôê","location"))},[e.createElementVNode("text",{class:"permission-text"},"‰ΩçÁΩÆÊùÉÈôê"),e.createElementVNode("view",{class:"permission-action"},[e.createElementVNode("text",{class:"action-text"},"ÂéªËÆæÁΩÆ"),e.createElementVNode("text",{class:"permission-arrow"},">")])]),e.createElementVNode("view",{class:"permission-item",onClick:a[3]||(a[3]=e=>n.showPermissionDialog("Áõ∏Êú∫ÊùÉÈôê","camera"))},[e.createElementVNode("text",{class:"permission-text"},"Áõ∏Êú∫ÊùÉÈôê"),e.createElementVNode("view",{class:"permission-action"},[e.createElementVNode("text",{class:"action-text"},"ÂéªËÆæÁΩÆ"),e.createElementVNode("text",{class:"permission-arrow"},">")])]),e.createElementVNode("view",{class:"permission-item",onClick:a[4]||(a[4]=e=>n.showPermissionDialog("È∫¶ÂÖãÈ£éÊùÉÈôê","microphone"))},[e.createElementVNode("text",{class:"permission-text"},"È∫¶ÂÖãÈ£éÊùÉÈôê"),e.createElementVNode("view",{class:"permission-action"},[e.createElementVNode("text",{class:"action-text"},"ÂéªËÆæÁΩÆ"),e.createElementVNode("text",{class:"permission-arrow"},">")])]),e.createElementVNode("view",{class:"permission-item",onClick:a[5]||(a[5]=e=>n.goToSystemSettings("ÂÖ∂‰ªñÊùÉÈôê"))},[e.createElementVNode("text",{class:"permission-text"},"ÂÖ∂‰ªñÊùÉÈôê"),e.createElementVNode("view",{class:"permission-action"},[e.createElementVNode("text",{class:"action-text"},"ÂéªËÆæÁΩÆ"),e.createElementVNode("text",{class:"permission-arrow"},">")])]),e.createElementVNode("view",{class:"clipboard-section"},[e.createElementVNode("view",{class:"clipboard-header"},[e.createElementVNode("text",{class:"clipboard-title"},"Ââ™ÂàáÊùøËØªÂèñÊùÉÈôê"),e.createElementVNode("switch",{checked:i.clipboardEnabled,onChange:a[6]||(a[6]=(...e)=>n.toggleClipboard&&n.toggleClipboard(...e)),color:"#007aff",class:"clipboard-switch"},null,40,["checked"])]),e.createElementVNode("text",{class:"clipboard-description"}," ÂÖ≥Èó≠ÂêéÔºåÂ∞ÜÊó†Ê≥ïËá™Âä®ËØÜÂà´‰Ω†Â§çÂà∂ÁöÑÂè£‰ª§‰ª•Â±ïÁ§∫Áõ∏Â∫îÂÜÖÂÆπ ")])]),i.showDialog?(e.openBlock(),e.createElementBlock("view",{key:0,class:"permission-overlay",onClick:a[11]||(a[11]=(...e)=>n.hidePermissionDialog&&n.hidePermissionDialog(...e))},[e.createElementVNode("view",{class:"permission-dialog",onClick:a[10]||(a[10]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"close-button",onClick:a[7]||(a[7]=(...e)=>n.hidePermissionDialog&&n.hidePermissionDialog(...e))},[e.createElementVNode("text",{class:"close-icon"},"√ó")]),e.createElementVNode("view",{class:"permission-icon"},[e.createElementVNode("view",{class:e.normalizeClass(["icon-container",i.currentPermissionType])},[e.createElementVNode("text",{class:"icon-text"},e.toDisplayString(n.getPermissionIcon(i.currentPermissionType)),1)],2)]),e.createElementVNode("text",{class:"dialog-title"},e.toDisplayString(i.currentPermissionTitle),1),e.createElementVNode("text",{class:"dialog-description"},e.toDisplayString(n.getPermissionDescription(i.currentPermissionType)),1),e.createElementVNode("view",{class:"dialog-buttons"},[e.createElementVNode("view",{class:"button button-secondary",onClick:a[8]||(a[8]=(...e)=>n.hidePermissionDialog&&n.hidePermissionDialog(...e))},[e.createElementVNode("text",{class:"button-text"},"ÂÜçÊÉ≥ÊÉ≥")]),e.createElementVNode("view",{class:"button button-primary",onClick:a[9]||(a[9]=e=>n.goToSystemSettings(i.currentPermissionTitle))},[e.createElementVNode("text",{class:"button-text"},"ÂéªËÆæÁΩÆ")])])])])):e.createCommentVNode("",!0)])}]]);const _=a({name:"PermissionsPage",data:()=>({showDialog:!1,currentPermissionTitle:"",currentPermissionType:""}),methods:{goBack(){uni.navigateBack()},showPermissionDialog(e){this.currentPermissionTitle=e,this.currentPermissionType=e,this.showDialog=!0},hidePermissionDialog(){this.showDialog=!1},confirmPermission(){uni.showToast({title:"ÊùÉÈôêËÆæÁΩÆÂ∑≤Êõ¥Êñ∞",icon:"success"}),this.hidePermissionDialog()},goToSystemSettings(){uni.showModal({title:"Á≥ªÁªüËÆæÁΩÆ",content:"Âç≥Â∞ÜË∑≥ËΩ¨Âà∞Á≥ªÁªüËÆæÁΩÆÈ°µÈù¢",showCancel:!0,confirmText:"Á°ÆÂÆö",cancelText:"ÂèñÊ∂à",success:e=>{e.confirm&&uni.showToast({title:"Ë∑≥ËΩ¨Á≥ªÁªüËÆæÁΩÆ",icon:"none"})}})},getPermissionDescription:e=>({"‰ΩçÁΩÆÊùÉÈôê":"‰ΩçÁΩÆÊùÉÈôêÂÖÅËÆ∏Â∫îÁî®Ëé∑ÂèñÊÇ®ÁöÑÂú∞ÁêÜ‰ΩçÁΩÆ‰ø°ÊÅØÔºåÁî®‰∫éÊèê‰æõÂü∫‰∫é‰ΩçÁΩÆÁöÑÊúçÂä°ÂíåÂäüËÉΩ„ÄÇ","Áõ∏Êú∫ÊùÉÈôê":"Áõ∏Êú∫ÊùÉÈôêÂÖÅËÆ∏Â∫îÁî®‰ΩøÁî®ÊÇ®ÁöÑËÆæÂ§áÊëÑÂÉèÂ§¥ËøõË°åÊãçÁÖß„ÄÅÂΩïÂà∂ËßÜÈ¢ëÂíåËßÜÈ¢ëÈÄöËØù„ÄÇ","È∫¶ÂÖãÈ£éÊùÉÈôê":"È∫¶ÂÖãÈ£éÊùÉÈôêÂÖÅËÆ∏Â∫îÁî®‰ΩøÁî®ÊÇ®ÁöÑËÆæÂ§áÈ∫¶ÂÖãÈ£éËøõË°åËØ≠Èü≥ÈÄöËØù„ÄÅÂΩïÈü≥ÂíåËØ≠Èü≥ËØÜÂà´„ÄÇ"}[e]||"ËØ•ÊùÉÈôêÁî®‰∫éÊèê‰æõÁõ∏ÂÖ≥ÂäüËÉΩÂíåÊúçÂä°„ÄÇ")}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"permissions-container"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"permission-section"},[e.createElementVNode("view",{class:"section-title"},[e.createElementVNode("text",null,"Â∫îÁî®ÊùÉÈôê")]),e.createElementVNode("view",{class:"permission-item",onClick:a[0]||(a[0]=e=>n.showPermissionDialog("‰ΩçÁΩÆÊùÉÈôê"))},[e.createElementVNode("view",{class:"permission-info"},[e.createElementVNode("view",{class:"permission-icon"},"üìç"),e.createElementVNode("view",{class:"permission-details"},[e.createElementVNode("text",{class:"permission-name"},"‰ΩçÁΩÆÊùÉÈôê"),e.createElementVNode("text",{class:"permission-desc"},"Áî®‰∫éËé∑ÂèñÊÇ®ÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØ")])]),e.createElementVNode("view",{class:"permission-status"},[e.createElementVNode("text",{class:"status-text"},"Â∑≤ÊéàÊùÉ"),e.createElementVNode("text",{class:"arrow"},"‚Ä∫")])]),e.createElementVNode("view",{class:"permission-item",onClick:a[1]||(a[1]=e=>n.showPermissionDialog("Áõ∏Êú∫ÊùÉÈôê"))},[e.createElementVNode("view",{class:"permission-info"},[e.createElementVNode("view",{class:"permission-icon"},"üì∑"),e.createElementVNode("view",{class:"permission-details"},[e.createElementVNode("text",{class:"permission-name"},"Áõ∏Êú∫ÊùÉÈôê"),e.createElementVNode("text",{class:"permission-desc"},"Áî®‰∫éÊãçÁÖßÂíåËßÜÈ¢ëÈÄöËØù")])]),e.createElementVNode("view",{class:"permission-status"},[e.createElementVNode("text",{class:"status-text"},"Â∑≤ÊéàÊùÉ"),e.createElementVNode("text",{class:"arrow"},"‚Ä∫")])]),e.createElementVNode("view",{class:"permission-item",onClick:a[2]||(a[2]=e=>n.showPermissionDialog("È∫¶ÂÖãÈ£éÊùÉÈôê"))},[e.createElementVNode("view",{class:"permission-info"},[e.createElementVNode("view",{class:"permission-icon"},"üé§"),e.createElementVNode("view",{class:"permission-details"},[e.createElementVNode("text",{class:"permission-name"},"È∫¶ÂÖãÈ£éÊùÉÈôê"),e.createElementVNode("text",{class:"permission-desc"},"Áî®‰∫éËØ≠Èü≥ÈÄöËØùÂíåÂΩïÈü≥")])]),e.createElementVNode("view",{class:"permission-status"},[e.createElementVNode("text",{class:"status-text"},"Â∑≤ÊéàÊùÉ"),e.createElementVNode("text",{class:"arrow"},"‚Ä∫")])]),e.createElementVNode("view",{class:"permission-item",onClick:a[3]||(a[3]=(...e)=>n.goToSystemSettings&&n.goToSystemSettings(...e))},[e.createElementVNode("view",{class:"permission-info"},[e.createElementVNode("view",{class:"permission-icon"},"üì±"),e.createElementVNode("view",{class:"permission-details"},[e.createElementVNode("text",{class:"permission-name"},"ÈÄöËÆØÂΩïÊùÉÈôê"),e.createElementVNode("text",{class:"permission-desc"},"Áî®‰∫éÂêåÊ≠•ËÅîÁ≥ª‰∫∫‰ø°ÊÅØ")])]),e.createElementVNode("view",{class:"permission-status"},[e.createElementVNode("text",{class:"status-text"},"Êú™ÊéàÊùÉ"),e.createElementVNode("text",{class:"arrow"},"‚Ä∫")])]),e.createElementVNode("view",{class:"permission-item",onClick:a[4]||(a[4]=(...e)=>n.goToSystemSettings&&n.goToSystemSettings(...e))},[e.createElementVNode("view",{class:"permission-info"},[e.createElementVNode("view",{class:"permission-icon"},"‚öôÔ∏è"),e.createElementVNode("view",{class:"permission-details"},[e.createElementVNode("text",{class:"permission-name"},"ÂÖ∂‰ªñÊùÉÈôê"),e.createElementVNode("text",{class:"permission-desc"},"Á≥ªÁªüÁõ∏ÂÖ≥ÊùÉÈôêËÆæÁΩÆ")])]),e.createElementVNode("view",{class:"permission-status"},[e.createElementVNode("text",{class:"status-text"},"Á≥ªÁªüÁÆ°ÁêÜ"),e.createElementVNode("text",{class:"arrow"},"‚Ä∫")])])])]),i.showDialog?(e.openBlock(),e.createElementBlock("view",{key:0,class:"permission-overlay",onClick:a[9]||(a[9]=(...e)=>n.hidePermissionDialog&&n.hidePermissionDialog(...e))},[e.createElementVNode("view",{class:"permission-dialog",onClick:a[8]||(a[8]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"dialog-header"},[e.createElementVNode("text",{class:"dialog-title"},e.toDisplayString(i.currentPermissionTitle),1),e.createElementVNode("text",{class:"close-btn",onClick:a[5]||(a[5]=(...e)=>n.hidePermissionDialog&&n.hidePermissionDialog(...e))},"√ó")]),e.createElementVNode("view",{class:"dialog-content"},[e.createElementVNode("text",{class:"dialog-desc"},e.toDisplayString(n.getPermissionDescription(i.currentPermissionType)),1)]),e.createElementVNode("view",{class:"dialog-actions"},[e.createElementVNode("button",{class:"action-btn cancel-btn",onClick:a[6]||(a[6]=(...e)=>n.hidePermissionDialog&&n.hidePermissionDialog(...e))},"ÂèñÊ∂à"),e.createElementVNode("button",{class:"action-btn confirm-btn",onClick:a[7]||(a[7]=(...e)=>n.confirmPermission&&n.confirmPermission(...e))},"Á°ÆËÆ§")])])])):e.createCommentVNode("",!0)])}],["__scopeId","data-v-0c085706"]]);const O=a({name:"AlbumPermissionsPage",data:()=>({locationPermission:!0,sharePermission:!0,analysisPermission:!0}),methods:{goBack(){uni.navigateBack()},goToSettings(){uni.showToast({title:"Ë∑≥ËΩ¨Âà∞Á≥ªÁªüËÆæÁΩÆ",icon:"none"})},toggleLocationPermission(){this.locationPermission=!this.locationPermission},toggleSharePermission(){this.sharePermission=!this.sharePermission},toggleAnalysisPermission(){this.analysisPermission=!this.analysisPermission}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"album-permissions-page"},[e.createElementVNode("view",{class:"permission-section"},[e.createElementVNode("view",{class:"permission-header"},[e.createElementVNode("text",{class:"permission-title"},"Áõ∏ÂÜåÊùÉÈôê"),e.createElementVNode("view",{class:"go-to-settings",onClick:a[0]||(a[0]=(...e)=>n.goToSettings&&n.goToSettings(...e))},[e.createElementVNode("text",{class:"settings-text"},"ÂéªËÆæÁΩÆ"),e.createElementVNode("view",{class:"arrow-right"})])])]),e.createElementVNode("view",{class:"permissions-list"},[e.createElementVNode("view",{class:"permission-item"},[e.createElementVNode("view",{class:"permission-content"},[e.createElementVNode("text",{class:"permission-name"},"ÂÖÅËÆ∏‰ΩøÁî®Áõ∏ÂÜåÂÜÖÂÆπÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØ"),e.createElementVNode("text",{class:"permission-description"},"ÂÖ≥Èó≠Âêé,Â∞Ü‰∏ç‰ΩøÁî®Êú¨Âú∞Áõ∏ÂÜåÂíåÂ∑≤Áªè‰∏ä‰º†ÁöÑÁõ∏ÂÜåÂÜÖÂÆπ‰∏≠ÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØ,Â¶ÇÂèëÂ∏ÉÊó∂Êó†Ê≥ï‰∏∫‰Ω†Êé®ËçêÁõ∏ÂÜå‰∏≠ÁÖßÁâáÂíåËßÜÈ¢ëÁöÑÊãçÊëÑÂú∞ÁÇπÁ≠â")]),e.createElementVNode("view",{class:e.normalizeClass(["toggle-switch",{active:i.locationPermission}]),onClick:a[1]||(a[1]=(...e)=>n.toggleLocationPermission&&n.toggleLocationPermission(...e))},[e.createElementVNode("view",{class:"toggle-circle"})],2)]),e.createElementVNode("view",{class:"permission-item"},[e.createElementVNode("view",{class:"permission-content"},[e.createElementVNode("text",{class:"permission-name"},"ÂÖÅËÆ∏Âø´Êç∑ÂàÜ‰∫´Áõ∏ÂÜåÂÜÖÂÆπÂà∞Afriends"),e.createElementVNode("text",{class:"permission-description"},"ÂÖ≥Èó≠Âêé,‰Ω†Êó†Ê≥ïÂ∞ÜÁ≥ªÁªüÁõ∏ÂÜå‰∏≠ÁöÑÂõæÁâáÂíåËßÜÈ¢ëÂø´Êç∑ÂàÜ‰∫´ÁªôAfriendsÊúãÂèã")]),e.createElementVNode("view",{class:e.normalizeClass(["toggle-switch",{active:i.sharePermission}]),onClick:a[2]||(a[2]=(...e)=>n.toggleSharePermission&&n.toggleSharePermission(...e))},[e.createElementVNode("view",{class:"toggle-circle"})],2)]),e.createElementVNode("view",{class:"permission-item"},[e.createElementVNode("view",{class:"permission-content"},[e.createElementVNode("text",{class:"permission-name"},"ÂÖÅËÆ∏ËØÜÂà´Âπ∂ÂàÜÊûêÁõ∏ÂÜåÂÜÖÂÆπ"),e.createElementVNode("text",{class:"permission-description"},"Âú®‰Ω†ËøõÂÖ•Áõ∏ÂÜåÂêé,Êàë‰ª¨‰ªÖ‰ºöÂú®ÊéàÊùÉËÆøÈóÆÁöÑÁõ∏ÂÜåËåÉÂõ¥ÂÜÖËØÜÂà´ÂàÜÊûê,Âú®ËÆæÂ§áÊú¨Âú∞ËøêË°å,ÂÖ≥Èó≠Âêé,Â∞Ü‰∏çÂÜçÂØπÊÇ®ÊâãÊú∫Áõ∏ÂÜå‰∏≠ÁöÑÂÜÖÂÆπËøõË°åËØÜÂà´,Â¶Ç‰∏çÂÜçÊèê‰æõÁõ∏ÂÜåÊêúÁ¥¢„ÄÅ‰∫∫ÂÉèÁ≠õÈÄâ„ÄÅÊé®ËçêÂΩ±ÈõÜÁ≠âÂäüËÉΩ")]),e.createElementVNode("view",{class:e.normalizeClass(["toggle-switch",{active:i.analysisPermission}]),onClick:a[3]||(a[3]=(...e)=>n.toggleAnalysisPermission&&n.toggleAnalysisPermission(...e))},[e.createElementVNode("view",{class:"toggle-circle"})],2)])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const q=a({name:"BlockedUsersPage",data:()=>({searchKeyword:"",blockedUsers:[{id:"001",name:"Âº†‰∏â",avatar:"",blockDate:"2024-12-20",reason:"È™öÊâ∞Ë°å‰∏∫"},{id:"002",name:"ÊùéÂõõ",avatar:"",blockDate:"2024-12-18",reason:"‰∏çÂΩìË®ÄËÆ∫"},{id:"003",name:"Áéã‰∫î",avatar:"",blockDate:"2024-12-15",reason:"ÊÅ∂ÊÑè‰∏æÊä•"},{id:"004",name:"ËµµÂÖ≠",avatar:"",blockDate:"2024-12-10",reason:"ËôöÂÅá‰ø°ÊÅØ"}]}),computed:{totalBlockedUsers(){return this.blockedUsers.length},searchResults(){return this.searchKeyword.trim()?this.blockedUsers.filter((e=>e.name.toLowerCase().includes(this.searchKeyword.toLowerCase())||e.id.includes(this.searchKeyword))):this.blockedUsers},filteredUsers(){return this.searchResults}},methods:{goBack(){uni.navigateBack()},onSearchInput(){},clearSearch(){this.searchKeyword=""},unblockUser(e){uni.showModal({title:"Á°ÆËÆ§Ëß£Èô§ÊãâÈªë",content:`Á°ÆÂÆöË¶ÅËß£Èô§ÂØπ ${e.name} ÁöÑÊãâÈªëÂêóÔºü`,success:t=>{if(t.confirm){const t=this.blockedUsers.findIndex((t=>t.id===e.id));t>-1&&(this.blockedUsers.splice(t,1),uni.showToast({title:"Â∑≤Ëß£Èô§ÊãâÈªë",icon:"success"}))}}})},formatDate(e){const t=new Date(e);return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"blocked-users-page"},[e.createElementVNode("view",{class:"search-section"},[e.createElementVNode("view",{class:"search-input"},[e.createElementVNode("view",{class:"search-icon"},[e.createElementVNode("view",{class:"search-magnifier"})]),e.withDirectives(e.createElementVNode("input",{class:"search-field",placeholder:"ÊêúÁ¥¢ÈªëÂêçÂçïÁî®Êà∑","onUpdate:modelValue":a[0]||(a[0]=e=>i.searchKeyword=e),onInput:a[1]||(a[1]=(...e)=>n.onSearchInput&&n.onSearchInput(...e))},null,544),[[e.vModelText,i.searchKeyword]]),i.searchKeyword?(e.openBlock(),e.createElementBlock("view",{key:0,class:"clear-button",onClick:a[2]||(a[2]=(...e)=>n.clearSearch&&n.clearSearch(...e))},[e.createElementVNode("view",{class:"clear-icon"})])):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"stats-section"},[e.createElementVNode("view",{class:"stats-item"},[e.createElementVNode("text",{class:"stats-number"},e.toDisplayString(n.totalBlockedUsers),1),e.createElementVNode("text",{class:"stats-label"},"Â∑≤ÊãâÈªëÁî®Êà∑")]),e.createElementVNode("view",{class:"stats-item"},[e.createElementVNode("text",{class:"stats-number"},e.toDisplayString(n.searchResults.length),1),e.createElementVNode("text",{class:"stats-label"},"ÊêúÁ¥¢ÁªìÊûú")])]),e.createElementVNode("view",{class:"users-list"},[0===n.filteredUsers.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-state"},[e.createElementVNode("view",{class:"empty-icon"},[e.createElementVNode("view",{class:"empty-face"})]),e.createElementVNode("text",{class:"empty-title"},"ÊöÇÊó†ÈªëÂêçÂçïÁî®Êà∑"),e.createElementVNode("text",{class:"empty-description"},"‰Ω†ËøòÊ≤°ÊúâÊãâÈªë‰ªª‰ΩïÁî®Êà∑")])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.filteredUsers,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:"user-item"},[e.createElementVNode("view",{class:"user-info"},[e.createElementVNode("view",{class:"user-avatar"},[t.avatar?(e.openBlock(),e.createElementBlock("image",{key:0,src:t.avatar,class:"avatar-image"},null,8,["src"])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"avatar-placeholder"},[e.createElementVNode("text",{class:"avatar-text"},e.toDisplayString(t.name.charAt(0)),1)]))]),e.createElementVNode("view",{class:"user-details"},[e.createElementVNode("text",{class:"user-name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"user-id"},"ID: "+e.toDisplayString(t.id),1),e.createElementVNode("text",{class:"block-date"},"ÊãâÈªëÊó∂Èó¥: "+e.toDisplayString(n.formatDate(t.blockDate)),1)])]),e.createElementVNode("view",{class:"user-actions"},[e.createElementVNode("view",{class:"action-button unblock-btn",onClick:e=>n.unblockUser(t)},[e.createElementVNode("text",{class:"action-text"},"Ëß£Èô§ÊãâÈªë")],8,["onClick"])])])))),128))]),e.createElementVNode("view",{class:"bottom-tip"},[e.createElementVNode("text",{class:"tip-text"},"ÊãâÈªëÁöÑÁî®Êà∑Â∞ÜÊó†Ê≥ï‰∏é‰Ω†ËÅîÁ≥ªÔºå‰πüÊó†Ê≥ïÁúãÂà∞‰Ω†ÁöÑÂä®ÊÄÅ")]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const G=a({name:"CustomerServicePage",data:()=>({activeTab:"orders",questions:["Ë¥¶Âè∑Â§ÑÁΩöÂ∏∏ËßÅÈóÆÈ¢ò","‰∏∫‰ªÄ‰πàÂ∞ÅÁ¶ÅË¥¶Âè∑‰∏çËÉΩÊ≥®ÈîÄ","‰∏æÊä•Áõ∏ÂÖ≥Â∏∏ËßÅÈóÆÈ¢ò","Ë¥¶Âè∑Ë¢´Â§ÑÁΩö‰∫ÜÊàëËØ•ÊÄé‰πàÂäû?","Ë¥¶Âè∑ÂÆûÂêçÁõ∏ÂÖ≥ÈóÆÈ¢ò"]}),methods:{goBack(){uni.navigateBack()},switchTab(e){this.activeTab=e},goToService(e){uni.showToast({title:`ËøõÂÖ•${e}ÊúçÂä°`,icon:"none"})},goToQuestion(e){uni.showToast({title:`Êü•ÁúãÈóÆÈ¢òÔºö${e}`,icon:"none"})},callCustomerService(){uni.showModal({title:"ÂÆ¢ÊúçÁîµËØù",content:"400-123-4567",confirmText:"Êã®Êâì",success:e=>{e.confirm&&uni.showToast({title:"Ê≠£Âú®Êã®ÊâìÂÆ¢ÊúçÁîµËØù",icon:"none"})}})},initiateNewService(){uni.showToast({title:"ÂèëËµ∑Êñ∞ÊúçÂä°",icon:"none"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"customer-service-page"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-button",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[e.createElementVNode("view",{class:"back-arrow"})]),e.createElementVNode("view",{class:"header-content"},[e.createElementVNode("text",{class:"title"},"AfriendsÂÆ¢Êúç‰∏≠ÂøÉ"),e.createElementVNode("text",{class:"subtitle"},"7x24 ÂÆàÊä§ÊÇ®ÁöÑAfriends‰ΩìÈ™å")]),e.createElementVNode("view",{class:"mascot"},[e.createElementVNode("view",{class:"cat-character"},[e.createElementVNode("view",{class:"cat-face"},[e.createElementVNode("view",{class:"cat-eye left-eye"}),e.createElementVNode("view",{class:"cat-eye right-eye"}),e.createElementVNode("view",{class:"cat-mouth"})]),e.createElementVNode("view",{class:"cat-body"},[e.createElementVNode("view",{class:"logo-symbol"},"A")])])])]),e.createElementVNode("view",{class:"main-content"},[e.createElementVNode("view",{class:"service-grid"},[e.createElementVNode("view",{class:"grid-row"},[e.createElementVNode("view",{class:"service-item",onClick:a[1]||(a[1]=e=>n.goToService("appeal"))},[e.createElementVNode("view",{class:"service-icon appeal-icon"},[e.createElementVNode("view",{class:"wave-line"}),e.createElementVNode("view",{class:"arrow-up"})]),e.createElementVNode("text",{class:"service-label"},"Â§ÑÁΩöÁî≥ËØâ")]),e.createElementVNode("view",{class:"service-item",onClick:a[2]||(a[2]=e=>n.goToService("report"))},[e.createElementVNode("view",{class:"service-icon report-icon"},[e.createElementVNode("view",{class:"exclamation-mark"}),e.createElementVNode("view",{class:"person-silhouette"})]),e.createElementVNode("text",{class:"service-label"},"‰∏æÊä•‰∏≠ÂøÉ")]),e.createElementVNode("view",{class:"service-item",onClick:a[3]||(a[3]=e=>n.goToService("security"))},[e.createElementVNode("view",{class:"service-icon security-icon"},[e.createElementVNode("view",{class:"shield"}),e.createElementVNode("view",{class:"checkmark"})]),e.createElementVNode("text",{class:"service-label"},"ÂÆâÂÖ®‰∏≠ÂøÉ")])]),e.createElementVNode("view",{class:"grid-row"},[e.createElementVNode("view",{class:"service-item",onClick:a[4]||(a[4]=e=>n.goToService("verification"))},[e.createElementVNode("view",{class:"service-icon verification-icon"},[e.createElementVNode("view",{class:"lightning"}),e.createElementVNode("view",{class:"speech-bubble"})]),e.createElementVNode("text",{class:"service-label"},"È™åËØÅÂä©Êâã")]),e.createElementVNode("view",{class:"service-item",onClick:a[5]||(a[5]=e=>n.goToService("shop"))},[e.createElementVNode("view",{class:"service-icon shop-icon"},[e.createElementVNode("view",{class:"storefront"})]),e.createElementVNode("text",{class:"service-label"},"ÊäñÂ∫óÂÖ•È©ª")]),e.createElementVNode("view",{class:"service-item",onClick:a[6]||(a[6]=e=>n.goToService("selling"))},[e.createElementVNode("view",{class:"service-icon selling-icon"},[e.createElementVNode("view",{class:"people-group"}),e.createElementVNode("view",{class:"shopping-bag"})]),e.createElementVNode("text",{class:"service-label"},"ÊàëË¶ÅÂ∏¶Ë¥ß")])]),e.createElementVNode("view",{class:"grid-row"},[e.createElementVNode("view",{class:"service-item",onClick:a[7]||(a[7]=e=>n.goToService("account-recovery"))},[e.createElementVNode("view",{class:"service-icon recovery-icon"},[e.createElementVNode("view",{class:"star"}),e.createElementVNode("view",{class:"person-silhouette"})]),e.createElementVNode("text",{class:"service-label"},"Ë¥¶Âè∑ÊâæÂõû")]),e.createElementVNode("view",{class:"service-item",onClick:a[8]||(a[8]=e=>n.goToService("account-security"))},[e.createElementVNode("view",{class:"service-icon account-security-icon"},[e.createElementVNode("view",{class:"shield-100"}),e.createElementVNode("text",{class:"hundred"},"100")]),e.createElementVNode("text",{class:"service-label"},"Ë¥¶Âè∑ÂÆâÂÖ®")]),e.createElementVNode("view",{class:"service-item",onClick:a[9]||(a[9]=e=>n.goToService("enterprise"))},[e.createElementVNode("view",{class:"service-icon enterprise-icon"},[e.createElementVNode("view",{class:"hexagon"})]),e.createElementVNode("text",{class:"service-label"},"‰ºÅ‰∏öËÆ§ËØÅ")])]),e.createElementVNode("view",{class:"grid-row"},[e.createElementVNode("view",{class:"service-item",onClick:a[10]||(a[10]=e=>n.goToService("billing"))},[e.createElementVNode("view",{class:"service-icon billing-icon"},[e.createElementVNode("view",{class:"currency-symbol"},"¬•"),e.createElementVNode("view",{class:"document"})]),e.createElementVNode("text",{class:"service-label"},"Êúà‰ªòÊü•Ë¥¶")]),e.createElementVNode("view",{class:"service-item"}),e.createElementVNode("view",{class:"service-item"})])]),e.createElementVNode("view",{class:"pagination-dots"},[e.createElementVNode("view",{class:"dot active"}),e.createElementVNode("view",{class:"dot"})]),e.createElementVNode("view",{class:"tabs-section"},[e.createElementVNode("view",{class:"tabs-header"},[e.createElementVNode("view",{class:e.normalizeClass(["tab",{active:"orders"===i.activeTab}]),onClick:a[11]||(a[11]=e=>n.switchTab("orders"))},[e.createElementVNode("text",{class:"tab-text"},"ËÆ¢Âçï")],2),e.createElementVNode("view",{class:e.normalizeClass(["tab",{active:"submissions"===i.activeTab}]),onClick:a[12]||(a[12]=e=>n.switchTab("submissions"))},[e.createElementVNode("text",{class:"tab-text"},"ÊäïÁ®ø")],2),e.createElementVNode("view",{class:"view-all"},[e.createElementVNode("text",{class:"view-all-text"},"Êü•ÁúãÂÖ®ÈÉ® >")])]),e.createElementVNode("view",{class:"tab-content"},[e.createElementVNode("view",{class:"content-scroll"},[e.createElementVNode("view",{class:"content-item"},[e.createElementVNode("view",{class:"item-image"},[e.createElementVNode("view",{class:"food-image"},[e.createElementVNode("view",{class:"soup-bowl"}),e.createElementVNode("view",{class:"ingredients"})])]),e.createElementVNode("view",{class:"item-info"},[e.createElementVNode("text",{class:"item-title"},"„ÄêÈÄÉÁ¶ªÂ∑•‰Ωç„ÄëÂçï‰∫∫Âø´..."),e.createElementVNode("text",{class:"item-description"},"Âê´ÈîÖÂ∫ïÂ∞èÁâπËâ≤Áì∂Â≠êÈ•≠"),e.createElementVNode("text",{class:"item-price"},"¬•34.9")]),e.createElementVNode("view",{class:"consult-button"},[e.createElementVNode("text",{class:"consult-text"},"Âí®ËØ¢")])]),e.createElementVNode("view",{class:"content-item"},[e.createElementVNode("view",{class:"item-image"},[e.createElementVNode("view",{class:"choice-image"},[e.createElementVNode("view",{class:"cylinder-1"}),e.createElementVNode("view",{class:"cylinder-2"})])]),e.createElementVNode("view",{class:"item-info"},[e.createElementVNode("text",{class:"item-title"},"2ÈÄâ1"),e.createElementVNode("text",{class:"item-description"},"ÈÄâÊã©ÊÇ®ÂñúÊ¨¢ÁöÑÂïÜÂìÅ"),e.createElementVNode("text",{class:"item-price"},"¬•29.9")]),e.createElementVNode("view",{class:"consult-button"},[e.createElementVNode("text",{class:"consult-text"},"Âí®ËØ¢")])])])])]),e.createElementVNode("view",{class:"my-services-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"ÊàëÁöÑÊúçÂä°"),e.createElementVNode("view",{class:"arrow-icon"},[e.createElementVNode("view",{class:"arrow-right-large"})])])]),e.createElementVNode("view",{class:"common-questions-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"Â∏∏ËßÅÈóÆÈ¢ò"),e.createElementVNode("view",{class:"view-more"},[e.createElementVNode("text",{class:"view-more-text"},"Êü•ÁúãÊõ¥Â§ö >")])]),e.createElementVNode("view",{class:"questions-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.questions,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"question-item",key:a,onClick:e=>n.goToQuestion(t)},[e.createElementVNode("text",{class:e.normalizeClass(["question-number",{active:a<3}])},e.toDisplayString(a+1),3),e.createElementVNode("text",{class:"question-text"},e.toDisplayString(t),1)],8,["onClick"])))),128))])])]),e.createElementVNode("view",{class:"bottom-action-bar"},[e.createElementVNode("view",{class:"phone-button",onClick:a[13]||(a[13]=(...e)=>n.callCustomerService&&n.callCustomerService(...e))},[e.createElementVNode("view",{class:"phone-icon"}),e.createElementVNode("text",{class:"button-text"},"ÂÆ¢ÊúçÁîµËØù")]),e.createElementVNode("view",{class:"new-service-button",onClick:a[14]||(a[14]=(...e)=>n.initiateNewService&&n.initiateNewService(...e))},[e.createElementVNode("view",{class:"speech-bubble-icon"},[e.createElementVNode("view",{class:"three-dots"})]),e.createElementVNode("text",{class:"button-text"},"ÂèëËµ∑Êñ∞ÊúçÂä°")])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const H=a({name:"TermsOfServicePage",methods:{goBack(){uni.navigateBack()}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"terms-of-service-page"},[e.createElementVNode("view",{class:"main-content"},[e.createElementVNode("view",{class:"intro-section"},[e.createElementVNode("text",{class:"intro-title"},"‰∫§ÂèãËΩØ‰ª∂ÊúçÂä°Êù°Ê¨æ"),e.createElementVNode("text",{class:"intro-text"},"Ê¨¢Ëøé‰ΩøÁî®Êú¨ËΩØ‰ª∂ÔºÅÊú¨Êù°Ê¨æÊòØÊÇ®‰∏éÊàë‰ª¨‰πãÈó¥Â∞±Êú¨ËΩØ‰ª∂ÁöÑ‰ΩøÁî®ÊâÄËææÊàêÁöÑÂçèËÆÆ„ÄÇËØ∑ÊÇ®Âú®Ê≥®ÂÜå„ÄÅÁôªÂΩïÊàñ‰ΩøÁî®Êú¨ËΩØ‰ª∂ÂâçÔºå‰ªîÁªÜÈòÖËØªÂπ∂ÂÖÖÂàÜÁêÜËß£Êú¨Êù°Ê¨æÁöÑÂÖ®ÈÉ®ÂÜÖÂÆπ„ÄÇÂ¶ÇÊûúÊÇ®‰∏çÂêåÊÑèÊú¨Êù°Ê¨æÁöÑ‰ªª‰ΩïÂÜÖÂÆπÔºåËØ∑‰∏çË¶ÅÊ≥®ÂÜå„ÄÅÁôªÂΩïÊàñ‰ΩøÁî®Êú¨ËΩØ‰ª∂„ÄÇÊÇ®Ê≥®ÂÜå„ÄÅÁôªÂΩïÊàñ‰ΩøÁî®Êú¨ËΩØ‰ª∂ÁöÑË°å‰∏∫ÔºåÂç≥ËßÜ‰∏∫ÊÇ®Â∑≤ÂêåÊÑèÂèóÊú¨Êù°Ê¨æÁ∫¶Êùü„ÄÇ")]),e.createElementVNode("view",{class:"terms-content"},[e.createElementVNode("view",{class:"term-section"},[e.createElementVNode("text",{class:"term-number"},"I."),e.createElementVNode("text",{class:"term-title"},"Ë¥¶Âè∑Ê≥®ÂÜå‰∏éÁÆ°ÁêÜ"),e.createElementVNode("view",{class:"term-items"},[e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"1."),e.createElementVNode("text",{class:"item-title"},"Ê≥®ÂÜåËµÑÊ†º"),e.createElementVNode("text",{class:"item-content"},"Áî®Êà∑ÂøÖÈ°ªÂπ¥Êª°18Âë®Â≤ÅÔºåÂÖ∑ÊúâÂÆåÂÖ®Ê∞ë‰∫ãË°å‰∏∫ËÉΩÂäõ„ÄÇÊàë‰ª¨‰øùÁïôÊ†πÊçÆÊ≥ïÂæãÊ≥ïËßÑÂíåÂÆûÈôÖÊÉÖÂÜµË∞ÉÊï¥Ê≥®ÂÜåËµÑÊ†ºÁöÑÊùÉÂà©„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"2."),e.createElementVNode("text",{class:"item-title"},"Ê≥®ÂÜå‰ø°ÊÅØ"),e.createElementVNode("text",{class:"item-content"},"Áî®Êà∑ÂøÖÈ°ªÊèê‰æõÁúüÂÆû„ÄÅÂáÜÁ°Æ„ÄÅÂÆåÊï¥ÁöÑ‰∏™‰∫∫‰ø°ÊÅØÔºàÂ¶ÇÊâãÊú∫Âè∑„ÄÅÊòµÁß∞„ÄÅÊÄßÂà´„ÄÅÂπ¥ÈæÑ„ÄÅÂ§¥ÂÉèÁ≠âÔºâÔºåÂπ∂‰øùÊåÅ‰ø°ÊÅØÊõ¥Êñ∞„ÄÇÁî®Êà∑ÂØπÊèê‰æõËôöÂÅá„ÄÅ‰∏çÂáÜÁ°Æ„ÄÅ‰∏çÂÆåÊï¥ÊàñËøáÊó∂‰ø°ÊÅØÈÄ†ÊàêÁöÑÂêéÊûúÊâøÊãÖË¥£‰ªª„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"3."),e.createElementVNode("text",{class:"item-title"},"Ë¥¶Âè∑ÂÆâÂÖ®"),e.createElementVNode("text",{class:"item-content"},"Áî®Êà∑ÂøÖÈ°ªÂ¶•ÂñÑ‰øùÁÆ°Ëá™Â∑±ÁöÑË¥¶Âè∑ÂíåÂØÜÁ†ÅÔºå‰∏çÂæóËΩ¨ËÆ©„ÄÅÂá∫Áßü„ÄÅÂá∫ÂîÆÊàñÂàÜ‰∫´Ë¥¶Âè∑„ÄÇÂ¶ÇÂèëÁé∞Ë¥¶Âè∑Ë¢´ÈùûÊ≥ï‰ΩøÁî®ÊàñÂ≠òÂú®ÂÆâÂÖ®È£éÈô©ÔºåÂ∫îÁ´ãÂç≥ÈÄöÁü•Êàë‰ª¨„ÄÇÂõ†Áî®Êà∑‰øùÁÆ°‰∏çÂΩìÈÄ†ÊàêÁöÑÊçüÂ§±ÔºåÊàë‰ª¨‰∏çÊâøÊãÖË¥£‰ªª„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"4."),e.createElementVNode("text",{class:"item-title"},"Ë¥¶Âè∑Ê≥®ÈîÄ"),e.createElementVNode("text",{class:"item-content"},"Áî®Êà∑ÊúâÊùÉÈöèÊó∂Áî≥ËØ∑Ê≥®ÈîÄË¥¶Âè∑„ÄÇÊ≥®ÈîÄÂêéÔºå‰∏™‰∫∫‰ø°ÊÅØÂ∞ÜÊåâÁÖßÈöêÁßÅÊîøÁ≠ñËøõË°åÂ§ÑÁêÜÔºåÁî®Êà∑Â∞ÜÊó†Ê≥ï‰ΩøÁî®Áõ∏ÂÖ≥ÊúçÂä°„ÄÇ")])])]),e.createElementVNode("view",{class:"term-section"},[e.createElementVNode("text",{class:"term-number"},"II."),e.createElementVNode("text",{class:"term-title"},"ÊúçÂä°ÂÜÖÂÆπ‰∏é‰ΩøÁî®ËßÑÂàô"),e.createElementVNode("view",{class:"term-items"},[e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"1."),e.createElementVNode("text",{class:"item-title"},"ÊúçÂä°ÂÜÖÂÆπ"),e.createElementVNode("text",{class:"item-content"},"Êú¨ËΩØ‰ª∂Êèê‰æõ‰∫§ÂèãÁõ∏ÂÖ≥ÊúçÂä°ÔºåÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÁî®Êà∑ÂåπÈÖç„ÄÅËÅäÂ§©Ê≤üÈÄö„ÄÅÂä®ÊÄÅÂàÜ‰∫´„ÄÅÊ¥ªÂä®ÁªÑÁªáÁ≠â„ÄÇÂÖ∑‰ΩìÂÜÖÂÆπ‰ª•Êú¨ËΩØ‰ª∂ÂÆûÈôÖÊèê‰æõ‰∏∫ÂáÜ„ÄÇÊàë‰ª¨‰øùÁïôÊ†πÊçÆ‰∏öÂä°ÂèëÂ±ïÂíåÁî®Êà∑ÈúÄÊ±ÇË∞ÉÊï¥„ÄÅÊõ¥Êñ∞ÊàñÁªàÊ≠¢ÊúçÂä°ÂÜÖÂÆπÁöÑÊùÉÂà©ÔºåÂπ∂‰ºöÈÄÇÂΩìÈÄöÁü•„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"2."),e.createElementVNode("text",{class:"item-title"},"‰ΩøÁî®ËßÑÂàô"),e.createElementVNode("text",{class:"item-content"},"Áî®Êà∑Âú®‰ΩøÁî®Êú¨ËΩØ‰ª∂Êó∂ÔºåÂøÖÈ°ªÈÅµÂÆàÂõΩÂÆ∂Ê≥ïÂæãÊ≥ïËßÑ„ÄÅÁ§æ‰ºöÈÅìÂæ∑ÂíåÂÖ¨ÂÖ±Áß©Â∫è„ÄÇÁ¶ÅÊ≠¢Ë°å‰∏∫ÂåÖÊã¨ÔºöÂèëÂ∏ÉËøùÊ≥ï„ÄÅËøùËßÑ„ÄÅËôöÂÅá„ÄÅÊ¨∫ËØà„ÄÅÊ∑´ÁßΩ„ÄÅËâ≤ÊÉÖ„ÄÅÊö¥Âäõ„ÄÅÊÅêÊÄñ„ÄÅÊ≠ßËßÜ„ÄÅ‰æÆËæ±ÊàñËØΩË∞§Á≠âÊúâÂÆ≥‰ø°ÊÅØÔºõ‰æµÁäØ‰ªñ‰∫∫Áü•ËØÜ‰∫ßÊùÉ„ÄÅÈöêÁßÅÊùÉ„ÄÅÂêçË™âÊùÉÊàñÂÖ∂‰ªñÂêàÊ≥ïÊùÉÁõäÔºõÂà©Áî®Êú¨ËΩØ‰ª∂ËøõË°åËØàÈ™ó„ÄÅ‰º†ÈîÄ„ÄÅËµåÂçöÊàñÂÖ∂‰ªñËøùÊ≥ïÁäØÁΩ™Ê¥ªÂä®ÔºõÂπ≤Êâ∞ÊàñÁ†¥ÂùèÊú¨ËΩØ‰ª∂Ê≠£Â∏∏ËøêË°åÔºåÊàñÊÅ∂ÊÑèÊîªÂáª„ÄÅ‰øÆÊîπ„ÄÅÁ†¥Ëß£Êú¨ËΩØ‰ª∂ÔºõËøùÂèçÊú¨ËΩØ‰ª∂ÂèëÂ∏ÉÁöÑÂÖ∂‰ªñËßÑÂàôÂíåËßÑÂÆö„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"3."),e.createElementVNode("text",{class:"item-title"},"‰ø°ÊÅØÂèëÂ∏É‰∏é‰º†Êí≠"),e.createElementVNode("text",{class:"item-content"},"Áî®Êà∑ÂØπÊú¨ËΩØ‰ª∂‰∏äÂèëÂ∏ÉÁöÑÂÜÖÂÆπÔºàÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÊñáÂ≠ó„ÄÅÂõæÁâá„ÄÅËßÜÈ¢ëÔºâÊâøÊãÖË¥£‰ªªÔºåÁ°Æ‰øùÂÜÖÂÆπÂêàÊ≥ï„ÄÅÁúüÂÆû„ÄÅÂáÜÁ°ÆÔºå‰∏ç‰æµÁäØ‰ªñ‰∫∫ÊùÉÂà©„ÄÇÊàë‰ª¨ÊúâÊùÉÂØπÂèëÂ∏ÉÁöÑÂÜÖÂÆπËøõË°åÂÆ°Ê†∏„ÄÇÂ¶ÇÂÜÖÂÆπËøùËßÑÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Âà†Èô§„ÄÅÂ±èËîΩÊàñÈôêÂà∂‰º†Êí≠ÔºåÊó†ÈúÄÈÄöÁü•ÔºåÂπ∂ÂèØËÉΩÊ†πÊçÆÊÉÖËäÇËΩªÈáçÂØπË¥¶Âè∑ËøõË°åË≠¶Âëä„ÄÅÊöÇÂÅúÊàñÊ∞∏‰πÖÂ∞ÅÁ¶Å„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"4."),e.createElementVNode("text",{class:"item-title"},"‰ªòË¥πÊúçÂä°"),e.createElementVNode("text",{class:"item-content"},"ÈÉ®ÂàÜÊúçÂä°‰∏∫‰ªòË¥πÊúçÂä°„ÄÇÁî®Êà∑ÂèØÊ†πÊçÆÈúÄË¶ÅÈÄâÊã©Ë¥≠‰π∞„ÄÇË¥≠‰π∞ÂâçÔºåÁî®Êà∑ÂøÖÈ°ª‰ªîÁªÜÈòÖËØªÊúçÂä°ËØ¥ÊòéÂíå‰ª∑Ê†º‰ø°ÊÅØ„ÄÇ‰ªòË¥πÊúçÂä°ÁöÑÂÖ∑‰ΩìÂÜÖÂÆπ„ÄÅ‰ª∑Ê†ºÂíåÊúâÊïàÊúü‰ª•Êú¨ËΩØ‰ª∂Áõ∏ÂÖ≥È°µÈù¢‰∏∫ÂáÜ„ÄÇË¥≠‰π∞ÂêéÔºå‰ªòË¥πÊúçÂä°‰∏ÄËà¨‰∏ç‰∫àÈÄÄÊ¨æÔºåÈô§ÈùûÊ≥ïÂæãÊ≥ïËßÑÂè¶ÊúâËßÑÂÆöÊàñÂèåÊñπÂè¶ÊúâÁ∫¶ÂÆö„ÄÇ")])])]),e.createElementVNode("view",{class:"term-section"},[e.createElementVNode("text",{class:"term-number"},"III."),e.createElementVNode("text",{class:"term-title"},"ÈöêÁßÅ‰øùÊä§"),e.createElementVNode("view",{class:"term-items"},[e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"1."),e.createElementVNode("text",{class:"item-title"},"‰ø°ÊÅØÊî∂ÈõÜ"),e.createElementVNode("text",{class:"item-content"},"Êàë‰ª¨ÊåâÁÖßÈöêÁßÅÊîøÁ≠ñÊî∂ÈõÜ„ÄÅ‰ΩøÁî®„ÄÅÂ≠òÂÇ®Âíå‰øùÊä§Áî®Êà∑ÁöÑ‰∏™‰∫∫‰ø°ÊÅØ„ÄÇÂú®Ê≥®ÂÜåÂíå‰ΩøÁî®ËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨ÂèØËÉΩÊî∂ÈõÜÂü∫Êú¨‰ø°ÊÅØÔºàÂ¶ÇÂßìÂêç„ÄÅÊÄßÂà´„ÄÅÂπ¥ÈæÑÔºâ„ÄÅËÅîÁ≥ª‰ø°ÊÅØ„ÄÅ‰ΩçÁΩÆ‰ø°ÊÅØÂíåË°å‰∏∫Êï∞ÊçÆÔºå‰ª•Êèê‰æõÊõ¥Â•ΩÁöÑÊúçÂä°Âíå‰∏™ÊÄßÂåñ‰ΩìÈ™å„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"2."),e.createElementVNode("text",{class:"item-title"},"‰ø°ÊÅØ‰ΩøÁî®‰∏éÂÖ±‰∫´"),e.createElementVNode("text",{class:"item-content"},"Êàë‰ª¨‰ªÖÂú®Êú¨Êù°Ê¨æÂíåÈöêÁßÅÊîøÁ≠ñËßÑÂÆöÁöÑËåÉÂõ¥ÂÜÖ‰ΩøÁî®Áî®Êà∑ÁöÑ‰∏™‰∫∫‰ø°ÊÅØÔºå‰∏ç‰ºöÂêëÊó†ÂÖ≥Á¨¨‰∏âÊñπÂàÜ‰∫´„ÄÅËΩ¨ËÆ©ÊàñÊä´Èú≤‰∏™‰∫∫‰ø°ÊÅØÔºåÈô§ÈùûÂú®‰ª•‰∏ãÊÉÖÂÜµ‰∏ãÔºöËé∑ÂæóÁî®Êà∑ÊòéÁ°ÆÂêåÊÑèÔºõÊ≥ïÂæãÊ≥ïËßÑË¶ÅÊ±ÇÊàñ‰∏ªÁÆ°Êú∫ÂÖ≥ÊåáÁ§∫Ôºõ‰øùÊä§Êàë‰ª¨ÊàñÂÖ∂‰ªñÁî®Êà∑ÁöÑÂêàÊ≥ïÊùÉÁõäÔºõ‰∏éÂÖ≥ËÅîÂÖ¨Âè∏„ÄÅÂêà‰Ωú‰ºô‰º¥Á≠âÂÖ±‰∫´‰ª•Êèê‰æõËΩØ‰ª∂ÊúçÂä°ÊâÄÂøÖÈúÄ„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"3."),e.createElementVNode("text",{class:"item-title"},"‰ø°ÊÅØÂÆâÂÖ®"),e.createElementVNode("text",{class:"item-content"},"Êàë‰ª¨Â∞ÜÈááÂèñÂêàÁêÜÁöÑÊäÄÊúØÂíåÁÆ°ÁêÜÊé™ÊñΩ‰øùÊä§Áî®Êà∑‰∏™‰∫∫‰ø°ÊÅØÂÆâÂÖ®ÔºåÈò≤Ê≠¢‰ø°ÊÅØÊ≥ÑÈú≤„ÄÅÊçüÂùèÊàñ‰∏¢Â§±„ÄÇÂ¶ÇÂèëÁîü‰∏™‰∫∫‰ø°ÊÅØÂÆâÂÖ®‰∫ã‰ª∂ÔºåÊàë‰ª¨Â∞ÜÂèäÊó∂ÈÄöÁü•Áî®Êà∑Âπ∂ÊåâÁÖßÁõ∏ÂÖ≥Ê≥ïÂæãÊ≥ïËßÑÂ§ÑÁêÜ„ÄÇ")])])]),e.createElementVNode("view",{class:"term-section"},[e.createElementVNode("text",{class:"term-number"},"IV."),e.createElementVNode("text",{class:"term-title"},"Áü•ËØÜ‰∫ßÊùÉ"),e.createElementVNode("view",{class:"term-items"},[e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"1."),e.createElementVNode("text",{class:"item-title"},"ËΩØ‰ª∂‰∏éÂÜÖÂÆπ"),e.createElementVNode("text",{class:"item-content"},"Êú¨ËΩØ‰ª∂ÂèäÂÖ∂ÂÜÖÂÆπÔºàÂ¶ÇÊñáÂ≠ó„ÄÅÂõæÁâá„ÄÅÈü≥È¢ë„ÄÅËßÜÈ¢ë„ÄÅÂõæÊ†áÔºâÁöÑÊâÄÊúâÁü•ËØÜ‰∫ßÊùÉÂùáÂ±û‰∫éÊàë‰ª¨ÊàñÁõ∏ÂÖ≥ÊùÉÂà©‰∫∫„ÄÇÁî®Êà∑‰ªÖÊúâÊùÉÂú®Êú¨Êù°Ê¨æÂÖÅËÆ∏ÁöÑËåÉÂõ¥ÂÜÖ‰ΩøÁî®Êú¨ËΩØ‰ª∂ÂíåÁõ∏ÂÖ≥ÂÜÖÂÆπ„ÄÇÊú™ÁªèÊàë‰ª¨ÊàñÁõ∏ÂÖ≥ÊùÉÂà©‰∫∫‰π¶Èù¢ÂêåÊÑèÔºåÁî®Êà∑‰∏çÂæóÂ§çÂà∂„ÄÅ‰º†Êí≠„ÄÅ‰øÆÊîπ„ÄÅÊîπÁºñ„ÄÅÂá∫Áßü„ÄÅÂá∫ÂîÆÊàñ‰ª•ÂÖ∂‰ªñÊñπÂºè‰ΩøÁî®Êú¨ËΩØ‰ª∂ÂíåÁõ∏ÂÖ≥ÂÜÖÂÆπ„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"2."),e.createElementVNode("text",{class:"item-title"},"Áî®Êà∑ÂÜÖÂÆπÊéàÊùÉ"),e.createElementVNode("text",{class:"item-content"},"ÂØπ‰∫éÁî®Êà∑Âú®Êú¨ËΩØ‰ª∂‰∏äÂèëÂ∏ÉÁöÑÂÜÖÂÆπÔºåÁî®Êà∑Êéà‰∫àÊàë‰ª¨ÂÖ®ÁêÉÊÄß„ÄÅ‰∏çÂèØÊí§ÈîÄ„ÄÅÊ∞∏‰πÖÊÄß„ÄÅÂÖçË¥π‰∏îÂèØÂÜçËÆ∏ÂèØÁöÑÊùÉÂà©ÔºåÂåÖÊã¨‰ΩøÁî®„ÄÅÂ§çÂà∂„ÄÅ‰øÆÊîπ„ÄÅÊîπÁºñ„ÄÅÂèëÂ∏É„ÄÅÁøªËØë„ÄÅ‰º†Êí≠„ÄÅÂ±ïÁ§∫„ÄÅË°®ÊºîÂíåÂàõ‰ΩúË°çÁîü‰ΩúÂìÅÁ≠âÔºåÁî®‰∫éÊú¨ËΩØ‰ª∂ÁöÑËøêËê•„ÄÅÊé®ÂπøÂíåÂÖ∂‰ªñÂêàÊ≥ïÁõÆÁöÑ„ÄÇ")])])]),e.createElementVNode("view",{class:"term-section"},[e.createElementVNode("text",{class:"term-number"},"V."),e.createElementVNode("text",{class:"term-title"},"Ë¥£‰ªªÈôêÂà∂‰∏éÂÖçË¥£Â£∞Êòé"),e.createElementVNode("view",{class:"term-items"},[e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"1."),e.createElementVNode("text",{class:"item-title"},"Ë¥£‰ªªÈôêÂà∂"),e.createElementVNode("text",{class:"item-content"},"Âú®Ê≥ïÂæãÊ≥ïËßÑÂÖÅËÆ∏ÁöÑËåÉÂõ¥ÂÜÖÔºåÊàë‰ª¨ÂØπÊú¨ËΩØ‰ª∂ÊúçÂä°ÊàñÁõ∏ÂÖ≥‰∫ãÈ°πÁªôÁî®Êà∑ÈÄ†ÊàêÁöÑ‰ªª‰ΩïÁõ¥Êé•„ÄÅÈó¥Êé•„ÄÅÂÅ∂ÁÑ∂„ÄÅÁâπÊÆä„ÄÅÊÉ©ÁΩöÊÄßÊàñÂêéÊûúÊÄßÊçüÂ§±ÔºàÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÂà©Ê∂¶ÊçüÂ§±„ÄÅÊï∞ÊçÆ‰∏¢Â§±„ÄÅ‰∏öÂä°‰∏≠Êñ≠Ôºâ‰∏çÊâøÊãÖË¥£‰ªªÔºåÊó†ËÆ∫ÂéüÂõ†Â¶Ç‰ΩïÔºàÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÂêàÂêå„ÄÅ‰æµÊùÉ„ÄÅËøáÂ§±ÔºâÔºåÈô§ÈùûÊçüÂ§±Áî±Êàë‰ª¨ÁöÑÊïÖÊÑèË°å‰∏∫ÊàñÈáçÂ§ßËøáÂ§±ÈÄ†Êàê„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"2."),e.createElementVNode("text",{class:"item-title"},"ÂÖçË¥£Â£∞Êòé"),e.createElementVNode("text",{class:"item-content"},"Êú¨ËΩØ‰ª∂ÊúçÂä°ÂèØËÉΩÂèóÂà∞ÂêÑÁßçÂõ†Á¥†ÂΩ±ÂìçÔºåÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÁΩëÁªúÊïÖÈöú„ÄÅÊúçÂä°Âô®ÊïÖÈöú„ÄÅÈÄö‰ø°ÊïÖÈöú„ÄÅÈªëÂÆ¢ÊîªÂáª„ÄÅËÆ°ÁÆóÊú∫ÁóÖÊØí„ÄÅÊ≥ïÂæãÊ≥ïËßÑÂèòÂåñÔºåÂØºËá¥ÊúçÂä°‰∏≠Êñ≠„ÄÅÂª∂Ëøü„ÄÅÈîôËØØÊàñ‰∏çÂèØÁî®„ÄÇÊàë‰ª¨ÂØπÊ≠§‰∏çÊâøÊãÖË¥£‰ªªÔºå‰ΩÜ‰ºöÂä™ÂäõÂáèÂ∞ëÊ≠§Á±ªÊÉÖÂÜµÁöÑÂèëÁîüÂπ∂ÂèäÊó∂ÈÄöÁü•„ÄÇ")])])]),e.createElementVNode("view",{class:"term-section"},[e.createElementVNode("text",{class:"term-number"},"VI."),e.createElementVNode("text",{class:"term-title"},"ÂçèËÆÆÂèòÊõ¥‰∏éÁªàÊ≠¢"),e.createElementVNode("view",{class:"term-items"},[e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"1."),e.createElementVNode("text",{class:"item-title"},"ÂçèËÆÆÂèòÊõ¥"),e.createElementVNode("text",{class:"item-content"},"Êàë‰ª¨ÊúâÊùÉÊ†πÊçÆ‰∏öÂä°ÂèëÂ±ï„ÄÅÊ≥ïÂæãÊ≥ïËßÑÂèòÂåñÁ≠â‰øÆÊîπÊàñÊõ¥Êñ∞Êú¨Êù°Ê¨æ„ÄÇ‰øÆÊîπÂêéÁöÑÊù°Ê¨æÂ∞ÜÂú®Êú¨ËΩØ‰ª∂‰∏äÂèëÂ∏ÉÔºåËá™ÂèëÂ∏É‰πãÊó•Ëµ∑ÁîüÊïà„ÄÇÂ¶ÇÁî®Êà∑ÁªßÁª≠‰ΩøÁî®Êú¨ËΩØ‰ª∂ÊúçÂä°ÔºåÂç≥ËßÜ‰∏∫Áî®Êà∑Â∑≤Êé•ÂèóÂèòÊõ¥ÂêéÁöÑÊù°Ê¨æ„ÄÇÂ¶ÇÁî®Êà∑‰∏çÂêåÊÑèÂèòÊõ¥ÂêéÁöÑÊù°Ê¨æÔºåÂ∫îÂÅúÊ≠¢‰ΩøÁî®Êú¨ËΩØ‰ª∂ÊúçÂä°„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"2."),e.createElementVNode("text",{class:"item-title"},"ÂçèËÆÆÁªàÊ≠¢"),e.createElementVNode("text",{class:"item-content"},"Âú®‰ª•‰∏ãÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÊúâÊùÉÁõ¥Êé•ÁªàÊ≠¢Êú¨Êù°Ê¨æÂíåÁî®Êà∑ÂØπÊú¨ËΩØ‰ª∂ÊúçÂä°ÁöÑ‰ΩøÁî®ÔºåÊó†ÈúÄÈÄöÁü•ÔºöÁî®Êà∑ËøùÂèçÊú¨Êù°Ê¨æ‰ªª‰ΩïËßÑÂÆöÔºõÊ≥ïÂæãÊ≥ïËßÑË¶ÅÊ±ÇÊàñ‰∏ªÁÆ°Êú∫ÂÖ≥ÊåáÁ§∫ÔºõÊú¨ËΩØ‰ª∂Âõ†‰∏öÂä°Ë∞ÉÊï¥„ÄÅÊäÄÊúØÂçáÁ∫ßÊàñÂÖ∂‰ªñÂéüÂõ†ÈúÄË¶ÅÂÅúÊ≠¢ËøêËê•„ÄÇÂçèËÆÆÁªàÊ≠¢ÂêéÔºåÊàë‰ª¨Â∞ÜÊåâÁÖßÁõ∏ÂÖ≥ËßÑÂÆöÂ§ÑÁêÜÁî®Êà∑‰∏™‰∫∫‰ø°ÊÅØÔºåÁî®Êà∑Â∫îÁ´ãÂç≥ÂÅúÊ≠¢‰ΩøÁî®Êú¨ËΩØ‰ª∂ÊúçÂä°„ÄÇÂ¶ÇÁî®Êà∑ËøùÂèçÊú¨Êù°Ê¨æÁªôÈÄ†ÊàêÊçüÂ§±ÔºåÁî®Êà∑Â∫îÊâøÊãÖËµîÂÅøË¥£‰ªª„ÄÇ")])])]),e.createElementVNode("view",{class:"term-section"},[e.createElementVNode("text",{class:"term-number"},"VII."),e.createElementVNode("text",{class:"term-title"},"‰∫âËÆÆËß£ÂÜ≥"),e.createElementVNode("view",{class:"term-items"},[e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"1."),e.createElementVNode("text",{class:"item-title"},"ÈÄÇÁî®Ê≥ïÂæã"),e.createElementVNode("text",{class:"item-content"},"Êú¨Êù°Ê¨æÁöÑÁ≠æÁΩ≤„ÄÅÂ±•Ë°å„ÄÅËß£ÈáäÂíå‰∫âËÆÆËß£ÂÜ≥ÂùáÈÄÇÁî®‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÊ≥ïÂæãÔºà‰∏∫Êú¨Êù°Ê¨æ‰πãÁõÆÁöÑÔºå‰∏çÂåÖÊã¨È¶ôÊ∏ØÁâπÂà´Ë°åÊîøÂå∫„ÄÅÊæ≥Èó®ÁâπÂà´Ë°åÊîøÂå∫ÂíåÂè∞ÊπæÂú∞Âå∫ÁöÑÊ≥ïÂæãÔºâ„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"2."),e.createElementVNode("text",{class:"item-title"},"‰∫âËÆÆËß£ÂÜ≥ÊñπÂºè"),e.createElementVNode("text",{class:"item-content"},"Â¶ÇÁî®Êà∑‰∏éÊàë‰ª¨‰πãÈó¥Â∞±Êú¨Êù°Ê¨æÊàñÊú¨ËΩØ‰ª∂ÊúçÂä°ÂèëÁîü‰∫âËÆÆÔºåÂèåÊñπÂ∫îÈ¶ñÂÖàÈÄöËøáÂèãÂ•ΩÂçèÂïÜËß£ÂÜ≥„ÄÇÂ¶ÇÂçèÂïÜ‰∏çÊàêÔºå‰ªª‰Ωï‰∏ÄÊñπÂùáÊúâÊùÉÂêëÊúâÁÆ°ËæñÊùÉÁöÑ‰∫∫Ê∞ëÊ≥ïÈô¢ÊèêËµ∑ËØâËÆº„ÄÇ")])])]),e.createElementVNode("view",{class:"term-section"},[e.createElementVNode("text",{class:"term-number"},"VIII."),e.createElementVNode("text",{class:"term-title"},"ÂÖ∂‰ªñÊù°Ê¨æ"),e.createElementVNode("view",{class:"term-items"},[e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"1."),e.createElementVNode("text",{class:"item-title"},"Êù°Ê¨æÂÆåÊï¥ÊÄß"),e.createElementVNode("text",{class:"item-content"},"Êú¨Êù°Ê¨æÊûÑÊàêÁî®Êà∑‰∏éÊàë‰ª¨‰πãÈó¥ÂÖ≥‰∫é‰ΩøÁî®Êú¨ËΩØ‰ª∂ÊúçÂä°ÁöÑÂÆåÊï¥ÂçèËÆÆÔºåÂèñ‰ª£‰πãÂâçÂÖ≥‰∫éÊú¨ËΩØ‰ª∂ÊúçÂä°ÁöÑÊâÄÊúâÂè£Â§¥Êàñ‰π¶Èù¢ÂçèËÆÆ„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"2."),e.createElementVNode("text",{class:"item-title"},"Êù°Ê¨æÂèØÂàÜÂâ≤ÊÄß"),e.createElementVNode("text",{class:"item-content"},"Â¶ÇÊú¨Êù°Ê¨æ‰ªª‰ΩïËßÑÂÆöË¢´ËßÜ‰∏∫Êó†ÊïàÊàñ‰∏çÂèØÊâßË°åÔºå‰∏çÂΩ±ÂìçÂÖ∂‰ªñËßÑÂÆöÁöÑÊúâÊïàÊÄßÂíåÂèØÊâßË°åÊÄßÔºåÊ≠§Á±ªÊó†ÊïàÊàñ‰∏çÂèØÊâßË°åÁöÑËßÑÂÆöÂ∫îË¢´ËßÜ‰∏∫ÂèØÂàÜÂâ≤ÁöÑÔºå‰∏çÂΩ±ÂìçÊú¨Êù°Ê¨æÂÖ∂‰ªñÈÉ®ÂàÜÁöÑÊïàÂäõ„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"3."),e.createElementVNode("text",{class:"item-title"},"ÂºÉÊùÉ"),e.createElementVNode("text",{class:"item-content"},"Êàë‰ª¨Êú™Ë°å‰ΩøÊàñÂª∂ËøüË°å‰ΩøÊú¨Êù°Ê¨æ‰∏ãÁöÑ‰ªª‰ΩïÊùÉÂà©ÊàñÊïëÊµéÔºå‰∏çÂ∫îË¢´ËßÜ‰∏∫ÊîæÂºÉËØ•ÊùÉÂà©ÊàñÊïëÊµéÔºõ‰ªª‰ΩïÂçï‰∏ÄË°å‰ΩøÊùÉÂà©ÊàñÊïëÊµéÁöÑË°å‰∏∫‰∏çÂΩ±ÂìçÊàë‰ª¨Ë°å‰ΩøÂÖ∂‰ªñÊùÉÂà©ÊàñÊïëÊµé„ÄÇ")]),e.createElementVNode("view",{class:"term-item"},[e.createElementVNode("text",{class:"item-number"},"4."),e.createElementVNode("text",{class:"item-title"},"ÈÄöÁü•"),e.createElementVNode("text",{class:"item-content"},"Êàë‰ª¨ÂêëÁî®Êà∑ÂèëÂá∫ÁöÑÈÄöÁü•ÂèØÈÄöËøáÂ∫îÁî®ÂÜÖÊ∂àÊÅØ„ÄÅÁü≠‰ø°„ÄÅÈÇÆ‰ª∂ÊàñÂÖ∂‰ªñÂêàÁêÜÊñπÂºèËøõË°å„ÄÇÈÄöÁü•Ëá™ÂèëÈÄÅ‰πãÊó•Ëµ∑ËßÜ‰∏∫ÈÄÅËææ„ÄÇÂ¶ÇÁî®Êà∑Âõ†Ëá™Ë∫´ÂéüÂõ†Êó†Ê≥ïÊé•Êî∂ÈÄöÁü•Ôºå‰∏çÂΩ±ÂìçÈÄöÁü•ÁöÑÊïàÂäõ„ÄÇ")])])])]),e.createElementVNode("view",{class:"closing-section"},[e.createElementVNode("text",{class:"closing-text"},"ËØ∑ÊÇ®ÂÜçÊ¨°‰ªîÁªÜÈòÖËØªÊú¨Êù°Ê¨æÔºåÁ°Æ‰øùÊÇ®Â∑≤ÂÖÖÂàÜÁêÜËß£Âπ∂ÂêåÊÑèÂÖ∂ÂÖ®ÈÉ®ÂÜÖÂÆπ„ÄÇÂ¶ÇÊúâ‰ªª‰ΩïÁñëÈóÆÊàñÂª∫ËÆÆÔºåËØ∑ÈöèÊó∂ËÅîÁ≥ªÊàë‰ª¨ÁöÑÂÆ¢Êúç‰∫∫Âëò„ÄÇ")])]),e.createElementVNode("view",{class:"home-indicator"})])}],["__scopeId","data-v-3241990c"]]);const Q=a({data:()=>({}),methods:{goBack(){uni.navigateBack()},switchToAccount(e){uni.showModal({title:"ÂàáÊç¢Ë¥¶Âè∑",content:"Á°ÆÂÆöË¶ÅÂàáÊç¢Âà∞ËØ•Ë¥¶Âè∑ÂêóÔºü",success:e=>{e.confirm&&(uni.showToast({title:"Ë¥¶Âè∑ÂàáÊç¢ÊàêÂäü",icon:"success"}),setTimeout((()=>{uni.redirectTo({url:"/pages/feed/content-feed"})}),1500))}})},addNewAccount(){uni.navigateTo({url:"/pages/login/login-replica"})},logoutCurrent(){uni.showModal({title:"Á°ÆËÆ§ÈÄÄÂá∫",content:"Á°ÆÂÆöË¶ÅÈÄÄÂá∫ÂΩìÂâçË¥¶Âè∑ÂêóÔºü",success:e=>{e.confirm&&(uni.showToast({title:"Â∑≤ÈÄÄÂá∫ÂΩìÂâçË¥¶Âè∑",icon:"success"}),setTimeout((()=>{uni.redirectTo({url:"/pages/login/login-replica"})}),1500))}})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"current-account"},[e.createElementVNode("view",{class:"account-header"},[e.createElementVNode("text",{class:"header-text"},"ÂΩìÂâçË¥¶Âè∑")]),e.createElementVNode("view",{class:"account-item current"},[e.createElementVNode("view",{class:"account-left"},[e.createElementVNode("view",{class:"account-avatar"},"üë©"),e.createElementVNode("view",{class:"account-info"},[e.createElementVNode("text",{class:"account-name"},"ÂΩìÂâçÁî®Êà∑"),e.createElementVNode("text",{class:"account-phone"},"138****8888")])]),e.createElementVNode("view",{class:"current-badge"},"ÂΩìÂâç")])]),e.createElementVNode("view",{class:"other-accounts"},[e.createElementVNode("view",{class:"account-header"},[e.createElementVNode("text",{class:"header-text"},"ÂÖ∂‰ªñË¥¶Âè∑")]),e.createElementVNode("view",{class:"account-item",onClick:a[0]||(a[0]=e=>n.switchToAccount("account1"))},[e.createElementVNode("view",{class:"account-left"},[e.createElementVNode("view",{class:"account-avatar"},"üë®"),e.createElementVNode("view",{class:"account-info"},[e.createElementVNode("text",{class:"account-name"},"Âº†‰∏â"),e.createElementVNode("text",{class:"account-phone"},"139****9999")])]),e.createElementVNode("text",{class:"arrow"},"‚Ä∫")]),e.createElementVNode("view",{class:"account-item",onClick:a[1]||(a[1]=e=>n.switchToAccount("account2"))},[e.createElementVNode("view",{class:"account-left"},[e.createElementVNode("view",{class:"account-avatar"},"üëß"),e.createElementVNode("view",{class:"account-info"},[e.createElementVNode("text",{class:"account-name"},"ÊùéÂõõ"),e.createElementVNode("text",{class:"account-phone"},"137****7777")])]),e.createElementVNode("text",{class:"arrow"},"‚Ä∫")])]),e.createElementVNode("view",{class:"add-account"},[e.createElementVNode("view",{class:"account-item",onClick:a[2]||(a[2]=(...e)=>n.addNewAccount&&n.addNewAccount(...e))},[e.createElementVNode("view",{class:"account-left"},[e.createElementVNode("view",{class:"account-avatar add-icon"},"+"),e.createElementVNode("view",{class:"account-info"},[e.createElementVNode("text",{class:"account-name"},"Ê∑ªÂä†Ë¥¶Âè∑"),e.createElementVNode("text",{class:"account-phone"},"‰ΩøÁî®ÂÖ∂‰ªñË¥¶Âè∑ÁôªÂΩï")])]),e.createElementVNode("text",{class:"arrow"},"‚Ä∫")])]),e.createElementVNode("view",{class:"bottom-actions"},[e.createElementVNode("view",{class:"action-button logout",onClick:a[3]||(a[3]=(...e)=>n.logoutCurrent&&n.logoutCurrent(...e))},[e.createElementVNode("text",{class:"action-text"},"ÈÄÄÂá∫ÂΩìÂâçË¥¶Âè∑")])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const W=a({data:()=>({selectedMode:"normal"}),methods:{goBack(){uni.navigateBack()},selectMode(e){this.selectedMode=e,uni.showToast({title:`Â∑≤ÈÄâÊã©${this.getModeName(e)}`,icon:"success"}),setTimeout((()=>{uni.navigateBack()}),1500)},getModeName:e=>({normal:"ÊôÆÈÄöÊ®°Âºè",concise:"ÁÆÄÊ¥ÅÊ®°Âºè",minor:"Êú™ÊàêÂπ¥‰∫∫Ê®°Âºè",care:"ÂÖ≥ÊÄÄÊ®°Âºè"}[e]||"Êú™Áü•Ê®°Âºè")}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"nav-bar"}),e.createElementVNode("view",{class:"content-area"},[e.createElementVNode("view",{class:"section-header"},"Ê®°ÂºèÂàáÊç¢"),e.createElementVNode("view",{class:"mode-list"},[e.createElementVNode("view",{class:"mode-item",onClick:a[0]||(a[0]=e=>n.selectMode("normal"))},[e.createElementVNode("text",{class:"mode-text"},"ÊôÆÈÄöÊ®°Âºè")]),e.createElementVNode("view",{class:"mode-item",onClick:a[1]||(a[1]=e=>n.selectMode("concise"))},[e.createElementVNode("text",{class:"mode-text"},"ÁÆÄÊ¥ÅÊ®°Âºè")]),e.createElementVNode("view",{class:"mode-item",onClick:a[2]||(a[2]=e=>n.selectMode("minor"))},[e.createElementVNode("text",{class:"mode-text"},"Êú™ÊàêÂπ¥‰∫∫Ê®°Âºè")]),e.createElementVNode("view",{class:"mode-item",onClick:a[3]||(a[3]=e=>n.selectMode("care"))},[e.createElementVNode("text",{class:"mode-text"},"ÂÖ≥ÊÄÄÊ®°Âºè")])])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const J=a({name:"NotificationSettings",data:()=>({notificationSettings:{chatNotification:!0,likeAndFavorite:!1,comment:!1,mention:!1,contentRecommend:!1,userRecommend:!1}}),methods:{goBack(){uni.navigateBack()},goToNotificationDisplay(){uni.navigateTo({url:"/pages/settings/notification-display"})},toggleSetting(e,t){this.notificationSettings[e]=t.detail.value;let a="";switch(e){case"chatNotification":a="ËÅäÂ§©Ê∂àÊÅØ";break;case"likeAndFavorite":a="ËµûÂíåÊî∂Ëóè";break;case"comment":a="ËØÑËÆ∫";break;case"mention":a="@";break;case"contentRecommend":a="ÂÜÖÂÆπÊé®Ëçê";break;case"userRecommend":a="Áî®Êà∑Êé®Ëçê"}uni.showToast({title:`${a}ÈÄöÁü•Â∑≤${t.detail.value?"ÂºÄÂêØ":"ÂÖ≥Èó≠"}`,icon:"none"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"notification-settings-page"},[e.createElementVNode("view",{class:"content-area"},[e.createElementVNode("view",{class:"section-group"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"ËÅäÂ§©Ê∂àÊÅØ")]),e.createElementVNode("view",{class:"settings-list"},[e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-left"},[e.createElementVNode("text",{class:"setting-label"},"ËÅäÂ§©Ê∂àÊÅØÈÄöÁü•")]),e.createElementVNode("view",{class:"setting-right"},[e.createElementVNode("switch",{class:"setting-switch",checked:i.notificationSettings.chatNotification,onChange:a[0]||(a[0]=e=>n.toggleSetting("chatNotification",e))},null,40,["checked"])])]),e.createElementVNode("view",{class:"setting-item",onClick:a[1]||(a[1]=(...e)=>n.goToNotificationDisplay&&n.goToNotificationDisplay(...e))},[e.createElementVNode("text",{class:"setting-label"},"ÈÄöÁü•ÊòæÁ§∫ÂÜÖÂÆπ"),e.createElementVNode("text",{class:"setting-arrow"},"‚Ä∫")])])]),e.createElementVNode("view",{class:"section-group"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"‰∫íÂä®ÈÄöÁü•")]),e.createElementVNode("view",{class:"settings-list"},[e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-left"},[e.createElementVNode("text",{class:"setting-label"},"ËµûÂíåÊî∂Ëóè")]),e.createElementVNode("view",{class:"setting-right"},[e.createElementVNode("switch",{class:"setting-switch",checked:i.notificationSettings.likeAndFavorite,onChange:a[2]||(a[2]=e=>n.toggleSetting("likeAndFavorite",e))},null,40,["checked"])])]),e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-left"},[e.createElementVNode("text",{class:"setting-label"},"ËØÑËÆ∫")]),e.createElementVNode("view",{class:"setting-right"},[e.createElementVNode("switch",{class:"setting-switch",checked:i.notificationSettings.comment,onChange:a[3]||(a[3]=e=>n.toggleSetting("comment",e))},null,40,["checked"])])]),e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-left"},[e.createElementVNode("text",{class:"setting-label"},"@")]),e.createElementVNode("view",{class:"setting-right"},[e.createElementVNode("switch",{class:"setting-switch",checked:i.notificationSettings.mention,onChange:a[4]||(a[4]=e=>n.toggleSetting("mention",e))},null,40,["checked"])])])])]),e.createElementVNode("view",{class:"section-group"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"Êé®ËçêÈÄöÁü•")]),e.createElementVNode("view",{class:"settings-list"},[e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-left"},[e.createElementVNode("text",{class:"setting-label"},"ÂÜÖÂÆπÊé®Ëçê")]),e.createElementVNode("view",{class:"setting-right"},[e.createElementVNode("switch",{class:"setting-switch",checked:i.notificationSettings.contentRecommend,onChange:a[5]||(a[5]=e=>n.toggleSetting("contentRecommend",e))},null,40,["checked"])])]),e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-left"},[e.createElementVNode("text",{class:"setting-label"},"Áî®Êà∑Êé®Ëçê")]),e.createElementVNode("view",{class:"setting-right"},[e.createElementVNode("switch",{class:"setting-switch",checked:i.notificationSettings.userRecommend,onChange:a[6]||(a[6]=e=>n.toggleSetting("userRecommend",e))},null,40,["checked"])])])])])])])}]]);const Y=a({name:"PrivacySettings",data:()=>({settings:{oneClickProtection:!1,showMyStatus:!1,allowFriendsComment:!1,allowFriendsAt:!1,publicCollections:!1,friendVerification:!1,recommendFriends:!1}}),methods:{goBack(){uni.navigateBack()},toggleSetting(e){this.settings[e]=!this.settings[e],uni.showToast({title:"ËÆæÁΩÆÂ∑≤‰øùÂ≠ò",icon:"success"})},goToSystemPermissions(){uni.navigateTo({url:"/pages/settings/system-permissions"})},goToAddWays(){uni.navigateTo({url:"/pages/settings/add-ways"})},goToBlacklist(){uni.navigateTo({url:"/pages/settings/blocked-users"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"privacy-settings"},[e.createElementVNode("scroll-view",{class:"content","scroll-y":""},[e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"‰∫íÂä®")]),e.createElementVNode("view",{class:"section-content"},[e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-info"},[e.createElementVNode("text",{class:"setting-label"},"‰∏ÄÈîÆÈò≤Êä§"),e.createElementVNode("text",{class:"setting-desc"},"ÂºÄÂêØÂêé,7Â§©ÂÜÖÂ∞Ü‰∏çÊé•Êî∂ÈôåÁîü‰∫∫ÁöÑÂ•ΩÂèãÁî≥ËØ∑/ËØÑËÆ∫/ÂàÜ‰∫´")]),e.createElementVNode("view",{class:"toggle-switch",onClick:a[0]||(a[0]=e=>n.toggleSetting("oneClickProtection"))},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-track",{active:i.settings.oneClickProtection}])},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-thumb",{active:i.settings.oneClickProtection}])},null,2)],2)])]),e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-info"},[e.createElementVNode("text",{class:"setting-label"},"Âè™ÂÖÅËÆ∏ÊàëÁöÑÂ•ΩÂèãËØÑËÆ∫Êàë")]),e.createElementVNode("view",{class:"toggle-switch",onClick:a[1]||(a[1]=e=>n.toggleSetting("allowFriendsComment"))},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-track",{active:i.settings.allowFriendsComment}])},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-thumb",{active:i.settings.allowFriendsComment}])},null,2)],2)])]),e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-info"},[e.createElementVNode("text",{class:"setting-label"},"Âè™ÂÖÅËÆ∏ÊàëÁöÑÂ•ΩÂèã@Êàë")]),e.createElementVNode("view",{class:"toggle-switch",onClick:a[2]||(a[2]=e=>n.toggleSetting("allowFriendsAt"))},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-track",{active:i.settings.allowFriendsAt}])},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-thumb",{active:i.settings.allowFriendsAt}])},null,2)],2)])]),e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-info"},[e.createElementVNode("text",{class:"setting-label"},"ÂÖ¨ÂºÄÊàëÁöÑÊî∂Ëóè")]),e.createElementVNode("view",{class:"toggle-switch",onClick:a[3]||(a[3]=e=>n.toggleSetting("publicCollections"))},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-track",{active:i.settings.publicCollections}])},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-thumb",{active:i.settings.publicCollections}])},null,2)],2)])])])]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"ÊúãÂèã")]),e.createElementVNode("view",{class:"section-content"},[e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-info"},[e.createElementVNode("text",{class:"setting-label"},"Âä†Êàë‰∏∫Â•ΩÂèãÊó∂ÈúÄË¶ÅÈ™åËØÅ")]),e.createElementVNode("view",{class:"toggle-switch",onClick:a[4]||(a[4]=e=>n.toggleSetting("friendVerification"))},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-track",{active:i.settings.friendVerification}])},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-thumb",{active:i.settings.friendVerification}])},null,2)],2)])]),e.createElementVNode("view",{class:"setting-item",onClick:a[5]||(a[5]=(...e)=>n.goToAddWays&&n.goToAddWays(...e))},[e.createElementVNode("view",{class:"setting-info"},[e.createElementVNode("text",{class:"setting-label"},"Ê∑ªÂä†ÊàëÁöÑÊñπÂºè")]),e.createElementVNode("view",{class:"arrow-right"},[e.createElementVNode("text",{class:"arrow-icon"},"‚Ä∫")])]),e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-info"},[e.createElementVNode("text",{class:"setting-label"},"ÁªôÊàëÊé®ËçêÂèØËÉΩËÆ§ËØÜÁöÑ‰∫∫")]),e.createElementVNode("view",{class:"toggle-switch",onClick:a[6]||(a[6]=e=>n.toggleSetting("recommendFriends"))},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-track",{active:i.settings.recommendFriends}])},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-thumb",{active:i.settings.recommendFriends}])},null,2)],2)])]),e.createElementVNode("view",{class:"setting-item",onClick:a[7]||(a[7]=(...e)=>n.goToBlacklist&&n.goToBlacklist(...e))},[e.createElementVNode("view",{class:"setting-info"},[e.createElementVNode("text",{class:"setting-label"},"ÈªëÂêçÂçïÁî®Êà∑")]),e.createElementVNode("view",{class:"arrow-right"},[e.createElementVNode("text",{class:"arrow-icon"},"‚Ä∫")])])])]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"ÊùÉÈôê")]),e.createElementVNode("view",{class:"section-content"},[e.createElementVNode("view",{class:"setting-item",onClick:a[8]||(a[8]=(...e)=>n.goToSystemPermissions&&n.goToSystemPermissions(...e))},[e.createElementVNode("view",{class:"setting-info"},[e.createElementVNode("text",{class:"setting-label"},"Á≥ªÁªüÊùÉÈôêÁÆ°ÁêÜ"),e.createElementVNode("text",{class:"setting-desc"},"APPÂÜÖ‰ΩøÁî®ÁöÑÊâÄÊúâÁ≥ªÁªüÊùÉÈôê")]),e.createElementVNode("view",{class:"arrow-right"},[e.createElementVNode("text",{class:"arrow-icon"},"‚Ä∫")])])])])])])}],["__scopeId","data-v-99baf36b"]]);const K=a({name:"AccountSecurityPage",data:()=>({}),methods:{goBack(){uni.navigateBack()},goToHome(){uni.navigateTo({url:"/pages/feed/content-feed"})},goToChatList(){uni.navigateTo({url:"/pages/chat/chat-list"})},goToAIChat(){uni.navigateTo({url:"/pages/chat/chat"})},goToFriendList(){uni.navigateTo({url:"/pages/chat/friend-list"})},goToProfile(){uni.navigateTo({url:"/pages/feed/user-profile"})},goToPhoneNumber(){uni.showToast({title:"ÊâãÊú∫Âè∑ËÆæÁΩÆ",icon:"none"})},goToPassword(){uni.showToast({title:"ÂØÜÁ†ÅËÆæÁΩÆ",icon:"none"})},goToThirdPartyBinding(){uni.navigateTo({url:"/pages/settings/third-party-binding"})},goToRealNameVerification(){uni.navigateTo({url:"/pages/verification/real-name-verification"})},goToOfficialCertification(){uni.navigateTo({url:"/pages/verification/official-certification"})},goToDeviceManagement(){uni.navigateTo({url:"/pages/settings/device-management"})},goToAccountManagement(){uni.navigateTo({url:"/pages/settings/switch-account"})},goToAccountDeletion(){uni.showToast({title:"Ê≥®ÈîÄË¥¶Âè∑",icon:"none"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"account-security-page"},[e.createElementVNode("view",{class:"security-list"},[e.createElementVNode("view",{class:"list-group"},[e.createElementVNode("view",{class:"list-item",onClick:a[0]||(a[0]=(...e)=>n.goToPhoneNumber&&n.goToPhoneNumber(...e))},[e.createElementVNode("text",{class:"item-label"},"ÊâãÊú∫Âè∑"),e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("text",{class:"item-value"},"+86133****8358"),e.createElementVNode("view",{class:"arrow-icon"},">")])]),e.createElementVNode("view",{class:"divider"}),e.createElementVNode("view",{class:"list-item",onClick:a[1]||(a[1]=(...e)=>n.goToPassword&&n.goToPassword(...e))},[e.createElementVNode("text",{class:"item-label"},"ÁôªÂΩïÂØÜÁ†Å"),e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("text",{class:"item-value"},"Êú™ËÆæÁΩÆ"),e.createElementVNode("view",{class:"arrow-icon"},">")])])]),e.createElementVNode("view",{class:"list-group"},[e.createElementVNode("view",{class:"list-item",onClick:a[2]||(a[2]=(...e)=>n.goToThirdPartyBinding&&n.goToThirdPartyBinding(...e))},[e.createElementVNode("text",{class:"item-label"},"Á¨¨‰∏âÊñπË¥¶Âè∑ÁªëÂÆö"),e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("view",{class:"arrow-icon"},">")])])]),e.createElementVNode("view",{class:"list-group"},[e.createElementVNode("view",{class:"list-item",onClick:a[3]||(a[3]=(...e)=>n.goToRealNameVerification&&n.goToRealNameVerification(...e))},[e.createElementVNode("text",{class:"item-label"},"ÂÆûÂêçËÆ§ËØÅ"),e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("view",{class:"arrow-icon"},">")])]),e.createElementVNode("view",{class:"divider"}),e.createElementVNode("view",{class:"list-item",onClick:a[4]||(a[4]=(...e)=>n.goToOfficialCertification&&n.goToOfficialCertification(...e))},[e.createElementVNode("text",{class:"item-label"},"ÂÆòÊñπËÆ§ËØÅ"),e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("view",{class:"arrow-icon"},">")])])]),e.createElementVNode("view",{class:"list-group"},[e.createElementVNode("view",{class:"list-item",onClick:a[5]||(a[5]=(...e)=>n.goToDeviceManagement&&n.goToDeviceManagement(...e))},[e.createElementVNode("text",{class:"item-label"},"ÁôªÂΩïËÆæÂ§áÁÆ°ÁêÜ"),e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("view",{class:"arrow-icon"},">")])]),e.createElementVNode("view",{class:"divider"}),e.createElementVNode("view",{class:"divider"}),e.createElementVNode("view",{class:"list-item",onClick:a[6]||(a[6]=(...e)=>n.goToAccountDeletion&&n.goToAccountDeletion(...e))},[e.createElementVNode("text",{class:"item-label"},"Ê≥®ÈîÄË¥¶Âè∑"),e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("view",{class:"arrow-icon"},">")])])])])])}]]);const Z=a({name:"DeviceManagementPage",data:()=>({devices:[{id:0,name:"qwe",type:"iPhone 13",lastLogin:"2025-08-18 15:23",location:"‰∏≠ÂõΩÊµôÊ±üÊù≠Â∑û",isCurrent:!0},{id:1,name:"PEQM00",type:"PEQM00",lastLogin:"2025-08-21 08:34",location:"‰∏≠ÂõΩÂ§©Ê¥•Â§©Ê¥•",isCurrent:!1},{id:2,name:"ÁéãÊü≥Ê∏Ö",type:"Windows",lastLogin:"2024-11-19 08:03",location:"‰∏≠ÂõΩÂ±±Ë•øÂ§™Âéü",isCurrent:!1},{id:3,name:"iPad7,5",type:"iPad",lastLogin:"2025-05-09 22:53",location:"‰∏≠ÂõΩÂêâÊûóÈïøÊò•",isCurrent:!1},{id:4,name:"ÁéãÊü≥Ê∏Ö",type:"Windows",lastLogin:"2025-07-13 17:23",location:"‰∏≠ÂõΩÊµôÊ±ü",isCurrent:!1}]}),methods:{goBack(){uni.navigateBack()},showManageOptions(){uni.showActionSheet({itemList:["ÊâπÈáèÁßªÈô§ËÆæÂ§á","ÂØºÂá∫ËÆæÂ§áÂàóË°®","ËÆæÂ§áÂÆâÂÖ®ËÆæÁΩÆ"],success:e=>{switch(e.tapIndex){case 0:this.batchRemoveDevices();break;case 1:this.exportDeviceList();break;case 2:this.deviceSecuritySettings()}}})},showHelp(){uni.showModal({title:"Â∏ÆÂä©ËØ¥Êòé",content:"ËÆæÂ§áÂà†Èô§ÂêéÔºåËØ•ËÆæÂ§áÂÜçÊ¨°ÁôªÂΩïÊó∂ÈúÄË¶ÅÈáçÊñ∞ËøõË°åË∫´‰ªΩÈ™åËØÅÔºåÂåÖÊã¨ÊâãÊú∫È™åËØÅÁ†Å„ÄÅÂØÜÁ†ÅÁ≠â„ÄÇËøôÊòØ‰∏∫‰∫Ü‰øùÊä§ÊÇ®ÁöÑË¥¶Êà∑ÂÆâÂÖ®„ÄÇ",showCancel:!1,confirmText:"ÊàëÁü•ÈÅì‰∫Ü"})},removeDevice(e){uni.showModal({title:"Á°ÆËÆ§ÁßªÈô§",content:"Á°ÆÂÆöË¶ÅÁßªÈô§Ëøô‰∏™ËÆæÂ§áÂêóÔºüÁßªÈô§ÂêéËØ•ËÆæÂ§áÈúÄË¶ÅÈáçÊñ∞ÁôªÂΩï„ÄÇ",success:t=>{t.confirm&&(this.devices=this.devices.filter((t=>t.id!==e)),uni.showToast({title:"ËÆæÂ§áÂ∑≤ÁßªÈô§",icon:"success"}))}})},batchRemoveDevices(){uni.showModal({title:"ÊâπÈáèÁßªÈô§",content:"Á°ÆÂÆöË¶ÅÁßªÈô§ÊâÄÊúâÈùûÊú¨Êú∫ËÆæÂ§áÂêóÔºü",success:e=>{e.confirm&&(this.devices=this.devices.filter((e=>e.isCurrent)),uni.showToast({title:"ÊâπÈáèÁßªÈô§ÂÆåÊàê",icon:"success"}))}})},exportDeviceList(){uni.showToast({title:"ÂØºÂá∫ÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},deviceSecuritySettings(){uni.showToast({title:"ÂÆâÂÖ®ËÆæÁΩÆÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"device-management-page"},[e.createElementVNode("view",{class:"info-bar"},[e.createElementVNode("text",{class:"info-text"},"ËÆæÂ§áÂà†Èô§ÂêéÂÜçÊ¨°ÁôªÂΩïÈúÄË∫´‰ªΩÈ™åËØÅ„ÄÇ"),e.createElementVNode("text",{class:"help-link",onClick:a[0]||(a[0]=(...e)=>n.showHelp&&n.showHelp(...e))},"Â≠òÂú®ÁñëÈóÆ?")]),e.createElementVNode("view",{class:"device-list"},[e.createElementVNode("view",{class:"device-item"},[e.createElementVNode("view",{class:"device-icon"},[e.createElementVNode("view",{class:"icon-phone"})]),e.createElementVNode("view",{class:"device-info"},[e.createElementVNode("text",{class:"device-name"},"qwe"),e.createElementVNode("text",{class:"device-type"},"iPhone 13"),e.createElementVNode("text",{class:"device-login"},"2025-08-18 15:23 | ‰∏≠ÂõΩÊµôÊ±üÊù≠Â∑û")]),e.createElementVNode("view",{class:"device-status"},[e.createElementVNode("text",{class:"status-text"},"Êú¨Êú∫")])]),e.createElementVNode("view",{class:"device-item"},[e.createElementVNode("view",{class:"device-icon"},[e.createElementVNode("view",{class:"icon-phone"})]),e.createElementVNode("view",{class:"device-info"},[e.createElementVNode("text",{class:"device-name"},"PEQM00"),e.createElementVNode("text",{class:"device-type"},"PEQM00"),e.createElementVNode("text",{class:"device-login"},"2025-08-21 08:34 | ‰∏≠ÂõΩÂ§©Ê¥•Â§©Ê¥•")]),e.createElementVNode("view",{class:"device-actions"},[e.createElementVNode("view",{class:"action-btn",onClick:a[1]||(a[1]=e=>n.removeDevice(1))},[e.createElementVNode("text",{class:"action-text"},"ÁßªÈô§")])])]),e.createElementVNode("view",{class:"device-item"},[e.createElementVNode("view",{class:"device-icon"},[e.createElementVNode("view",{class:"icon-desktop"})]),e.createElementVNode("view",{class:"device-info"},[e.createElementVNode("text",{class:"device-name"},"ÁéãÊü≥Ê∏Ö"),e.createElementVNode("text",{class:"device-type"},"Windows"),e.createElementVNode("text",{class:"device-login"},"2024-11-19 08:03 | ‰∏≠ÂõΩÂ±±Ë•øÂ§™Âéü")]),e.createElementVNode("view",{class:"device-actions"},[e.createElementVNode("view",{class:"action-btn",onClick:a[2]||(a[2]=e=>n.removeDevice(2))},[e.createElementVNode("text",{class:"action-text"},"ÁßªÈô§")])])]),e.createElementVNode("view",{class:"device-item"},[e.createElementVNode("view",{class:"device-icon"},[e.createElementVNode("view",{class:"icon-phone"})]),e.createElementVNode("view",{class:"device-info"},[e.createElementVNode("text",{class:"device-name"},"iPad7,5"),e.createElementVNode("text",{class:"device-type"},"iPad"),e.createElementVNode("text",{class:"device-login"},"2025-05-09 22:53 | ‰∏≠ÂõΩÂêâÊûóÈïøÊò•")]),e.createElementVNode("view",{class:"device-actions"},[e.createElementVNode("view",{class:"action-btn",onClick:a[3]||(a[3]=e=>n.removeDevice(3))},[e.createElementVNode("text",{class:"action-text"},"ÁßªÈô§")])])]),e.createElementVNode("view",{class:"device-item"},[e.createElementVNode("view",{class:"device-icon"},[e.createElementVNode("view",{class:"icon-desktop"})]),e.createElementVNode("view",{class:"device-info"},[e.createElementVNode("text",{class:"device-name"},"ÁéãÊü≥Ê∏Ö"),e.createElementVNode("text",{class:"device-type"},"Windows"),e.createElementVNode("text",{class:"device-login"},"2025-07-13 17:23 | ‰∏≠ÂõΩÊµôÊ±ü")]),e.createElementVNode("view",{class:"device-actions"},[e.createElementVNode("view",{class:"action-btn",onClick:a[4]||(a[4]=e=>n.removeDevice(4))},[e.createElementVNode("text",{class:"action-text"},"ÁßªÈô§")])])])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const X=a({name:"ThirdPartyBindingPage",data:()=>({syncFollowers:!1,syncProfile:!1}),methods:{goBack(){uni.navigateBack()},bindWechat(){uni.showModal({title:"ÁªëÂÆöÂæÆ‰ø°",content:"Á°ÆÂÆöË¶ÅÁªëÂÆöÂæÆ‰ø°Ë¥¶Âè∑ÂêóÔºü",success:e=>{e.confirm&&uni.showToast({title:"ÂæÆ‰ø°ÁªëÂÆöÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})}})},bindQQ(){uni.showModal({title:"ÁªëÂÆöQQ",content:"Á°ÆÂÆöË¶ÅÁªëÂÆöQQË¥¶Âè∑ÂêóÔºü",success:e=>{e.confirm&&uni.showToast({title:"QQÁªëÂÆöÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})}})},bindWeibo(){uni.showModal({title:"ÁªëÂÆöÂæÆÂçö",content:"Á°ÆÂÆöË¶ÅÁªëÂÆöÂæÆÂçöË¥¶Âè∑ÂêóÔºü",success:e=>{e.confirm&&uni.showToast({title:"ÂæÆÂçöÁªëÂÆöÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})}})},bindApple(){uni.showModal({title:"ÁªëÂÆöApple",content:"Á°ÆÂÆöË¶ÅÁªëÂÆöAppleË¥¶Âè∑ÂêóÔºü",success:e=>{e.confirm&&uni.showToast({title:"AppleÁªëÂÆöÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})}})},viewSyncDetails(){uni.showToast({title:"ÂêåÊ≠•ËØ¶ÊÉÖÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},toggleSyncFollowers(e){this.syncFollowers=e.detail.value,uni.showToast({title:this.syncFollowers?"Â∑≤ÂºÄÂêØÁ≤â‰∏ùÂêåÊ≠•":"Â∑≤ÂÖ≥Èó≠Á≤â‰∏ùÂêåÊ≠•",icon:"none"})},toggleSyncProfile(e){this.syncProfile=e.detail.value,uni.showToast({title:this.syncProfile?"Â∑≤ÂºÄÂêØËµÑÊñôÂêåÊ≠•":"Â∑≤ÂÖ≥Èó≠ËµÑÊñôÂêåÊ≠•",icon:"none"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"third-party-binding-page"},[e.createElementVNode("view",{class:"main-content"},[e.createElementVNode("view",{class:"section"},[e.createElementVNode("text",{class:"section-title"},"Á¨¨‰∏âÊñπÁôªÂΩïÊñπÂºè"),e.createElementVNode("view",{class:"binding-list"},[e.createElementVNode("view",{class:"binding-item",onClick:a[0]||(a[0]=(...e)=>n.bindWechat&&n.bindWechat(...e))},[e.createElementVNode("text",{class:"platform-name"},"ÂæÆ‰ø°"),e.createElementVNode("view",{class:"binding-status"},[e.createElementVNode("text",{class:"status-text"},"Êú™ÁªëÂÆö"),e.createElementVNode("view",{class:"arrow-icon"},">")])]),e.createElementVNode("view",{class:"binding-item",onClick:a[1]||(a[1]=(...e)=>n.bindQQ&&n.bindQQ(...e))},[e.createElementVNode("text",{class:"platform-name"},"QQ"),e.createElementVNode("view",{class:"binding-status"},[e.createElementVNode("view",{class:"qq-status"},[e.createElementVNode("text",{class:"wave-icon"},"„Ä∞Ô∏è"),e.createElementVNode("text",{class:"qq-username"},"Á≥ñÁ≥ñÊ≤°Êúâ")]),e.createElementVNode("view",{class:"arrow-icon"},">")])]),e.createElementVNode("view",{class:"binding-item",onClick:a[2]||(a[2]=(...e)=>n.bindWeibo&&n.bindWeibo(...e))},[e.createElementVNode("text",{class:"platform-name"},"ÂæÆÂçö"),e.createElementVNode("view",{class:"binding-status"},[e.createElementVNode("text",{class:"status-text"},"Êú™ÁªëÂÆö"),e.createElementVNode("view",{class:"arrow-icon"},">")])]),e.createElementVNode("view",{class:"binding-item",onClick:a[3]||(a[3]=(...e)=>n.bindApple&&n.bindApple(...e))},[e.createElementVNode("text",{class:"platform-name"},"Apple"),e.createElementVNode("view",{class:"binding-status"},[e.createElementVNode("text",{class:"status-text"},"Êú™ÁªëÂÆö"),e.createElementVNode("view",{class:"arrow-icon"},">")])])])]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("text",{class:"section-title"},"Á¨¨‰∏âÊñπÂÜÖÂÆπÂêåÊ≠•Âπ≥Âè∞"),e.createElementVNode("view",{class:"binding-list"},[e.createElementVNode("view",{class:"binding-item",onClick:a[4]||(a[4]=(...e)=>n.viewSyncDetails&&n.viewSyncDetails(...e))},[e.createElementVNode("text",{class:"platform-name"},"‰ªäÊó•Â§¥Êù° / Ë•øÁìúËßÜÈ¢ë / ÊáÇËΩ¶Â∏ù"),e.createElementVNode("view",{class:"binding-status"},[e.createElementVNode("text",{class:"status-text"},"Êü•ÁúãËØ¶ÊÉÖ"),e.createElementVNode("view",{class:"arrow-icon"},">")])])])]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"sync-option"},[e.createElementVNode("view",{class:"option-info"},[e.createElementVNode("text",{class:"option-title"},"ÂêåÊ≠•Á≤â‰∏ùÊï∞Èáè"),e.createElementVNode("text",{class:"option-description"},"ÂºÄÂêØÂêé,ÊäñÈü≥Á≤â‰∏ùÊï∞ÈáèÂ∞ÜÂ¢ûÂä†(ÂÖ≥Èó≠Á≤â‰∏ùÊï∞ÈáèÂáèÂ∞ë)")]),e.createElementVNode("switch",{checked:i.syncFollowers,onChange:a[5]||(a[5]=(...e)=>n.toggleSyncFollowers&&n.toggleSyncFollowers(...e)),color:"#007aff",class:"sync-switch"},null,40,["checked"])]),e.createElementVNode("view",{class:"sync-option"},[e.createElementVNode("view",{class:"option-info"},[e.createElementVNode("text",{class:"option-title"},"ÂêåÊ≠•ÊäñÈü≥Â§¥ÂÉèÂíåÊòµÁß∞‰ø°ÊÅØ")]),e.createElementVNode("switch",{checked:i.syncProfile,onChange:a[6]||(a[6]=(...e)=>n.toggleSyncProfile&&n.toggleSyncProfile(...e)),color:"#007aff",class:"sync-switch"},null,40,["checked"])])])])])}]]);const ee=a({name:"AddWays",data:()=>({settings:{wechatSearch:!0,phoneSearch:!0,qqSearch:!0,groupAdd:!0,cardShare:!0}}),onLoad(){this.loadSettings()},methods:{loadSettings(){try{const e=uni.getStorageSync("addWaysSettings");e&&(this.settings=JSON.parse(e))}catch(e){o("error","at pages/settings/add-ways.vue:107","Âä†ËΩΩËÆæÁΩÆÂ§±Ë¥•:",e)}},toggleSetting(e){this.settings[e]=!this.settings[e],this.saveSettings(),uni.showToast({title:"ËÆæÁΩÆÂ∑≤‰øùÂ≠ò",icon:"success"})},saveSettings(){try{uni.setStorageSync("addWaysSettings",JSON.stringify(this.settings))}catch(e){o("error","at pages/settings/add-ways.vue:125","‰øùÂ≠òËÆæÁΩÆÂ§±Ë¥•:",e)}}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"add-ways-page"},[e.createElementVNode("scroll-view",{class:"content","scroll-y":""},[e.createElementVNode("view",{class:"section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"Ê∑ªÂä†ÊñπÂºè")]),e.createElementVNode("view",{class:"section-content"},[e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-info"},[e.createElementVNode("text",{class:"setting-label"},"ÂæÆ‰ø°Âè∑ÊêúÁ¥¢"),e.createElementVNode("text",{class:"setting-desc"},"ÂÖÅËÆ∏‰ªñ‰∫∫ÈÄöËøáÂæÆ‰ø°Âè∑ÊêúÁ¥¢Âà∞Êàë")]),e.createElementVNode("view",{class:"toggle-switch",onClick:a[0]||(a[0]=e=>n.toggleSetting("wechatSearch"))},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-track",{active:i.settings.wechatSearch}])},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-thumb",{active:i.settings.wechatSearch}])},null,2)],2)])]),e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-info"},[e.createElementVNode("text",{class:"setting-label"},"ÊâãÊú∫Âè∑ÊêúÁ¥¢"),e.createElementVNode("text",{class:"setting-desc"},"ÂÖÅËÆ∏‰ªñ‰∫∫ÈÄöËøáÊâãÊú∫Âè∑ÊêúÁ¥¢Âà∞Êàë")]),e.createElementVNode("view",{class:"toggle-switch",onClick:a[1]||(a[1]=e=>n.toggleSetting("phoneSearch"))},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-track",{active:i.settings.phoneSearch}])},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-thumb",{active:i.settings.phoneSearch}])},null,2)],2)])]),e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-info"},[e.createElementVNode("text",{class:"setting-label"},"QQÂè∑ÊêúÁ¥¢"),e.createElementVNode("text",{class:"setting-desc"},"ÂÖÅËÆ∏‰ªñ‰∫∫ÈÄöËøáQQÂè∑ÊêúÁ¥¢Âà∞Êàë")]),e.createElementVNode("view",{class:"toggle-switch",onClick:a[2]||(a[2]=e=>n.toggleSetting("qqSearch"))},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-track",{active:i.settings.qqSearch}])},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-thumb",{active:i.settings.qqSearch}])},null,2)],2)])]),e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-info"},[e.createElementVNode("text",{class:"setting-label"},"Áæ§ËÅäÊ∑ªÂä†"),e.createElementVNode("text",{class:"setting-desc"},"ÂÖÅËÆ∏‰ªñ‰∫∫ÈÄöËøáÁæ§ËÅäÊ∑ªÂä†Êàë‰∏∫Â•ΩÂèã")]),e.createElementVNode("view",{class:"toggle-switch",onClick:a[3]||(a[3]=e=>n.toggleSetting("groupAdd"))},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-track",{active:i.settings.groupAdd}])},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-thumb",{active:i.settings.groupAdd}])},null,2)],2)])]),e.createElementVNode("view",{class:"setting-item"},[e.createElementVNode("view",{class:"setting-info"},[e.createElementVNode("text",{class:"setting-label"},"ÂêçÁâáÂàÜ‰∫´"),e.createElementVNode("text",{class:"setting-desc"},"ÂÖÅËÆ∏‰ªñ‰∫∫ÈÄöËøáÂêçÁâáÂàÜ‰∫´Ê∑ªÂä†Êàë‰∏∫Â•ΩÂèã")]),e.createElementVNode("view",{class:"toggle-switch",onClick:a[4]||(a[4]=e=>n.toggleSetting("cardShare"))},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-track",{active:i.settings.cardShare}])},[e.createElementVNode("view",{class:e.normalizeClass(["toggle-thumb",{active:i.settings.cardShare}])},null,2)],2)])])])]),e.createElementVNode("view",{class:"privacy-note"},[e.createElementVNode("text",{class:"note-text"},"ÂÖ≥Èó≠Êüê‰∫õÊ∑ªÂä†ÊñπÂºèÂèØËÉΩ‰ºöÂΩ±Âìç‰ªñ‰∫∫ÊâæÂà∞ÊÇ®ÔºåÂª∫ËÆÆÊ†πÊçÆÂÆûÈôÖÈúÄË¶ÅÂêàÁêÜËÆæÁΩÆ")])])])}],["__scopeId","data-v-72350fe9"]]);const te=a({name:"LanguageSettings",data:()=>({currentLanguage:"zh-CN",languages:[{code:"zh-CN",name:"ÁÆÄ‰Ωì‰∏≠Êñá",nativeName:"ÁÆÄ‰Ωì‰∏≠Êñá"},{code:"zh-HK",name:"ÁπÅ‰Ωì‰∏≠ÊñáÔºàÈ¶ôÊ∏ØÔºâ",nativeName:"ÁπÅÈ´î‰∏≠ÊñáÔºàÈ¶ôÊ∏ØÔºâ"},{code:"zh-TW",name:"ÁπÅ‰Ωì‰∏≠ÊñáÔºàÂè∞ÊπæÔºâ",nativeName:"ÁπÅÈ´î‰∏≠ÊñáÔºàÂè∞ÁÅ£Ôºâ"},{code:"en",name:"English",nativeName:"English"}]}),onLoad(){this.loadCurrentLanguage()},methods:{goBack(){uni.navigateBack()},loadCurrentLanguage(){try{const e=uni.getStorageSync("appLanguage");e&&(this.currentLanguage=e)}catch(e){o("error","at pages/settings/language.vue:91","Âä†ËΩΩËØ≠Ë®ÄËÆæÁΩÆÂ§±Ë¥•:",e)}},selectLanguage(e){this.currentLanguage!==e&&uni.showModal({title:"Á°ÆËÆ§Êõ¥ÊîπËØ≠Ë®Ä",content:"Êõ¥ÊîπËØ≠Ë®ÄÂêéÂ∫îÁî®Â∞ÜÈáçÊñ∞ÂêØÂä®ÔºåÁ°ÆÂÆöË¶ÅÁªßÁª≠ÂêóÔºü",success:t=>{t.confirm&&(this.currentLanguage=e,this.saveLanguage(e),uni.showToast({title:"ËØ≠Ë®ÄËÆæÁΩÆÂ∑≤‰øùÂ≠ò",icon:"success"}),setTimeout((()=>{this.restartApp()}),1500))}})},saveLanguage(e){try{uni.setStorageSync("appLanguage",e)}catch(t){o("error","at pages/settings/language.vue:126","‰øùÂ≠òËØ≠Ë®ÄËÆæÁΩÆÂ§±Ë¥•:",t)}},restartApp(){uni.showModal({title:"ËØ≠Ë®ÄËÆæÁΩÆÂÆåÊàê",content:"ËØ∑ÊâãÂä®ÈáçÂêØÂ∫îÁî®‰ª•Â∫îÁî®Êñ∞ÁöÑËØ≠Ë®ÄËÆæÁΩÆ",showCancel:!1,success:()=>{uni.navigateBack()}})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"language-page"},[e.createElementVNode("view",{class:"content-area"},[e.createElementVNode("view",{class:"language-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.languages,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["language-item",{active:i.currentLanguage===t.code}]),key:a,onClick:e=>n.selectLanguage(t.code)},[e.createElementVNode("view",{class:"language-info"},[e.createElementVNode("text",{class:"language-name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"language-native"},e.toDisplayString(t.nativeName),1)]),i.currentLanguage===t.code?(e.openBlock(),e.createElementBlock("view",{key:0,class:"language-check"},[e.createElementVNode("text",{class:"check-icon"},"‚úì")])):e.createCommentVNode("",!0)],10,["onClick"])))),128))]),e.createElementVNode("view",{class:"language-note"},[e.createElementVNode("text",{class:"note-text"},"Êõ¥ÊîπËØ≠Ë®ÄÂêéÔºåÂ∫îÁî®Â∞ÜÈáçÊñ∞ÂêØÂä®‰ª•Â∫îÁî®Êñ∞ËØ≠Ë®ÄËÆæÁΩÆ")])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const ae=a({name:"NotificationDisplay",data:()=>({currentDisplayMode:"full",displayOptions:[{value:"minimal",title:"‰ªÖÊòæÁ§∫„Äê‰Ω†Êî∂Âà∞‰∫Ü‰∏ÄÊù°Ê∂àÊÅØ„Äë",description:"ÊúÄÁÆÄÊ¥ÅÁöÑÈÄöÁü•ÊñπÂºèÔºå‰øùÊä§ÈöêÁßÅ"},{value:"medium",title:"ÊòæÁ§∫ÊúãÂèãÂêçÁß∞„ÄÅÁæ§ËÅäÂêç",description:"ÊòæÁ§∫ÂèëÈÄÅËÄÖ‰ø°ÊÅØÔºå‰ΩÜ‰∏çÊòæÁ§∫ÂÖ∑‰ΩìÂÜÖÂÆπ"},{value:"full",title:"ÊòæÁ§∫ÊúãÂèãÂêçÁß∞„ÄÅÁæ§ËÅäÂêçÂèäÊ∂àÊÅØÂÜÖÂÆπ",description:"ÊòæÁ§∫ÂÆåÊï¥ÁöÑÊ∂àÊÅØ‰ø°ÊÅØ"}]}),onLoad(){this.loadCurrentDisplayMode()},methods:{goBack(){uni.navigateBack()},loadCurrentDisplayMode(){try{const e=uni.getStorageSync("notificationDisplayMode");e&&(this.currentDisplayMode=e)}catch(e){o("error","at pages/settings/notification-display.vue:86","Âä†ËΩΩÈÄöÁü•ÊòæÁ§∫ËÆæÁΩÆÂ§±Ë¥•:",e)}},selectDisplayMode(e){this.currentDisplayMode!==e&&(this.currentDisplayMode=e,this.saveDisplayMode(e),uni.showToast({title:"ËÆæÁΩÆÂ∑≤‰øùÂ≠ò",icon:"success"}))},saveDisplayMode(e){try{uni.setStorageSync("notificationDisplayMode",e)}catch(t){o("error","at pages/settings/notification-display.vue:108","‰øùÂ≠òÈÄöÁü•ÊòæÁ§∫ËÆæÁΩÆÂ§±Ë¥•:",t)}}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"notification-display-page"},[e.createElementVNode("view",{class:"content-area"},[e.createElementVNode("view",{class:"display-options"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.displayOptions,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["option-item",{active:i.currentDisplayMode===t.value}]),key:a,onClick:e=>n.selectDisplayMode(t.value)},[e.createElementVNode("view",{class:"option-info"},[e.createElementVNode("text",{class:"option-title"},e.toDisplayString(t.title),1),e.createElementVNode("text",{class:"option-desc"},e.toDisplayString(t.description),1)]),i.currentDisplayMode===t.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"option-check"},[e.createElementVNode("text",{class:"check-icon"},"‚úì")])):e.createCommentVNode("",!0)],10,["onClick"])))),128))]),e.createElementVNode("view",{class:"display-note"},[e.createElementVNode("text",{class:"note-text"},"ÈÄâÊã©ÈÄöÁü•Âú®ÈîÅÂ±èÂíåÈÄöÁü•Ê†è‰∏≠ÁöÑÊòæÁ§∫ÊñπÂºè")])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const se=a({name:"OfficialCertificationPage",data:()=>({loading:!1,realnameInfo:null,schoolCount:0,jobCount:0}),onLoad(){this.loadCertificationData()},methods:{async loadCertificationData(){this.loading=!0;try{await Promise.all([this.loadRealnameData(),this.loadSchoolData(),this.loadJobData()])}catch(e){o("error","at pages/verification/official-certification.vue:96","Âä†ËΩΩËÆ§ËØÅÊï∞ÊçÆÂ§±Ë¥•:",e),uni.showToast({title:"Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑ÈáçËØï",icon:"none"})}finally{this.loading=!1}},async loadRealnameData(){try{const e=await uni.request({url:"http://localhost:8888/api/bc-entities/cert-realname-base/all",method:"GET",timeout:1e4});e.data&&e.data.length>0&&(this.realnameInfo=e.data[0])}catch(e){o("error","at pages/verification/official-certification.vue:119","Ëé∑ÂèñÂÆûÂêçËÆ§ËØÅÊï∞ÊçÆÂ§±Ë¥•:",e)}},async loadSchoolData(){try{const e=await uni.request({url:"http://localhost:8888/api/bc-entities/cert-student-base/all",method:"GET",timeout:1e4});e.data&&(this.schoolCount=e.data.length)}catch(e){o("error","at pages/verification/official-certification.vue:136","Ëé∑ÂèñÂ≠¶Ê†°ËÆ§ËØÅÊï∞ÊçÆÂ§±Ë¥•:",e)}},async loadJobData(){try{const e=await uni.request({url:"http://localhost:8888/api/bc-entities/cert-job-base/all",method:"GET",timeout:1e4});e.data&&(this.jobCount=e.data.length)}catch(e){o("error","at pages/verification/official-certification.vue:153","Ëé∑ÂèñËÅå‰∏öËÆ§ËØÅÊï∞ÊçÆÂ§±Ë¥•:",e)}},goBack(){uni.navigateBack()},goToRealNameCertification(){uni.navigateTo({url:"/pages/verification/real-name-verification"})},goToSchoolCertification(){uni.navigateTo({url:"/pages/verification/school-certification"})},goToProfessionalCertification(){uni.navigateTo({url:"/pages/verification/professional-certification"})},goToTermsOfService(){uni.navigateTo({url:"/pages/settings/terms-of-service"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"official-certification-page"},[e.createElementVNode("view",{class:"certification-list"},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-section"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩËÆ§ËØÅ‰ø°ÊÅØ...")])):e.createCommentVNode("",!0),i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"list-item",onClick:a[0]||(a[0]=(...e)=>n.goToRealNameCertification&&n.goToRealNameCertification(...e))},[e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("text",{class:"item-text"},"ÂÆûÂêçËÆ§ËØÅ"),i.realnameInfo?(e.openBlock(),e.createElementBlock("text",{key:0,class:"item-desc"},e.toDisplayString(i.realnameInfo.ruleDesc||"Ë∫´‰ªΩÈ™åËØÅ"),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"arrow-icon"},">")])),i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2,class:"divider"})),i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:3,class:"list-item",onClick:a[1]||(a[1]=(...e)=>n.goToSchoolCertification&&n.goToSchoolCertification(...e))},[e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("text",{class:"item-text"},"Â≠¶Ê†°ËÆ§ËØÅ"),i.schoolCount>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"item-desc"},"ÊîØÊåÅ "+e.toDisplayString(i.schoolCount)+" ÊâÄÂ≠¶Ê†°",1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"arrow-icon"},">")])),i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:4,class:"divider"})),i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:5,class:"list-item",onClick:a[2]||(a[2]=(...e)=>n.goToProfessionalCertification&&n.goToProfessionalCertification(...e))},[e.createElementVNode("view",{class:"item-content"},[e.createElementVNode("text",{class:"item-text"},"ËÅå‰∏öËÆ§ËØÅ"),i.jobCount>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"item-desc"},"ÊîØÊåÅ "+e.toDisplayString(i.jobCount)+" ÁßçËÅå‰∏ö",1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"arrow-icon"},">")]))]),e.createElementVNode("view",{class:"terms-link",onClick:a[3]||(a[3]=(...e)=>n.goToTermsOfService&&n.goToTermsOfService(...e))},[e.createElementVNode("text",{class:"terms-text"},"ÊúçÂä°Êù°Ê¨æ")]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const oe=a({name:"SchoolCertificationPage",data:()=>({isAgreed:!1,showPicker:!1,provinces:[],schools:[],selectedProvince:"",selectedSchool:"",loading:!1,loadError:!1,errorMessage:""}),onLoad(){this.loadSchoolData()},methods:{async loadSchoolData(){this.loading=!0,this.loadError=!1,this.errorMessage="";try{const e=await uni.request({url:"http://localhost:8888/api/bc-entities/cert-student-base/all",method:"GET",timeout:1e4});if(e.data&&e.data.length>0){this.schools=e.data;const t=new Set;e.data.forEach((e=>{e.region&&t.add(e.region)})),this.provinces=Array.from(t).sort(),o("log","at pages/verification/school-certification.vue:135","ÊàêÂäüÂä†ËΩΩÂ≠¶Ê†°Êï∞ÊçÆ:",this.schools.length,"ÊâÄÂ≠¶Ê†°")}else this.loadError=!0,this.errorMessage="Êï∞ÊçÆÂ∫ì‰∏≠Ê≤°ÊúâÂ≠¶Ê†°Êï∞ÊçÆÔºåËØ∑ËÅîÁ≥ªÁÆ°ÁêÜÂëò",this.provinces=[],this.schools=[]}catch(e){o("error","at pages/verification/school-certification.vue:144","Ëé∑ÂèñÂ≠¶Ê†°Êï∞ÊçÆÂ§±Ë¥•:",e),this.loadError=!0,this.errorMessage="ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúÂêéÈáçËØï",this.provinces=[],this.schools=[],uni.showToast({title:"Êï∞ÊçÆÂä†ËΩΩÂ§±Ë¥•",icon:"none",duration:3e3})}finally{this.loading=!1}},getSchoolsByProvince(e){return this.schools.filter((t=>t.region===e))},goBack(){uni.navigateBack()},toggleAgreement(){this.isAgreed=!this.isAgreed},showSchoolPicker(){this.showPicker=!0},hideSchoolPicker(){this.showPicker=!1},selectProvince(e){o("log","at pages/verification/school-certification.vue:178","ÈÄâÊã©ÁúÅ‰ªΩ:",e),this.selectedProvince=e,uni.navigateTo({url:`/pages/verification/school-list?province=${encodeURIComponent(e)}`}),this.hideSchoolPicker()},async goToNextStep(){if(this.isAgreed)if(this.selectedSchool)try{uni.showLoading({title:"Ê≠£Âú®Êèê‰∫§ËÆ§ËØÅ‰ø°ÊÅØ..."});const e=uni.getStorageSync("userId");if(!e)return uni.hideLoading(),void uni.showToast({title:"ËØ∑ÂÖàÁôªÂΩï",icon:"none"});const t={name:"",degree:"",school:this.selectedSchool,province:this.selectedProvince,studentId:"",submitTime:(new Date).toISOString()},a=await this.saveCertRecord(e,"STUDENT",t);uni.hideLoading(),a.success?(uni.showToast({title:"ËÆ§ËØÅ‰ø°ÊÅØÊèê‰∫§ÊàêÂäü",icon:"success"}),setTimeout((()=>{uni.navigateTo({url:`/pages/verification/certification-feedback?type=school&school=${encodeURIComponent(this.selectedSchool)}&province=${encodeURIComponent(this.selectedProvince)}`})}),1500)):uni.showToast({title:a.message||"Êèê‰∫§Â§±Ë¥•",icon:"none"})}catch(e){uni.hideLoading(),o("error","at pages/verification/school-certification.vue:258","Êèê‰∫§ËÆ§ËØÅ‰ø°ÊÅØÂ§±Ë¥•:",e),uni.showToast({title:"ÁΩëÁªúÈîôËØØÔºåËØ∑ÈáçËØï",icon:"none"})}else uni.showToast({title:"ËØ∑ÈÄâÊã©Â≠¶Ê†°",icon:"none"});else uni.showToast({title:"ËØ∑ÂÖàÂêåÊÑèÊúçÂä°Êù°Ê¨æ",icon:"none"})},goToTermsOfService(){uni.navigateTo({url:"/pages/settings/terms-of-service"})},async saveCertRecord(e,t,a){try{const s=await uni.request({url:"http://localhost:8888/api/u-entities/user-cert-record/save",method:"POST",header:{"Content-Type":"application/json"},data:{userId:e,certType:t,certInfo:JSON.stringify(a)},timeout:1e4});if(200===s.statusCode)return s.data;throw new Error(`HTTP ${s.statusCode}`)}catch(s){throw o("error","at pages/verification/school-certification.vue:294","‰øùÂ≠òËÆ§ËØÅËÆ∞ÂΩïÂ§±Ë¥•:",s),s}}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"school-certification-page"},[e.createElementVNode("view",{class:"prompt-text"},[e.createElementVNode("text",{class:"prompt"},"ËØ∑ÈÄâÊã©Â≠¶Ê†°ÂêçÁß∞")]),e.createElementVNode("view",{class:"school-selection"},[i.loadError?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"selection-field",onClick:a[0]||(a[0]=(...e)=>n.showSchoolPicker&&n.showSchoolPicker(...e))},[e.createElementVNode("text",{class:"field-label"},"Â≠¶Ê†°ÂêçÁß∞"),e.createElementVNode("view",{class:"selection-content"},[i.selectedSchool?(e.openBlock(),e.createElementBlock("text",{key:0,class:"selected-text"},e.toDisplayString(i.selectedSchool),1)):i.loading?(e.openBlock(),e.createElementBlock("text",{key:2,class:"loading-text"},"Âä†ËΩΩ‰∏≠...")):(e.openBlock(),e.createElementBlock("text",{key:1,class:"placeholder-text"},"ËØ∑ÈÄâÊã©>"))])])),i.loadError?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-section"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"retry-button",onClick:a[1]||(a[1]=(...e)=>n.loadSchoolData&&n.loadSchoolData(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"agreement-section"},[e.createElementVNode("view",{class:"agreement-item"},[e.createElementVNode("view",{class:e.normalizeClass(["checkbox",{checked:i.isAgreed}]),onClick:a[2]||(a[2]=(...e)=>n.toggleAgreement&&n.toggleAgreement(...e))},[i.isAgreed?(e.openBlock(),e.createElementBlock("text",{key:0,class:"checkmark"},"‚úì")):e.createCommentVNode("",!0)],2),e.createElementVNode("text",{class:"agreement-text"},"ÈòÖËØªÂπ∂ÂêåÊÑè"),e.createElementVNode("text",{class:"agreement-link",onClick:a[3]||(a[3]=(...e)=>n.goToTermsOfService&&n.goToTermsOfService(...e))},"„ÄäAFriendsÂÆòÊñπËÆ§ËØÅÊúçÂä°ÂçèËÆÆ„Äã")])]),e.createElementVNode("view",{class:"next-button-section"},[e.createElementVNode("view",{class:"next-button",onClick:a[4]||(a[4]=(...e)=>n.goToNextStep&&n.goToNextStep(...e))},[e.createElementVNode("text",{class:"next-text"},"‰∏ã‰∏ÄÊ≠•")])]),e.createElementVNode("view",{class:"home-indicator"}),i.showPicker?(e.openBlock(),e.createElementBlock("view",{key:0,class:"school-picker-modal",onClick:a[7]||(a[7]=(...e)=>n.hideSchoolPicker&&n.hideSchoolPicker(...e))},[e.createElementVNode("view",{class:"modal-content",onClick:a[6]||(a[6]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"modal-header"},[e.createElementVNode("view",{class:"modal-back",onClick:a[5]||(a[5]=(...e)=>n.hideSchoolPicker&&n.hideSchoolPicker(...e))},[e.createElementVNode("view",{class:"back-arrow"})]),e.createElementVNode("text",{class:"modal-title"},"ËØ∑ÈÄâÊã©ÊÇ®ÁöÑÂ≠¶Ê†°"),e.createElementVNode("view",{class:"search-icon"},[e.createElementVNode("view",{class:"magnifier"})])]),e.createElementVNode("view",{class:"school-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.provinces,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"school-item",key:a,onClick:e=>n.selectProvince(t)},[e.createElementVNode("text",{class:"province-name"},e.toDisplayString(t),1),e.createElementVNode("view",{class:"arrow-icon"},">")],8,["onClick"])))),128))])])])):e.createCommentVNode("",!0)])}]]);const ie=a({name:"ProfessionalCertificationPage",data:()=>({isAgreed:!1,showPicker:!1,showJobPicker:!1,professions:[],jobTypes:[],selectedJobType:"",selectedProfession:"",loading:!1,loadError:!1,errorMessage:"",currentStep:"type"}),onLoad(){this.loadJobData()},methods:{async loadJobData(){this.loading=!0,this.loadError=!1,this.errorMessage="";try{const e=await uni.request({url:"http://localhost:8888/api/bc-entities/cert-job-base/all",method:"GET",timeout:1e4});if(e.data&&e.data.length>0){const t=new Set;e.data.forEach((e=>{e.jobType&&t.add(e.jobType)})),this.jobTypes=Array.from(t).sort(),this.professions=e.data,o("log","at pages/verification/professional-certification.vue:158","ÊàêÂäüÂä†ËΩΩËÅå‰∏öÊï∞ÊçÆ:",this.professions.length,"‰∏™ËÅå‰∏ö")}else this.loadError=!0,this.errorMessage="Êï∞ÊçÆÂ∫ì‰∏≠Ê≤°ÊúâËÅå‰∏öÊï∞ÊçÆÔºåËØ∑ËÅîÁ≥ªÁÆ°ÁêÜÂëò",this.jobTypes=[],this.professions=[]}catch(e){o("error","at pages/verification/professional-certification.vue:167","Ëé∑ÂèñËÅå‰∏öÊï∞ÊçÆÂ§±Ë¥•:",e),this.loadError=!0,this.errorMessage="ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúÂêéÈáçËØï",this.jobTypes=[],this.professions=[],uni.showToast({title:"Êï∞ÊçÆÂä†ËΩΩÂ§±Ë¥•",icon:"none",duration:3e3})}finally{this.loading=!1}},getJobsByType(e){return this.professions.filter((t=>t.jobType===e))},showJobPickerModal(){this.showJobPicker=!0},hideJobPickerModal(){this.showJobPicker=!1},selectJob(e){o("log","at pages/verification/professional-certification.vue:200","ÈÄâÊã©ÂÖ∑‰ΩìËÅå‰∏ö:",e),o("log","at pages/verification/professional-certification.vue:201","jobÁ±ªÂûã:",typeof e),o("log","at pages/verification/professional-certification.vue:202","job.jobName:",e.jobName),e&&e.jobName?(this.selectedProfession=e.jobName,this.hideJobPickerModal(),this.currentStep="type"):(o("error","at pages/verification/professional-certification.vue:209","ËÅå‰∏öÂØπË±°Ê†ºÂºèÈîôËØØ:",e),uni.showToast({title:"ÈÄâÊã©Â§±Ë¥•ÔºåËØ∑ÈáçËØï",icon:"none"}))},backToJobType(){this.showJobPicker=!1,this.showPicker=!0,this.currentStep="type"},goBack(){uni.navigateBack()},toggleAgreement(){this.isAgreed=!this.isAgreed},showProfessionPicker(){this.showPicker=!0},hideProfessionPicker(){this.showPicker=!1},selectProfession(e){o("log","at pages/verification/professional-certification.vue:237","ÈÄâÊã©ËÅå‰∏öÁ±ªÂûã:",e),this.selectedJobType=e,this.hideProfessionPicker(),this.showJobPicker=!0,this.currentStep="job"},async goToNextStep(){if(this.isAgreed)if(this.selectedJobType)if(this.selectedProfession)try{uni.showLoading({title:"Ê≠£Âú®Êèê‰∫§ËÆ§ËØÅ‰ø°ÊÅØ..."});const e=uni.getStorageSync("userId");if(!e)return uni.hideLoading(),void uni.showToast({title:"ËØ∑ÂÖàÁôªÂΩï",icon:"none"});const t={name:"",jobType:this.selectedJobType,jobName:this.selectedProfession,company:"",position:this.selectedProfession,submitTime:(new Date).toISOString()},a=await this.saveCertRecord(e,"JOB",t);uni.hideLoading(),a.success?(uni.showToast({title:"ËÆ§ËØÅ‰ø°ÊÅØÊèê‰∫§ÊàêÂäü",icon:"success"}),setTimeout((()=>{uni.navigateTo({url:`/pages/verification/certification-feedback?type=professional&jobType=${encodeURIComponent(this.selectedJobType)}&jobName=${encodeURIComponent(this.selectedProfession)}`})}),1500)):uni.showToast({title:a.message||"Êèê‰∫§Â§±Ë¥•",icon:"none"})}catch(e){uni.hideLoading(),o("error","at pages/verification/professional-certification.vue:325","Êèê‰∫§ËÆ§ËØÅ‰ø°ÊÅØÂ§±Ë¥•:",e),uni.showToast({title:"ÁΩëÁªúÈîôËØØÔºåËØ∑ÈáçËØï",icon:"none"})}else uni.showToast({title:"ËØ∑ÈÄâÊã©ÂÖ∑‰ΩìËÅå‰∏ö",icon:"none"});else uni.showToast({title:"ËØ∑ÈÄâÊã©ËÅå‰∏öÁ±ªÂûã",icon:"none"});else uni.showToast({title:"ËØ∑ÂÖàÂêåÊÑèÊúçÂä°Êù°Ê¨æ",icon:"none"})},goToTermsOfService(){uni.navigateTo({url:"/pages/settings/terms-of-service"})},async saveCertRecord(e,t,a){try{const s=await uni.request({url:"http://localhost:8888/api/u-entities/user-cert-record/save",method:"POST",header:{"Content-Type":"application/json"},data:{userId:e,certType:t,certInfo:JSON.stringify(a)},timeout:1e4});if(200===s.statusCode)return s.data;throw new Error(`HTTP ${s.statusCode}`)}catch(s){throw o("error","at pages/verification/professional-certification.vue:361","‰øùÂ≠òËÆ§ËØÅËÆ∞ÂΩïÂ§±Ë¥•:",s),s}}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"professional-certification-page"},[e.createElementVNode("view",{class:"prompt-text"},[e.createElementVNode("text",{class:"prompt"},"ËØ∑ÈÄâÊã©ËÅå‰∏öÁ±ªÂûã")]),e.createElementVNode("view",{class:"profession-selection"},[i.loadError?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"selection-field",onClick:a[0]||(a[0]=(...e)=>n.showProfessionPicker&&n.showProfessionPicker(...e))},[e.createElementVNode("text",{class:"field-label"},"ËÅå‰∏öÁ±ªÂûã"),e.createElementVNode("view",{class:"selection-content"},[i.selectedProfession?(e.openBlock(),e.createElementBlock("text",{key:0,class:"selected-text"},e.toDisplayString(i.selectedJobType)+" - "+e.toDisplayString(i.selectedProfession),1)):i.selectedJobType?(e.openBlock(),e.createElementBlock("text",{key:1,class:"selected-text"},e.toDisplayString(i.selectedJobType)+" - ËØ∑ÈÄâÊã©ÂÖ∑‰ΩìËÅå‰∏ö",1)):i.loading?(e.openBlock(),e.createElementBlock("text",{key:3,class:"loading-text"},"Âä†ËΩΩ‰∏≠...")):(e.openBlock(),e.createElementBlock("text",{key:2,class:"placeholder-text"},"ËØ∑ÈÄâÊã©>"))])])),i.loadError?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-section"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"retry-button",onClick:a[1]||(a[1]=(...e)=>n.loadJobData&&n.loadJobData(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"agreement-section"},[e.createElementVNode("view",{class:"agreement-item"},[e.createElementVNode("view",{class:e.normalizeClass(["checkbox",{checked:i.isAgreed}]),onClick:a[2]||(a[2]=(...e)=>n.toggleAgreement&&n.toggleAgreement(...e))},[i.isAgreed?(e.openBlock(),e.createElementBlock("text",{key:0,class:"checkmark"},"‚úì")):e.createCommentVNode("",!0)],2),e.createElementVNode("text",{class:"agreement-text"},"ÈòÖËØªÂπ∂ÂêåÊÑè"),e.createElementVNode("text",{class:"agreement-link",onClick:a[3]||(a[3]=(...e)=>n.goToTermsOfService&&n.goToTermsOfService(...e))},"„ÄäAFriendsÂÆòÊñπËÆ§ËØÅÊúçÂä°ÂçèËÆÆ„Äã")])]),e.createElementVNode("view",{class:"next-button-section"},[e.createElementVNode("view",{class:"next-button",onClick:a[4]||(a[4]=(...e)=>n.goToNextStep&&n.goToNextStep(...e))},[e.createElementVNode("text",{class:"next-text"},"‰∏ã‰∏ÄÊ≠•")])]),e.createElementVNode("view",{class:"home-indicator"}),i.showPicker?(e.openBlock(),e.createElementBlock("view",{key:0,class:"profession-picker-modal",onClick:a[7]||(a[7]=(...e)=>n.hideProfessionPicker&&n.hideProfessionPicker(...e))},[e.createElementVNode("view",{class:"modal-content",onClick:a[6]||(a[6]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"modal-header"},[e.createElementVNode("view",{class:"modal-back",onClick:a[5]||(a[5]=(...e)=>n.hideProfessionPicker&&n.hideProfessionPicker(...e))},[e.createElementVNode("view",{class:"back-arrow"})]),e.createElementVNode("text",{class:"modal-title"},"ËØ∑ÈÄâÊã©ÊÇ®ÁöÑË°å‰∏öÁ±ªÂûã"),e.createElementVNode("view",{class:"search-icon"},[e.createElementVNode("view",{class:"magnifier"})])]),e.createElementVNode("view",{class:"profession-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.jobTypes,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"profession-item",key:a,onClick:e=>n.selectProfession(t)},[e.createElementVNode("text",{class:"profession-name"},e.toDisplayString(t),1),e.createElementVNode("view",{class:"arrow-icon"},">")],8,["onClick"])))),128))])])])):e.createCommentVNode("",!0),i.showJobPicker?(e.openBlock(),e.createElementBlock("view",{key:1,class:"job-picker-modal",onClick:a[10]||(a[10]=(...e)=>n.hideJobPickerModal&&n.hideJobPickerModal(...e))},[e.createElementVNode("view",{class:"modal-content",onClick:a[9]||(a[9]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"modal-header"},[e.createElementVNode("view",{class:"modal-back",onClick:a[8]||(a[8]=(...e)=>n.backToJobType&&n.backToJobType(...e))},[e.createElementVNode("view",{class:"back-arrow"})]),e.createElementVNode("text",{class:"modal-title"},e.toDisplayString(i.selectedJobType)+" - ÈÄâÊã©ÂÖ∑‰ΩìËÅå‰∏ö",1),e.createElementVNode("view",{class:"search-icon"},[e.createElementVNode("view",{class:"magnifier"})])]),e.createElementVNode("view",{class:"job-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.getJobsByType(i.selectedJobType),((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"job-item",key:a,onClick:e=>n.selectJob(t)},[e.createElementVNode("text",{class:"job-name"},e.toDisplayString(t.jobName),1)],8,["onClick"])))),128))])])])):e.createCommentVNode("",!0)])}]]);const ne=a({name:"RealNameVerificationPage",data:()=>({selectedDocumentType:"",realName:"",documentNumber:"",isAgreed:!1,showDocumentTypePicker:!1,documentTypes:[],loading:!1,loadError:!1,errorMessage:""}),onLoad(){this.loadDocumentTypes()},computed:{canProceed(){return this.selectedDocumentType&&this.realName&&this.documentNumber&&this.isAgreed}},methods:{async loadDocumentTypes(){this.loading=!0,this.loadError=!1,this.errorMessage="";try{const e=await uni.request({url:"http://localhost:8888/api/bc-entities/cert-realname-base/all",method:"GET",timeout:1e4});e.data&&e.data.length>0?(this.documentTypes=e.data.map((e=>e.idType)),o("log","at pages/verification/real-name-verification.vue:164","ÊàêÂäüÂä†ËΩΩËØÅ‰ª∂Á±ªÂûã:",this.documentTypes)):(this.loadError=!0,this.errorMessage="Êï∞ÊçÆÂ∫ì‰∏≠Ê≤°ÊúâËØÅ‰ª∂Á±ªÂûãÊï∞ÊçÆÔºåËØ∑ËÅîÁ≥ªÁÆ°ÁêÜÂëò",this.documentTypes=[])}catch(e){o("error","at pages/verification/real-name-verification.vue:172","Ëé∑ÂèñËØÅ‰ª∂Á±ªÂûãÂ§±Ë¥•:",e),this.loadError=!0,this.errorMessage="ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúÂêéÈáçËØï",this.documentTypes=[],uni.showToast({title:"Êï∞ÊçÆÂä†ËΩΩÂ§±Ë¥•",icon:"none",duration:3e3})}finally{this.loading=!1}},goBack(){uni.navigateBack()},goToTermsOfService(){o("log","at pages/verification/real-name-verification.vue:191","goToTermsOfService Ë¢´Ë∞ÉÁî®‰∫Ü"),uni.showToast({title:"ÁÇπÂáª‰∫ÜÂçèËÆÆÈìæÊé•",icon:"success"}),setTimeout((()=>{uni.navigateTo({url:"/pages/settings/terms-of-service",success:()=>{o("log","at pages/verification/real-name-verification.vue:202","Ë∑≥ËΩ¨ÊàêÂäü")},fail:e=>{o("error","at pages/verification/real-name-verification.vue:205","Ë∑≥ËΩ¨Â§±Ë¥•:",e),uni.showToast({title:"Ë∑≥ËΩ¨Â§±Ë¥•",icon:"none"})}})}),1e3)},openDocumentTypePicker(){this.showDocumentTypePicker=!0},hideDocumentTypePicker(){this.showDocumentTypePicker=!1},selectDocumentType(e){this.selectedDocumentType=e,this.hideDocumentTypePicker()},toggleAgreement(){this.isAgreed=!this.isAgreed},async goToFaceRecognition(){if(this.canProceed)if(this.realName.length<2)uni.showToast({title:"ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÂßìÂêç",icon:"none"});else if("Ë∫´‰ªΩËØÅ"!==this.selectedDocumentType||18===this.documentNumber.length)try{uni.showLoading({title:"Ê≠£Âú®Êèê‰∫§ËÆ§ËØÅ‰ø°ÊÅØ..."});const e=uni.getStorageSync("userId");if(!e)return uni.hideLoading(),void uni.showToast({title:"ËØ∑ÂÖàÁôªÂΩï",icon:"none"});const t={name:this.realName,gender:"",idNumber:this.documentNumber,documentType:this.selectedDocumentType,submitTime:(new Date).toISOString()},a=await this.saveCertRecord(e,"REALNAME",t);uni.hideLoading(),a.success?(uni.showToast({title:"ËÆ§ËØÅ‰ø°ÊÅØÊèê‰∫§ÊàêÂäü",icon:"success"}),setTimeout((()=>{uni.navigateTo({url:"/pages/verification/face-recognition?type=realName"})}),1500)):uni.showToast({title:a.message||"Êèê‰∫§Â§±Ë¥•",icon:"none"})}catch(e){uni.hideLoading(),o("error","at pages/verification/real-name-verification.vue:306","Êèê‰∫§ËÆ§ËØÅ‰ø°ÊÅØÂ§±Ë¥•:",e),uni.showToast({title:"ÁΩëÁªúÈîôËØØÔºåËØ∑ÈáçËØï",icon:"none"})}else uni.showToast({title:"ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑË∫´‰ªΩËØÅÂè∑Á†Å",icon:"none"});else uni.showToast({title:"ËØ∑ÂÆåÂñÑÊâÄÊúâ‰ø°ÊÅØÂπ∂ÂêåÊÑèÂçèËÆÆ",icon:"none"})},async saveCertRecord(e,t,a){try{const s=await uni.request({url:"http://localhost:8888/api/u-entities/user-cert-record/save",method:"POST",header:{"Content-Type":"application/json"},data:{userId:e,certType:t,certInfo:JSON.stringify(a)},timeout:1e4});if(200===s.statusCode)return s.data;throw new Error(`HTTP ${s.statusCode}`)}catch(s){throw o("error","at pages/verification/real-name-verification.vue:337","‰øùÂ≠òËÆ§ËØÅËÆ∞ÂΩïÂ§±Ë¥•:",s),s}}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"real-name-verification-page"},[e.createElementVNode("view",{class:"disclaimer"},[e.createElementVNode("text",{class:"disclaimer-text"},"ËÆ§ËØÅ‰ø°ÊÅØÂ∞ÜÁî®‰∫éAFriendsÂπ≥Âè∞ÊúçÂä°,‰∏éË¥¶Âè∑ÂîØ‰∏ÄÁªëÂÆö,Êó†Ê≥ïËß£Èô§ÁªëÂÆö,Êàë‰ª¨‰ºöÂØπ‰ø°ÊÅØ‰∏•Ê†º‰øùÂØÜ")]),e.createElementVNode("view",{class:"verification-form"},[i.loadError?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"form-item",onClick:a[0]||(a[0]=(...e)=>n.openDocumentTypePicker&&n.openDocumentTypePicker(...e))},[e.createElementVNode("text",{class:"item-label"},"ËØÅ‰ª∂Á±ªÂûã"),e.createElementVNode("view",{class:"item-content"},[i.selectedDocumentType?(e.openBlock(),e.createElementBlock("text",{key:0,class:"item-value"},e.toDisplayString(i.selectedDocumentType),1)):i.loading?(e.openBlock(),e.createElementBlock("text",{key:2,class:"loading-text"},"Âä†ËΩΩ‰∏≠...")):(e.openBlock(),e.createElementBlock("text",{key:1,class:"placeholder-text"},"ËØ∑ÈÄâÊã©ËØÅ‰ª∂Á±ªÂûã >"))])])),i.loadError?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-section"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"retry-button",onClick:a[1]||(a[1]=(...e)=>n.loadDocumentTypes&&n.loadDocumentTypes(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"divider"}),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"item-label"},"ÁúüÂÆûÂßìÂêç"),e.createElementVNode("view",{class:"item-content"},[e.withDirectives(e.createElementVNode("input",{class:"input-field",type:"text",placeholder:"ËØ∑Â°´ÂÜôÁúüÂÆûÂßìÂêç","onUpdate:modelValue":a[2]||(a[2]=e=>i.realName=e),maxlength:"20"},null,512),[[e.vModelText,i.realName]])])]),e.createElementVNode("view",{class:"divider"}),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"item-label"},"ËØÅ‰ª∂Âè∑Á†Å"),e.createElementVNode("view",{class:"item-content"},[e.withDirectives(e.createElementVNode("input",{class:"input-field",type:"text",placeholder:"ËØ∑Â°´ÂÜôÁúüÂÆûËØÅ‰ª∂Âè∑Á†Å","onUpdate:modelValue":a[3]||(a[3]=e=>i.documentNumber=e),maxlength:"18"},null,512),[[e.vModelText,i.documentNumber]])])])]),e.createElementVNode("view",{class:"agreement-section"},[e.createElementVNode("view",{class:"agreement-item"},[e.createElementVNode("view",{class:e.normalizeClass(["checkbox",{checked:i.isAgreed}]),onClick:a[4]||(a[4]=(...e)=>n.toggleAgreement&&n.toggleAgreement(...e))},[i.isAgreed?(e.openBlock(),e.createElementBlock("text",{key:0,class:"checkmark"},"‚úì")):e.createCommentVNode("",!0)],2),e.createElementVNode("text",{class:"agreement-text"},"ÈòÖËØªÂπ∂ÂêåÊÑè"),e.createElementVNode("text",{class:"agreement-link",onClick:a[5]||(a[5]=e.withModifiers(((...e)=>n.goToTermsOfService&&n.goToTermsOfService(...e)),["stop"]))},"„ÄäÂÆûÂêçËÆ§ËØÅÊúçÂä°ÂçèËÆÆ„Äã")])]),e.createElementVNode("view",{class:e.normalizeClass(["face-recognition-button",{disabled:!n.canProceed}]),onClick:a[6]||(a[6]=(...e)=>n.goToFaceRecognition&&n.goToFaceRecognition(...e))},[e.createElementVNode("text",{class:"button-text"},"ËøõÂÖ•‰∫∫ËÑ∏ËØÜÂà´")],2),e.createElementVNode("view",{class:"home-indicator"}),i.showDocumentTypePicker?(e.openBlock(),e.createElementBlock("view",{key:0,class:"document-type-modal",onClick:a[9]||(a[9]=(...e)=>n.hideDocumentTypePicker&&n.hideDocumentTypePicker(...e))},[e.createElementVNode("view",{class:"modal-content",onClick:a[8]||(a[8]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"modal-header"},[e.createElementVNode("text",{class:"modal-title"},"ÈÄâÊã©ËØÅ‰ª∂Á±ªÂûã"),e.createElementVNode("view",{class:"close-button",onClick:a[7]||(a[7]=(...e)=>n.hideDocumentTypePicker&&n.hideDocumentTypePicker(...e))},[e.createElementVNode("text",{class:"close-icon"},"√ó")])]),e.createElementVNode("view",{class:"document-type-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.documentTypes,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"document-type-item",key:a,onClick:e=>n.selectDocumentType(t)},[e.createElementVNode("text",{class:"type-name"},e.toDisplayString(t),1)],8,["onClick"])))),128))])])])):e.createCommentVNode("",!0)])}]]);const le=a({name:"FaceRecognitionPage",data:()=>({progress:0,showResult:!1,recognitionResult:"success",resultTitle:"ËØÜÂà´ÊàêÂäü",resultDesc:"‰∫∫ËÑ∏ËØÜÂà´Â∑≤ÂÆåÊàêÔºåËØ∑ÁªßÁª≠‰∏ã‰∏ÄÊ≠•",certificationType:"realName"}),onLoad(e){e.type&&(this.certificationType=e.type)},mounted(){this.startRecognition()},methods:{goBack(){uni.navigateBack()},startRecognition(){this.progress=0;const e=setInterval((()=>{this.progress+=10,this.progress>=100&&(clearInterval(e),this.recognitionComplete())}),200)},recognitionComplete(){const e=Math.random()>.2;this.recognitionResult=e?"success":"error",this.resultTitle=e?"ËØÜÂà´ÊàêÂäü":"ËØÜÂà´Â§±Ë¥•",this.resultDesc=e?"‰∫∫ËÑ∏ËØÜÂà´Â∑≤ÂÆåÊàêÔºåËØ∑ÁªßÁª≠‰∏ã‰∏ÄÊ≠•":"ËØ∑ÈáçÊñ∞ËøõË°å‰∫∫ËÑ∏ËØÜÂà´",this.showResult=!0},retakePhoto(){this.progress=0,this.startRecognition()},confirmRecognition(){this.progress<100?uni.showToast({title:"ËØÜÂà´Â∞öÊú™ÂÆåÊàê",icon:"none"}):"success"===this.recognitionResult?(uni.showToast({title:"ËÆ§ËØÅÂÆåÊàê",icon:"success"}),setTimeout((()=>{"realName"===this.certificationType?uni.redirectTo({url:"/pages/verification/certification-feedback?type=realName"}):uni.navigateBack()}),1500)):uni.showToast({title:"ËØ∑ÈáçÊñ∞ËØÜÂà´",icon:"none"})},hideResult(){this.showResult=!1}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"face-recognition-page"},[e.createElementVNode("view",{class:"camera-preview"},[e.createElementVNode("view",{class:"preview-container"},[e.createElementVNode("view",{class:"face-frame"},[e.createElementVNode("view",{class:"frame-corner top-left"}),e.createElementVNode("view",{class:"frame-corner top-right"}),e.createElementVNode("view",{class:"frame-corner bottom-left"}),e.createElementVNode("view",{class:"frame-corner bottom-right"})]),e.createElementVNode("view",{class:"preview-placeholder"},[e.createElementVNode("view",{class:"camera-icon"},[e.createElementVNode("view",{class:"camera-lens"})]),e.createElementVNode("text",{class:"preview-text"},"ÊëÑÂÉèÂ§¥È¢ÑËßàÂå∫Âüü")])])]),e.createElementVNode("view",{class:"recognition-tips"},[e.createElementVNode("text",{class:"tips-title"},"ËØ∑Â∞ÜËÑ∏ÈÉ®ÊîæÂÖ•Ê°ÜÂÜÖ"),e.createElementVNode("text",{class:"tips-desc"},"‰øùÊåÅÂÖâÁ∫øÂÖÖË∂≥ÔºåÈù¢ÈÉ®Ê∏ÖÊô∞ÂèØËßÅ")]),e.createElementVNode("view",{class:"action-buttons"},[e.createElementVNode("view",{class:"retake-button",onClick:a[0]||(a[0]=(...e)=>n.retakePhoto&&n.retakePhoto(...e))},[e.createElementVNode("text",{class:"button-text"},"ÈáçÊñ∞ÊãçÊëÑ")]),e.createElementVNode("view",{class:"confirm-button",onClick:a[1]||(a[1]=(...e)=>n.confirmRecognition&&n.confirmRecognition(...e))},[e.createElementVNode("text",{class:"button-text"},"Á°ÆËÆ§ËØÜÂà´")])]),e.createElementVNode("view",{class:"progress-indicator"},[e.createElementVNode("view",{class:"progress-bar"},[e.createElementVNode("view",{class:"progress-fill",style:e.normalizeStyle({width:i.progress+"%"})},null,4)]),e.createElementVNode("text",{class:"progress-text"},e.toDisplayString(i.progress)+"%",1)]),e.createElementVNode("view",{class:"home-indicator"}),i.showResult?(e.openBlock(),e.createElementBlock("view",{key:0,class:"result-modal",onClick:a[4]||(a[4]=(...e)=>n.hideResult&&n.hideResult(...e))},[e.createElementVNode("view",{class:"modal-content",onClick:a[3]||(a[3]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:e.normalizeClass(["result-icon",i.recognitionResult])},["success"===i.recognitionResult?(e.openBlock(),e.createElementBlock("text",{key:0,class:"success-icon"},"‚úì")):(e.openBlock(),e.createElementBlock("text",{key:1,class:"error-icon"},"‚úó"))],2),e.createElementVNode("text",{class:"result-title"},e.toDisplayString(i.resultTitle),1),e.createElementVNode("text",{class:"result-desc"},e.toDisplayString(i.resultDesc),1),e.createElementVNode("view",{class:"result-actions"},[e.createElementVNode("view",{class:"action-button",onClick:a[2]||(a[2]=(...e)=>n.hideResult&&n.hideResult(...e))},[e.createElementVNode("text",{class:"action-text"},"Á°ÆÂÆö")])])])])):e.createCommentVNode("",!0)])}]]);const ce=a({name:"VerificationCompletePage",data:()=>({verificationType:"ÂÆûÂêçËÆ§ËØÅ",verificationTime:"2024Âπ¥8Êúà20Êó• 14:30",verificationStatus:"Â∑≤ËÆ§ËØÅ",loading:!0,verificationRecord:null,errorMessage:""}),onLoad(e){e.type&&(this.verificationType=this.getCertTypeText(e.type)),this.loadVerificationRecord()},methods:{async loadVerificationRecord(){this.loading=!0;try{const e=uni.getStorageSync("userId");if(!e)return this.errorMessage="Áî®Êà∑Êú™ÁôªÂΩï",void(this.loading=!1);const t=await this.getUserCertRecords(e);t.data&&t.data.length>0?(this.verificationRecord=t.data[t.data.length-1],this.updateVerificationInfo()):this.errorMessage="Êú™ÊâæÂà∞ËÆ§ËØÅËÆ∞ÂΩï"}catch(e){o("error","at pages/verification/verification-complete.vue:164","Âä†ËΩΩËÆ§ËØÅËÆ∞ÂΩïÂ§±Ë¥•:",e),this.errorMessage="Âä†ËΩΩËÆ§ËØÅËÆ∞ÂΩïÂ§±Ë¥•"}finally{this.loading=!1}},getUserCertRecords:e=>new Promise(((t,a)=>{uni.request({url:"http://localhost:8888/api/u-entities/user-cert-record/user/"+e,method:"GET",timeout:1e4,success:e=>{t(e)},fail:e=>{a(e)}})})),updateVerificationInfo(){if(this.verificationRecord){this.verificationType=this.getCertTypeText(this.verificationRecord.certType);const e=new Date(this.verificationRecord.createdAt);this.verificationTime=this.formatDateTime(e),this.verificationStatus=this.getStatusText(this.verificationRecord.status)}},getCertTypeText:e=>({REALNAME:"ÂÆûÂêçËÆ§ËØÅ",STUDENT:"Â≠¶Ê†°ËÆ§ËØÅ",JOB:"ËÅå‰∏öËÆ§ËØÅ"}[e]||"Êú™Áü•ËÆ§ËØÅ"),getStatusText:e=>({0:"ÂæÖÂÆ°Ê†∏",1:"Â∑≤ÈÄöËøá",2:"Êú™ÈÄöËøá"}[e]||"Êú™Áü•Áä∂ÊÄÅ"),formatDateTime:e=>`${e.getFullYear()}Âπ¥${String(e.getMonth()+1).padStart(2,"0")}Êúà${String(e.getDate()).padStart(2,"0")}Êó• ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`,retryLoad(){this.loadVerificationRecord()},getStatusClass(){if(!this.verificationRecord)return"status-pending";const e=this.verificationRecord.status;return 1===e?"status-success":2===e?"status-error":"status-pending"},getStatusIcon(){if(!this.verificationRecord)return"?";const e=this.verificationRecord.status;return 1===e?"‚úì":2===e?"‚úó":"‚è≥"},getStatusTitle(){if(!this.verificationRecord)return"ËÆ§ËØÅÂ§ÑÁêÜ‰∏≠";const e=this.verificationRecord.status;return 1===e?"ËÆ§ËØÅÊàêÂäü":2===e?"ËÆ§ËØÅÂ§±Ë¥•":"ËÆ§ËØÅÂ§ÑÁêÜ‰∏≠"},getStatusDesc(){if(!this.verificationRecord)return"ÊÇ®ÁöÑËÆ§ËØÅÁî≥ËØ∑Ê≠£Âú®Â§ÑÁêÜ‰∏≠ÔºåËØ∑ËÄêÂøÉÁ≠âÂæÖ";const e=this.verificationRecord.status;return 1===e?`ÊÅ≠ÂñúÊÇ®ÂÆåÊàê${this.verificationType}ÔºåÁé∞Âú®ÂèØ‰ª•‰∫´ÂèóÊõ¥Â§öÂπ≥Âè∞ÊúçÂä°`:2===e?"ÂæàÊä±Ê≠âÔºåÊÇ®ÁöÑËÆ§ËØÅÁî≥ËØ∑Êú™ÈÄöËøáÔºåËØ∑Ê£ÄÊü•‰ø°ÊÅØÂêéÈáçÊñ∞Êèê‰∫§":"ÊÇ®ÁöÑËÆ§ËØÅÁî≥ËØ∑Ê≠£Âú®ÂÆ°Ê†∏‰∏≠ÔºåÊàë‰ª¨‰ºöÂú®1-3‰∏™Â∑•‰ΩúÊó•ÂÜÖÂÆåÊàêÂÆ°Ê†∏"},getStatusBadgeClass(){if(!this.verificationRecord)return"badge-pending";const e=this.verificationRecord.status;return 1===e?"badge-success":2===e?"badge-error":"badge-pending"},getCertDetails(){if(!this.verificationRecord||!this.verificationRecord.certInfo)return"";try{const e=JSON.parse(this.verificationRecord.certInfo),t=this.verificationRecord.certType;return"REALNAME"===t?`${e.name||""} - ${e.documentType||""}`:"STUDENT"===t?`${e.school||""} - ${e.degree||""}`:"JOB"===t?`${e.jobType||""} - ${e.jobName||""}`:"ËÆ§ËØÅËØ¶ÊÉÖ"}catch(e){return o("error","at pages/verification/verification-complete.vue:300","Ëß£ÊûêËÆ§ËØÅËØ¶ÊÉÖÂ§±Ë¥•:",e),"ËÆ§ËØÅËØ¶ÊÉÖ"}},goBack(){uni.navigateBack()},goToHome(){uni.navigateTo({url:"/pages/feed/content-feed"})},goToProfile(){uni.navigateTo({url:"/pages/feed/user-profile"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"verification-complete-page"},[e.createElementVNode("view",{class:"main-content"},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-section"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩËÆ§ËØÅ‰ø°ÊÅØ...")])):i.errorMessage?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-section"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"retry-button",onClick:a[0]||(a[0]=(...e)=>n.retryLoad&&n.retryLoad(...e))},[e.createElementVNode("text",{class:"retry-text"},"ÈáçËØï")])])):(e.openBlock(),e.createElementBlock("view",{key:2},[e.createElementVNode("view",{class:"success-icon"},[e.createElementVNode("view",{class:e.normalizeClass(["icon-circle",n.getStatusClass()])},[e.createElementVNode("text",{class:"checkmark"},e.toDisplayString(n.getStatusIcon()),1)],2)]),e.createElementVNode("view",{class:"status-title"},[e.createElementVNode("text",{class:"title-text"},e.toDisplayString(n.getStatusTitle()),1)]),e.createElementVNode("view",{class:"success-desc"},[e.createElementVNode("text",{class:"desc-text"},e.toDisplayString(n.getStatusDesc()),1)]),e.createElementVNode("view",{class:"verification-info"},[e.createElementVNode("view",{class:"info-header"},[e.createElementVNode("text",{class:"info-title"},"ËÆ§ËØÅ‰ø°ÊÅØ")]),e.createElementVNode("view",{class:"info-content"},[e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("text",{class:"item-label"},"ËÆ§ËØÅÁ±ªÂûã"),e.createElementVNode("text",{class:"item-value"},e.toDisplayString(i.verificationType),1)]),e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("text",{class:"item-label"},"ËÆ§ËØÅÊó∂Èó¥"),e.createElementVNode("text",{class:"item-value"},e.toDisplayString(i.verificationTime),1)]),e.createElementVNode("view",{class:"info-item"},[e.createElementVNode("text",{class:"item-label"},"ËÆ§ËØÅÁä∂ÊÄÅ"),e.createElementVNode("view",{class:e.normalizeClass(["status-badge",n.getStatusBadgeClass()])},[e.createElementVNode("text",{class:"status-text"},e.toDisplayString(i.verificationStatus),1)],2)]),i.verificationRecord&&i.verificationRecord.certInfo?(e.openBlock(),e.createElementBlock("view",{key:0,class:"info-item"},[e.createElementVNode("text",{class:"item-label"},"ËÆ§ËØÅËØ¶ÊÉÖ"),e.createElementVNode("text",{class:"item-value"},e.toDisplayString(n.getCertDetails()),1)])):e.createCommentVNode("",!0)])])])),e.createElementVNode("view",{class:"next-steps"},[e.createElementVNode("text",{class:"steps-title"},"‰∏ã‰∏ÄÊ≠•ÊÇ®ÂèØ‰ª•Ôºö"),e.createElementVNode("view",{class:"steps-list"},[e.createElementVNode("view",{class:"step-item"},[e.createElementVNode("view",{class:"step-icon"},"1"),e.createElementVNode("text",{class:"step-text"},"ÂÆåÂñÑ‰∏™‰∫∫ËµÑÊñô")]),e.createElementVNode("view",{class:"step-item"},[e.createElementVNode("view",{class:"step-icon"},"2"),e.createElementVNode("text",{class:"step-text"},"Áî≥ËØ∑ÂÆòÊñπËÆ§ËØÅ")]),e.createElementVNode("view",{class:"step-item"},[e.createElementVNode("view",{class:"step-icon"},"3"),e.createElementVNode("text",{class:"step-text"},"ÂºÄÂßã‰ΩøÁî®Âπ≥Âè∞ÊúçÂä°")])])])]),e.createElementVNode("view",{class:"action-buttons"},[e.createElementVNode("view",{class:"primary-button",onClick:a[1]||(a[1]=(...e)=>n.goToHome&&n.goToHome(...e))},[e.createElementVNode("text",{class:"button-text"},"ËøîÂõûÈ¶ñÈ°µ")]),e.createElementVNode("view",{class:"secondary-button",onClick:a[2]||(a[2]=(...e)=>n.goToProfile&&n.goToProfile(...e))},[e.createElementVNode("text",{class:"button-text"},"ÂÆåÂñÑËµÑÊñô")])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const re=a({name:"CertificationFeedbackPage",data(){return{certificationType:"ËÅå‰∏öËÆ§ËØÅ",submitTime:this.formatDateTime(new Date),expectedTime:this.formatExpectedTime(new Date),certRecords:[],loading:!1,userId:null}},methods:{async loadCertRecords(){try{this.loading=!0;const e=uni.getStorageSync("userId");if(!e)return void uni.showToast({title:"ËØ∑ÂÖàÁôªÂΩï",icon:"none"});this.userId=e;const t=await this.getUserCertRecords(e);t&&t.data&&(this.certRecords=t.data)}catch(e){o("error","at pages/verification/certification-feedback.vue:173","Âä†ËΩΩËÆ§ËØÅËÆ∞ÂΩïÂ§±Ë¥•:",e),uni.showToast({title:"Âä†ËΩΩËÆ§ËØÅËÆ∞ÂΩïÂ§±Ë¥•",icon:"none"})}finally{this.loading=!1}},getUserCertRecords:e=>new Promise(((t,a)=>{uni.request({url:"http://localhost:8888/api/u-entities/user-cert-record/user/"+e,method:"GET",timeout:1e4,success:e=>{t(e)},fail:e=>{a(e)}})})),getStatusText(e){switch(e){case 0:return"ÂæÖÂÆ°Ê†∏";case 1:return"Â∑≤ÈÄöËøá";case 2:return"Êú™ÈÄöËøá";default:return"Êú™Áü•Áä∂ÊÄÅ"}},getCertTypeText(e){switch(e){case"REALNAME":return"ÂÆûÂêçËÆ§ËØÅ";case"STUDENT":return"Â≠¶Ê†°ËÆ§ËØÅ";case"JOB":return"ËÅå‰∏öËÆ§ËØÅ";default:return"Êú™Áü•Á±ªÂûã"}},getStatusColor(e){switch(e){case 0:return"#FF9500";case 1:return"#34C759";case 2:return"#FF3B30";default:return"#8E8E93"}},goBack(){uni.redirectTo({url:"/pages/verification/official-certification"})},formatDateTime:e=>`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`,formatExpectedTime(e){const t=new Date(e);let a=0;for(;a<3;)t.setDate(t.getDate()+1),0!==t.getDay()&&6!==t.getDay()&&a++;return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`}},onLoad(e){e.type&&("school"===e.type?this.certificationType="Â≠¶Ê†°ËÆ§ËØÅ":"realName"===e.type?this.certificationType="ÂÆûÂêçËÆ§ËØÅ":this.certificationType="ËÅå‰∏öËÆ§ËØÅ"),this.loadCertRecords()}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"certification-feedback-page"},[e.createElementVNode("view",{class:"main-content"},[i.certRecords.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"success-icon-container"},[e.createElementVNode("view",{class:"success-icon"},[e.createElementVNode("view",{class:"checkmark"})])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"success-message"},[i.certRecords.length>0?(e.openBlock(),e.createElementBlock("text",{key:0,class:"message-text"}," ‰ª•‰∏ãÊòØÊÇ®ÁöÑËÆ§ËØÅËÆ∞ÂΩï ")):i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("text",{key:1,class:"message-text"}," ÊöÇÊó†ËÆ§ËØÅËÆ∞ÂΩï "))]),i.certRecords.length>0?(e.openBlock(),e.createElementBlock("view",{key:1,class:"cert-records-section"},[e.createElementVNode("view",{class:"records-header"},[e.createElementVNode("view",{class:"records-icon"},[e.createElementVNode("view",{class:"list-icon"})]),e.createElementVNode("text",{class:"records-title"},"ÊàëÁöÑËÆ§ËØÅËÆ∞ÂΩï")]),e.createElementVNode("view",{class:"records-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.certRecords,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.recordId,class:"record-item"},[e.createElementVNode("view",{class:"record-header"},[e.createElementVNode("text",{class:"record-type"},e.toDisplayString(n.getCertTypeText(t.certType)),1),e.createElementVNode("view",{class:"status-badge",style:e.normalizeStyle({backgroundColor:n.getStatusColor(t.status)})},[e.createElementVNode("text",{class:"status-text"},e.toDisplayString(n.getStatusText(t.status)),1)],4)]),e.createElementVNode("view",{class:"record-info"},[e.createElementVNode("text",{class:"record-desc"},e.toDisplayString(t.certInfo||"ÊöÇÊó†ËØ¶ÁªÜ‰ø°ÊÅØ"),1)]),e.createElementVNode("view",{class:"record-time"},[e.createElementVNode("text",{class:"time-text"},"Êèê‰∫§Êó∂Èó¥Ôºö"+e.toDisplayString(n.formatDateTime(t.createdAt)),1)])])))),128))])])):e.createCommentVNode("",!0),i.loading||0!==i.certRecords.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2,class:"no-records-section"},[e.createElementVNode("view",{class:"no-records-icon"},[e.createElementVNode("view",{class:"empty-icon"})]),e.createElementVNode("text",{class:"no-records-text"},"ÊöÇÊó†ËÆ§ËØÅËÆ∞ÂΩï")])),i.loading?(e.openBlock(),e.createElementBlock("view",{key:3,class:"loading-section"},[e.createElementVNode("view",{class:"loading-spinner"}),e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩËÆ§ËØÅËÆ∞ÂΩï...")])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"tips-section"},[e.createElementVNode("view",{class:"tips-header"},[e.createElementVNode("view",{class:"tips-icon"},[e.createElementVNode("view",{class:"lightbulb"})]),e.createElementVNode("text",{class:"tips-title"},"Ê∏©È¶®ÊèêÁ§∫")]),e.createElementVNode("view",{class:"tips-content"},[e.createElementVNode("text",{class:"tip-item"},"‚Ä¢ ËÆ§ËØÅÊúüÈó¥ËØ∑‰øùÊåÅÊâãÊú∫ÁïÖÈÄöÔºåÊàë‰ª¨‰ºöÂèäÊó∂ÈÄöÁü•ÊÇ®ÂÆ°Ê†∏ÁªìÊûú"),e.createElementVNode("text",{class:"tip-item"},"‚Ä¢ Â¶ÇÊúâÁñëÈóÆÔºåËØ∑ËÅîÁ≥ªÂÆ¢ÊúçËé∑ÂèñÂ∏ÆÂä©"),e.createElementVNode("text",{class:"tip-item"},"‚Ä¢ ËÆ§ËØÅÈÄöËøáÂêéÔºåÊÇ®ÁöÑË¥¶Âè∑Â∞ÜËé∑ÂæóÁõ∏Â∫îÊ†áËØÜ")])])]),e.createElementVNode("view",{class:"return-button-section"},[e.createElementVNode("view",{class:"return-button",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[e.createElementVNode("text",{class:"return-text"},"ÁÇπÂáªËøîÂõû")])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const de=a({data:()=>({userId:1000100,balance:1e7,loading:!1,errorMessage:"",hasError:!1}),onLoad(e){e.userId&&(this.userId=parseInt(e.userId),o("log","at pages/wallet/wallet.vue:93","Èí±ÂåÖÈ°µÈù¢Êé•Êî∂Âà∞Áî®Êà∑ID:",this.userId)),this.loadWalletData()},methods:{async loadWalletData(){try{o("log","at pages/wallet/wallet.vue:102","=== ÂºÄÂßãÂä†ËΩΩÈí±ÂåÖÊï∞ÊçÆ ==="),o("log","at pages/wallet/wallet.vue:103","Áî®Êà∑ID:",this.userId),this.loading=!0,this.hasError=!1,this.errorMessage="";const e=await uni.request({url:`http://localhost:8888/api/wallet/balance?userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/wallet/wallet.vue:116","=== Èí±ÂåÖ‰ΩôÈ¢ùAPIÂìçÂ∫î ==="),o("log","at pages/wallet/wallet.vue:117","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/wallet/wallet.vue:118","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data.success){const t=e.data.data;this.balance=t.currentBalance,o("log","at pages/wallet/wallet.vue:123","ÊàêÂäüÂä†ËΩΩÈí±ÂåÖ‰ΩôÈ¢ù:",this.balance),uni.showToast({title:"Èí±ÂåÖÊï∞ÊçÆÂä†ËΩΩÊàêÂäü",icon:"success",duration:1500})}else o("error","at pages/wallet/wallet.vue:131","Âä†ËΩΩÈí±ÂåÖ‰ΩôÈ¢ùÂ§±Ë¥•:",e.data.message),this.hasError=!0,this.errorMessage=e.data.message||"Âä†ËΩΩÈí±ÂåÖÊï∞ÊçÆÂ§±Ë¥•",uni.showToast({title:"Âä†ËΩΩÈí±ÂåÖÊï∞ÊçÆÂ§±Ë¥•",icon:"error"})}catch(e){o("error","at pages/wallet/wallet.vue:140","Âä†ËΩΩÈí±ÂåÖÊï∞ÊçÆÂºÇÂ∏∏:",e),this.hasError=!0,this.errorMessage="ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËÆæÁΩÆ",uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}finally{this.loading=!1}},goBack(){uni.navigateBack()},goToRecharge(){uni.navigateTo({url:`/pages/wallet/recharge?userId=${this.userId}`})},goToBill(){uni.navigateTo({url:`/pages/wallet/purchase-record?userId=${this.userId}`})},goToCustomerService(){uni.navigateTo({url:"/pages/chat/chat?friendName=ÂÆ¢Êúç"})},goToServiceTerms(){uni.navigateTo({url:"/pages/settings/terms-of-service"})},formatBalance:e=>e>=1e4?(e/1e4).toFixed(1)+"wC":e>=1e3?(e/1e3).toFixed(1)+"kC":e+"C"}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"wallet-options"},[e.createElementVNode("view",{class:"option-item"},[e.createElementVNode("view",{class:"option-left"},[e.createElementVNode("view",{class:"option-icon balance-icon"},"$"),e.createElementVNode("text",{class:"option-text"},"‰ΩôÈ¢ù")]),e.createElementVNode("text",{class:"balance-amount"},e.toDisplayString(n.formatBalance(i.balance)),1)]),e.createElementVNode("view",{class:"option-item",onClick:a[0]||(a[0]=(...e)=>n.goToRecharge&&n.goToRecharge(...e))},[e.createElementVNode("view",{class:"option-left"},[e.createElementVNode("view",{class:"option-icon recharge-icon"},"üí≥"),e.createElementVNode("text",{class:"option-text"},"ÂÖÖÂÄº")]),e.createElementVNode("text",{class:"arrow"},"‚Ä∫")]),e.createElementVNode("view",{class:"option-item",onClick:a[1]||(a[1]=(...e)=>n.goToBill&&n.goToBill(...e))},[e.createElementVNode("view",{class:"option-left"},[e.createElementVNode("view",{class:"option-icon bill-icon"},"üìÑ"),e.createElementVNode("text",{class:"option-text"},"Ë¥¶Âçï")]),e.createElementVNode("text",{class:"arrow"},"‚Ä∫")]),e.createElementVNode("view",{class:"option-item",onClick:a[2]||(a[2]=(...e)=>n.goToCustomerService&&n.goToCustomerService(...e))},[e.createElementVNode("view",{class:"option-left"},[e.createElementVNode("view",{class:"option-icon service-icon"},"üéß"),e.createElementVNode("text",{class:"option-text"},"ÂÆ¢Êúç‰∏éÊîØÊåÅ")]),e.createElementVNode("text",{class:"arrow"},"‚Ä∫")])]),e.createElementVNode("view",{class:"bottom-section"},[e.createElementVNode("text",{class:"service-terms",onClick:a[3]||(a[3]=(...e)=>n.goToServiceTerms&&n.goToServiceTerms(...e))},"ÊúçÂä°Êù°Ê¨æ")])])}]]);const me=a({data:()=>({userId:1000100,rechargeAmount:"10086",ccoinAmount:"1008600",balance:1e7,loading:!1,errorMessage:"",hasError:!1,rechargeRecords:[],paymentMethods:[{id:"wechat",name:"ÂæÆ‰ø°ÊîØ‰ªò",icon:"üíö"},{id:"alipay",name:"ÊîØ‰ªòÂÆù",icon:"üíô"},{id:"unionpay",name:"Èì∂ËÅîÊîØ‰ªò",icon:"üíõ"}]}),onLoad(e){e.userId&&(this.userId=parseInt(e.userId),o("log","at pages/wallet/recharge.vue:137","ÂÖÖÂÄºÈ°µÈù¢Êé•Êî∂Âà∞Áî®Êà∑ID:",this.userId)),this.loadWalletData(),this.loadRechargeRecords()},methods:{async loadWalletData(){try{o("log","at pages/wallet/recharge.vue:147","=== ÂºÄÂßãÂä†ËΩΩÈí±ÂåÖÊï∞ÊçÆ ==="),o("log","at pages/wallet/recharge.vue:148","Áî®Êà∑ID:",this.userId);const e=await uni.request({url:`http://localhost:8888/api/wallet/balance?userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});if(o("log","at pages/wallet/recharge.vue:158","=== Èí±ÂåÖ‰ΩôÈ¢ùAPIÂìçÂ∫î ==="),o("log","at pages/wallet/recharge.vue:159","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/wallet/recharge.vue:160","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data.success){const t=e.data.data;this.balance=t.currentBalance,o("log","at pages/wallet/recharge.vue:165","ÊàêÂäüÂä†ËΩΩÈí±ÂåÖ‰ΩôÈ¢ù:",this.balance)}else o("error","at pages/wallet/recharge.vue:167","Âä†ËΩΩÈí±ÂåÖ‰ΩôÈ¢ùÂ§±Ë¥•:",e.data.message)}catch(e){o("error","at pages/wallet/recharge.vue:170","Âä†ËΩΩÈí±ÂåÖÊï∞ÊçÆÂºÇÂ∏∏:",e)}},async loadRechargeRecords(){try{o("log","at pages/wallet/recharge.vue:177","=== ÂºÄÂßãÂä†ËΩΩÂÖÖÂÄºËÆ∞ÂΩï ==="),o("log","at pages/wallet/recharge.vue:178","Áî®Êà∑ID:",this.userId);const e=await uni.request({url:`http://localhost:8888/api/wallet/recharge-records?userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/wallet/recharge.vue:188","=== ÂÖÖÂÄºËÆ∞ÂΩïAPIÂìçÂ∫î ==="),o("log","at pages/wallet/recharge.vue:189","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/wallet/recharge.vue:190","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data.success?(this.rechargeRecords=e.data.data,o("log","at pages/wallet/recharge.vue:194","ÊàêÂäüÂä†ËΩΩÂÖÖÂÄºËÆ∞ÂΩïÔºåÂÖ±",this.rechargeRecords.length,"Êù°")):o("error","at pages/wallet/recharge.vue:196","Âä†ËΩΩÂÖÖÂÄºËÆ∞ÂΩïÂ§±Ë¥•:",e.data.message)}catch(e){o("error","at pages/wallet/recharge.vue:199","Âä†ËΩΩÂÖÖÂÄºËÆ∞ÂΩïÂºÇÂ∏∏:",e)}},goBack(){uni.navigateBack()},calculateCCoins(){this.rechargeAmount&&!isNaN(this.rechargeAmount)?this.ccoinAmount=(100*parseInt(this.rechargeAmount)).toString():this.ccoinAmount="0"},doRecharge(){!this.rechargeAmount||isNaN(this.rechargeAmount)||parseInt(this.rechargeAmount)<=0?uni.showToast({title:"ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÂÖÖÂÄºÈáëÈ¢ù",icon:"none"}):this.showPaymentMethodDialog()},showPaymentMethodDialog(){uni.showActionSheet({itemList:this.paymentMethods.map((e=>`${e.icon} ${e.name}`)),success:e=>{const t=this.paymentMethods[e.tapIndex];this.processPayment(t)},fail:()=>{o("log","at pages/wallet/recharge.vue:237","Áî®Êà∑ÂèñÊ∂àÈÄâÊã©ÊîØ‰ªòÊñπÂºè")}})},async processPayment(e){try{uni.showLoading({title:"Ê≠£Âú®Ë∑≥ËΩ¨ÊîØ‰ªò..."}),await new Promise((e=>setTimeout(e,1500))),uni.hideLoading(),this.handlePaymentSuccess(e)}catch(t){uni.hideLoading(),uni.showToast({title:"ÊîØ‰ªòË∑≥ËΩ¨Â§±Ë¥•",icon:"none"})}},async handlePaymentSuccess(e){try{uni.showModal({title:"ÂÖÖÂÄºÊàêÂäü",content:`Â∑≤ÊàêÂäüÂÖÖÂÄº${this.rechargeAmount}ÂÖÉÔºåËé∑Âæó${this.ccoinAmount}C`,showCancel:!1,confirmText:"Á°ÆÂÆö",success:async()=>{await this.submitRechargeInfo(e),this.updateRechargeRecord(),this.rechargeAmount="",this.ccoinAmount="0"}})}catch(t){o("error","at pages/wallet/recharge.vue:291","Â§ÑÁêÜÊîØ‰ªòÊàêÂäüÂ§±Ë¥•:",t)}},async submitRechargeInfo(e){try{o("log","at pages/wallet/recharge.vue:298","=== ÂºÄÂßãÊèê‰∫§ÂÖÖÂÄº‰ø°ÊÅØÂà∞ÂêéÁ´Ø ==="),o("log","at pages/wallet/recharge.vue:299","Áî®Êà∑ID:",this.userId),o("log","at pages/wallet/recharge.vue:300","ÂÖÖÂÄºÈáëÈ¢ù:",this.rechargeAmount),o("log","at pages/wallet/recharge.vue:301","ÊîØ‰ªòÊñπÂºè:",e);const t=await uni.request({url:"http://localhost:8888/api/wallet/recharge",method:"POST",data:{userId:this.userId,amount:parseFloat(this.rechargeAmount),paymentMethod:e.id},header:{"Content-Type":"application/json"}});if(o("log","at pages/wallet/recharge.vue:316","=== ÂÖÖÂÄºAPIÂìçÂ∫î ==="),o("log","at pages/wallet/recharge.vue:317","Áä∂ÊÄÅÁ†Å:",t.statusCode),o("log","at pages/wallet/recharge.vue:318","ÂìçÂ∫îÊï∞ÊçÆ:",t.data),200!==t.statusCode||!t.data.success)throw new Error(t.data.message||"ÂÖÖÂÄºÂ§±Ë¥•");o("log","at pages/wallet/recharge.vue:321","ÂÖÖÂÄº‰ø°ÊÅØÊèê‰∫§ÊàêÂäü:",t.data),this.balance=t.data.newBalance,await this.loadRechargeRecords(),uni.showToast({title:"ÂÖÖÂÄºÊàêÂäü",icon:"success",duration:2e3})}catch(t){o("error","at pages/wallet/recharge.vue:339","Êèê‰∫§ÂÖÖÂÄº‰ø°ÊÅØÂ§±Ë¥•:",t),uni.showToast({title:"ÂÖÖÂÄº‰ø°ÊÅØÊèê‰∫§Â§±Ë¥•: "+t.message,icon:"none"})}},updateRechargeRecord(){const e={id:this.rechargeRecords.length+1,amount:`+${this.ccoinAmount}C`,time:this.formatDateTime(new Date),orderNumber:this.generateOrderNumber()};this.rechargeRecords.unshift(e),o("log","at pages/wallet/recharge.vue:361","ÂÖÖÂÄºËÆ∞ÂΩïÂ∑≤Êõ¥Êñ∞:",e)},generateOrderNumber:()=>`ORDER${Date.now()}${Math.random().toString(36).substr(2,9)}`.toUpperCase(),formatDateTime:e=>`${e.getFullYear()}/${String(e.getMonth()+1).padStart(2,"0")}/${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`,goToServiceAgreement(){uni.navigateTo({url:"/pages/settings/terms-of-service"})},goToMinorRefund(){uni.navigateTo({url:"/pages/settings/terms-of-service"})},goToServiceTerms(){uni.navigateTo({url:"/pages/settings/terms-of-service"})},formatBalance:e=>e>=1e4?(e/1e4).toFixed(1)+"wC":e>=1e3?(e/1e3).toFixed(1)+"kC":e+"C"},mounted(){this.calculateCCoins()}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"balance-section"},[e.createElementVNode("view",{class:"balance-item"},[e.createElementVNode("view",{class:"balance-left"},[e.createElementVNode("view",{class:"balance-icon"},"$"),e.createElementVNode("text",{class:"balance-text"},"‰ΩôÈ¢ù")]),e.createElementVNode("text",{class:"balance-amount"},e.toDisplayString(n.formatBalance(i.balance)),1)])]),e.createElementVNode("view",{class:"recharge-section"},[e.createElementVNode("view",{class:"recharge-item"},[e.createElementVNode("view",{class:"recharge-left"},[e.createElementVNode("view",{class:"recharge-icon"},"üí≥"),e.createElementVNode("text",{class:"recharge-text"},"ÂÖÖÂÄº")])])]),e.createElementVNode("view",{class:"input-section"},[e.createElementVNode("view",{class:"exchange-rate"},"100C=1ÂÖÉ"),e.createElementVNode("view",{class:"custom-amount"},[e.createElementVNode("text",{class:"custom-label"},"Ëá™ÂÆö‰πâÂÖÖÂÄºÈáëÈ¢ù:"),e.createElementVNode("view",{class:"amount-input-container"},[e.withDirectives(e.createElementVNode("input",{class:"amount-input","onUpdate:modelValue":a[0]||(a[0]=e=>i.rechargeAmount=e),type:"number",placeholder:"10086",onInput:a[1]||(a[1]=(...e)=>n.calculateCCoins&&n.calculateCCoins(...e))},null,544),[[e.vModelText,i.rechargeAmount]])]),e.createElementVNode("view",{class:"ccoin-equivalent"},"= "+e.toDisplayString(i.ccoinAmount)+"C",1)]),e.createElementVNode("view",{class:"recharge-button",onClick:a[2]||(a[2]=(...e)=>n.doRecharge&&n.doRecharge(...e))},[e.createElementVNode("text",{class:"recharge-button-text"},"Á´ãÂç≥ÂÖÖÂÄº"+e.toDisplayString(i.rechargeAmount)+"ÂÖÉ",1)]),e.createElementVNode("view",{class:"agreement-text"},[e.createTextVNode(" ‚óèÂÖÖÂÄºÂàôË°®Á§∫ÊÇ®ÂêåÊÑè "),e.createElementVNode("text",{class:"agreement-link",onClick:a[3]||(a[3]=(...e)=>n.goToServiceAgreement&&n.goToServiceAgreement(...e))},"„ÄäAFriendsÂÖÖÂÄºÊúçÂä°ÂçèËÆÆ„Äã"),e.createElementVNode("text",{class:"agreement-link",onClick:a[4]||(a[4]=(...e)=>n.goToMinorRefund&&n.goToMinorRefund(...e))},"„ÄäÊú™ÊàêÂπ¥‰∫∫ÈÄÄÊ¨æÁî≥ËØ∑„Äã")])]),e.createElementVNode("view",{class:"record-section"},[e.createElementVNode("view",{class:"record-header"},[e.createElementVNode("view",{class:"record-left"},[e.createElementVNode("view",{class:"record-icon"},"üìÑ"),e.createElementVNode("text",{class:"record-text"},"ÂÖÖÂÄºËÆ∞ÂΩï")])]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.rechargeRecords,(t=>(e.openBlock(),e.createElementBlock("view",{class:"record-item",key:t.id},[e.createElementVNode("view",{class:"record-amount"},e.toDisplayString(t.amountFormatted),1),e.createElementVNode("view",{class:"record-time"},e.toDisplayString(t.timeAgo),1),e.createElementVNode("view",{class:"order-number"},"ËÆ¢ÂçïÂè∑: "+e.toDisplayString(t.orderNumber),1)])))),128))]),e.createElementVNode("view",{class:"bottom-section"},[e.createElementVNode("text",{class:"service-terms",onClick:a[5]||(a[5]=(...e)=>n.goToServiceTerms&&n.goToServiceTerms(...e))},"ÊúçÂä°Êù°Ê¨æ")])])}]]);const ge=a({data:()=>({userId:1000100,purchaseRecords:[],loading:!1,errorMessage:"",hasError:!1}),onLoad(e){e.userId&&(this.userId=parseInt(e.userId),o("log","at pages/wallet/purchase-record.vue:92","Ë¥≠‰π∞ËÆ∞ÂΩïÈ°µÈù¢Êé•Êî∂Âà∞Áî®Êà∑ID:",this.userId)),this.loadPurchaseRecords()},methods:{async loadPurchaseRecords(){try{o("log","at pages/wallet/purchase-record.vue:101","=== ÂºÄÂßãÂä†ËΩΩË¥≠‰π∞ËÆ∞ÂΩïÊï∞ÊçÆ ==="),o("log","at pages/wallet/purchase-record.vue:102","Áî®Êà∑ID:",this.userId),this.loading=!0,this.hasError=!1,this.errorMessage="";const e=await uni.request({url:`http://localhost:8888/api/wallet/purchase-records?userId=${this.userId}`,method:"GET",header:{"Content-Type":"application/json"}});o("log","at pages/wallet/purchase-record.vue:115","=== Ë¥≠‰π∞ËÆ∞ÂΩïAPIÂìçÂ∫î ==="),o("log","at pages/wallet/purchase-record.vue:116","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/wallet/purchase-record.vue:117","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data.success?(this.purchaseRecords=e.data.data,o("log","at pages/wallet/purchase-record.vue:121","ÊàêÂäüÂä†ËΩΩË¥≠‰π∞ËÆ∞ÂΩïÔºåÂÖ±",this.purchaseRecords.length,"Êù°"),0===this.purchaseRecords.length?(this.hasError=!0,this.errorMessage="ÊöÇÊó†Ë¥≠‰π∞ËÆ∞ÂΩï",o("log","at pages/wallet/purchase-record.vue:126","Ê≤°ÊúâËé∑ÂèñÂà∞‰ªª‰ΩïË¥≠‰π∞ËÆ∞ÂΩï")):uni.showToast({title:`Âä†ËΩΩ‰∫Ü${this.purchaseRecords.length}Êù°Ë¥≠‰π∞ËÆ∞ÂΩï`,icon:"success",duration:2e3})):(o("error","at pages/wallet/purchase-record.vue:135","Âä†ËΩΩË¥≠‰π∞ËÆ∞ÂΩïÂ§±Ë¥•:",e.data.message),this.hasError=!0,this.errorMessage=e.data.message||"Âä†ËΩΩË¥≠‰π∞ËÆ∞ÂΩïÂ§±Ë¥•",uni.showToast({title:"Âä†ËΩΩË¥≠‰π∞ËÆ∞ÂΩïÂ§±Ë¥•",icon:"error"}))}catch(e){o("error","at pages/wallet/purchase-record.vue:144","Âä†ËΩΩË¥≠‰π∞ËÆ∞ÂΩïÂºÇÂ∏∏:",e),this.hasError=!0,this.errorMessage="ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËÆæÁΩÆ",uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}finally{this.loading=!1}}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"container"},[i.loading?(e.openBlock(),e.createElementBlock("view",{key:0,class:"loading-container"},[e.createElementVNode("text",{class:"loading-text"},"Ê≠£Âú®Âä†ËΩΩË¥≠‰π∞ËÆ∞ÂΩï...")])):e.createCommentVNode("",!0),i.hasError&&!i.loading?(e.openBlock(),e.createElementBlock("view",{key:1,class:"error-container"},[e.createElementVNode("view",{class:"error-icon"},"‚ö†Ô∏è"),e.createElementVNode("text",{class:"error-text"},e.toDisplayString(i.errorMessage),1),e.createElementVNode("view",{class:"error-actions"},[e.createElementVNode("button",{class:"retry-button",onClick:a[0]||(a[0]=(...e)=>n.loadPurchaseRecords&&n.loadPurchaseRecords(...e))},"ÈáçÊñ∞Âä†ËΩΩ")])])):e.createCommentVNode("",!0),i.hasError||i.loading?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2,class:"transaction-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.purchaseRecords,(t=>(e.openBlock(),e.createElementBlock("view",{class:"transaction-item",key:t.id},[e.createElementVNode("view",{class:"left-section"},[e.createElementVNode("view",{class:"avatar"},[e.createElementVNode("view",{class:"cartoon-creature"},[e.createElementVNode("view",{class:"eyes"},[e.createElementVNode("view",{class:"eye eye-left"}),e.createElementVNode("view",{class:"eye eye-right"})]),e.createElementVNode("view",{class:"mouth"})])]),e.createElementVNode("view",{class:"transaction-info"},[e.createElementVNode("text",{class:"item-name"},e.toDisplayString(t.itemName),1),e.createElementVNode("text",{class:"transaction-time"},e.toDisplayString(t.timeAgo),1)])]),e.createElementVNode("view",{class:"right-section"},[e.createElementVNode("text",{class:"amount"},e.toDisplayString(t.amountFormatted),1),e.createElementVNode("text",{class:"balance"},e.toDisplayString(t.balanceFormatted),1)])])))),128))])),e.createElementVNode("view",{class:"home-indicator"})])}]]);const ue=a({data:()=>({reportReasons:["Ëâ≤ÊÉÖ‰Ωé‰øó","ÊîøÊ≤ªÊïèÊÑü","ËØàÈ™ó‰ø°ÊÅØ","ÁßçÊóèÊ≠ßËßÜ","ÊîªÂáªË∞©È™Ç","ÁΩëÁªúÊö¥Âäõ","Á´ôÂ§ñÂºïÊµÅ","ËøùÊ≥ïËøùËßÑ","Ê∂âÊú™ÊàêÂπ¥‰∫∫","ÂÖ∂‰ªñËøùËßÑ"],selectedReason:-1,userId:1000100,reportedUserId:null,contentId:null,contentType:null}),onLoad(e){e.userId&&(this.userId=parseInt(e.userId)),e.reportedUserId&&(this.reportedUserId=parseInt(e.reportedUserId)),e.contentId&&(this.contentId=parseInt(e.contentId)),e.contentType&&(this.contentType=e.contentType)},methods:{selectReason(e){this.selectedReason=e},goToNext(){if(-1===this.selectedReason)return void uni.showToast({title:"ËØ∑ÈÄâÊã©‰∏æÊä•ÂéüÂõ†",icon:"none"});const e={reason:encodeURIComponent(this.reportReasons[this.selectedReason]),userId:this.userId};this.reportedUserId&&(e.reportedUserId=this.reportedUserId),this.contentId&&(e.contentId=this.contentId),this.contentType&&(e.contentType=this.contentType);const t=Object.keys(e).map((t=>`${t}=${e[t]}`)).join("&");o("log","at pages/report/report.vue:130","Ë∑≥ËΩ¨Âà∞‰∏æÊä•ËØÅÊçÆÈ°µÈù¢ÔºåÂèÇÊï∞:",e),uni.navigateTo({url:`/pages/report/report-evidence?${t}`})},goBack(){uni.navigateBack()}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"instruction-banner"},[e.createElementVNode("text",{class:"instruction-text"},"ËØ∑ÈÄâÊã©ÊúÄÁ¨¶ÂêàÁöÑ‰∏æÊä•ÂéüÂõ†,Â∏ÆÂä©Êàë‰ª¨ÂáÜÁ°ÆÂ§ÑÁêÜ")]),e.createElementVNode("view",{class:"report-reasons"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.reportReasons,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["reason-item",{selected:i.selectedReason===a}]),key:a,onClick:e=>n.selectReason(a)},[e.createElementVNode("text",{class:"reason-text"},e.toDisplayString(t),1),i.selectedReason===a?(e.openBlock(),e.createElementBlock("view",{key:0,class:"check-icon"},"‚úì")):e.createCommentVNode("",!0)],10,["onClick"])))),128))]),e.createElementVNode("view",{class:"next-button",onClick:a[0]||(a[0]=(...e)=>n.goToNext&&n.goToNext(...e))},[e.createElementVNode("text",{class:"next-text"},"‰∏ã‰∏ÄÊ≠•")])])}]]);const he=a({data:()=>({selectedReason:"Ëâ≤ÊÉÖ‰Ωé‰øó",descriptionText:"",charCount:0,uploadedImages:[],userId:1000100,reportedUserId:null,contentId:null,contentType:null,categoryId:1,loading:!1,hasError:!1,errorMessage:""}),onLoad(e){e.reason&&(this.selectedReason=e.reason),e.userId&&(this.userId=parseInt(e.userId)),e.reportedUserId&&(this.reportedUserId=parseInt(e.reportedUserId)),e.contentId&&(this.contentId=parseInt(e.contentId)),e.contentType&&(this.contentType=e.contentType),this.categoryId=this.getCategoryIdByReason(this.selectedReason)},methods:{goBack(){uni.navigateBack()},updateCharCount(e){this.charCount=e.detail.value.length},uploadImage(){uni.chooseImage({count:9-this.uploadedImages.length,success:e=>{this.uploadedImages=this.uploadedImages.concat(e.tempFilePaths)}})},deleteImage(e){this.uploadedImages.splice(e,1)},async submitReport(){if(this.descriptionText.trim())try{o("log","at pages/report/report-evidence.vue:161","=== ÂºÄÂßãÊèê‰∫§‰∏æÊä• ==="),o("log","at pages/report/report-evidence.vue:162","Áî®Êà∑ID:",this.userId),o("log","at pages/report/report-evidence.vue:163","Ë¢´‰∏æÊä•Áî®Êà∑ID:",this.reportedUserId),o("log","at pages/report/report-evidence.vue:164","ÂÜÖÂÆπID:",this.contentId),o("log","at pages/report/report-evidence.vue:165","ÂÜÖÂÆπÁ±ªÂûã:",this.contentType),o("log","at pages/report/report-evidence.vue:166","‰∏æÊä•Á±ªÂà´ID:",this.categoryId),o("log","at pages/report/report-evidence.vue:167","‰∏æÊä•ÊèèËø∞:",this.descriptionText),o("log","at pages/report/report-evidence.vue:168","ËØÅÊçÆÂõæÁâá:",this.uploadedImages),this.loading=!0,this.hasError=!1,this.errorMessage="";const e=await uni.request({url:"http://localhost:8888/api/report/submit",method:"POST",data:{userId:this.userId,reportedUserId:this.reportedUserId,contentId:this.contentId,contentType:this.contentType,categoryId:this.categoryId,description:this.descriptionText,evidenceImg:JSON.stringify(this.uploadedImages)},header:{"Content-Type":"application/json"}});o("log","at pages/report/report-evidence.vue:191","=== ‰∏æÊä•APIÂìçÂ∫îËØ¶ÊÉÖ ==="),o("log","at pages/report/report-evidence.vue:192","Áä∂ÊÄÅÁ†Å:",e.statusCode),o("log","at pages/report/report-evidence.vue:193","ÂìçÂ∫îÊï∞ÊçÆ:",e.data),200===e.statusCode&&e.data.success?(o("log","at pages/report/report-evidence.vue:196","‰∏æÊä•Êèê‰∫§ÊàêÂäü"),uni.showToast({title:"‰∏æÊä•Êèê‰∫§ÊàêÂäü",icon:"success"}),setTimeout((()=>{uni.navigateTo({url:`/pages/report/report-feedback?type=${encodeURIComponent(this.selectedReason)}&reportId=${e.data.reportId}`})}),1500)):(o("error","at pages/report/report-evidence.vue:210","‰∏æÊä•Êèê‰∫§Â§±Ë¥•:",e.data.message),this.hasError=!0,this.errorMessage=e.data.message||"‰∏æÊä•Êèê‰∫§Â§±Ë¥•",uni.showToast({title:e.data.message||"‰∏æÊä•Êèê‰∫§Â§±Ë¥•",icon:"error"}))}catch(e){o("error","at pages/report/report-evidence.vue:219","‰∏æÊä•Êèê‰∫§ÂºÇÂ∏∏:",e),this.hasError=!0,this.errorMessage="ÁΩëÁªúËøûÊé•Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËÆæÁΩÆ",uni.showToast({title:"ÁΩëÁªúÈîôËØØ",icon:"error"})}finally{this.loading=!1}else uni.showToast({title:"ËØ∑Â°´ÂÜô‰∏æÊä•ÊèèËø∞",icon:"none"})},getCategoryIdByReason:e=>({"Ëâ≤ÊÉÖ‰Ωé‰øó":1,"ÊîøÊ≤ªÊïèÊÑü":2,"ËØàÈ™ó‰ø°ÊÅØ":3,"ÁßçÊóèÊ≠ßËßÜ":4,"ÊîªÂáªË∞©È™Ç":5,"ÁΩëÁªúÊö¥Âäõ":6,"Á´ôÂ§ñÂºïÊµÅ":7,"ËøùÊ≥ïËøùËßÑ":8,"Ê∂âÊú™ÊàêÂπ¥‰∫∫":9,"ÂÖ∂‰ªñËøùËßÑ":10}[e]||10)}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"instruction-banner"},[e.createElementVNode("text",{class:"instruction-text"},"ËØ∑ËØ¶ÁªÜÂ°´ÂÜô‰∏æÊä•ÊèèËø∞ÂèäÂõæÁâáËØÅÊçÆ")]),e.createElementVNode("view",{class:"content-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-label"},"‰∏æÊä•ÁêÜÁî±"),e.createElementVNode("text",{class:"selected-reason"},e.toDisplayString(i.selectedReason),1)])]),e.createElementVNode("view",{class:"content-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-label"},"‰∏æÊä•ÊèèËø∞")]),e.createElementVNode("view",{class:"description-container"},[e.withDirectives(e.createElementVNode("textarea",{class:"description-input","onUpdate:modelValue":a[0]||(a[0]=e=>i.descriptionText=e),maxlength:400,placeholder:"ËØ∑ËØ¶ÁªÜÂ°´ÂÜô,‰ª•ÊèêÈ´ò‰∏æÊä•ÈÄöËøáÁéá",onInput:a[1]||(a[1]=(...e)=>n.updateCharCount&&n.updateCharCount(...e))},null,544),[[e.vModelText,i.descriptionText]]),e.createElementVNode("view",{class:"char-count"},e.toDisplayString(i.charCount)+"/400",1)])]),e.createElementVNode("view",{class:"content-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-label"},"ÂõæÁâáËØÅÊçÆ"),e.createElementVNode("text",{class:"upload-limit"},"ÊúÄÂ§ö‰∏ä‰º†9Âº†")]),e.createElementVNode("view",{class:"image-upload-container"},[e.createElementVNode("view",{class:"upload-button",onClick:a[2]||(a[2]=(...e)=>n.uploadImage&&n.uploadImage(...e))},[e.createElementVNode("text",{class:"plus-icon"},"+")]),i.uploadedImages.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uploaded-images"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.uploadedImages,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"image-item",key:a},[e.createElementVNode("image",{src:t,class:"uploaded-image"},null,8,["src"]),e.createElementVNode("view",{class:"delete-button",onClick:e=>n.deleteImage(a)},"√ó",8,["onClick"])])))),128))])):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"submit-info"},[e.createElementVNode("text",{class:"info-text"},"Êèê‰∫§Âêé‰ø°ÊÅØÂ∞ÜÂèëÈÄÅÁªôÂπ≥Âè∞ÂÆ°Ê†∏,ÁªìÊûúÂ∞ÜÂú®‰∏â‰∏™Â∑•‰ΩúÊó•ÂÜÖÂèëÈÄÅËá≥Á≥ªÁªüÊ∂àÊÅØ")]),e.createElementVNode("view",{class:"submit-button",onClick:a[3]||(a[3]=(...e)=>n.submitReport&&n.submitReport(...e))},[e.createElementVNode("text",{class:"submit-text"},"Êèê‰∫§")])])}]]);const pe=a({name:"ReportFeedbackPage",data(){return{reportType:"Ëâ≤ÊÉÖ‰Ωé‰øó",reportId:null,submitTime:this.formatDateTime(new Date),expectedTime:this.formatExpectedTime(new Date)}},methods:{goBack(){uni.navigateBack({delta:2})},formatDateTime:e=>`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`,formatExpectedTime(e){const t=new Date(e);let a=0;for(;a<3;)t.setDate(t.getDate()+1),0!==t.getDay()&&6!==t.getDay()&&a++;return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`}},onLoad(e){e.type&&(this.reportType=decodeURIComponent(e.type)),e.reportId&&(this.reportId=parseInt(e.reportId))}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"report-feedback-page"},[e.createElementVNode("view",{class:"main-content"},[e.createElementVNode("view",{class:"success-icon-container"},[e.createElementVNode("view",{class:"success-icon"},[e.createElementVNode("view",{class:"checkmark"})])]),e.createElementVNode("view",{class:"success-message"},[e.createElementVNode("text",{class:"message-text"},"‰∏æÊä•Â∑≤Êèê‰∫§ÊàêÂäüÔºåÊàë‰ª¨Â∞ÜÂú®3‰∏™Â∑•‰ΩúÊó•ÂÜÖÂ§ÑÁêÜ")]),e.createElementVNode("view",{class:"report-card"},[e.createElementVNode("view",{class:"card-header"},[e.createElementVNode("view",{class:"card-icon"},[e.createElementVNode("view",{class:"report-icon"})]),e.createElementVNode("text",{class:"card-title"},"‰∏æÊä•‰ø°ÊÅØ")]),e.createElementVNode("view",{class:"card-content"},[e.createElementVNode("view",{class:"info-row"},[e.createElementVNode("text",{class:"info-label"},"‰∏æÊä•Á±ªÂûã"),e.createElementVNode("text",{class:"info-value"},e.toDisplayString(i.reportType),1)]),e.createElementVNode("view",{class:"info-row"},[e.createElementVNode("text",{class:"info-label"},"Êèê‰∫§Êó∂Èó¥"),e.createElementVNode("text",{class:"info-value"},e.toDisplayString(i.submitTime),1)]),e.createElementVNode("view",{class:"info-row"},[e.createElementVNode("text",{class:"info-label"},"Â§ÑÁêÜÁä∂ÊÄÅ"),e.createElementVNode("text",{class:"info-value status-pending"},"ÂæÖÂÆ°Ê†∏")]),e.createElementVNode("view",{class:"info-row"},[e.createElementVNode("text",{class:"info-label"},"È¢ÑËÆ°ÂÆåÊàê"),e.createElementVNode("text",{class:"info-value"},e.toDisplayString(i.expectedTime),1)])])]),e.createElementVNode("view",{class:"tips-section"},[e.createElementVNode("view",{class:"tips-header"},[e.createElementVNode("view",{class:"tips-icon"},[e.createElementVNode("view",{class:"lightbulb"})]),e.createElementVNode("text",{class:"tips-title"},"Ê∏©È¶®ÊèêÁ§∫")]),e.createElementVNode("view",{class:"tips-content"},[e.createElementVNode("text",{class:"tip-item"},"‚Ä¢ ‰∏æÊä•Â§ÑÁêÜÁªìÊûúÂ∞ÜÈÄöËøáÁ≥ªÁªüÊ∂àÊÅØÈÄöÁü•ÊÇ®"),e.createElementVNode("text",{class:"tip-item"},"‚Ä¢ Â¶ÇÂèëÁé∞Á¥ßÊÄ•ËøùËßÑÂÜÖÂÆπÔºåËØ∑ÂèäÊó∂ËÅîÁ≥ªÂÆ¢Êúç"),e.createElementVNode("text",{class:"tip-item"},"‚Ä¢ ÊÑüË∞¢ÊÇ®‰∏∫Áª¥Êä§Âπ≥Âè∞ÁéØÂ¢ÉÂÅöÂá∫ÁöÑË¥°ÁåÆ")])])]),e.createElementVNode("view",{class:"return-button-section"},[e.createElementVNode("view",{class:"return-button",onClick:a[0]||(a[0]=(...e)=>n.goBack&&n.goBack(...e))},[e.createElementVNode("text",{class:"return-text"},"ÁÇπÂáªËøîÂõû")])]),e.createElementVNode("view",{class:"home-indicator"})])}]]);const ve=a({data:()=>({phone:""}),methods:{handleLogin(){this.phone?/^1[3-9]\d{9}$/.test(this.phone)?(uni.showToast({title:"È™åËØÅÁ†ÅÂ∑≤ÂèëÈÄÅ",icon:"success",duration:1500}),setTimeout((()=>{uni.navigateTo({url:"/pages/login/verification-code-login"})}),1500)):uni.showToast({title:"ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÊâãÊú∫Âè∑",icon:"none"}):uni.showToast({title:"ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑",icon:"none"})},goToPasswordLogin(){uni.navigateTo({url:"/pages/login/login-replica"})},goToRegister(){uni.navigateTo({url:"/pages/login/phone-register"})},goToWechatBind(){uni.navigateTo({url:"/pages/login/login-unbound"})},goToMainPage(){uni.navigateTo({url:"/pages/index/index"})},goToTermsOfService(){uni.navigateTo({url:"/pages/settings/terms-of-service"})},goToWechatLogin(){uni.showToast({title:"Âç≥Â∞ÜË∑≥ËΩ¨Ëá≥ÂæÆ‰ø°",icon:"none",duration:2e3})},goToQQLogin(){uni.showToast({title:"Âç≥Â∞ÜË∑≥ËΩ¨Ëá≥QQ",icon:"none",duration:2e3})},goToDouyinLogin(){uni.showToast({title:"Âç≥Â∞ÜË∑≥ËΩ¨Ëá≥ÊäñÈü≥",icon:"none",duration:2e3})}}},[["render",function(a,s,o,i,n,l){return e.openBlock(),e.createElementBlock("view",{class:"login-container"},[e.createElementVNode("view",{class:"main-content"},[e.createElementVNode("view",{class:"app-header"},[e.createElementVNode("image",{class:"app-logo",src:t,mode:"aspectFit"})]),e.createElementVNode("view",{class:"greeting-section"},[e.createElementVNode("text",{class:"greeting-text"},"‰Ω†Â•ΩÂëÄ"),e.createElementVNode("text",{class:"welcome-text"},"Ê¨¢ËøéÊù•Âà∞Afriends, ËØ∑ÁôªÂΩïÂπ∂ÂºÄÂßã‰Ω†ÁöÑ‰∫§Âèã‰πãÊóÖ")]),e.createElementVNode("view",{class:"login-form"},[e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"input-label"},"ÊâãÊú∫Âè∑"),e.createElementVNode("view",{class:"input-wrapper"},[e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>n.phone=e),maxlength:"11"},null,512),[[e.vModelText,n.phone]]),e.createElementVNode("view",{class:"input-underline"})])]),e.createElementVNode("view",{class:"login-options"},[e.createElementVNode("text",{class:"option-text",onClick:s[1]||(s[1]=(...e)=>l.goToPasswordLogin&&l.goToPasswordLogin(...e))},"‰ΩøÁî®Ë¥¶Âè∑ÂØÜÁ†ÅÁôªÂΩï")]),e.createElementVNode("view",{class:"third-party-login"},[e.createElementVNode("text",{class:"section-title"},"ÊàñËÄÖ‰Ω†ÂèØ‰ª•ÈÄöËøáËøô‰∫õÊù•ÁôªÂΩï"),e.createElementVNode("view",{class:"social-icons"},[e.createElementVNode("view",{class:"social-icon",onClick:s[2]||(s[2]=(...e)=>l.goToWechatLogin&&l.goToWechatLogin(...e))},[e.createElementVNode("image",{class:"social-icon-img",src:I,mode:"aspectFit"})]),e.createElementVNode("view",{class:"social-icon",onClick:s[3]||(s[3]=(...e)=>l.goToQQLogin&&l.goToQQLogin(...e))},[e.createElementVNode("image",{class:"social-icon-img",src:D,mode:"aspectFit"})]),e.createElementVNode("view",{class:"social-icon",onClick:s[4]||(s[4]=(...e)=>l.goToDouyinLogin&&l.goToDouyinLogin(...e))},[e.createElementVNode("image",{class:"social-icon-img",src:B,mode:"aspectFit"})])])]),e.createElementVNode("view",{class:"terms-section"},[e.createElementVNode("text",{class:"terms-link",onClick:s[5]||(s[5]=(...e)=>l.goToTermsOfService&&l.goToTermsOfService(...e))},"ÊúçÂä°Êù°Ê¨æ")]),e.createElementVNode("button",{class:"login-btn",onClick:s[6]||(s[6]=(...e)=>l.handleLogin&&l.handleLogin(...e))},[e.createElementVNode("text",{class:"btn-text"},"Ëé∑ÂèñÈ™åËØÅÁ†Å")]),e.createElementVNode("view",{class:"register-section"},[e.createElementVNode("text",{class:"register-text"},"Ê≤°ÊúâË¥¶Âè∑?"),e.createElementVNode("text",{class:"register-link",onClick:s[7]||(s[7]=(...e)=>l.goToRegister&&l.goToRegister(...e))},"Ê≥®ÂÜåË¥¶Âè∑")])])])])}],["__scopeId","data-v-7aef9f4a"]]);const we=a({data:()=>({username:"",password:"",userId:null}),methods:{handleLogin(){this.username&&this.password?(this.userId=1000001,uni.setStorageSync("userId",this.userId),uni.setStorageSync("username",this.username),o("log","at pages/login/login-replica.vue:117","ÁôªÂΩï‰ø°ÊÅØ:",{username:this.username,password:this.password,userId:this.userId}),uni.showToast({title:"ÁôªÂΩïÊàêÂäü",icon:"success",duration:1500}),setTimeout((()=>{uni.redirectTo({url:"/pages/feed/content-feed"})}),1500)):uni.showToast({title:"ËØ∑ËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†Å",icon:"none"})},goToRegister(){uni.navigateTo({url:"/pages/login/phone-register"})},goToPhoneLogin(){uni.navigateTo({url:"/pages/login/phone-login"})},goToWechatBind(){uni.navigateTo({url:"/pages/login/login-unbound"})},goToResetPassword(){uni.navigateTo({url:"/pages/login/reset-password"})},goToTermsOfService(){uni.navigateTo({url:"/pages/settings/terms-of-service"})},goToWechatLogin(){uni.showToast({title:"Âç≥Â∞ÜË∑≥ËΩ¨Ëá≥ÂæÆ‰ø°",icon:"none",duration:2e3})},goToQQLogin(){uni.showToast({title:"Âç≥Â∞ÜË∑≥ËΩ¨Ëá≥QQ",icon:"none",duration:2e3})},goToDouyinLogin(){uni.showToast({title:"Âç≥Â∞ÜË∑≥ËΩ¨Ëá≥ÊäñÈü≥",icon:"none",duration:2e3})}}},[["render",function(a,s,o,i,n,l){return e.openBlock(),e.createElementBlock("view",{class:"login-container"},[e.createElementVNode("view",{class:"main-content"},[e.createElementVNode("view",{class:"app-header"},[e.createElementVNode("image",{class:"app-logo",src:t,mode:"aspectFit"})]),e.createElementVNode("view",{class:"greeting-section"},[e.createElementVNode("text",{class:"greeting-text"},"‰Ω†Â•ΩÂëÄ"),e.createElementVNode("text",{class:"welcome-text"},"Ê¨¢ËøéÊù•Âà∞Afriends, ËØ∑ÁôªÂΩïÂπ∂ÂºÄÂßã‰Ω†ÁöÑ‰∫§Âèã‰πãÊóÖ")]),e.createElementVNode("view",{class:"login-form"},[e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"input-label"},"ÊâãÊú∫Âè∑/Áî®Êà∑Âêç"),e.createElementVNode("view",{class:"input-wrapper"},[e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>n.username=e)},null,512),[[e.vModelText,n.username]]),e.createElementVNode("view",{class:"input-underline"})])]),e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"input-label"},"ÂØÜÁ†Å"),e.createElementVNode("view",{class:"input-wrapper"},[e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"password","onUpdate:modelValue":s[1]||(s[1]=e=>n.password=e)},null,512),[[e.vModelText,n.password]]),e.createElementVNode("view",{class:"input-underline"})])]),e.createElementVNode("view",{class:"forgot-password"},[e.createElementVNode("text",{class:"option-text",onClick:s[2]||(s[2]=(...e)=>l.goToResetPassword&&l.goToResetPassword(...e))},"ÂøòËÆ∞ÂØÜÁ†Å?")]),e.createElementVNode("view",{class:"phone-login-option"},[e.createElementVNode("text",{class:"option-text",onClick:s[3]||(s[3]=(...e)=>l.goToPhoneLogin&&l.goToPhoneLogin(...e))},"‰ΩøÁî®ÊâãÊú∫È™åËØÅÁ†ÅÁôªÂΩï")]),e.createElementVNode("view",{class:"third-party-login"},[e.createElementVNode("text",{class:"section-title"},"ÊàñËÄÖ‰Ω†ÂèØ‰ª•ÈÄöËøáËøô‰∫õÊù•ÁôªÂΩï"),e.createElementVNode("view",{class:"social-icons"},[e.createElementVNode("view",{class:"social-icon",onClick:s[4]||(s[4]=(...e)=>l.goToWechatLogin&&l.goToWechatLogin(...e))},[e.createElementVNode("image",{class:"social-icon-img",src:I,mode:"aspectFit"})]),e.createElementVNode("view",{class:"social-icon",onClick:s[5]||(s[5]=(...e)=>l.goToQQLogin&&l.goToQQLogin(...e))},[e.createElementVNode("image",{class:"social-icon-img",src:D,mode:"aspectFit"})]),e.createElementVNode("view",{class:"social-icon",onClick:s[6]||(s[6]=(...e)=>l.goToDouyinLogin&&l.goToDouyinLogin(...e))},[e.createElementVNode("image",{class:"social-icon-img",src:B,mode:"aspectFit"})])])]),e.createElementVNode("view",{class:"terms-section"},[e.createElementVNode("text",{class:"terms-link",onClick:s[7]||(s[7]=(...e)=>l.goToTermsOfService&&l.goToTermsOfService(...e))},"ÊúçÂä°Êù°Ê¨æ")]),e.createElementVNode("button",{class:"login-btn",onClick:s[8]||(s[8]=(...e)=>l.handleLogin&&l.handleLogin(...e))},[e.createElementVNode("text",{class:"btn-text"},"ÁôªÂΩï")]),e.createElementVNode("view",{class:"register-section"},[e.createElementVNode("text",{class:"register-text"},"Ê≤°ÊúâË¥¶Âè∑?"),e.createElementVNode("text",{class:"register-link",onClick:s[9]||(s[9]=(...e)=>l.goToRegister&&l.goToRegister(...e))},"Ê≥®ÂÜåË¥¶Âè∑")])])])])}],["__scopeId","data-v-8b93ce52"]]);const Ee=a({data:()=>({username:"",password:""}),methods:{handleBind(){this.username&&this.password?(o("log","at pages/login/login-unbound.vue:110","ÁªëÂÆö‰ø°ÊÅØ:",{username:this.username,password:this.password}),uni.showToast({title:"ÁªëÂÆöÊàêÂäü",icon:"success"})):uni.showToast({title:"ËØ∑ËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†Å",icon:"none"})},goToRegister(){uni.navigateTo({url:"/pages/login/phone-register"})},goToPhoneLogin(){uni.navigateTo({url:"/pages/login/phone-login"})},handleWechatBind(){o("log","at pages/login/login-unbound.vue:135","Ëß¶ÂèëÂæÆ‰ø°ÁªëÂÆö"),uni.showToast({title:"ÂæÆ‰ø°ÁªëÂÆöÂäüËÉΩÂºÄÂèë‰∏≠",icon:"none"})},goToWechatBind(){o("log","at pages/login/login-unbound.vue:144","Â∑≤Âú®ÂæÆ‰ø°ÁªëÂÆöÈ°µÈù¢")},goToResetPassword(){uni.navigateTo({url:"/pages/login/reset-password"})},goToTermsOfService(){uni.navigateTo({url:"/pages/settings/terms-of-service"})},goToWechatLogin(){uni.showToast({title:"Âç≥Â∞ÜË∑≥ËΩ¨Ëá≥ÂæÆ‰ø°",icon:"none",duration:2e3})},goToQQLogin(){uni.showToast({title:"Âç≥Â∞ÜË∑≥ËΩ¨Ëá≥QQ",icon:"none",duration:2e3})},goToDouyinLogin(){uni.showToast({title:"Âç≥Â∞ÜË∑≥ËΩ¨Ëá≥ÊäñÈü≥",icon:"none",duration:2e3})}}},[["render",function(a,s,o,i,n,l){return e.openBlock(),e.createElementBlock("view",{class:"login-container"},[e.createElementVNode("view",{class:"main-content"},[e.createElementVNode("view",{class:"app-header"},[e.createElementVNode("image",{class:"app-logo",src:t,mode:"aspectFit"})]),e.createElementVNode("view",{class:"greeting-section"},[e.createElementVNode("text",{class:"greeting-text"},"ÈúÄË¶ÅÁªëÂÆö"),e.createElementVNode("text",{class:"welcome-text"},"ÊÇ®ÁöÑÁ§æ‰∫§Ë¥¶Âè∑‰ºº‰πéÂπ∂Ê≤°ÊúâÁªëÂÆöÊàë‰ª¨ÁöÑË¥¶Âè∑"),e.createElementVNode("text",{class:"welcome-text"},"ËØ∑ÂÖàÁî®ÂÖ∂‰ªñÊñπÂºèÁôªÂΩï")]),e.createElementVNode("view",{class:"login-form"},[e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"input-label"},"ÊâãÊú∫Âè∑/Áî®Êà∑Âêç"),e.createElementVNode("view",{class:"input-wrapper"},[e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>n.username=e)},null,512),[[e.vModelText,n.username]]),e.createElementVNode("view",{class:"input-underline"})])]),e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"input-label"},"ÂØÜÁ†Å"),e.createElementVNode("view",{class:"input-wrapper"},[e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"password","onUpdate:modelValue":s[1]||(s[1]=e=>n.password=e)},null,512),[[e.vModelText,n.password]]),e.createElementVNode("view",{class:"input-underline"})])]),e.createElementVNode("view",{class:"forgot-password"},[e.createElementVNode("text",{class:"option-text",onClick:s[2]||(s[2]=(...e)=>l.goToResetPassword&&l.goToResetPassword(...e))},"ÂøòËÆ∞ÂØÜÁ†Å?")]),e.createElementVNode("view",{class:"phone-login-option"},[e.createElementVNode("text",{class:"option-text",onClick:s[3]||(s[3]=(...e)=>l.goToPhoneLogin&&l.goToPhoneLogin(...e))},"‰ΩøÁî®ÊâãÊú∫È™åËØÅÁ†ÅÁôªÂΩï")]),e.createElementVNode("view",{class:"third-party-login"},[e.createElementVNode("text",{class:"section-title"},"ÊàñËÄÖ‰Ω†ÂèØ‰ª•ÈÄöËøáËøô‰∫õÊù•ÁªëÂÆö"),e.createElementVNode("view",{class:"social-icons"},[e.createElementVNode("view",{class:"social-icon",onClick:s[4]||(s[4]=(...e)=>l.goToWechatLogin&&l.goToWechatLogin(...e))},[e.createElementVNode("image",{class:"social-icon-img",src:I,mode:"aspectFit"})]),e.createElementVNode("view",{class:"social-icon",onClick:s[5]||(s[5]=(...e)=>l.goToQQLogin&&l.goToQQLogin(...e))},[e.createElementVNode("image",{class:"social-icon-img",src:D,mode:"aspectFit"})]),e.createElementVNode("view",{class:"social-icon",onClick:s[6]||(s[6]=(...e)=>l.goToDouyinLogin&&l.goToDouyinLogin(...e))},[e.createElementVNode("image",{class:"social-icon-img",src:B,mode:"aspectFit"})])])]),e.createElementVNode("view",{class:"terms-section"},[e.createElementVNode("text",{class:"terms-link",onClick:s[7]||(s[7]=(...e)=>l.goToTermsOfService&&l.goToTermsOfService(...e))},"ÊúçÂä°Êù°Ê¨æ")]),e.createElementVNode("button",{class:"login-btn",onClick:s[8]||(s[8]=(...e)=>l.handleBind&&l.handleBind(...e))},[e.createElementVNode("text",{class:"btn-text"},"ÁªëÂÆö")]),e.createElementVNode("view",{class:"register-section"},[e.createElementVNode("text",{class:"register-text"},"Ê≤°ÊúâË¥¶Âè∑?"),e.createElementVNode("text",{class:"register-link",onClick:s[9]||(s[9]=(...e)=>l.goToRegister&&l.goToRegister(...e))},"Ê≥®ÂÜåË¥¶Âè∑")])])])])}],["__scopeId","data-v-5f319e88"]]);const Ne=a({data:()=>({phone:""}),methods:{handleRegister(){this.phone?/^1[3-9]\d{9}$/.test(this.phone)?(o("log","at pages/login/phone-register.vue:101","ÂèëÈÄÅÈ™åËØÅÁ†ÅÂà∞ÊâãÊú∫Âè∑:",this.phone),uni.showToast({title:"È™åËØÅÁ†ÅÂ∑≤ÂèëÈÄÅ",icon:"success"}),setTimeout((()=>{uni.navigateTo({url:"/pages/login/verification-code-register"})}),1500)):uni.showToast({title:"ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÊâãÊú∫Âè∑",icon:"none"}):uni.showToast({title:"ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑",icon:"none"})},goToPhoneLogin(){uni.navigateTo({url:"/pages/login/phone-login"})},goToWechatBind(){uni.navigateTo({url:"/pages/login/login-unbound"})},goToTermsOfService(){uni.navigateTo({url:"/pages/settings/terms-of-service"})},goToWechatLogin(){uni.showToast({title:"Âç≥Â∞ÜË∑≥ËΩ¨Ëá≥ÂæÆ‰ø°",icon:"none",duration:2e3})},goToQQLogin(){uni.showToast({title:"Âç≥Â∞ÜË∑≥ËΩ¨Ëá≥QQ",icon:"none",duration:2e3})},goToDouyinLogin(){uni.showToast({title:"Âç≥Â∞ÜË∑≥ËΩ¨Ëá≥ÊäñÈü≥",icon:"none",duration:2e3})}}},[["render",function(a,s,o,i,n,l){return e.openBlock(),e.createElementBlock("view",{class:"login-container"},[e.createElementVNode("view",{class:"main-content"},[e.createElementVNode("view",{class:"app-header"},[e.createElementVNode("image",{class:"app-logo",src:t,mode:"aspectFit"})]),e.createElementVNode("view",{class:"greeting-section"},[e.createElementVNode("text",{class:"greeting-text"},"‰Ω†Â•ΩÂëÄ"),e.createElementVNode("text",{class:"welcome-text"},"Ê¨¢ËøéÊù•Âà∞Afriends, ËØ∑Ê≥®ÂÜåÂπ∂ÂºÄÂßã‰Ω†ÁöÑ‰∫§Âèã‰πãÊóÖ")]),e.createElementVNode("view",{class:"login-form"},[e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"input-label"},"ÊâãÊú∫Âè∑"),e.createElementVNode("view",{class:"input-wrapper"},[e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>n.phone=e),maxlength:"11"},null,512),[[e.vModelText,n.phone]]),e.createElementVNode("view",{class:"input-underline"})])]),e.createElementVNode("view",{class:"login-options"},[e.createElementVNode("text",{class:"option-text",onClick:s[1]||(s[1]=(...e)=>l.goToPhoneLogin&&l.goToPhoneLogin(...e))},"‰ΩøÁî®ÊâãÊú∫È™åËØÅÁ†ÅÁôªÂΩï")]),e.createElementVNode("view",{class:"third-party-login"},[e.createElementVNode("text",{class:"section-title"},"ÊàñËÄÖ‰Ω†ÂèØ‰ª•ÈÄöËøáËøô‰∫õÊù•ÁôªÂΩï"),e.createElementVNode("view",{class:"social-icons"},[e.createElementVNode("view",{class:"social-icon",onClick:s[2]||(s[2]=(...e)=>l.goToWechatLogin&&l.goToWechatLogin(...e))},[e.createElementVNode("image",{class:"social-icon-img",src:I,mode:"aspectFit"})]),e.createElementVNode("view",{class:"social-icon",onClick:s[3]||(s[3]=(...e)=>l.goToQQLogin&&l.goToQQLogin(...e))},[e.createElementVNode("image",{class:"social-icon-img",src:D,mode:"aspectFit"})]),e.createElementVNode("view",{class:"social-icon",onClick:s[4]||(s[4]=(...e)=>l.goToDouyinLogin&&l.goToDouyinLogin(...e))},[e.createElementVNode("image",{class:"social-icon-img",src:B,mode:"aspectFit"})])])]),e.createElementVNode("view",{class:"terms-section"},[e.createElementVNode("text",{class:"terms-link",onClick:s[5]||(s[5]=(...e)=>l.goToTermsOfService&&l.goToTermsOfService(...e))},"ÊúçÂä°Êù°Ê¨æ")]),e.createElementVNode("button",{class:"login-btn",onClick:s[6]||(s[6]=(...e)=>l.handleRegister&&l.handleRegister(...e))},[e.createElementVNode("text",{class:"btn-text"},"Ê≥®ÂÜå")]),e.createElementVNode("view",{class:"register-section"},[e.createElementVNode("text",{class:"register-text"},"Â∑≤ÊúâË¥¶Âè∑?"),e.createElementVNode("text",{class:"register-link",onClick:s[7]||(s[7]=(...e)=>l.goToPhoneLogin&&l.goToPhoneLogin(...e))},"ÁôªÂΩïË¥¶Âè∑")])])])])}],["__scopeId","data-v-305b51c4"]]);const Ve=a({data:()=>({verificationCode:["","","",""],mainInputValue:"",activeIndex:0}),computed:{isCodeComplete(){return this.verificationCode.every((e=>""!==e))}},mounted(){this.$nextTick((()=>{setTimeout((()=>{this.focusMainInput()}),300)}))},methods:{handleMainInput(e){const t=e.detail.value.replace(/\D/g,"").slice(0,4);this.mainInputValue=t;for(let a=0;a<4;a++)this.verificationCode[a]=t[a]||"";t.length>0?this.activeIndex=Math.min(t.length-1,3):this.activeIndex=0},handleMainFocus(){this.mainInputValue.length>0?this.activeIndex=Math.min(this.mainInputValue.length-1,3):this.activeIndex=0},handleMainBlur(){this.activeIndex=-1},focusMainInput(){this.$nextTick((()=>{if(this.$refs.mainInput){const e=this.$refs.mainInput;e&&e.focus&&e.focus()}}))},resendCode(){o("log","at pages/login/verification-code-login.vue:126","ÈáçÊñ∞ÂèëÈÄÅÈ™åËØÅÁ†Å"),uni.showToast({title:"È™åËØÅÁ†ÅÂ∑≤ÈáçÊñ∞ÂèëÈÄÅ",icon:"success"})},handleLogin(){if(!this.isCodeComplete)return void uni.showToast({title:"ËØ∑ËæìÂÖ•ÂÆåÊï¥ÁöÑÈ™åËØÅÁ†Å",icon:"none"});o("log","at pages/login/verification-code-login.vue:145","È™åËØÅÁ†Å:",this.verificationCode.join("")),uni.showToast({title:"ÁôªÂΩïÊàêÂäü",icon:"success",duration:1500}),setTimeout((()=>{uni.redirectTo({url:"/pages/feed/content-feed"})}),1500)},goBack(){uni.navigateBack()},changePhone(){uni.redirectTo({url:"/pages/login/phone-login"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"verification-container"},[e.createElementVNode("view",{class:"main-content"},[e.createElementVNode("text",{class:"title"},"ËØ∑ËæìÂÖ•È™åËØÅÁ†Å"),e.createElementVNode("text",{class:"instruction"},"Êàë‰ª¨ÂàöÂàöÂêëÊÇ®ÂèëÈÄÅ‰∫Ü‰∏ÄÊù°È™åËØÅÁ†Å,ËØ∑Êü•ÁúãÊÇ®ÁöÑ‰ø°ÁÆ±"),e.createElementVNode("view",{class:"code-input-section"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.verificationCode,((t,s)=>(e.openBlock(),e.createElementBlock("view",{key:s,class:e.normalizeClass(["code-input-field",{active:i.activeIndex===s}]),onClick:a[0]||(a[0]=(...e)=>n.focusMainInput&&n.focusMainInput(...e))},[t?(e.openBlock(),e.createElementBlock("text",{key:0,class:"code-digit"},e.toDisplayString(t),1)):e.createCommentVNode("",!0)],2)))),128)),e.withDirectives(e.createElementVNode("input",{class:"main-input",type:"number","onUpdate:modelValue":a[1]||(a[1]=e=>i.mainInputValue=e),maxlength:"4",placeholder:"",onInput:a[2]||(a[2]=(...e)=>n.handleMainInput&&n.handleMainInput(...e)),onFocus:a[3]||(a[3]=(...e)=>n.handleMainFocus&&n.handleMainFocus(...e)),onBlur:a[4]||(a[4]=(...e)=>n.handleMainBlur&&n.handleMainBlur(...e)),ref:"mainInput"},null,544),[[e.vModelText,i.mainInputValue]])]),e.createElementVNode("view",{class:"change-phone-section"},[e.createElementVNode("text",{class:"change-phone-link",onClick:a[5]||(a[5]=(...e)=>n.changePhone&&n.changePhone(...e))},"ÈáçÊñ∞ËæìÂÖ•ÊâãÊú∫Âè∑")]),e.createElementVNode("view",{class:"resend-section"},[e.createElementVNode("text",{class:"resend-text"},"Ê≤°ÊúâÊî∂Âà∞È™åËØÅÁ†Å?"),e.createElementVNode("text",{class:"resend-link",onClick:a[6]||(a[6]=(...e)=>n.resendCode&&n.resendCode(...e))},"ÈáçÊñ∞ÂèëÈÄÅ")]),e.createElementVNode("button",{class:"login-btn",onClick:a[7]||(a[7]=(...e)=>n.handleLogin&&n.handleLogin(...e)),disabled:!n.isCodeComplete},[e.createElementVNode("text",{class:"btn-text"},"ÁôªÂΩï")],8,["disabled"])])])}],["__scopeId","data-v-3053bafc"]]);const ke=a({data:()=>({verificationCode:["","","",""],mainInputValue:"",activeIndex:0}),computed:{isCodeComplete(){return this.verificationCode.every((e=>""!==e))}},mounted(){this.$nextTick((()=>{setTimeout((()=>{this.focusMainInput()}),300)}))},methods:{handleMainInput(e){const t=e.detail.value.replace(/\D/g,"").slice(0,4);this.mainInputValue=t;for(let a=0;a<4;a++)this.verificationCode[a]=t[a]||"";t.length>0?this.activeIndex=Math.min(t.length-1,3):this.activeIndex=0},handleMainFocus(){this.mainInputValue.length>0?this.activeIndex=Math.min(this.mainInputValue.length-1,3):this.activeIndex=0},handleMainBlur(){this.activeIndex=-1},focusMainInput(){this.$nextTick((()=>{if(this.$refs.mainInput){const e=this.$refs.mainInput;e&&e.focus&&e.focus()}}))},resendCode(){o("log","at pages/login/verification-code-register.vue:126","ÈáçÊñ∞ÂèëÈÄÅÈ™åËØÅÁ†Å"),uni.showToast({title:"È™åËØÅÁ†ÅÂ∑≤ÈáçÊñ∞ÂèëÈÄÅ",icon:"success"})},handleRegister(){if(!this.isCodeComplete)return void uni.showToast({title:"ËØ∑ËæìÂÖ•ÂÆåÊï¥ÁöÑÈ™åËØÅÁ†Å",icon:"none"});o("log","at pages/login/verification-code-register.vue:145","È™åËØÅÁ†Å:",this.verificationCode.join("")),uni.showToast({title:"Ê≥®ÂÜåÊàêÂäü",icon:"success",duration:1500}),setTimeout((()=>{uni.redirectTo({url:"/pages/login/login-replica"})}),1500)},goBack(){uni.navigateBack()},changePhone(){uni.redirectTo({url:"/pages/login/phone-register"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"verification-container"},[e.createElementVNode("view",{class:"main-content"},[e.createElementVNode("text",{class:"title"},"ËØ∑ËæìÂÖ•È™åËØÅÁ†Å"),e.createElementVNode("text",{class:"instruction"},"Êàë‰ª¨ÂàöÂàöÂêëÊÇ®ÂèëÈÄÅ‰∫Ü‰∏ÄÊù°È™åËØÅÁ†Å,ËØ∑Êü•ÁúãÊÇ®ÁöÑ‰ø°ÁÆ±"),e.createElementVNode("view",{class:"code-input-section"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.verificationCode,((t,s)=>(e.openBlock(),e.createElementBlock("view",{key:s,class:e.normalizeClass(["code-input-field",{active:i.activeIndex===s}]),onClick:a[0]||(a[0]=(...e)=>n.focusMainInput&&n.focusMainInput(...e))},[t?(e.openBlock(),e.createElementBlock("text",{key:0,class:"code-digit"},e.toDisplayString(t),1)):e.createCommentVNode("",!0)],2)))),128)),e.withDirectives(e.createElementVNode("input",{class:"main-input",type:"number","onUpdate:modelValue":a[1]||(a[1]=e=>i.mainInputValue=e),maxlength:"4",placeholder:"",onInput:a[2]||(a[2]=(...e)=>n.handleMainInput&&n.handleMainInput(...e)),onFocus:a[3]||(a[3]=(...e)=>n.handleMainFocus&&n.handleMainFocus(...e)),onBlur:a[4]||(a[4]=(...e)=>n.handleMainBlur&&n.handleMainBlur(...e)),ref:"mainInput"},null,544),[[e.vModelText,i.mainInputValue]])]),e.createElementVNode("view",{class:"change-phone-section"},[e.createElementVNode("text",{class:"change-phone-link",onClick:a[5]||(a[5]=(...e)=>n.changePhone&&n.changePhone(...e))},"ÈáçÊñ∞ËæìÂÖ•ÊâãÊú∫Âè∑")]),e.createElementVNode("view",{class:"resend-section"},[e.createElementVNode("text",{class:"resend-text"},"Ê≤°ÊúâÊî∂Âà∞È™åËØÅÁ†Å?"),e.createElementVNode("text",{class:"resend-link",onClick:a[6]||(a[6]=(...e)=>n.resendCode&&n.resendCode(...e))},"ÈáçÊñ∞ÂèëÈÄÅ")]),e.createElementVNode("button",{class:"login-btn",onClick:a[7]||(a[7]=(...e)=>n.handleRegister&&n.handleRegister(...e)),disabled:!n.isCodeComplete},[e.createElementVNode("text",{class:"btn-text"},"Ê≥®ÂÜå")],8,["disabled"])])])}],["__scopeId","data-v-8b8bf955"]]);const fe=a({data:()=>({verificationCode:["","","",""],mainInputValue:"",activeIndex:0}),computed:{isCodeComplete(){return this.verificationCode.every((e=>""!==e))}},mounted(){this.$nextTick((()=>{setTimeout((()=>{this.focusMainInput()}),300)}))},methods:{handleMainInput(e){const t=e.detail.value.replace(/\D/g,"").slice(0,4);this.mainInputValue=t;for(let a=0;a<4;a++)this.verificationCode[a]=t[a]||"";t.length>0?this.activeIndex=Math.min(t.length-1,3):this.activeIndex=0},handleMainFocus(){this.mainInputValue.length>0?this.activeIndex=Math.min(this.mainInputValue.length-1,3):this.activeIndex=0},handleMainBlur(){this.activeIndex=-1},focusMainInput(){this.$nextTick((()=>{if(this.$refs.mainInput){const e=this.$refs.mainInput;e&&e.focus&&e.focus()}}))},resendCode(){o("log","at pages/login/verification-code-resetPassword.vue:126","ÈáçÊñ∞ÂèëÈÄÅÈ™åËØÅÁ†Å"),uni.showToast({title:"È™åËØÅÁ†ÅÂ∑≤ÈáçÊñ∞ÂèëÈÄÅ",icon:"success"})},handleNext(){if(!this.isCodeComplete)return void uni.showToast({title:"ËØ∑ËæìÂÖ•ÂÆåÊï¥ÁöÑÈ™åËØÅÁ†Å",icon:"none"});o("log","at pages/login/verification-code-resetPassword.vue:145","È™åËØÅÁ†Å:",this.verificationCode.join("")),uni.showToast({title:"È™åËØÅÊàêÂäü",icon:"success"}),setTimeout((()=>{uni.navigateTo({url:"/pages/login/rest-verify-password"})}),1e3)},goBack(){uni.navigateBack()},changePhone(){uni.redirectTo({url:"/pages/login/reset-password"})}}},[["render",function(t,a,s,o,i,n){return e.openBlock(),e.createElementBlock("view",{class:"verification-container"},[e.createElementVNode("view",{class:"main-content"},[e.createElementVNode("text",{class:"title"},"ËØ∑ËæìÂÖ•È™åËØÅÁ†Å"),e.createElementVNode("text",{class:"instruction"},"Êàë‰ª¨ÂàöÂàöÂêëÊÇ®ÂèëÈÄÅ‰∫Ü‰∏ÄÊù°È™åËØÅÁ†Å,ËØ∑Êü•ÁúãÊÇ®ÁöÑ‰ø°ÁÆ±"),e.createElementVNode("view",{class:"code-input-section"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.verificationCode,((t,s)=>(e.openBlock(),e.createElementBlock("view",{key:s,class:e.normalizeClass(["code-input-field",{active:i.activeIndex===s}]),onClick:a[0]||(a[0]=(...e)=>n.focusMainInput&&n.focusMainInput(...e))},[t?(e.openBlock(),e.createElementBlock("text",{key:0,class:"code-digit"},e.toDisplayString(t),1)):e.createCommentVNode("",!0)],2)))),128)),e.withDirectives(e.createElementVNode("input",{class:"main-input",type:"number","onUpdate:modelValue":a[1]||(a[1]=e=>i.mainInputValue=e),maxlength:"4",placeholder:"",onInput:a[2]||(a[2]=(...e)=>n.handleMainInput&&n.handleMainInput(...e)),onFocus:a[3]||(a[3]=(...e)=>n.handleMainFocus&&n.handleMainFocus(...e)),onBlur:a[4]||(a[4]=(...e)=>n.handleMainBlur&&n.handleMainBlur(...e)),ref:"mainInput"},null,544),[[e.vModelText,i.mainInputValue]])]),e.createElementVNode("view",{class:"change-phone-section"},[e.createElementVNode("text",{class:"change-phone-link",onClick:a[5]||(a[5]=(...e)=>n.changePhone&&n.changePhone(...e))},"ÈáçÊñ∞ËæìÂÖ•ÊâãÊú∫Âè∑")]),e.createElementVNode("view",{class:"resend-section"},[e.createElementVNode("text",{class:"resend-text"},"Ê≤°ÊúâÊî∂Âà∞È™åËØÅÁ†Å?"),e.createElementVNode("text",{class:"resend-link",onClick:a[6]||(a[6]=(...e)=>n.resendCode&&n.resendCode(...e))},"ÈáçÊñ∞ÂèëÈÄÅ")]),e.createElementVNode("button",{class:"login-btn",onClick:a[7]||(a[7]=(...e)=>n.handleNext&&n.handleNext(...e)),disabled:!n.isCodeComplete},[e.createElementVNode("text",{class:"btn-text"},"‰∏ã‰∏ÄÊ≠•")],8,["disabled"])])])}],["__scopeId","data-v-f8562de3"]]);const xe=a({data:()=>({phone:""}),methods:{handleLogin(){this.phone?uni.navigateTo({url:"/pages/login/verification-code-resetPassword"}):uni.showToast({title:"ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑",icon:"none"})},goToPasswordLogin(){uni.navigateTo({url:"/pages/login/login-replica"})},goToRegister(){uni.navigateTo({url:"/pages/login/phone-register"})},goToTermsOfService(){uni.navigateTo({url:"/pages/settings/terms-of-service"})}}},[["render",function(a,s,o,i,n,l){return e.openBlock(),e.createElementBlock("view",{class:"login-container"},[e.createElementVNode("view",{class:"main-content"},[e.createElementVNode("view",{class:"app-header"},[e.createElementVNode("image",{class:"app-logo",src:t,mode:"aspectFit"})]),e.createElementVNode("view",{class:"greeting-section"},[e.createElementVNode("text",{class:"greeting-text"},"‰øÆÊîπÂØÜÁ†Å"),e.createElementVNode("text",{class:"welcome-text"},"ËØ∑ËæìÂÖ•ÁªëÂÆöÁöÑÊâãÊú∫Âè∑Á†Å")]),e.createElementVNode("view",{class:"login-form"},[e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"input-label"},"ÊâãÊú∫Âè∑"),e.createElementVNode("view",{class:"input-wrapper"},[e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>n.phone=e),maxlength:"11"},null,512),[[e.vModelText,n.phone]]),e.createElementVNode("view",{class:"input-underline"})])]),e.createElementVNode("view",{class:"back-login-section"},[e.createElementVNode("text",{class:"back-login-text",onClick:s[1]||(s[1]=(...e)=>l.goToPasswordLogin&&l.goToPasswordLogin(...e))},"ËøîÂõûÁôªÂΩï")]),e.createElementVNode("view",{class:"terms-section"},[e.createElementVNode("text",{class:"terms-link",onClick:s[2]||(s[2]=(...e)=>l.goToTermsOfService&&l.goToTermsOfService(...e))},"ÊúçÂä°Êù°Ê¨æ")]),e.createElementVNode("button",{class:"login-btn",onClick:s[3]||(s[3]=(...e)=>l.handleLogin&&l.handleLogin(...e))},[e.createElementVNode("text",{class:"btn-text"},"Ëé∑ÂèñÈ™åËØÅÁ†Å")]),e.createElementVNode("view",{class:"register-section"},[e.createElementVNode("text",{class:"register-text"},"Ê≤°ÊúâË¥¶Âè∑?"),e.createElementVNode("text",{class:"register-link",onClick:s[4]||(s[4]=(...e)=>l.goToRegister&&l.goToRegister(...e))},"Ê≥®ÂÜåË¥¶Âè∑")])])])])}],["__scopeId","data-v-cb4330f9"]]);const ye=a({data:()=>({username:"",password:""}),computed:{isFormValid(){return this.username&&this.password&&this.username===this.password}},methods:{handleConfirm(){this.username&&this.password?this.username===this.password?(o("log","at pages/login/rest-verify-password.vue:99","ÂØÜÁ†Å‰øÆÊîπ‰ø°ÊÅØ:",{newPassword:this.username}),uni.showToast({title:"ÂØÜÁ†Å‰øÆÊîπÊàêÂäü",icon:"success"}),setTimeout((()=>{uni.navigateTo({url:"/pages/login/login-replica"})}),1500)):uni.showToast({title:"‰∏§Ê¨°ËæìÂÖ•ÁöÑÂØÜÁ†Å‰∏ç‰∏ÄËá¥",icon:"none"}):uni.showToast({title:"ËØ∑ËæìÂÖ•Êñ∞ÂØÜÁ†ÅÂíåÁ°ÆËÆ§ÂØÜÁ†Å",icon:"none"})},goToTermsOfService(){uni.navigateTo({url:"/pages/settings/terms-of-service"})}}},[["render",function(a,s,o,i,n,l){return e.openBlock(),e.createElementBlock("view",{class:"login-container"},[e.createElementVNode("view",{class:"main-content"},[e.createElementVNode("view",{class:"app-header"},[e.createElementVNode("image",{class:"app-logo",src:t,mode:"aspectFit"})]),e.createElementVNode("view",{class:"greeting-section"},[e.createElementVNode("text",{class:"greeting-text"},"‰øÆÊîπÂØÜÁ†Å"),e.createElementVNode("text",{class:"welcome-text"},"ËØ∑ÊÇ®‰øÆÊîπÂΩìÂâçË¥¶Âè∑ÂØÜÁ†ÅÔºåÂú®‰øÆÊîπÂêéÈúÄË¶ÅÈáçÊñ∞ÁôªÂΩï")]),e.createElementVNode("view",{class:"login-form"},[e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"input-label"},"Êñ∞ÂØÜÁ†Å"),e.createElementVNode("view",{class:"input-wrapper"},[e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"password","onUpdate:modelValue":s[0]||(s[0]=e=>n.username=e)},null,512),[[e.vModelText,n.username]]),e.createElementVNode("view",{class:"input-underline"})])]),e.createElementVNode("view",{class:"input-group"},[e.createElementVNode("text",{class:"input-label"},"ËØ∑ÂÜçÊ¨°ËæìÂÖ•Êñ∞ÂØÜÁ†Å"),e.createElementVNode("view",{class:"input-wrapper"},[e.withDirectives(e.createElementVNode("input",{class:"form-input",type:"password","onUpdate:modelValue":s[1]||(s[1]=e=>n.password=e)},null,512),[[e.vModelText,n.password]]),e.createElementVNode("view",{class:"input-underline"})])]),e.createElementVNode("view",{class:"terms-section"},[e.createElementVNode("text",{class:"terms-link",onClick:s[2]||(s[2]=(...e)=>l.goToTermsOfService&&l.goToTermsOfService(...e))},"ÊúçÂä°Êù°Ê¨æ")]),e.createElementVNode("button",{class:"login-btn",onClick:s[3]||(s[3]=(...e)=>l.handleConfirm&&l.handleConfirm(...e)),disabled:!l.isFormValid},[e.createElementVNode("text",{class:"btn-text"},"‰øÆÊîπÂØÜÁ†Å")],8,["disabled"]),e.createElementVNode("view",{class:"register-section"},[e.createElementVNode("text",{class:"register-text"},"Ê≤°ÊúâË¥¶Âè∑Ôºü"),e.createElementVNode("text",{class:"register-link",onClick:s[4]||(s[4]=(...e)=>a.goToLogin&&a.goToLogin(...e))},"Ê≥®ÂÜåË¥¶Âè∑")])])])])}],["__scopeId","data-v-8cd17d39"]]);__definePage("pages/index/index",s),__definePage("pages/ai/ai",i),__definePage("pages/ai/customize-ai",n),__definePage("pages/ai/gift",l),__definePage("pages/ai/level-up",c),__definePage("pages/ai/permissions",r),__definePage("pages/ai/ai-list",d),__definePage("pages/ai/pet-ai-detail",m),__definePage("pages/ai/ai-chat",g),__definePage("pages/ai/ai-store",u),__definePage("pages/ai/tasks",h),__definePage("pages/ai/task-detail",p),__definePage("pages/chat/chat",v),__definePage("pages/chat/search",w),__definePage("pages/chat/date-search",E),__definePage("pages/chat/search-results",N),__definePage("pages/chat/chat-info",V),__definePage("pages/chat/friend-card",k),__definePage("pages/chat/friend-list",f),__definePage("pages/chat/chat-list",x),__definePage("pages/feed/content-feed",y),__definePage("pages/feed/chat-feed",T),__definePage("pages/feed/post-detail",C),__definePage("pages/feed/user-profile",S),__definePage("pages/feed/my-comments",b),__definePage("pages/feed/novel-detail",M),__definePage("pages/feed/novel-more-reviews",P),__definePage("pages/feed/review-detail",A),__definePage("pages/feed/achievements",L),__definePage("pages/feed/search",R),__definePage("pages/feed/likes-dislikes",F),__definePage("pages/feed/interaction-messages",$),__definePage("pages/publish/publish",z),__definePage("pages/settings/settings",U),__definePage("pages/settings/system-permissions",j),__definePage("pages/settings/permissions",_),__definePage("pages/settings/album-permissions",O),__definePage("pages/settings/blocked-users",q),__definePage("pages/settings/customer-service",G),__definePage("pages/settings/terms-of-service",H),__definePage("pages/settings/switch-account",Q),__definePage("pages/settings/mode-selection",W),__definePage("pages/settings/notification-settings",J),__definePage("pages/settings/privacy-settings",Y),__definePage("pages/settings/account-security",K),__definePage("pages/settings/device-management",Z),__definePage("pages/settings/third-party-binding",X),__definePage("pages/settings/add-ways",ee),__definePage("pages/settings/language",te),__definePage("pages/settings/notification-display",ae),__definePage("pages/verification/official-certification",se),__definePage("pages/verification/school-certification",oe),__definePage("pages/verification/professional-certification",ie),__definePage("pages/verification/real-name-verification",ne),__definePage("pages/verification/face-recognition",le),__definePage("pages/verification/verification-complete",ce),__definePage("pages/verification/certification-feedback",re),__definePage("pages/wallet/wallet",de),__definePage("pages/wallet/recharge",me),__definePage("pages/wallet/purchase-record",ge),__definePage("pages/report/report",ue),__definePage("pages/report/report-evidence",he),__definePage("pages/report/report-feedback",pe),__definePage("pages/login/phone-login",ve),__definePage("pages/login/login-replica",we),__definePage("pages/login/login-unbound",Ee),__definePage("pages/login/phone-register",Ne),__definePage("pages/login/verification-code-login",Ve),__definePage("pages/login/verification-code-register",ke),__definePage("pages/login/verification-code-resetPassword",fe),__definePage("pages/login/reset-password",xe),__definePage("pages/login/rest-verify-password",ye);const Te={onLaunch:function(){o("log","at App.vue:4","App Launch")},onShow:function(){o("log","at App.vue:7","App Show")},onHide:function(){o("log","at App.vue:10","App Hide")}};const{app:Ce,Vuex:Ie,Pinia:Be}={app:e.createVueApp(Te)};uni.Vuex=Ie,uni.Pinia=Be,Ce.provide("__globalStyles",__uniConfig.styles),Ce._component.mpType="app",Ce._component.render=()=>{},Ce.mount("#app")}(Vue);
